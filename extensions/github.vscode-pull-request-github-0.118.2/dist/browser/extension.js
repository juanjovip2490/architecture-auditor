var zT=Object.defineProperty;var WT=(Rs,va,Xt)=>va in Rs?zT(Rs,va,{enumerable:!0,configurable:!0,writable:!0,value:Xt}):Rs[va]=Xt;var Nt=(Rs,va,Xt)=>WT(Rs,typeof va!="symbol"?va+"":va,Xt);(()=>{var Rs={14523:(s,V,M)=>{"use strict";M.r(V),M.d(V,{AppInsightsCore:()=>P,BaseCore:()=>y,BaseTelemetryPlugin:()=>B.s,CoreUtils:()=>k.jS,DiagnosticLogger:()=>S.wq,ESPromise:()=>X,ESPromiseScheduler:()=>K,EventHelper:()=>be.fs,EventLatency:()=>h,EventPersistence:()=>m,EventPropertyType:()=>p,EventsDiscardedReason:()=>Ne.x,FullVersionString:()=>k.xE,InternalAppInsightsCore:()=>d._,InternalBaseCore:()=>U.F,LoggingSeverity:()=>C.b,MinChannelPriorty:()=>ie,NotificationManager:()=>J.h,PerfEvent:()=>c.Q6,PerfManager:()=>c.NS,ProcessTelemetryContext:()=>ae.W0,TraceLevel:()=>_,Undefined:()=>ee.bA,Utils:()=>k.Aq,ValueKind:()=>f,ValueSanitizer:()=>G,Version:()=>k.Rx,_ExtendedInternalMessageId:()=>b,_InternalLogMessage:()=>S.WD,_InternalMessageId:()=>C.$,__getRegisteredEvents:()=>we.El,_logInternalMessage:()=>S.Oc,_throwInternal:()=>S.ZP,_warnToConsole:()=>S.OG,addEventHandler:()=>we.So,addEventListeners:()=>we.lQ,addPageHideEventListener:()=>we.Fc,addPageShowEventListener:()=>we.oS,addPageUnloadEventListener:()=>we.ee,areCookiesSupported:()=>ne.gi,arrForEach:()=>I.Iu,arrIndexOf:()=>I.rD,arrMap:()=>I.W$,arrReduce:()=>I.KT,attachEvent:()=>we.Q3,cookieAvailable:()=>ne.gi,createCookieMgr:()=>ne.xN,createEnumStyle:()=>L.Hj,createGuid:()=>k.gj,createProcessTelemetryContext:()=>ae.i8,createTraceParent:()=>_e.wk,createUniqueNamespace:()=>me.Z,createUnloadHandlerContainer:()=>ge.P,dateNow:()=>I.x3,deleteCookie:()=>k.Yj,detachEvent:()=>we.Ym,disableCookies:()=>k.WD,disallowsSameSiteNone:()=>ne.It,doPerf:()=>c.r2,dumpObj:()=>g.mm,eventOff:()=>we.ML,eventOn:()=>we.mB,extend:()=>k.X$,findW3cTraceParent:()=>_e.ef,formatTraceParent:()=>_e.L0,generateW3CId:()=>be.cL,getCommonSchemaMetaData:()=>k.Go,getConsole:()=>g.U5,getCookie:()=>k.Ri,getCookieValue:()=>k.UM,getCrypto:()=>g.MY,getDocument:()=>g.YE,getExceptionName:()=>I.lL,getFieldValueType:()=>k.cq,getGlobal:()=>Y.mS,getGlobalInst:()=>g.EH,getHistory:()=>g.JK,getIEVersion:()=>g.L0,getISOString:()=>I._u,getJSON:()=>g.hm,getLocation:()=>g.g$,getMsCrypto:()=>g.iN,getNavigator:()=>g.w3,getPerformance:()=>g.FJ,getSetValue:()=>I.c2,getTenantId:()=>k.EO,getTime:()=>k.WB,getWindow:()=>g.zk,hasDocument:()=>g.Wt,hasHistory:()=>g.tw,hasJSON:()=>g.Z,hasNavigator:()=>g.w9,hasOwnProperty:()=>I.mQ,hasWindow:()=>g.Vd,isArray:()=>I.cy,isArrayValid:()=>k.wJ,isBeaconsSupported:()=>g.Uf,isBoolean:()=>I.Lm,isChromium:()=>k.F2,isDate:()=>I.$P,isDocumentObjectAvailable:()=>k.g8,isError:()=>I.bJ,isFetchSupported:()=>g.R7,isFunction:()=>I.Tn,isIE:()=>g.lT,isLatency:()=>k.Hh,isNotTruthy:()=>I.wo,isNullOrUndefined:()=>I.hX,isNumber:()=>I.Et,isObject:()=>I.Gv,isReactNative:()=>g.lV,isSampledFlag:()=>_e.N7,isString:()=>I.Kg,isTruthy:()=>I.zz,isTypeof:()=>I.Ed,isUint8ArrayAvailable:()=>k.h3,isUndefined:()=>I.b0,isValidSpanId:()=>_e.wN,isValidTraceId:()=>_e.hX,isValidTraceParent:()=>_e.mJ,isValueAssigned:()=>k.yD,isValueKind:()=>k.m0,isWindowObjectAvailable:()=>k.P$,isXhrSupported:()=>g.xk,mergeEvtNamespace:()=>we.Hm,newGuid:()=>be.aq,newId:()=>Te.Si,normalizeJsName:()=>I.cH,objCreate:()=>Y.AQ,objDefineAccessors:()=>I.r,objForEachKey:()=>I.z,objFreeze:()=>I.N6,objKeys:()=>I.cG,objSeal:()=>I.js,openXhr:()=>k.H$,optimizeObject:()=>I.hW,parseTraceParent:()=>_e.ZI,perfNow:()=>be.UU,proxyAssign:()=>I.qz,proxyFunctionAs:()=>I.RF,proxyFunctions:()=>I.o$,random32:()=>Te.VN,randomValue:()=>Te.Z1,removeEventHandler:()=>we.zh,removeEventListeners:()=>we.Wg,removePageHideEventListener:()=>we.sq,removePageShowEventListener:()=>we.vF,removePageUnloadEventListener:()=>we.Ds,safeGetCookieMgr:()=>ne.um,safeGetLogger:()=>S.y0,sanitizeProperty:()=>k.TC,setCookie:()=>k.TV,setEnableEnvMocks:()=>g.cU,setProcessTelemetryTimings:()=>k.u9,setValue:()=>I.KY,strContains:()=>I.Ju,strEndsWith:()=>I.Cv,strFunction:()=>ee.hW,strObject:()=>ee._1,strPrototype:()=>ee.vR,strStartsWith:()=>I.tG,strTrim:()=>I.EH,strUndefined:()=>ee.bA,throwError:()=>I.$8,toISOString:()=>I._u,useXDomainRequest:()=>g.PV});var A=M(8747),L=M(96434),I=M(12497),C=M(83897),f=(0,L.Hj)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),h=(0,L.Hj)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),p=(0,L.Hj)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),m=(0,L.Hj)({Normal:1,Critical:2}),_=(0,L.Hj)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),b=(0,I.N6)((0,A.Im)((0,A.Im)({},C.$),(0,L.Hj)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),l=M(92457),S=M(99015),c=M(5204),g=M(44180),d=M(12235),w=M(52976),k=M(59091),R=function(j){(0,A.qU)(N,j);function N(){var se=j.call(this)||this;return se.pluginVersionStringArr=[],(0,l.A)(N,se,function(de,ue){(!de.logger||!de.logger.queue)&&(de.logger=new S.wq({loggingLevelConsole:1})),de.initialize=function(le,pe,Ae,Fe){(0,c.r2)(de,function(){return"AppInsightsCore.initialize"},function(){var Be=de.pluginVersionStringArr;if(le){le.endpointUrl||(le.endpointUrl=w.S);var Ue=le.propertyStorageOverride;Ue&&(!Ue.getProperty||!Ue.setProperty)&&(0,I.$8)("Invalid property storage override passed."),le.channels&&(0,I.Iu)(le.channels,function(he){he&&(0,I.Iu)(he,function(re){if(re.identifier&&re.version){var ce=re.identifier+"="+re.version;Be.push(ce)}})})}de.getWParam=function(){return typeof document!="undefined"||le.enableWParam?0:-1},pe&&(0,I.Iu)(pe,function(he){if(he&&he.identifier&&he.version){var re=he.identifier+"="+he.version;Be.push(re)}}),de.pluginVersionString=Be.join(";"),de.pluginVersionStringArr=Be;try{ue.initialize(le,pe,Ae,Fe),de.pollInternalLogs("InternalLog")}catch(he){var He=de.logger,Ye=(0,g.mm)(he);Ye.indexOf("channels")!==-1&&(Ye+=`
 - Channels must be provided through config.channels only!`),(0,S.ZP)(He,1,514,"SDK Initialization Failed - no telemetry will be sent: "+Ye)}},function(){return{config:le,extensions:pe,logger:Ae,notificationManager:Fe}})},de.track=function(le){(0,c.r2)(de,function(){return"AppInsightsCore.track"},function(){var pe=le;if(pe){pe.timings=pe.timings||{},pe.timings.trackStart=(0,k.WB)(),(0,k.Hh)(pe.latency)||(pe.latency=1);var Ae=pe.ext=pe.ext||{};Ae.sdk=Ae.sdk||{},Ae.sdk.ver=k.xE;var Fe=pe.baseData=pe.baseData||{};Fe[w._0]=Fe[w._0]||{};var Be=Fe[w._0];Be[w.hj]=Be[w.hj]||de.pluginVersionString||w.m5}ue.track(pe)},function(){return{item:le}},!le.sync)}}),se}return N.__ieDyn=1,N}(d._);const P=R;var U=M(34082),F=function(j){(0,A.qU)(N,j);function N(){var se=j.call(this)||this;return(0,l.A)(N,se,function(de,ue){de.initialize=function(le,pe,Ae,Fe){le&&!le.endpointUrl&&(le.endpointUrl=w.S),de.getWParam=function(){return k.g8||le.enableWParam?0:-1};try{ue.initialize(le,pe,Ae,Fe)}catch(Be){(0,S.ZP)(de.logger,1,514,"Initialization Failed: "+(0,g.mm)(Be)+`
 - Note: Channels must be provided through config.channels only`)}},de.track=function(le){var pe=le;if(pe){var Ae=pe.ext=pe.ext||{};Ae.sdk=Ae.sdk||{},Ae.sdk.ver=k.xE}ue.track(pe)}}),se}return N.__ieDyn=1,N}(U.F);const y=F;var z=I.Tn;function Q(j,N,se){return function(de){j[N]=de,se()}}var Z=function(){function j(N){var se=0,de=null,ue=[];(0,l.A)(j,this,function(Be){Be.then=function(Ue,He){return new j(function(Ye,he){le(Ue,He,Ye,he)})},Be.catch=function(Ue){return Be.then(null,Ue)}});function le(Be,Ue,He,Ye){ue.push(function(){var he;try{se===1?he=z(Be)?Be(de):de:he=z(Ue)?Ue(de):de,he instanceof j?he.then(He,Ye):se===2&&!z(Ue)?Ye(he):He(he)}catch(re){Ye(re);return}}),se!==0&&pe()}function pe(){if(ue.length>0){var Be=ue.slice();ue=[],setTimeout(function(){for(var Ue=0,He=Be.length;Ue<He;++Ue)try{Be[Ue]()}catch{}},0)}}function Ae(Be){se===0&&(de=Be,se=1,pe())}function Fe(Be){se===0&&(de=Be,se=2,pe())}(function(){if(!z(N))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{N(Ae,Fe)}catch(Ue){Fe(Ue)}})()}return j.resolve=function(N){return N instanceof j?N:N&&z(N.then)?new j(function(se,de){try{N.then(se,de)}catch(ue){de(ue)}}):new j(function(se){se(N)})},j.reject=function(N){return new j(function(se,de){de(N)})},j.all=function(N){if(!(!N||!N.length))return new j(function(se,de){try{for(var ue=[],le=0,pe=0;pe<N.length;pe++){var Ae=N[pe];Ae&&z(Ae.then)?(le++,Ae.then(Q(ue,pe,function(){--le===0&&se(ue)}),de)):ue[pe]=Ae}le===0&&setTimeout(function(){se(ue)},0)}catch(Fe){de(Fe)}})},j.race=function(N){return new j(function(se,de){if(!(!N||!N.length))try{for(var ue=function(pe){var Ae=N[pe];Ae&&z(Ae.then)?Ae.then(se,de):setTimeout(function(){se(Ae)},0)},le=0;le<N.length;le++)ue(le)}catch(pe){de(pe)}})},j}();const X=Z;var Y=M(75148),O=6e5,$=0,D=[],u=[],E=[];function q(){return new Date().getTime()}var H=function(){function j(N,se){var de=0,ue=(N||"<unnamed>")+"."+$;$++,(0,l.A)(j,this,function(Ae){var Fe=null,Be=0;Ae.scheduleEvent=function(He,Ye,he){var re=ue+"."+Be;Be++,Ye&&(re+="-("+Ye+")");var ce=re+"{"+de+"}";de++;var ke={evt:null,tm:q(),id:ce,isRunning:!1,isAborted:!1};return Fe?ke.evt=lt(ke,Fe):ke.evt=st(ke),Fe=ke,Fe.evt._schId=ce,ke.evt;function Ie(bt){for(var vt=q(),yt=vt-O,ci=bt.length,wt=0;wt<ci;){var Tt=bt[wt];if(Tt&&Tt.tm<yt){var Ii=null;Tt.abort?(Ii="Aborting ["+Tt.id+"] due to Excessive runtime ("+(vt-Tt.tm)+" ms)",Tt.abort(Ii)):Ii="Removing ["+Tt.id+"] due to Excessive runtime ("+(vt-Tt.tm)+" ms)",pe(Ii),bt.splice(wt,1),ci--}else wt++}}function Qe(bt,vt){var yt=!1,ci=Ue(D,bt);if(ci||(ci=Ue(E,bt),yt=!0),ci){ci.to&&(clearTimeout(ci.to),ci.to=null);var wt=q()-ci.tm;vt?yt?pe("Timed out event ["+bt+"] finally complete -- "+wt+" ms"):le("Promise ["+bt+"] Complete -- "+wt+" ms"):(E.push(ci),pe("Event ["+bt+"] Timed out and removed -- "+wt+" ms"))}else le("Failed to remove ["+bt+"] from running queue");Fe&&Fe.id===bt&&(Fe=null),Ie(D),Ie(u),Ie(E)}function Oe(bt,vt){return function(yt){return Qe(bt,!0),vt&&vt(yt),yt}}function Ke(bt,vt,yt,ci){vt.then(function(wt){return wt instanceof X?(le("Event ["+bt+"] returned a promise -- waiting"),Ke(bt,wt,yt,ci),wt):Oe(bt,yt)(wt)},Oe(bt,ci))}function Ot(bt,vt){var yt=bt.id;return new X(function(ci,wt){le("Event ["+yt+"] Starting -- waited for "+(bt.wTm||"--")+" ms"),bt.isRunning=!0,bt.abort=function(Ii){bt.abort=null,bt.isAborted=!0,Qe(yt,!1),wt(new Error(Ii))};var Tt=vt(yt);Tt instanceof X?(he&&(bt.to=setTimeout(function(){Qe(yt,!1),wt(new Error("Timed out after ["+he+"] ms"))},he)),Ke(yt,Tt,function(Ii){le("Event ["+yt+"] Resolving after "+(q()-bt.tm)+" ms"),ci(Ii)},wt)):(le("Promise ["+yt+"] Auto completed as the start action did not return a promise"),ci())})}function st(bt){var vt=q();return bt.wTm=vt-bt.tm,bt.tm=vt,bt.isAborted?X.reject(new Error("["+re+"] was aborted")):(D.push(bt),Ot(bt,He))}function lt(bt,vt){var yt=new X(function(ci,wt){var Tt=q()-vt.tm,Ii=vt.id;le("["+re+"] is waiting for ["+Ii+":"+Tt+" ms] to complete before starting -- ["+u.length+"] waiting and ["+D.length+"] running"),bt.abort=function(It){bt.abort=null,Ue(u,re),bt.isAborted=!0,wt(new Error(It))},vt.evt.then(function(It){Ue(u,re),st(bt).then(ci,wt)},function(It){Ue(u,re),st(bt).then(ci,wt)})});return u.push(bt),yt}};function Ue(He,Ye){for(var he=0;he<He.length;he++)if(He[he].id===Ye)return He.splice(he,1)[0];return null}});function le(Ae){var Fe=(0,Y.mS)();Fe&&Fe.QUnit&&console&&console.log("ESPromiseScheduler["+ue+"] "+Ae)}function pe(Ae){(0,S.OG)(se,"ESPromiseScheduler["+ue+"] "+Ae)}}return j.incomplete=function(){return D},j.waitingToStart=function(){return u},j}();const K=H;var G=function(){function j(N){var se=this,de={},ue=[],le=[];N&&le.push(N);function pe(Ue,He){var Ye,he=de[Ue];if(he&&(Ye=he[He]),!Ye&&Ye!==null){if((0,I.Kg)(Ue)&&(0,I.Kg)(He))if(le.length>0){for(var re=0;re<le.length;re++)if(le[re].handleField(Ue,He)){Ye={canHandle:!0,fieldHandler:le[re]};break}}else ue.length===0&&(Ye={canHandle:!0});if(!Ye&&Ye!==null){Ye=null;for(var re=0;re<ue.length;re++)if(ue[re].handleField(Ue,He)){Ye={canHandle:!0,handler:ue[re],fieldHandler:null};break}}he||(he=de[Ue]={}),he[He]=Ye}return Ye}se.addSanitizer=function(Ue){Ue&&(ue.push(Ue),de={})},se.addFieldSanitizer=function(Ue){Ue&&(le.push(Ue),de={})},se.handleField=function(Ue,He){var Ye=pe(Ue,He);return Ye?Ye.canHandle:!1},se.value=function(Ue,He,Ye,he){var re=pe(Ue,He);if(re&&re.canHandle){if(!re||!re.canHandle)return null;if(re.handler)return re.handler.value(Ue,He,Ye,he);if(!(0,I.Kg)(He)||(0,I.hX)(Ye)||Ye===w.m5)return null;var ce=null,ke=(0,k.cq)(Ye);if((ke&8192)===8192){var Ie=ke&-8193;if(ce=Ye,!(0,k.yD)(ce.value)||Ie!==1&&Ie!==2&&Ie!==3&&(Ie&4096)!==4096)return null}else ke===1||ke===2||ke===3||(ke&4096)===4096?ce=Fe(Ue,He,Ye):ke===4&&(ce=Fe(Ue,He,he?JSON.stringify(Ye):Ye));if(ce)return Ae(re,Ue,He,ke,ce,he)}return null},se.property=function(Ue,He,Ye,he){var re=pe(Ue,He);if(!re||!re.canHandle||!(0,I.Kg)(He)||(0,I.hX)(Ye)||!(0,k.yD)(Ye.value))return null;var ce=(0,k.cq)(Ye.value);return ce===0?null:Ae(re,Ue,He,ce,Ye,he)};function Ae(Ue,He,Ye,he,re,ce){if(Ue.handler)return Ue.handler.property(He,Ye,re,ce);if(!(0,I.hX)(re.kind)){if((he&4096)===4096||!(0,k.m0)(re.kind))return null;re.value=re.value.toString()}return Be(Ue.fieldHandler,He,Ye,he,re)}function Fe(Ue,He,Ye){return(0,k.yD)(Ye)?{value:Ye}:null}function Be(Ue,He,Ye,he,re){if(re&&Ue){var ce=Ue.getSanitizer(He,Ye,he,re.kind,re.propertyType);if(ce)if(he===4){var ke={},Ie=re.value;(0,I.z)(Ie,function(Oe,Ke){var Ot=He+"."+Ye;if((0,k.yD)(Ke)){var st=Fe(Ot,Oe,Ke);st=Be(Ue,Ot,Oe,(0,k.cq)(Ke),st),st&&(ke[Oe]=st.value)}}),re.value=ke}else{var Qe={path:He,name:Ye,type:he,prop:re,sanitizer:se};re=ce.call(se,Qe)}}return re}}return j.getFieldType=k.cq,j}(),ie=100,J=M(54660),B=M(56489),ae=M(8997),Ne=M(31590),be=M(32578),we=M(18413),Te=M(57679),ee=M(47672),ne=M(91698),me=M(64252),ge=M(49388),_e=M(68560)},52976:(s,V,M)=>{"use strict";M.d(V,{S:()=>L,_0:()=>h,hj:()=>f,m5:()=>A});var A="",L="https://browser.events.data.microsoft.com/OneCollector/1.0/",I="pluginVersionString",C=I+"Arr",f="version",h="properties"},59091:(s,V,M)=>{"use strict";M.d(V,{Aq:()=>ae,EO:()=>F,F2:()=>be,Go:()=>Z,H$:()=>we,Hh:()=>z,P$:()=>P,Ri:()=>$,Rx:()=>l,TC:()=>Q,TV:()=>Y,UM:()=>D,WB:()=>q,WD:()=>X,X$:()=>E,Yj:()=>O,cq:()=>B,g8:()=>R,gj:()=>u,h3:()=>y,jS:()=>Ne,m0:()=>H,u9:()=>J,wJ:()=>ie,xE:()=>S,yD:()=>U});var A=M(44180),L=M(12497),I=M(91698),C=M(32578),f=M(47672),h=M(18413),p=M(57679),m=M(75148),_=M(52976),b,l="3.2.9",S="1DS-Web-JS-"+l,c="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",g="withCredentials",d="timeout",w=(b={},b[0]=0,b[2]=6,b[1]=1,b[3]=7,b[4098]=6,b[4097]=1,b[4099]=7,b),k=null,R=!!(0,A.YE)(),P=!!(0,A.zk)();function U(Te){return!(Te===_.m5||(0,L.hX)(Te))}function F(Te){if(Te){var ee=Te.indexOf("-");if(ee>-1)return Te.substring(0,ee)}return _.m5}function y(){return k===null&&(k=!(0,L.b0)(Uint8Array)&&!G()&&!(0,A.lV)()),k}function z(Te){return!!(Te&&(0,L.Et)(Te)&&Te>=1&&Te<=4)}function Q(Te,ee,ne){if(!ee&&!U(ee)||typeof Te!="string")return null;var me=typeof ee;if(me==="string"||me==="number"||me==="boolean"||(0,L.cy)(ee))ee={value:ee};else if(me==="object"&&!f.J$.call(ee,"value"))ee={value:ne?JSON.stringify(ee):ee};else if((0,L.hX)(ee.value)||ee.value===_.m5||!(0,L.Kg)(ee.value)&&!(0,L.Et)(ee.value)&&!(0,L.Lm)(ee.value)&&!(0,L.cy)(ee.value))return null;if((0,L.cy)(ee.value)&&!ie(ee.value))return null;if(!(0,L.hX)(ee.kind)){if((0,L.cy)(ee.value)||!H(ee.kind))return null;ee.value=ee.value.toString()}return ee}function Z(Te,ee,ne){var me=-1;if(!(0,L.b0)(Te))if(ee>0&&(ee===32?me=8192:ee<=13&&(me=ee<<5)),K(ne))me===-1&&(me=0),me|=ne;else{var ge=w[B(Te)]||-1;me!==-1&&ge!==-1?me|=ge:ge===6&&(me=ge)}return me}function X(){(0,I.um)(null).setEnabled(!1)}function Y(Te,ee,ne){(0,I.gi)(null)&&(0,I.um)(null).set(Te,ee,ne*86400,null,"/")}function O(Te){(0,I.gi)(null)&&(0,I.um)(null).del(Te)}function $(Te){return(0,I.gi)(null)?D((0,I.um)(null),Te):_.m5}function D(Te,ee,ne){ne===void 0&&(ne=!0);var me;return Te&&(me=Te.get(ee),ne&&me&&decodeURIComponent&&(me=decodeURIComponent(me))),me||_.m5}function u(Te){Te===void 0&&(Te="D");var ee=(0,C.aq)();return Te==="B"?ee="{"+ee+"}":Te==="P"?ee="("+ee+")":Te==="N"&&(ee=ee.replace(/-/g,_.m5)),ee}function E(Te,ee,ne,me,ge){var _e={},j=!1,N=0,se=arguments.length,de=Object[f.vR],ue=arguments;for(de.toString.call(ue[0])==="[object Boolean]"&&(j=ue[0],N++);N<se;N++){var Te=ue[N];(0,L.z)(Te,function(pe,Ae){j&&Ae&&(0,L.Gv)(Ae)?(0,L.cy)(Ae)?(_e[pe]=_e[pe]||[],(0,L.Iu)(Ae,function(Fe,Be){Fe&&(0,L.Gv)(Fe)?_e[pe][Be]=E(!0,_e[pe][Be],Fe):_e[pe][Be]=Fe})):_e[pe]=E(!0,_e[pe],Ae):_e[pe]=Ae})}return _e}var q=C.UU;function H(Te){return Te===0||Te>0&&Te<=13||Te===32}function K(Te){return Te>=0&&Te<=9}function G(){var Te=(0,A.w3)();if(!(0,L.b0)(Te)&&Te.userAgent){var ee=Te.userAgent.toLowerCase();if((ee.indexOf("safari")>=0||ee.indexOf("firefox")>=0)&&ee.indexOf("chrome")<0)return!0}return!1}function ie(Te){return Te.length>0}function J(Te,ee){var ne=Te;ne.timings=ne.timings||{},ne.timings.processTelemetryStart=ne.timings.processTelemetryStart||{},ne.timings.processTelemetryStart[ee]=q()}function B(Te){var ee=0;if(Te!=null){var ne=typeof Te;ne==="string"?ee=1:ne==="number"?ee=2:ne==="boolean"?ee=3:ne===f._1&&(ee=4,(0,L.cy)(Te)?(ee=4096,Te.length>0&&(ee|=B(Te[0]))):f.J$.call(Te,"value")&&(ee=8192|B(Te.value)))}return ee}var ae={Version:l,FullVersionString:S,strUndefined:f.bA,strObject:f._1,Undefined:f.bA,arrForEach:L.Iu,arrIndexOf:L.rD,arrMap:L.W$,arrReduce:L.KT,objKeys:L.cG,toISOString:L._u,isReactNative:A.lV,isString:L.Kg,isNumber:L.Et,isBoolean:L.Lm,isFunction:L.Tn,isArray:L.cy,isObject:L.Gv,strTrim:L.EH,isDocumentObjectAvailable:R,isWindowObjectAvailable:P,isValueAssigned:U,getTenantId:F,isBeaconsSupported:A.Uf,isUint8ArrayAvailable:y,isLatency:z,sanitizeProperty:Q,getISOString:L._u,useXDomainRequest:A.PV,getCommonSchemaMetaData:Z,cookieAvailable:I.gi,disallowsSameSiteNone:I.It,setCookie:Y,deleteCookie:O,getCookie:$,createGuid:u,extend:E,getTime:q,isValueKind:H,isArrayValid:ie,objDefineAccessors:L.r,addPageUnloadEventListener:h.ee,setProcessTelemetryTimings:J,addEventHandler:h.So,getFieldValueType:B,strEndsWith:L.Cv,objForEachKey:L.z},Ne={_canUseCookies:void 0,isTypeof:L.Ed,isUndefined:L.b0,isNullOrUndefined:L.hX,hasOwnProperty:L.mQ,isFunction:L.Tn,isObject:L.Gv,isDate:L.$P,isArray:L.cy,isError:L.bJ,isString:L.Kg,isNumber:L.Et,isBoolean:L.Lm,toISOString:L._u,arrForEach:L.Iu,arrIndexOf:L.rD,arrMap:L.W$,arrReduce:L.KT,strTrim:L.EH,objCreate:m.AQ,objKeys:L.cG,objDefineAccessors:L.r,addEventHandler:h.So,dateNow:L.x3,isIE:A.lT,disableCookies:X,newGuid:C.aq,perfNow:C.UU,newId:p.Si,randomValue:p.Z1,random32:p.VN,mwcRandomSeed:p.yc,mwcRandom32:p.k5,generateW3CId:C.cL};function be(){return!!(0,A.EH)("chrome")}function we(Te,ee,ne,me,ge,_e){me===void 0&&(me=!1),ge===void 0&&(ge=!1);function j(se,de,ue){try{se[de]=ue}catch{}}var N=new XMLHttpRequest;return me&&j(N,c,me),ne&&j(N,g,ne),N.open(Te,ee,!ge),ne&&j(N,g,ne),!ge&&_e&&j(N,d,_e),N}},28643:(s,V,M)=>{"use strict";M.r(V),M.d(V,{BE_PROFILE:()=>g,NRT_PROFILE:()=>c,PostChannel:()=>Bt,RT_PROFILE:()=>S});var A=M(8747),L=M(92457),I=M(5204),C=M(18413),f=M(64252),h=M(59091),p=M(12497),m=M(44180),_=M(31590),b=M(99015),l=M(56489),S="REAL_TIME",c="NEAR_REAL_TIME",g="BEST_EFFORT",d="",w="POST",k="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",R="drop",P="send",U="requeue",F="rspFail",y="oth",z="no-cache, no-store",Q="application/x-json-stream",Z="cache-control",X="content-type",Y="kill-tokens",O="kill-duration",$="kill-duration-seconds",D="time-delta-millis",u="client-version",E="client-id",q="time-delta-to-apply-millis",H="upload-time",K="apikey",G="AuthMsaDeviceTicket",ie="AuthXToken",J="sdk-version",B="NoResponseBody",ae="msfpc",Ne="trace",be="user";function we(xt){var pt=(xt.ext||{}).intweb;return pt&&(0,h.yD)(pt[ae])?pt[ae]:null}function Te(xt){for(var pt=null,St=0;pt===null&&St<xt.length;St++)pt=we(xt[St]);return pt}var ee=function(){function xt(pt,St){var Pt=St?[].concat(St):[],di=this,ni=Te(Pt);di.iKey=function(){return pt},di.Msfpc=function(){return ni||d},di.count=function(){return Pt.length},di.events=function(){return Pt},di.addEvent=function(Ut){return Ut?(Pt.push(Ut),ni||(ni=we(Ut)),!0):!1},di.split=function(Ut,Si){var fi;if(Ut<Pt.length){var ai=Pt.length-Ut;(0,p.hX)(Si)||(ai=Si<ai?Si:ai),fi=Pt.splice(Ut,ai),ni=Te(Pt)}return new xt(pt,fi)}}return xt.create=function(pt,St){return new xt(pt,St)},xt}(),ne=function(){function xt(){var pt=!0,St=!0,Pt=!0,di="use-collector-delta",ni=!1;(0,L.A)(xt,this,function(Ut){Ut.allowRequestSending=function(){return pt},Ut.firstRequestSent=function(){Pt&&(Pt=!1,ni||(pt=!1))},Ut.shouldAddClockSkewHeaders=function(){return St},Ut.getClockSkewHeaderValue=function(){return di},Ut.setClockSkew=function(Si){ni||(Si?(di=Si,St=!0,ni=!0):St=!1,pt=!0)}})}return xt.__ieDyn=1,xt}();const me=ne;var ge=1e3,_e=function(){function xt(){var pt={};function St(Pt){var di=[];return Pt&&(0,p.Iu)(Pt,function(ni){di.push((0,p.EH)(ni))}),di}(0,L.A)(xt,this,function(Pt){Pt.setKillSwitchTenants=function(di,ni){if(di&&ni)try{var Ut=St(di.split(","));if(ni==="this-request-only")return Ut;for(var Si=parseInt(ni,10)*ge,fi=0;fi<Ut.length;++fi)pt[Ut[fi]]=(0,p.x3)()+Si}catch{return[]}return[]},Pt.isTenantKilled=function(di){var ni=pt,Ut=(0,p.EH)(di);return ni[Ut]!==void 0&&ni[Ut]>(0,p.x3)()?!0:(delete ni[Ut],!1)}})}return xt.__ieDyn=1,xt}();const j=_e;var N=M(47672),se=.8,de=1.2,ue=3e3,le=6e5;function pe(xt){return!(xt>=300&&xt<500&&xt!=408&&xt!=429||xt==501||xt==505)}function Ae(xt){var pt=0,St=ue*se,Pt=ue*de,di=Math.floor(Math.random()*(Pt-St))+St;return pt=Math.pow(2,xt)*di,Math.min(pt,le)}var Fe=20,Be=3984588,Ue=65e3,He=2e6,Ye=Math.min(He,Ue),he="metadata",re="f",ce=/\./,ke=function(){function xt(pt,St,Pt,di){var ni="data",Ut="baseData",Si="ext",fi=!!di,ai=!0,Di=St,Qi={};(0,L.A)(xt,this,function(Yi){Yi.createPayload=function(Kt,oi,wi,qi,hi,Ri){return{apiKeys:[],payloadBlob:d,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Kt,isTeardown:oi,isSync:wi,isBeacon:qi,sendType:Ri,sendReason:hi}},Yi.appendPayload=function(Kt,oi,wi){var qi=Kt&&oi&&!Kt.overflow;return qi&&(0,I.r2)(pt,function(){return"Serializer:appendPayload"},function(){for(var hi=oi.events(),Ri=Kt.payloadBlob,Vi=Kt.numEvents,on=!1,Bi=[],wn=[],Li=Kt.isBeacon,sn=Li?Ue:Be,Mn=Li?Ye:He,_n=0,cn=0;_n<hi.length;){var Pi=hi[_n];if(Pi){if(Vi>=wi){Kt.overflow=oi.split(_n);break}var gi=Yi.getEventBlob(Pi);if(gi&&gi.length<=Mn){var In=gi.length,Wr=Ri.length;if(Wr+In>sn){Kt.overflow=oi.split(_n);break}Ri&&(Ri+=`
`),Ri+=gi,cn++,cn>Fe&&(Ri.substr(0,1),cn=0),on=!0,Vi++}else gi?Bi.push(Pi):wn.push(Pi),hi.splice(_n,1),_n--}_n++}if(Bi&&Bi.length>0&&Kt.sizeExceed.push(ee.create(oi.iKey(),Bi)),wn&&wn.length>0&&Kt.failedEvts.push(ee.create(oi.iKey(),wn)),on){Kt.batches.push(oi),Kt.payloadBlob=Ri,Kt.numEvents=Vi;var Bn=oi.iKey();(0,p.rD)(Kt.apiKeys,Bn)===-1&&Kt.apiKeys.push(Bn)}},function(){return{payload:Kt,theBatch:{iKey:oi.iKey(),evts:oi.events()},max:wi}}),qi},Yi.getEventBlob=function(Kt){try{return(0,I.r2)(pt,function(){return"Serializer.getEventBlob"},function(){var oi={};oi.name=Kt.name,oi.time=Kt.time,oi.ver=Kt.ver,oi.iKey="o:"+(0,h.EO)(Kt.iKey);var wi={},qi=Kt[Si];qi&&(oi[Si]=wi,(0,p.z)(qi,function(Vi,on){var Bi=wi[Vi]={};Gi(on,Bi,"ext."+Vi,!0,null,null,!0)}));var hi=oi[ni]={};hi.baseType=Kt.baseType;var Ri=hi[Ut]={};return Gi(Kt.baseData,Ri,Ut,!1,[Ut],function(Vi,on,Bi){Ie(wi,Vi,on,Bi)},ai),Gi(Kt.data,hi,ni,!1,[],function(Vi,on,Bi){Ie(wi,Vi,on,Bi)},ai),JSON.stringify(oi)},function(){return{item:Kt}})}catch{return null}};function Hi(Kt,oi){var wi=Qi[Kt];return wi===void 0&&(Kt.length>=7&&(wi=(0,p.tG)(Kt,"ext.metadata")||(0,p.tG)(Kt,"ext.web")),Qi[Kt]=wi),wi}function Gi(Kt,oi,wi,qi,hi,Ri,Vi){(0,p.z)(Kt,function(on,Bi){var wn=null;if(Bi||(0,h.yD)(Bi)){var Li=wi,sn=on,Mn=hi,_n=oi;if(fi&&!qi&&ce.test(on)){var cn=on.split("."),Pi=cn.length;if(Pi>1){Mn&&(Mn=Mn.slice());for(var gi=0;gi<Pi-1;gi++){var In=cn[gi];_n=_n[In]=_n[In]||{},Li+="."+In,Mn&&Mn.push(In)}sn=cn[Pi-1]}}var Wr=qi&&Hi(Li,sn);if(!Wr&&Di&&Di.handleField(Li,sn)?wn=Di.value(Li,sn,Bi,Pt):wn=(0,h.TC)(sn,Bi,Pt),wn){var Bn=wn.value;if(_n[sn]=Bn,Ri&&Ri(Mn,sn,wn),Vi&&typeof Bn=="object"&&!(0,p.cy)(Bn)){var Br=Mn;Br&&(Br=Br.slice(),Br.push(sn)),Gi(Bi,Bn,Li+"."+sn,qi,Br,Ri,Vi)}}}})}})}return xt.__ieDyn=1,xt}();function Ie(xt,pt,St,Pt){if(Pt&&xt){var di=(0,h.Go)(Pt.value,Pt.kind,Pt.propertyType);if(di>-1){var ni=xt[he];ni||(ni=xt[he]={f:{}});var Ut=ni[re];if(Ut||(Ut=ni[re]={}),pt)for(var Si=0;Si<pt.length;Si++){var fi=pt[Si];Ut[fi]||(Ut[fi]={f:{}});var ai=Ut[fi][re];ai||(ai=Ut[fi][re]={}),Ut=ai}Ut=Ut[St]={},(0,p.cy)(Pt.value)?Ut.a={t:di}:Ut.t=di}}}var Qe,Oe="sendAttempt",Ke="&"+B+"=true",Ot=(Qe={},Qe[1]=U,Qe[100]=U,Qe[200]="sent",Qe[8004]=R,Qe[8003]=R,Qe),st={},lt={};function bt(xt,pt,St){st[xt]=pt,St!==!1&&(lt[pt]=xt)}bt(G,G,!1),bt(u,u),bt(E,"Client-Id"),bt(K,K),bt(q,q),bt(H,H),bt(ie,ie);function vt(xt){try{return xt.responseText}catch{}return d}function yt(xt,pt){var St=!1;if(xt&&pt){var Pt=(0,p.cG)(xt);if(Pt&&Pt.length>0)for(var di=pt.toLowerCase(),ni=0;ni<Pt.length;ni++){var Ut=Pt[ni];if(Ut&&(0,p.mQ)(pt,Ut)&&Ut.toLowerCase()===di){St=!0;break}}}return St}function ci(xt,pt,St,Pt){pt&&St&&St.length>0&&(Pt&&st[pt]?(xt.hdrs[st[pt]]=St,xt.useHdrs=!0):xt.url+="&"+pt+"="+St)}function wt(xt,pt){return pt&&((0,p.Et)(pt)?xt=[pt].concat(xt):(0,p.cy)(pt)&&(xt=pt.concat(xt))),xt}var Tt=function(){function xt(pt,St,Pt,di,ni){this._responseHandlers=[];var Ut="?cors=true&"+X.toLowerCase()+"="+Q,Si=new j,fi=!1,ai=new me,Di=!1,Qi=0,Yi,Hi,Gi,Kt,oi=!0,wi=[],qi={},hi=[],Ri=null,Vi=!1,on,Bi=!1,wn=!1,Li,sn,Mn,_n,cn;(0,L.A)(xt,this,function(Pi){var gi=!0;Pi.initialize=function(ze,_t,kt,Mt,Ht){var yi;Ht||(Ht={}),Ut=ze+Ut,wn=(0,p.b0)(Ht.avoidOptions)?!0:!Ht.avoidOptions,Kt=_t,on=_t.getCookieMgr(),Vi=!Kt.config.disableEventTimings;var pi=!!Kt.config.enableCompoundKey;Yi=kt,Hi=Yi.diagLog();var Xe=Ht.valueSanitizer,ht=Ht.stringifyObjects;(0,p.b0)(Ht.enableCompoundKey)||(pi=!!Ht.enableCompoundKey),Li=Ht.xhrTimeout,sn=!!Ht.disableXhrSync,Mn=!!Ht.disableFetchKeepAlive,cn=Ht.addNoResponse!==!1,Di=!(0,m.lV)(),Ri=new ke(Kt,Xe,ht,pi),(0,p.hX)(Ht.useSendBeacon)||(Di=!!Ht.useSendBeacon);var ot=Mt,Dt=Ht.alwaysUseXhrOverride?Mt:null,Qt=Ht.alwaysUseXhrOverride?Mt:null,ui=[3,2];if(!Mt){oi=!1;var vi=(0,m.g$)();vi&&vi.protocol&&vi.protocol.toLowerCase()==="file:"&&(gi=!1);var Ni=[];(0,m.lV)()?(Ni=[2,1],ui=[2,1,3]):Ni=[1,2,3],Ni=wt(Ni,Ht.transports),Mt=In(Ni,!1),Mt||(0,b.OG)(Hi,"No available transport to send events"),ot=In(Ni,!0)}Dt||(ui=wt(ui,Ht.unloadTransports),Dt=In(ui,!0)),_n=!oi&&(Di&&(0,m.Uf)()||!Mn&&(0,m.R7)(!0)),Gi=(yi={},yi[0]=Mt,yi[1]=ot||In([1,2,3],!0),yi[2]=Dt||ot||In([1],!0),yi[3]=Qt||In([2,3],!0)||ot||In([1],!0),yi)};function In(ze,_t){for(var kt=0,Mt=null,Ht=0;Mt==null&&Ht<ze.length;)kt=ze[Ht],kt===1?(0,m.PV)()?Mt=Wr:(0,m.xk)()&&(Mt=Br):kt===2&&(0,m.R7)(_t)&&(!_t||_t&&!Mn)?Mt=Bn:Di&&kt===3&&(0,m.Uf)()&&(Mt=aa),Ht++;return Mt?{_transport:kt,_isSync:_t,sendPOST:Mt}:null}Pi._getDbgPlgTargets=function(){return[Gi[0],Si,Ri,Gi]};function Wr(ze,_t,kt){var Mt=new XDomainRequest;Mt.open(w,ze.urlString),ze.timeout&&(Mt.timeout=ze.timeout),Mt.onload=function(){var Ht=vt(Mt);rr(_t,200,{},Ht),os(Ht)},Mt.onerror=function(){rr(_t,400,{})},Mt.ontimeout=function(){rr(_t,500,{})},Mt.onprogress=function(){},kt?Mt.send(ze.data):ni.set(function(){Mt.send(ze.data)},0)}function Bn(ze,_t,kt){var Mt,Ht=ze.urlString,yi=!1,pi=!1,Xe=(Mt={body:ze.data,method:w},Mt[k]=!0,Mt);kt&&(Xe.keepalive=!0,ze._sendReason===2&&(yi=!0,cn&&(Ht+=Ke))),gi&&(Xe.credentials="include"),ze.headers&&(0,p.cG)(ze.headers).length>0&&(Xe.headers=ze.headers),fetch(Ht,Xe).then(function(ht){var ot={},Dt=d,Qt=ht.headers;Qt&&Qt.forEach(function(ui,vi){ot[vi]=ui}),ht.body&&ht.text().then(function(ui){Dt=ui}),pi||(pi=!0,rr(_t,ht.status,ot,Dt),os(Dt))}).catch(function(ht){pi||(pi=!0,rr(_t,0,{}))}),yi&&!pi&&(pi=!0,rr(_t,200,{})),!pi&&ze.timeout>0&&ni.set(function(){pi||(pi=!0,rr(_t,500,{}))},ze.timeout)}function Br(ze,_t,kt){var Mt=ze.urlString;function Ht(ht,ot,Dt){if(!ht[Dt]&&ot&&ot.getResponseHeader){var Qt=ot.getResponseHeader(Dt);Qt&&(ht[Dt]=(0,p.EH)(Qt))}return ht}function yi(ht){var ot={};return ht.getAllResponseHeaders?ot=as(ht.getAllResponseHeaders()):(ot=Ht(ot,ht,D),ot=Ht(ot,ht,O),ot=Ht(ot,ht,$)),ot}function pi(ht,ot){rr(_t,ht.status,yi(ht),ot)}kt&&ze.disableXhrSync&&(kt=!1);var Xe=(0,h.H$)(w,Mt,gi,!0,kt,ze.timeout);(0,p.z)(ze.headers,function(ht,ot){Xe.setRequestHeader(ht,ot)}),Xe.onload=function(){var ht=vt(Xe);pi(Xe,ht),os(ht)},Xe.onerror=function(){pi(Xe)},Xe.ontimeout=function(){pi(Xe)},Xe.send(ze.data)}function rr(ze,_t,kt,Mt){try{ze(_t,kt,Mt)}catch(Ht){(0,b.ZP)(Hi,2,518,(0,m.mm)(Ht))}}function aa(ze,_t,kt){var Mt=ze,Ht=200,yi=Mt._thePayload,pi=ze.urlString+(cn?Ke:d);try{var Xe=(0,m.w3)();if(!Xe.sendBeacon(pi,ze.data))if(yi){var ht=[];(0,p.Iu)(yi.batches,function(ot){if(ht&&ot&&ot.count()>0){for(var Dt=ot.events(),Qt=0;Qt<Dt.length;Qt++)if(!Xe.sendBeacon(pi,Ri.getEventBlob(Dt[Qt]))){ht.push(ot.split(Qt));break}}else ht.push(ot.split(0))}),Cn(ht,8003,yi.sendType,!0)}else Ht=0}catch(ot){(0,b.OG)(Hi,"Failed to send telemetry using sendBeacon API. Ex:"+(0,m.mm)(ot)),Ht=0}finally{rr(_t,Ht,{},d)}}function Kr(ze){return ze===2||ze===3}function Tn(ze){return Bi&&Kr(ze)&&(ze=2),ze}Pi.addQueryStringParameter=function(ze,_t){for(var kt=0;kt<wi.length;kt++)if(wi[kt].name===ze){wi[kt].value=_t;return}wi.push({name:ze,value:_t})},Pi.addHeader=function(ze,_t){qi[ze]=_t},Pi.canSendRequest=function(){return Ha()&&ai.allowRequestSending()},Pi.sendQueuedRequests=function(ze,_t){(0,p.b0)(ze)&&(ze=0),Bi&&(ze=Tn(ze),_t=2),Er(hi,ze,0)&&sa(Rr(),0,!1,ze,_t||0)},Pi.isCompletelyIdle=function(){return!fi&&Qi===0&&hi.length===0},Pi.setUnloading=function(ze){Bi=ze},Pi.addBatch=function(ze){if(ze&&ze.count()>0){if(Si.isTenantKilled(ze.iKey()))return!1;hi.push(ze)}return!0},Pi.teardown=function(){hi.length>0&&sa(Rr(),0,!0,2,2)},Pi.pause=function(){fi=!0},Pi.resume=function(){fi=!1,Pi.sendQueuedRequests(0,4)},Pi.sendSynchronousBatch=function(ze,_t,kt){ze&&ze.count()>0&&((0,p.hX)(_t)&&(_t=1),Bi&&(_t=Tn(_t),kt=2),sa([ze],0,!1,_t,kt||0))};function Ha(){return!fi&&Qi<St}function Rr(){var ze=hi;return hi=[],ze}function Er(ze,_t,kt){var Mt=!1;return ze&&ze.length>0&&!fi&&Gi[_t]&&Ri&&(Mt=_t!==0||Ha()&&(kt>0||ai.allowRequestSending())),Mt}function ba(ze){var _t={};return ze&&(0,p.Iu)(ze,function(kt,Mt){_t[Mt]={iKey:kt.iKey(),evts:kt.events()}}),_t}function sa(ze,_t,kt,Mt,Ht){if(!(!ze||ze.length===0)){if(fi){Cn(ze,1,Mt);return}Mt=Tn(Mt);try{var yi=ze,pi=Mt!==0;(0,I.r2)(Kt,function(){return"HttpManager:_sendBatches"},function(Xe){Xe&&(ze=ze.slice(0));for(var ht=[],ot=null,Dt=(0,h.WB)(),Qt=Gi[Mt]||(pi?Gi[1]:Gi[0]),ui=Qt&&Qt._transport,vi=_n&&(Bi||Kr(Mt)||ui===3||Qt._isSync&&ui===2);Er(ze,Mt,_t);){var Ni=ze.shift();Ni&&Ni.count()>0&&(Si.isTenantKilled(Ni.iKey())?ht.push(Ni):(ot=ot||Ri.createPayload(_t,kt,pi,vi,Ht,Mt),Ri.appendPayload(ot,Ni,pt)?ot.overflow!==null&&(ze=[ot.overflow].concat(ze),ot.overflow=null,vr(ot,Dt,(0,h.WB)(),Ht),Dt=(0,h.WB)(),ot=null):(vr(ot,Dt,(0,h.WB)(),Ht),Dt=(0,h.WB)(),ze=[Ni].concat(ze),ot=null)))}ot&&vr(ot,Dt,(0,h.WB)(),Ht),ze.length>0&&(hi=ze.concat(hi)),Cn(ht,8004,Mt)},function(){return{batches:ba(yi),retryCount:_t,isTeardown:kt,isSynchronous:pi,sendReason:Ht,useSendBeacon:Kr(Mt),sendType:Mt}},!pi)}catch(Xe){(0,b.ZP)(Hi,2,48,"Unexpected Exception sending batch: "+(0,m.mm)(Xe))}}}function Ga(ze,_t){var kt={url:Ut,hdrs:{},useHdrs:!1};_t?(kt.hdrs=(0,h.X$)(kt.hdrs,qi),kt.useHdrs=(0,p.cG)(kt.hdrs).length>0):(0,p.z)(qi,function(Xe,ht){lt[Xe]?ci(kt,lt[Xe],ht,!1):(kt.hdrs[Xe]=ht,kt.useHdrs=!0)}),ci(kt,E,"NO_AUTH",_t),ci(kt,u,h.xE,_t);var Mt=d;(0,p.Iu)(ze.apiKeys,function(Xe){Mt.length>0&&(Mt+=","),Mt+=Xe}),ci(kt,K,Mt,_t),ci(kt,H,(0,p.x3)().toString(),_t);var Ht=ss(ze);if((0,h.yD)(Ht)&&(kt.url+="&ext.intweb.msfpc="+Ht),ai.shouldAddClockSkewHeaders()&&ci(kt,q,ai.getClockSkewHeaderValue(),_t),Kt.getWParam){var yi=Kt.getWParam();yi>=0&&(kt.url+="&w="+yi)}for(var pi=0;pi<wi.length;pi++)kt.url+="&"+wi[pi].name+"="+wi[pi].value;return kt}function Qr(ze,_t,kt){ze[_t]=ze[_t]||{},ze[_t][Yi.identifier]=kt}function vr(ze,_t,kt,Mt){if(ze&&ze.payloadBlob&&ze.payloadBlob.length>0){var Ht=!!Pi.sendHook,yi=Gi[ze.sendType];!Kr(ze.sendType)&&ze.isBeacon&&ze.sendReason===2&&(yi=Gi[2]||Gi[3]||yi);var pi=wn;(ze.isBeacon||yi._transport===3)&&(pi=!1);var Xe=Ga(ze,pi);pi=pi||Xe.useHdrs;var ht=(0,h.WB)();(0,I.r2)(Kt,function(){return"HttpManager:_doPayloadSend"},function(){for(var ot=0;ot<ze.batches.length;ot++)for(var Dt=ze.batches[ot],Qt=Dt.events(),ui=0;ui<Qt.length;ui++){var vi=Qt[ui];if(Vi){var Ni=vi.timings=vi.timings||{};Qr(Ni,"sendEventStart",ht),Qr(Ni,"serializationStart",_t),Qr(Ni,"serializationCompleted",kt)}vi[Oe]>0?vi[Oe]++:vi[Oe]=1}Cn(ze.batches,1e3+(Mt||0),ze.sendType,!0);var Ui={data:ze.payloadBlob,urlString:Xe.url,headers:Xe.hdrs,_thePayload:ze,_sendReason:Mt,timeout:Li,disableXhrSync:sn,disableFetchKeepAlive:Mn};pi&&(yt(Ui.headers,Z)||(Ui.headers[Z]=z),yt(Ui.headers,X)||(Ui.headers[X]=Q));var Dn=null;yi&&(Dn=function(bn){ai.firstRequestSent();var Ai=function(Ir,Nr){Va(Ir,Nr,ze,Mt)},Vn=ze.isTeardown||ze.isSync;try{yi.sendPOST(bn,Ai,Vn),Pi.sendListener&&Pi.sendListener(Ui,bn,Vn,ze.isBeacon)}catch(Ir){(0,b.OG)(Hi,"Unexpected exception sending payload. Ex:"+(0,m.mm)(Ir)),rr(Ai,0,{})}}),(0,I.r2)(Kt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Dn)if(ze.sendType===0&&Qi++,Ht&&!ze.isBeacon&&yi._transport!==3){var bn={data:Ui.data,urlString:Ui.urlString,headers:(0,h.X$)({},Ui.headers),timeout:Ui.timeout,disableXhrSync:Ui.disableXhrSync,disableFetchKeepAlive:Ui.disableFetchKeepAlive},Ai=!1;(0,I.r2)(Kt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Pi.sendHook(bn,function(Vn){Ai=!0,!oi&&!Vn._thePayload&&(Vn._thePayload=Vn._thePayload||Ui._thePayload,Vn._sendReason=Vn._sendReason||Ui._sendReason),Dn(Vn)},ze.isSync||ze.isTeardown)}catch{Ai||Dn(Ui)}})}else Dn(Ui)})},function(){return{thePayload:ze,serializationStart:_t,serializationCompleted:kt,sendReason:Mt}},ze.isSync)}ze.sizeExceed&&ze.sizeExceed.length>0&&Cn(ze.sizeExceed,8003,ze.sendType),ze.failedEvts&&ze.failedEvts.length>0&&Cn(ze.failedEvts,8002,ze.sendType)}function to(ze,_t){Vi&&(0,p.Iu)(ze,function(kt){var Mt=kt.timings=kt.timings||{};Qr(Mt,"sendEventCompleted",_t)})}function Va(ze,_t,kt,Mt){var Ht=9e3,yi=null,pi=!1,Xe=!1;try{var ht=!0;if(typeof ze!==N.bA){if(_t){ai.setClockSkew(_t[D]);var ot=_t[O]||_t["kill-duration-seconds"];(0,p.Iu)(Si.setKillSwitchTenants(_t[Y],ot),function(Qt){(0,p.Iu)(kt.batches,function(ui){if(ui.iKey()===Qt){yi=yi||[];var vi=ui.split(0);kt.numEvents-=vi.count(),yi.push(vi)}})})}if(ze==200||ze==204){Ht=200;return}(!pe(ze)||kt.numEvents<=0)&&(ht=!1),Ht=9e3+ze%1e3}if(ht){Ht=100;var Dt=kt.retryCnt;kt.sendType===0&&(Dt<Pt?(pi=!0,oa(function(){kt.sendType===0&&Qi--,sa(kt.batches,Dt+1,kt.isTeardown,Bi?2:kt.sendType,5)},Bi,Ae(Dt))):(Xe=!0,Bi&&(Ht=8001)))}}finally{pi||(ai.setClockSkew(),Yr(kt,Ht,Mt,Xe)),Cn(yi,8004,kt.sendType)}}function Yr(ze,_t,kt,Mt){try{Mt&&Yi._backOffTransmission(),_t===200&&(!Mt&&!ze.isSync&&Yi._clearBackOff(),Es(ze.batches)),Cn(ze.batches,_t,ze.sendType,!0)}finally{ze.sendType===0&&(Qi--,kt!==5&&Pi.sendQueuedRequests(ze.sendType,kt))}}function Es(ze){if(Vi){var _t=(0,h.WB)();(0,p.Iu)(ze,function(kt){kt&&kt.count()>0&&to(kt.events(),_t)})}}function oa(ze,_t,kt){_t?ze():ni.set(ze,kt)}function as(ze){var _t={};if((0,p.Kg)(ze)){var kt=(0,p.EH)(ze).split(/[\r\n]+/);(0,p.Iu)(kt,function(Mt){if(Mt){var Ht=Mt.indexOf(": ");if(Ht!==-1){var yi=(0,p.EH)(Mt.substring(0,Ht)).toLowerCase(),pi=(0,p.EH)(Mt.substring(Ht+1));_t[yi]=pi}else _t[(0,p.EH)(Mt)]=1}})}return _t}function ss(ze){for(var _t=0;_t<ze.batches.length;_t++){var kt=ze.batches[_t].Msfpc();if(kt)return encodeURIComponent(kt)}return d}function os(ze){var _t=Pi._responseHandlers;try{for(var kt=0;kt<_t.length;kt++)try{_t[kt](ze)}catch(Ht){(0,b.ZP)(Hi,1,519,"Response handler failed: "+Ht)}if(ze){var Mt=JSON.parse(ze);(0,h.yD)(Mt.webResult)&&(0,h.yD)(Mt.webResult[ae])&&on.set("MSFPC",Mt.webResult[ae],365*86400)}}catch{}}function Cn(ze,_t,kt,Mt){if(ze&&ze.length>0&&di){var Ht=di[qr(_t)];if(Ht){var yi=kt!==0;(0,I.r2)(Kt,function(){return"HttpManager:_sendBatchesNotification"},function(){oa(function(){try{Ht.call(di,ze,_t,yi,kt)}catch(pi){(0,b.ZP)(Hi,1,74,"send request notification failed: "+pi)}},Mt||yi,0)},function(){return{batches:ba(ze),reason:_t,isSync:yi,sendSync:Mt,sendType:kt}},!yi)}}}function qr(ze){var _t=Ot[ze];return(0,h.yD)(_t)||(_t=y,ze>=9e3&&ze<=9999?_t=F:ze>=8e3&&ze<=8999?_t=R:ze>=1e3&&ze<=1999&&(_t=P)),_t}})}return xt.__ieDyn=1,xt}();function Ii(xt,pt){for(var St=[],Pt=2;Pt<arguments.length;Pt++)St[Pt-2]=arguments[Pt];return setTimeout(xt,pt,St)}function It(xt){clearTimeout(xt)}function zt(xt,pt){return{set:xt||Ii,clear:pt||It}}var vn=.25,Zt=500,Ct=20,ei=6,Wt=2,ti=4,Qn=2,xe=1,Je="eventsDiscarded",tt="overrideInstrumentationKey",ft="maxEventRetryAttempts",gt="maxUnloadEventRetryAttempts",si="addUnloadCb",Rt=function(xt){(0,A.qU)(pt,xt);function pt(){var St=xt.call(this)||this;St.identifier="PostChannel",St.priority=1011,St.version="3.2.9";var Pt,di=!1,ni=[],Ut=null,Si=!1,fi=0,ai=500,Di=0,Qi=1e4,Yi={},Hi=S,Gi=null,Kt=null,oi=0,wi=0,qi,hi,Ri={},Vi,on,Bi=-1,wn,Li=!0,sn=!1,Mn=ei,_n=Wt,cn,Pi;return(0,L.A)(pt,St,function(gi,In){Ha(),gi._getDbgPlgTargets=function(){return[hi]},gi.initialize=function(Xe,ht,ot){(0,I.r2)(ht,function(){return"PostChannel:initialize"},function(){var Dt=ht;In.initialize(Xe,ht,ot);try{var Qt=!!ht[si];cn=(0,C.Hm)((0,f.Z)(gi.identifier),ht.evtNamespace&&ht.evtNamespace());var ui=gi._getTelCtx();Xe.extensionConfig[gi.identifier]=Xe.extensionConfig[gi.identifier]||{},Pt=ui.getExtCfg(gi.identifier),Pi=zt(Pt.setTimeoutOverride,Pt.clearTimeoutOverride),Li=!Pt.disableOptimizeObj&&(0,h.F2)(),Wr(Dt),Pt.eventsLimitInMem>0&&(Qi=Pt.eventsLimitInMem),Pt.immediateEventLimit>0&&(ai=Pt.immediateEventLimit),Pt.autoFlushEventsLimit>0&&(Vi=Pt.autoFlushEventsLimit),(0,p.Et)(Pt[ft])&&(Mn=Pt[ft]),(0,p.Et)(Pt[gt])&&(_n=Pt[gt]),pi(),Pt.httpXHROverride&&Pt.httpXHROverride.sendPOST&&(qi=Pt.httpXHROverride),(0,h.yD)(Xe.anonCookieName)&&hi.addQueryStringParameter("anoncknm",Xe.anonCookieName),hi.sendHook=Pt.payloadPreprocessor,hi.sendListener=Pt.payloadListener;var vi=Pt.overrideEndpointUrl?Pt.overrideEndpointUrl:Xe.endpointUrl;gi._notificationManager=ht.getNotifyMgr(),hi.initialize(vi,gi.core,gi,qi,Pt);var Ni=Xe.disablePageUnloadEvents||[];(0,C.ee)(Bn,Ni,cn),(0,C.Fc)(Bn,Ni,cn),(0,C.oS)(Br,Xe.disablePageShowEvents,cn)}catch(Ui){throw gi.setInitialized(!1),Ui}},function(){return{coreConfig:Xe,core:ht,extensions:ot}})},gi.processTelemetry=function(Xe,ht){(0,h.u9)(Xe,gi.identifier),ht=gi._getTelCtx(ht);var ot=ht.getExtCfg(gi.identifier),Dt=!!Pt.disableTelemetry;ot&&(Dt=Dt||!!ot.disableTelemetry);var Qt=Xe;!Dt&&!di&&(Pt[tt]&&(Qt.iKey=Pt[tt]),ot&&ot[tt]&&(Qt.iKey=ot[tt]),rr(Qt,!0),sn?ba(2,2):Tn()),gi.processNext(Qt,ht)},gi._doTeardown=function(Xe,ht){ba(2,2),di=!0,hi.teardown(),(0,C.Ds)(null,cn),(0,C.sq)(null,cn),(0,C.vF)(null,cn),Ha()};function Wr(Xe){var ht=Xe.getWParam;Xe.getWParam=function(){var ot=0;return Pt.ignoreMc1Ms0CookieProcessing&&(ot=ot|2),ot|ht()}}function Bn(Xe){var ht=Xe||(0,m.zk)().event;ht.type!=="beforeunload"&&(sn=!0,hi.setUnloading(sn)),ba(2,2)}function Br(Xe){sn=!1,hi.setUnloading(sn)}function rr(Xe,ht){if(Xe.sendAttempt||(Xe.sendAttempt=0),Xe.latency||(Xe.latency=1),Xe.ext&&Xe.ext[Ne]&&delete Xe.ext[Ne],Xe.ext&&Xe.ext[be]&&Xe.ext[be].id&&delete Xe.ext[be].id,Li&&(h.u9,Xe.ext=(0,p.hW)(Xe.ext),Xe.baseData&&(Xe.baseData=(0,p.hW)(Xe.baseData)),Xe.data&&(Xe.data=(0,p.hW)(Xe.data))),Xe.sync){if(oi||Si)Xe.latency=3,Xe.sync=!1;else if(hi){Li&&(Xe=(0,p.hW)(Xe)),hi.sendSynchronousBatch(ee.create(Xe.iKey,[Xe]),Xe.sync===!0?1:Xe.sync,3);return}}var ot=Xe.latency,Dt=Di,Qt=Qi;ot===4&&(Dt=fi,Qt=ai);var ui=!1;if(Dt<Qt)ui=!vr(Xe,ht);else{var vi=1,Ni=Ct;ot===4&&(vi=4,Ni=1),ui=!0,to(Xe.iKey,Xe.latency,vi,Ni)&&(ui=!vr(Xe,ht))}ui&&qr(Je,[Xe],_.x.QueueFull)}gi.setEventQueueLimits=function(Xe,ht){Qi=Xe>0?Xe:1e4,Vi=ht>0?ht:0,pi();var ot=Di>Xe;if(!ot&&on>0)for(var Dt=1;!ot&&Dt<=3;Dt++){var Qt=Ri[Dt];Qt&&Qt.batches&&(0,p.Iu)(Qt.batches,function(ui){ui&&ui.count()>=on&&(ot=!0)})}Qr(!0,ot)},gi.pause=function(){Er(),Si=!0,hi.pause()},gi.resume=function(){Si=!1,hi.resume(),Tn()},gi.addResponseHandler=function(Xe){hi._responseHandlers.push(Xe)},gi._loadTransmitProfiles=function(Xe){as(),(0,p.z)(Xe,function(ht,ot){var Dt=ot.length;if(Dt>=2){var Qt=Dt>2?ot[2]:0;if(ot.splice(0,Dt-2),ot[1]<0&&(ot[0]=-1),ot[1]>0&&ot[0]>0){var ui=ot[0]/ot[1];ot[0]=Math.ceil(ui)*ot[1]}Qt>=0&&ot[1]>=0&&Qt>ot[1]&&(Qt=ot[1]),ot.push(Qt),Yi[ht]=ot}})},gi.flush=function(Xe,ht,ot){if(Xe===void 0&&(Xe=!0),!Si)if(ot=ot||1,Xe)Ut==null?(Er(),Yr(1,0,ot),Ut=Rr(function(){Ut=null,Es(ht,ot)},0)):ni.push(ht);else{var Dt=Er();aa(1,1,ot),ht!=null&&ht(),Dt&&Tn()}},gi.setMsaAuthTicket=function(Xe){hi.addHeader(G,Xe)},gi.hasEvents=Kr,gi._setTransmitProfile=function(Xe){Hi!==Xe&&Yi[Xe]!==void 0&&(Er(),Hi=Xe,Tn())};function aa(Xe,ht,ot){var Dt=Yr(Xe,ht,ot);return hi.sendQueuedRequests(ht,ot),Dt}function Kr(){return Di>0}function Tn(){if(Bi>=0&&Yr(Bi,0,wn)&&hi.sendQueuedRequests(0,wn),fi>0&&!Kt&&!Si){var Xe=Yi[Hi][2];Xe>=0&&(Kt=Rr(function(){Kt=null,aa(4,0,1),Tn()},Xe))}var ht=Yi[Hi][1];!Gi&&!Ut&&ht>=0&&!Si&&(Kr()?Gi=Rr(function(){Gi=null,aa(wi===0?3:1,0,1),wi++,wi%=2,Tn()},ht):wi=0)}gi._backOffTransmission=function(){oi<ti&&(oi++,Er(),Tn())},gi._clearBackOff=function(){oi&&(oi=0,Er(),Tn())};function Ha(){Pt=null,di=!1,ni=[],Ut=null,Si=!1,fi=0,ai=500,Di=0,Qi=1e4,Yi={},Hi=S,Gi=null,Kt=null,oi=0,wi=0,qi=null,Ri={},Vi=void 0,on=0,Bi=-1,wn=null,Li=!0,sn=!1,Mn=ei,_n=Wt,cn=null,Pi=zt(),hi=new Tt(Zt,Qn,xe,{requeue:os,send:_t,sent:kt,drop:Mt,rspFail:Ht,oth:yi},Pi),ss(),sa(),pi()}function Rr(Xe,ht){ht===0&&oi&&(ht=1);var ot=1e3;return oi&&(ot=Ae(oi-1)),Pi.set(Xe,ht*ot)}function Er(){return Gi!==null?(Pi.clear(Gi),Gi=null,wi=0,!0):!1}function ba(Xe,ht){Er(),Ut&&(Pi.clear(Ut),Ut=null),Si||aa(1,Xe,ht)}function sa(){Ri[4]={batches:[],iKeyMap:{}},Ri[3]={batches:[],iKeyMap:{}},Ri[2]={batches:[],iKeyMap:{}},Ri[1]={batches:[],iKeyMap:{}}}function Ga(Xe,ht,ot){var Dt=Ri[ht];Dt||(ht=1,Dt=Ri[ht]);var Qt=Dt.iKeyMap[Xe];return!Qt&&ot&&(Qt=ee.create(Xe),Dt.batches.push(Qt),Dt.iKeyMap[Xe]=Qt),Qt}function Qr(Xe,ht){hi.canSendRequest()&&!oi&&(Vi>0&&Di>Vi&&(ht=!0),ht&&Ut==null&&gi.flush(Xe,null,20))}function vr(Xe,ht){Li&&(Xe=(0,p.hW)(Xe));var ot=Xe.latency,Dt=Ga(Xe.iKey,ot,!0);return Dt.addEvent(Xe)?(ot!==4?(Di++,ht&&Xe.sendAttempt===0&&Qr(!Xe.sync,on>0&&Dt.count()>=on)):fi++,!0):!1}function to(Xe,ht,ot,Dt){for(;ot<=ht;){var Qt=Ga(Xe,ht,!0);if(Qt&&Qt.count()>0){var ui=Qt.split(0,Dt),vi=ui.count();if(vi>0)return ot===4?fi-=vi:Di-=vi,ze(Je,[ui],_.x.QueueFull),!0}ot++}return Va(),!1}function Va(){for(var Xe=0,ht=0,ot=function(Qt){var ui=Ri[Qt];ui&&ui.batches&&(0,p.Iu)(ui.batches,function(vi){Qt===4?Xe+=vi.count():ht+=vi.count()})},Dt=1;Dt<=4;Dt++)ot(Dt);Di=ht,fi=Xe}function Yr(Xe,ht,ot){var Dt=!1,Qt=ht===0;return!Qt||hi.canSendRequest()?(0,I.r2)(gi.core,function(){return"PostChannel._queueBatches"},function(){for(var ui=[],vi=4;vi>=Xe;){var Ni=Ri[vi];Ni&&Ni.batches&&Ni.batches.length>0&&((0,p.Iu)(Ni.batches,function(Ui){hi.addBatch(Ui)?Dt=Dt||Ui&&Ui.count()>0:ui=ui.concat(Ui.events()),vi===4?fi-=Ui.count():Di-=Ui.count()}),Ni.batches=[],Ni.iKeyMap={}),vi--}ui.length>0&&qr(Je,ui,_.x.KillSwitch),Dt&&Bi>=Xe&&(Bi=-1,wn=0)},function(){return{latency:Xe,sendType:ht,sendReason:ot}},!Qt):(Bi=Bi>=0?Math.min(Bi,Xe):Xe,wn=Math.max(wn,ot)),Dt}function Es(Xe,ht){aa(1,0,ht),Va(),oa(function(){Xe&&Xe(),ni.length>0?Ut=Rr(function(){Ut=null,Es(ni.shift(),ht)},0):(Ut=null,Tn())})}function oa(Xe){hi.isCompletelyIdle()?Xe():Ut=Rr(function(){Ut=null,oa(Xe)},vn)}function as(){Er(),ss(),Hi=S,Tn()}function ss(){Yi={},Yi[S]=[2,1,0],Yi[c]=[6,3,0],Yi[g]=[18,9,0]}function os(Xe,ht){var ot=[],Dt=Mn;sn&&(Dt=_n),(0,p.Iu)(Xe,function(Qt){Qt&&Qt.count()>0&&(0,p.Iu)(Qt.events(),function(ui){ui&&(ui.sync&&(ui.latency=4,ui.sync=!1),ui.sendAttempt<Dt?((0,h.u9)(ui,gi.identifier),rr(ui,!1)):ot.push(ui))})}),ot.length>0&&qr(Je,ot,_.x.NonRetryableStatus),sn&&ba(2,2)}function Cn(Xe,ht){var ot=gi._notificationManager||{},Dt=ot[Xe];if(Dt)try{Dt.apply(ot,ht)}catch(Qt){(0,b.ZP)(gi.diagLog(),1,74,Xe+" notification failed: "+Qt)}}function qr(Xe,ht){for(var ot=[],Dt=2;Dt<arguments.length;Dt++)ot[Dt-2]=arguments[Dt];ht&&ht.length>0&&Cn(Xe,[ht].concat(ot))}function ze(Xe,ht){for(var ot=[],Dt=2;Dt<arguments.length;Dt++)ot[Dt-2]=arguments[Dt];ht&&ht.length>0&&(0,p.Iu)(ht,function(Qt){Qt&&Qt.count()>0&&Cn(Xe,[Qt.events()].concat(ot))})}function _t(Xe,ht,ot){Xe&&Xe.length>0&&Cn("eventsSendRequest",[ht>=1e3&&ht<=1999?ht-1e3:0,ot!==!0])}function kt(Xe,ht){ze("eventsSent",Xe,ht),Tn()}function Mt(Xe,ht){ze(Je,Xe,ht>=8e3&&ht<=8999?ht-8e3:_.x.Unknown)}function Ht(Xe){ze(Je,Xe,_.x.NonRetryableStatus),Tn()}function yi(Xe,ht){ze(Je,Xe,_.x.Unknown),Tn()}function pi(){!Pt||!Pt.disableAutoBatchFlushLimit?on=Math.max(Zt*(Qn+1),Qi/6):on=0}(0,p.r)(gi,"_setTimeoutOverride",function(){return Pi.set},function(Xe){Pi=zt(Xe,Pi.clear)}),(0,p.r)(gi,"_clearTimeoutOverride",function(){return Pi.clear},function(Xe){Pi=zt(Pi.set,Xe)})}),St}return pt.__ieDyn=1,pt}(l.s);const Bt=Rt},96434:(s,V,M)=>{"use strict";M.d(V,{Hj:()=>L,oP:()=>C});var A=M(12497);function L(f){var h={};return(0,A.z)(f,function(p,m){h[p]=m,h[m]=p}),(0,A.ol)(h)}function I(f){var h={};return objForEachKey(f,function(p,m){h[p]=p,h[m]=p}),deepFreeze(h)}function C(f){var h={};return(0,A.z)(f,function(p,m){h[p]=m[1],h[m[0]]=m[1]}),(0,A.ol)(h)}},31590:(s,V,M)=>{"use strict";M.d(V,{x:()=>L});var A=M(96434),L=(0,A.Hj)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},83897:(s,V,M)=>{"use strict";M.d(V,{$:()=>P,b:()=>R});var A=M(96434),L,I="Failed",C=I+"MonitorAjax",f="Track",h="Start",p="Stop",m="Event",_="AuthContext",b="Exception",l="Local",S="Session",c="Storage",g="Browser",d="Cannot",w="Buffer",k="InstrumentationKey",R=(0,A.Hj)({CRITICAL:1,WARNING:2}),P=(0,A.Hj)((L={},L[g+"DoesNotSupport"+l+c]=0,L[g+d+"Read"+l+c]=1,L[g+d+"Read"+S+c]=2,L[g+d+"Write"+l+c]=3,L[g+d+"Write"+S+c]=4,L[g+I+"RemovalFrom"+l+c]=5,L[g+I+"RemovalFrom"+S+c]=6,L[d+"SendEmptyTelemetry"]=7,L.ClientPerformanceMathError=8,L["ErrorParsingAI"+S+"Cookie"]=9,L.ErrorPVCalc=10,L[b+"WhileLoggingError"]=11,L[I+"AddingTelemetryTo"+w]=12,L[C+"Abort"]=13,L[C+"Dur"]=14,L[C+"Open"]=15,L[C+"RSC"]=16,L[C+"Send"]=17,L[C+"GetCorrelationHeader"]=18,L[I+"ToAddHandlerForOnBeforeUnload"]=19,L[I+"ToSendQueuedTelemetry"]=20,L[I+"ToReportDataLoss"]=21,L["Flush"+I]=22,L.MessageLimitPerPVExceeded=23,L.MissingRequiredFieldSpecification=24,L.NavigationTimingNotSupported=25,L.OnError=26,L[S+"RenewalDateIsZero"]=27,L.SenderNotInitialized=28,L[h+f+m+I]=29,L[p+f+m+I]=30,L[h+f+I]=31,L[p+f+I]=32,L.TelemetrySampledAndNotSent=33,L[f+m+I]=34,L[f+b+I]=35,L[f+"Metric"+I]=36,L[f+"PV"+I]=37,L[f+"PV"+I+"Calc"]=38,L[f+"Trace"+I]=39,L["Transmission"+I]=40,L[I+"ToSet"+c+w]=41,L[I+"ToRestore"+c+w]=42,L.InvalidBackendResponse=43,L[I+"ToFixDepricatedValues"]=44,L.InvalidDurationValue=45,L.TelemetryEnvelopeInvalid=46,L.CreateEnvelopeError=47,L[d+"SerializeObject"]=48,L[d+"SerializeObjectNonSerializable"]=49,L.CircularReferenceDetected=50,L["Clear"+_+I]=51,L[b+"Truncated"]=52,L.IllegalCharsInName=53,L.ItemNotInArray=54,L.MaxAjaxPerPVExceeded=55,L.MessageTruncated=56,L.NameTooLong=57,L.SampleRateOutOfRange=58,L["Set"+_+I]=59,L["Set"+_+I+"AccountName"]=60,L.StringValueTooLong=61,L.StartCalledMoreThanOnce=62,L.StopCalledWithoutStart=63,L["TelemetryInitializer"+I]=64,L.TrackArgumentsNotSpecified=65,L.UrlTooLong=66,L[S+c+w+"Full"]=67,L[d+"AccessCookie"]=68,L.IdTooLong=69,L.InvalidEvent=70,L[C+"SetRequestHeader"]=71,L["Send"+g+"InfoOnUserInit"]=72,L["Plugin"+b]=73,L["Notification"+b]=74,L.SnippetScriptLoadFailure=99,L["Invalid"+k]=100,L[d+"ParseAiBlobValue"]=101,L.InvalidContentBlob=102,L[f+"PageAction"+m+I]=103,L[I+"AddingCustomDefinedRequestContext"]=104,L["InMemory"+c+w+"Full"]=105,L[k+"Deprecation"]=106,L))},12235:(s,V,M)=>{"use strict";M.d(V,{_:()=>b});var A=M(8747),L=M(92457),I=M(60830),C=M(34082),f=M(99015),h=M(12497),p=M(1972),m=M(54660),_=M(5204),b=function(l){(0,A.qU)(S,l);function S(){var c=l.call(this)||this;return(0,L.A)(S,c,function(g,d){g[I.mE]=function(R,P,U,F){d[I.mE](R,P,U||new f.wq(R),F||new m.h(R))},g.track=function(R){(0,_.r2)(g[p.kI](),function(){return"AppInsightsCore:track"},function(){R===null&&(k(R),(0,h.$8)("Invalid telemetry item")),w(R),d.track(R)},function(){return{item:R}},!R.sync)};function w(R){(0,h.hX)(R[I.RS])&&(k(R),(0,h.$8)("telemetry name required"))}function k(R){var P=g[I.RF]();P&&P[p.Yp]([R],2)}}),c}return S.__ieDyn=1,S}(C.F)},34082:(s,V,M)=>{"use strict";M.d(V,{F:()=>E});var A=M(8747),L=M(92457),I=M(75148),C=M(60830),f=M(12497),h=M(1972),p=M(8997),m=M(33540),_=500,b="Channel has invalid priority - ";function l(q,H,K){H&&(0,f.cy)(H)&&H[C.oI]>0&&(H=H.sort(function(G,ie){return G[h.Vo]-ie[h.Vo]}),(0,f.Iu)(H,function(G){G[h.Vo]<_&&(0,f.$8)(b+G[C.Ju])}),q[C.y5]({queue:(0,f.N6)(H),chain:(0,p.PV)(H,K[C.GA],K)}))}function S(q,H){function K(){return(0,p.i8)(null,H[C.GA],H,null)}function G(be,we,Te,ee){var ne=be?be[C.oI]+1:1;function me(){ne--,ne===0&&(ee&&ee(),ee=null)}ne>0&&(0,f.Iu)(be,function(ge){if(ge&&ge.queue[C.oI]>0){var _e=ge.chain,j=we[C.$o](_e);j[C.by](me),Te(j)}else ne--}),me()}function ie(be,we){var Te=we||{reason:0};return G(q,be,function(ee){ee[C.$5](Te)},function(){be[C.$5](Te)}),!0}function J(be,we){var Te=we||{reason:0,isAsync:!1};return G(q,be,function(ee){ee[C.$5](Te)},function(){be[C.$5](Te),ae=!1}),!0}function B(be){var we=null;return q&&q[C.oI]>0&&(0,f.Iu)(q,function(Te){if(Te&&Te.queue[C.oI]>0&&((0,f.Iu)(Te.queue,function(ee){if(ee[C.Ju]===be)return we=ee,-1}),we))return-1}),we}var ae=!1,Ne={identifier:"ChannelControllerPlugin",priority:_,initialize:function(be,we,Te,ee){ae=!0,(0,f.Iu)(q,function(ne){ne&&ne.queue[C.oI]>0&&(0,m.pI)((0,p.i8)(ne.chain,be,we),Te)})},isInitialized:function(){return ae},processTelemetry:function(be,we){G(q,we||K(),function(Te){Te[C.$5](be)},function(){we[C.$5](be)})},update:ie,pause:function(){G(q,K(),function(be){be.iterate(function(we){we.pause&&we.pause()})},null)},resume:function(){G(q,K(),function(be){be.iterate(function(we){we.resume&&we.resume()})},null)},teardown:J,getChannel:B,flush:function(be,we,Te,ee){var ne=1,me=!1,ge=null;ee=ee||5e3;function _e(){ne--,me&&ne===0&&(ge&&(clearTimeout(ge),ge=null),we&&we(me),we=null)}return G(q,K(),function(j){j.iterate(function(N){if(N[C.EX]){ne++;var se=!1;N[C.EX](be,function(){se=!0,_e()},Te)||se||(be&&ge==null?ge=setTimeout(function(){ge=null,_e()},ee):_e())}})},function(){me=!0,_e()}),!0},_setQueue:function(be){q=be}};return Ne}function c(q,H,K){var G=[];if(q&&(0,f.Iu)(q,function(J){return l(G,J,K)}),H){var ie=[];(0,f.Iu)(H,function(J){J[h.Vo]>_&&ie[C.y5](J)}),l(G,ie,K)}return G}var g=M(91698),d=M(64252),w=M(95331),k=M(99015),R=M(5204),P=M(56489),U=M(44180),F=function(q){(0,A.qU)(H,q);function H(){var K=q.call(this)||this;K.identifier="TelemetryInitializerPlugin",K.priority=199;var G,ie;J(),(0,L.A)(H,K,function(B,ae){B.addTelemetryInitializer=function(Ne){var be={id:G++,fn:Ne};ie[C.y5](be);var we={remove:function(){(0,f.Iu)(ie,function(Te,ee){if(Te.id===be.id)return ie[C.Ic](ee,1),-1})}};return we},B[h.qT]=function(Ne,be){for(var we=!1,Te=ie[C.oI],ee=0;ee<Te;++ee){var ne=ie[ee];if(ne)try{if(ne.fn[C.y9](null,[Ne])===!1){we=!0;break}}catch(me){(0,k.ZP)(be[C.e4](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,f.lL)(me),{exception:(0,U.mm)(me)},!0)}}we||B[C.$5](Ne,be)},B[C.tn]=function(){J()}});function J(){G=0,ie=[]}return K}return H.__ieDyn=1,H}(P.s),y=M(49388),z="Plugins must provide initialize method",Q="_notificationManager",Z="SDK is still unloading...",X="SDK is not initialized",Y={loggingLevelConsole:1};function O(q,H){return new R.NS(H)}function $(q,H,K){var G,ie=[],J={};return(0,f.Iu)(K,function(B){((0,f.hX)(B)||(0,f.hX)(B[C.mE]))&&(0,f.$8)(z);var ae=B[h.Vo],Ne=B[C.Ju];B&&ae&&((0,f.hX)(J[ae])?J[ae]=Ne:(0,k.OG)(q,"Two extensions have same priority #"+ae+" - "+J[ae]+", "+Ne)),(!ae||ae<H)&&ie[C.y5](B)}),G={all:K},G[h.eT]=ie,G}function D(q,H){var K=!1;return(0,f.Iu)(H,function(G){if(G===q)return K=!0,-1}),K}function u(){var q;return(0,I.AQ)((q={},q[C.vR]=function(H){},q[C.TP]=function(H){},q[h.fc]=function(H){},q[h.Yp]=function(H,K){},q[h.dI]=function(H,K){},q))}var E=function(){function q(){var H,K,G,ie,J,B,ae,Ne,be,we,Te,ee,ne,me,ge,_e,j,N,se,de,ue=0;(0,L.A)(q,this,function(le){pe(),le[C.tZ]=function(){return K},le[C.mE]=function(Oe,Ke,Ot,st){me&&(0,f.$8)(Z),le[C.tZ]()&&(0,f.$8)("Core should not be initialized more than once"),H=Oe||{},le[C.GA]=H,(0,f.hX)(Oe[C.sl])&&(0,f.$8)("Please provide instrumentation key"),ie=st,le[Q]=st,re(),ce(),ke(),Ot&&(le[C.Uw]=Ot);var lt=(0,f.c2)(H,h.jy,[]);be=[],be[C.y5].apply(be,(0,A.vz)((0,A.vz)([],Ke,!1),lt,!1)),ee=(0,f.c2)(H,h.LZ,[]),Fe(null),(!ne||ne[C.oI]===0)&&(0,f.$8)("No "+h.LZ+" available"),K=!0,le.releaseQueue()},le.getTransmissionControls=function(){var Oe=[];return ne&&(0,f.Iu)(ne,function(Ke){Oe[C.y5](Ke.queue)}),(0,f.N6)(Oe)},le.track=function(Oe){Oe.iKey=Oe.iKey||H[C.sl],Oe[C.fA]=Oe[C.fA]||(0,f._u)(new Date),Oe.ver=Oe.ver||"4.0",!me&&le[C.tZ]()?Ae()[C.$5](Oe):G[C.y5](Oe)},le[C.ps]=Ae,le[C.RF]=function(){return ie||(ie=u(),le[Q]=ie),ie},le[C.vR]=function(Oe){ie&&ie[C.vR](Oe)},le[C.TP]=function(Oe){ie&&ie[C.TP](Oe)},le.getCookieMgr=function(){return ae||(ae=(0,g.xN)(H,le[C.Uw])),ae},le.setCookieMgr=function(Oe){ae=Oe},le[h.kI]=function(){if(!J&&!B&&(0,f.SA)(H.enablePerfMgr)){var Oe=(0,f.SA)(H[h.Yd]);(0,f.Tn)(Oe)&&(B=Oe(le,le[C.RF]()))}return J||B||(0,R.Z4)()},le.setPerfMgr=function(Oe){J=Oe},le.eventCnt=function(){return G[C.oI]},le.releaseQueue=function(){if(K&&G[C.oI]>0){var Oe=G;G=[],(0,f.Iu)(Oe,function(Ke){Ae()[C.$5](Ke)})}},le.pollInternalLogs=function(Oe){_e=Oe||null;var Ke=(0,f.SA)(H.diagnosticLogInterval);return(!Ke||!(Ke>0))&&(Ke=1e4),ue&&clearInterval(ue),ue=setInterval(function(){Ye()},Ke),ue},le[C.Di]=function(){ue&&(clearInterval(ue),ue=0,Ye())},(0,f.o$)(le,function(){return ge},["addTelemetryInitializer"]),le.unload=function(Oe,Ke,Ot){var st;Oe===void 0&&(Oe=!0),K||(0,f.$8)(X),me&&(0,f.$8)(Z);var lt=(st={reason:50},st[C.tI]=Oe,st.flushComplete=!1,st),bt=(0,p.tS)(Ue(),le);bt[C.by](function(){pe(),Ke&&Ke(lt)},le);function vt(yt){lt.flushComplete=yt,me=!0,N.run(bt,lt),le[C.Di](),bt[C.$5](lt)}he(Oe,vt,6,Ot)||vt(!1)},le[C.AP]=Be,le.addPlugin=function(Oe,Ke,Ot,st){if(!Oe){st&&st(!1),Qe(z);return}var lt=Be(Oe[C.Ju]);if(lt&&!Ke){st&&st(!1),Qe("Plugin ["+Oe[C.Ju]+"] is already loaded!");return}var bt={reason:16};function vt(wt){be[C.y5](Oe),bt.added=[Oe],Fe(bt),st&&st(!0)}if(lt){var yt=[lt.plugin],ci={reason:2,isAsync:!!Ot};He(yt,ci,function(wt){wt?(bt.removed=yt,bt.reason|=32,vt(!0)):st&&st(!1)})}else vt(!1)},le.evtNamespace=function(){return j},le[C.EX]=he,le.getTraceCtx=function(Oe){return de||(de=(0,m.u7)()),de},le.setTraceCtx=function(Oe){de=Oe||null},(0,f.RF)(le,"addUnloadCb",function(){return N},"add");function pe(){K=!1,H=(0,f.CP)(!0,{},Y),le[C.GA]=H,le[C.Uw]=new k.wq(H),le[C.H7]=[],ge=new F,G=[],ie=null,J=null,B=null,ae=null,Ne=null,we=null,be=[],Te=null,ee=null,ne=null,me=!1,_e=null,j=(0,d.Z)("AIBaseCore",!0),N=(0,y.P)(),de=null}function Ae(){return(0,p.i8)(Ue(),H,le)}function Fe(Oe){var Ke=$(le[C.Uw],_,be);we=Ke[h.eT],Ne=null;var Ot=Ke.all;if(ne=(0,f.N6)(c(ee,Ot,le)),Te){var st=(0,f.rD)(Ot,Te);st!==-1&&Ot[C.Ic](st,1),st=(0,f.rD)(we,Te),st!==-1&&we[C.Ic](st,1),Te._setQueue(ne)}else Te=S(ne,le);Ot[C.y5](Te),we[C.y5](Te),le[C.H7]=(0,m.Xc)(Ot),Te[C.mE](H,le,Ot),(0,m.pI)(Ae(),Ot),le[C.H7]=(0,f.N6)((0,m.Xc)(we||[])).slice(),Oe&&Ie(Oe)}function Be(Oe){var Ke,Ot=null,st=null;return(0,f.Iu)(le[C.H7],function(lt){if(lt[C.Ju]===Oe&&lt!==Te&&lt!==ge)return st=lt,-1}),!st&&Te&&(st=Te.getChannel(Oe)),st&&(Ot=(Ke={plugin:st},Ke[C.kt]=function(lt){(0,m.Cr)(st)[h.Hr]=!lt},Ke.isEnabled=function(){var lt=(0,m.Cr)(st);return!lt[C.Ik]&&!lt[h.Hr]},Ke.remove=function(lt,bt){var vt;lt===void 0&&(lt=!0);var yt=[st],ci=(vt={reason:1},vt[C.tI]=lt,vt);He(yt,ci,function(wt){wt&&Fe({reason:32,removed:yt}),bt&&bt(wt)})},Ke)),Ot}function Ue(){if(!Ne){var Oe=(we||[]).slice();(0,f.rD)(Oe,ge)===-1&&Oe[C.y5](ge),Ne=(0,p.PV)((0,m.Xc)(Oe),H,le)}return Ne}function He(Oe,Ke,Ot){if(Oe&&Oe[C.oI]>0){var st=(0,p.PV)(Oe,H,le),lt=(0,p.tS)(st,le);lt[C.by](function(){var bt=!1,vt=[];(0,f.Iu)(be,function(ci,wt){D(ci,Oe)?bt=!0:vt[C.y5](ci)}),be=vt;var yt=[];ee&&((0,f.Iu)(ee,function(ci,wt){var Tt=[];(0,f.Iu)(ci,function(Ii){D(Ii,Oe)?bt=!0:Tt[C.y5](Ii)}),yt[C.y5](Tt)}),ee=yt),Ot&&Ot(bt)}),lt[C.$5](Ke)}else Ot(!1)}function Ye(){var Oe=le[C.Uw]?le[C.Uw].queue:[];Oe&&((0,f.Iu)(Oe,function(Ke){var Ot,st=(Ot={},Ot[C.RS]=_e||"InternalMessageId: "+Ke[C.JR],Ot.iKey=(0,f.SA)(H[C.sl]),Ot.time=(0,f._u)(new Date),Ot.baseType=k.WD.dataType,Ot.baseData={message:Ke[C.pM]},Ot);le.track(st)}),Oe[C.oI]=0)}function he(Oe,Ke,Ot,st){return Te?Te[C.EX](Oe,Ke,Ot||6,st):(Ke&&Ke(!1),!0)}function re(){var Oe=(0,f.SA)(H.disableDbgExt);Oe===!0&&se&&(ie[C.TP](se),se=null),ie&&!se&&Oe!==!0&&(se=(0,w.M)(H),ie[C.vR](se))}function ce(){var Oe=(0,f.SA)(H.enablePerfMgr);!Oe&&B&&(B=null),Oe&&(0,f.c2)(H,h.Yd,O)}function ke(){var Oe=(0,f.c2)(H,h.Bw,{});Oe.NotificationManager=ie}function Ie(Oe){var Ke=(0,p.nU)(Ue(),le);(!le._updateHook||le._updateHook(Ke,Oe)!==!0)&&Ke[C.$5](Oe)}function Qe(Oe){var Ke=le[C.Uw];Ke?(0,k.ZP)(Ke,2,73,Oe):(0,f.$8)(Oe)}})}return q.__ieDyn=1,q}()},56489:(s,V,M)=>{"use strict";M.d(V,{s:()=>m});var A=M(92457),L=M(60830),I=M(12497),C=M(1972),f=M(8997),h=M(49388),p="getPlugin",m=function(){function _(){var b=this,l,S,c,g,d;R(),(0,A.A)(_,b,function(P){P[L.mE]=function(U,F,y,z){k(U,F,z),l=!0},P[L.Ik]=function(U,F){var y,z=P[C.eT];if(!z||U&&z!==U[C.eT]())return;var Q,Z=!1,X=U||(0,f.tS)(null,z,c&&c[p]?c[p]():c),Y=F||(y={reason:0},y[L.tI]=!1,y);function O(){if(!Z){Z=!0,g.run(X,F);var $=d;d=[],(0,I.Iu)($,function(D){D.rm()}),Q===!0&&X[L.$5](Y),R()}}return!P[L.tn]||P[L.tn](X,Y,O)!==!0?O():Q=!0,Q},P[L.HC]=function(U,F){var y=P[C.eT];if(!y||U&&y!==U[C.eT]())return;var z,Q=!1,Z=U||(0,f.nU)(null,y,c&&c[p]?c[p]():c),X=F||{reason:0};function Y(){Q||(Q=!0,k(Z.getCfg(),Z.core(),Z[L.uR]()))}return!P._doUpdate||P._doUpdate(Z,X,Y)!==!0?Y():z=!0,z},P._addHook=function(U){U&&((0,I.cy)(U)?d=d.concat(U):d[L.y5](U))},(0,I.RF)(P,"_addUnloadCb",function(){return g},"add")}),b[L.e4]=function(P){return w(P)[L.e4]()},b[L.tZ]=function(){return l},b.setInitialized=function(P){l=P},b[L.YH]=function(P){c=P},b[L.$5]=function(P,U){U?U[L.$5](P):c&&(0,I.Tn)(c[C.qT])&&c[C.qT](P,null)},b._getTelCtx=w;function w(P){P===void 0&&(P=null);var U=P;if(!U){var F=S||(0,f.i8)(null,{},b[C.eT]);c&&c[p]?U=F[L.$o](null,c[p]):U=F[L.$o](null,c)}return U}function k(P,U,F){P&&(0,I.KY)(P,C.Bw,[],null,I.hX),!F&&U&&(F=U[L.ps]()[L.uR]());var y=c;c&&c[p]&&(y=c[p]()),b[C.eT]=U,S=(0,f.i8)(F,P,U,y)}function R(){l=!1,b[C.eT]=null,S=null,c=null,d=[],g=(0,h.P)()}}return _.__ieDyn=1,_}()},91698:(s,V,M)=>{"use strict";M.d(V,{It:()=>q,d5:()=>U,gi:()=>Y,um:()=>Z,xN:()=>X});var A=M(60830),L=M(99015),I=M(44180),C=M(12497),f=M(1972),h="toGMTString",p="toUTCString",m="cookie",_="expires",b="enabled",l="isCookieUseDisabled",S="disableCookiesUsage",c="_ckMgr",g=null,d=null,w=null,k=(0,I.YE)(),R={},P={};function U(H,K){var G=X[c]||P[c];return G||(G=X[c]=X(H,K),P[c]=G),G}function F(H){return H?H.isEnabled():!0}function y(H){var K=H[A.lK]=H[A.lK]||{};if((0,C.KY)(K,"domain",H.cookieDomain,C.Gh,C.hX),(0,C.KY)(K,"path",H.cookiePath||"/",null,C.hX),(0,C.hX)(K[b])){var G=void 0;(0,C.b0)(H[l])||(G=!H[l]),(0,C.b0)(H[S])||(G=!H[S]),K[b]=G}return K}function z(H,K){return K&&H&&(0,C.cy)(H.ignoreCookies)?H.ignoreCookies[A.Sj](K)!==-1:!1}function Q(H,K){return K&&H&&(0,C.cy)(H.blockedCookies)&&H.blockedCookies[A.Sj](K)!==-1?!0:z(H,K)}function Z(H,K){var G;if(H)G=H.getCookieMgr();else if(K){var ie=K[A.lK];ie[c]?G=ie[c]:G=X(K)}return G||(G=U(K,(H||{})[A.Uw])),G}function X(H,K){var G,ie=y(H||P),J=ie.path||"/",B=ie.domain,ae=ie[b]!==!1,Ne=(G={isEnabled:function(){var be=ae&&Y(K),we=P[c];return be&&we&&Ne!==we&&(be=F(we)),be}},G[A.kt]=function(be){ae=be!==!1},G.set=function(be,we,Te,ee,ne){var me=!1;if(F(Ne)&&!Q(ie,be)){var ge={},_e=(0,C.EH)(we||f.m5),j=_e[A.Sj](";");if(j!==-1&&(_e=(0,C.EH)(we[A.Re](0,j)),ge=O(we[A.Re](j+1))),(0,C.KY)(ge,"domain",ee||B,C.zz,C.b0),!(0,C.hX)(Te)){var N=(0,I.lT)();if((0,C.b0)(ge[_])){var se=(0,C.x3)(),de=se+Te*1e3;if(de>0){var ue=new Date;ue.setTime(de),(0,C.KY)(ge,_,$(ue,N?h:p)||$(ue,N?h:p)||f.m5,C.zz)}}N||(0,C.KY)(ge,"max-age",f.m5+Te,null,C.b0)}var le=(0,I.g$)();le&&le.protocol==="https:"&&((0,C.KY)(ge,"secure",null,null,C.b0),d===null&&(d=!q(((0,I.w3)()||{})[A.tX])),d&&(0,C.KY)(ge,"SameSite","None",null,C.b0)),(0,C.KY)(ge,"path",ne||J,null,C.b0);var pe=ie.setCookie||E;pe(be,D(_e,ge)),me=!0}return me},G.get=function(be){var we=f.m5;return F(Ne)&&!z(ie,be)&&(we=(ie.getCookie||u)(be)),we},G.del=function(be,we){var Te=!1;return F(Ne)&&(Te=Ne.purge(be,we)),Te},G.purge=function(be,we){var Te,ee=!1;if(Y(K)){var ne=(Te={},Te.path=we||"/",Te[_]="Thu, 01 Jan 1970 00:00:01 GMT",Te);(0,I.lT)()||(ne["max-age"]="0");var me=ie.delCookie||E;me(be,D(f.m5,ne)),ee=!0}return ee},G);return Ne[c]=Ne,Ne}function Y(H){if(g===null){g=!1;try{var K=k||{};g=K[m]!==void 0}catch(G){(0,L.ZP)(H,2,68,"Cannot access document.cookie - "+(0,C.lL)(G),{exception:(0,I.mm)(G)})}}return g}function O(H){var K={};if(H&&H[A.oI]){var G=(0,C.EH)(H)[A.sY](";");(0,C.Iu)(G,function(ie){if(ie=(0,C.EH)(ie||f.m5),ie){var J=ie[A.Sj]("=");J===-1?K[ie]=null:K[(0,C.EH)(ie[A.Re](0,J))]=(0,C.EH)(ie[A.Re](J+1))}})}return K}function $(H,K){return(0,C.Tn)(H[K])?H[K]():null}function D(H,K){var G=H||f.m5;return(0,C.z)(K,function(ie,J){G+="; "+ie+((0,C.hX)(J)?f.m5:"="+J)}),G}function u(H){var K=f.m5;if(k){var G=k[m]||f.m5;w!==G&&(R=O(G),w=G),K=(0,C.EH)(R[H]||f.m5)}return K}function E(H,K){k&&(k[m]=H+"="+K)}function q(H){return(0,C.Kg)(H)?!!((0,C.Ju)(H,"CPU iPhone OS 12")||(0,C.Ju)(H,"iPad; CPU OS 12")||(0,C.Ju)(H,"Macintosh; Intel Mac OS X 10_14")&&(0,C.Ju)(H,"Version/")&&(0,C.Ju)(H,"Safari")||(0,C.Ju)(H,"Macintosh; Intel Mac OS X 10_14")&&(0,C.Cv)(H,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,C.Ju)(H,"Chrome/5")||(0,C.Ju)(H,"Chrome/6")||(0,C.Ju)(H,"UnrealEngine")&&!(0,C.Ju)(H,"Chrome")||(0,C.Ju)(H,"UCBrowser/12")||(0,C.Ju)(H,"UCBrowser/11")):!1}},32578:(s,V,M)=>{"use strict";M.d(V,{Ri:()=>y,TV:()=>z,UU:()=>c,WD:()=>U,Yj:()=>Q,aq:()=>S,cL:()=>d,fs:()=>R,ht:()=>F,jS:()=>w});var A=M(75148),L=M(60830),I=M(91698),C=M(44180),f=M(18413),h=M(12497),p=M(1972),m=M(57679),_=null,b,l=null;function S(){var Z=d();return Z[L.Re](0,8)+"-"+Z[L.Re](8,12)+"-"+Z[L.Re](12,16)+"-"+Z[L.Re](16,20)+"-"+Z[L.Re](20)}function c(){var Z=(0,C.FJ)();return Z&&Z.now?Z.now():(0,h.x3)()}function g(Z,X){if(Z&&X){var Y=Z[_DYN_LENGTH],O=Y-X[_DYN_LENGTH];return Z[_DYN_SUBSTRING](O>=0?O:0,Y)===X}return!1}function d(){for(var Z=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],X=p.m5,Y,O=0;O<4;O++)Y=(0,m.VN)(),X+=Z[Y&15]+Z[Y>>4&15]+Z[Y>>8&15]+Z[Y>>12&15]+Z[Y>>16&15]+Z[Y>>20&15]+Z[Y>>24&15]+Z[Y>>28&15];var $=Z[8+((0,m.VN)()&3)|0];return X[L.$4](0,8)+X[L.$4](9,4)+"4"+X[L.$4](13,3)+$+X[L.$4](16,3)+X[L.$4](19,12)}var w={_canUseCookies:void 0,isTypeof:h.Ed,isUndefined:h.b0,isNullOrUndefined:h.hX,hasOwnProperty:h.mQ,isFunction:h.Tn,isObject:h.Gv,isDate:h.$P,isArray:h.cy,isError:h.bJ,isString:h.Kg,isNumber:h.Et,isBoolean:h.Lm,toISOString:h._u,arrForEach:h.Iu,arrIndexOf:h.rD,arrMap:h.W$,arrReduce:h.KT,strTrim:h.EH,objCreate:A.AQ,objKeys:h.cG,objDefineAccessors:h.r,addEventHandler:f.So,dateNow:h.x3,isIE:C.lT,disableCookies:U,newGuid:S,perfNow:c,newId:m.Si,randomValue:m.Z1,random32:m.VN,mwcRandomSeed:m.yc,mwcRandom32:m.k5,generateW3CId:d},k=/[xy]/g,R={Attach:f.Q3,AttachEvent:f.Q3,Detach:f.Ym,DetachEvent:f.Ym};function P(Z,X){var Y=(0,I.d5)(Z,X),O=w._canUseCookies;return _===null&&(_=[],b=O,(0,h.r)(w,"_canUseCookies",function(){return b},function($){b=$,(0,h.Iu)(_,function(D){D[L.kt]($)})})),(0,h.rD)(_,Y)===-1&&_[L.y5](Y),(0,h.Lm)(O)&&Y[L.kt](O),(0,h.Lm)(b)&&Y[L.kt](b),Y}function U(){P()[L.kt](!1)}function F(Z){return P(null,Z).isEnabled()}function y(Z,X){return P(null,Z).get(X)}function z(Z,X,Y,O){P(null,Z).set(X,Y,null,O)}function Q(Z,X){return P(null,Z).del(X)}},64252:(s,V,M)=>{"use strict";M.d(V,{T:()=>g,Z:()=>c});var A=M(47672),L=M(60830),I=M(12497),C=M(1972),f=M(57679),h=A.KU,p="2.8.10",m="."+(0,f.Si)(6),_=0;function b(d,w,k){if(h)try{return h(d,w,{value:k,enumerable:!1,configurable:!0}),!0}catch{}return!1}function l(d){return d[L.re]===1||d[L.re]===9||!+d[L.re]}function S(d,w){var k=w[d.id];if(!k){k={};try{l(w)&&(b(w,d.id,k)||(w[d.id]=k))}catch{}}return k}function c(d,w){return w===void 0&&(w=!1),(0,I.cH)(d+_+++(w?"."+p:C.m5)+m)}function g(d){var w={id:c("_aiData-"+(d||C.m5)+"."+p),accept:function(k){return l(k)},get:function(k,R,P,U){var F=k[w.id];return F?F[(0,I.cH)(R)]:(U&&(F=S(w,k),F[(0,I.cH)(R)]=P),P)},kill:function(k,R){if(k&&k[R])try{delete k[R]}catch{}}};return w}},95331:(s,V,M)=>{"use strict";M.d(V,{$:()=>m,M:()=>_});var A=M(60830),L=M(44180),I=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],C=null,f;function h(b,l){return function(){var S=arguments,c=m(l);if(c){var g=c.listener;g&&g[b]&&g[b][A.y9](g,S)}}}function p(){var b=(0,L.EH)("Microsoft");return b&&(C=b.ApplicationInsights),C}function m(b){var l=C;return!l&&b.disableDbgExt!==!0&&(l=C||p()),l?l.ChromeDbgExt:null}function _(b){if(!f){f={};for(var l=0;l<I[A.oI];l++)f[I[l]]=h(I[l],b)}return f}},99015:(s,V,M)=>{"use strict";M.d(V,{OG:()=>k,Oc:()=>R,WD:()=>S,ZP:()=>w,wq:()=>g,y0:()=>c});var A=M(92457),L=M(60830),I=M(95331),C=M(44180),f=M(12497),h=M(1972),p="AI (Internal): ",m="AI: ",_="AITR_";function b(P){return P?'"'+P[L.W7](/\"/g,h.m5)+'"':h.m5}function l(P,U){var F=(0,C.U5)();if(F){var y="log";F[P]&&(y=P),(0,f.Tn)(F[y])&&F[y](U)}}var S=function(){function P(U,F,y,z){y===void 0&&(y=!1);var Q=this;Q[L.JR]=U,Q[L.pM]=(y?m:p)+U;var Z=h.m5;(0,C.Z)()&&(Z=(0,C.hm)().stringify(z));var X=(F?" message:"+b(F):h.m5)+(z?" props:"+b(Z):h.m5);Q[L.pM]+=X}return P.dataType="MessageData",P}();function c(P,U){return(P||{})[L.Uw]||new g(U)}var g=function(){function P(U){this.identifier="DiagnosticLogger",this.queue=[];var F=0,y={},z,Q,Z,X;(0,A.A)(P,this,function(Y){$(U||{}),Y.consoleLoggingLevel=function(){return z},Y.telemetryLoggingLevel=function(){return Q},Y.maxInternalMessageLimit=function(){return Z},Y[L.a$]=function(){return X},Y.throwInternal=function(E,q,H,K,G){G===void 0&&(G=!1);var ie=new S(q,H,G,K);if(X)throw(0,C.mm)(ie);var J=E===1?h.Zi:h.Tj;if((0,f.b0)(ie[L.pM]))u("throw"+(E===1?"Critical":"Warning"),ie);else{if(G){var B=+ie[L.JR];!y[B]&&z>=E&&(Y[J](ie[L.pM]),y[B]=!0)}else z>=E&&Y[J](ie[L.pM]);O(E,ie)}},Y[h.Tj]=function(E){l("warn",E),u("warning",E)},Y[h.Zi]=function(E){l("error",E),u("error",E)},Y.resetInternalMessageCount=function(){F=0,y={}},Y[L.sx]=O;function O(E,q){if(!D()){var H=!0,K=_+q[L.JR];if(y[K]?H=!1:y[K]=!0,H&&(E<=Q&&(Y.queue[L.y5](q),F++,u(E===1?"error":"warn",q)),F===Z)){var G="Internal events throttle limit per PageView reached for this app.",ie=new S(23,G,!1);Y.queue[L.y5](ie),E===1?Y[h.Zi](G):Y[h.Tj](G)}}}function $(E){z=(0,f.SA)(E.loggingLevelConsole,0),Q=(0,f.SA)(E.loggingLevelTelemetry,1),Z=(0,f.SA)(E.maxMessageLimit,25),X=(0,f.SA)(E[L.a$],!1)}function D(){return F>=Z}function u(E,q){var H=(0,I.$)(U||{});H&&H[L.e4]&&H[L.e4](E,q)}})}return P.__ieDyn=1,P}();function d(P){return P||new g}function w(P,U,F,y,z,Q){Q===void 0&&(Q=!1),d(P).throwInternal(U,F,y,z,Q)}function k(P,U){d(P)[h.Tj](U)}function R(P,U,F){d(P)[L.sx](U,F)}},44180:(s,V,M)=>{"use strict";M.d(V,{$Z:()=>ue,EH:()=>O,FJ:()=>B,Iu:()=>le,JK:()=>G,L0:()=>ne,MY:()=>be,PV:()=>N,R7:()=>j,U5:()=>J,Uf:()=>_e,Vd:()=>$,Wt:()=>u,YE:()=>E,Z:()=>ae,cU:()=>Y,g$:()=>ie,hm:()=>Ne,iN:()=>we,lT:()=>ee,lV:()=>Te,mm:()=>me,tw:()=>K,w3:()=>H,w9:()=>q,xk:()=>se,zk:()=>D});var A=M(47672),L=M(75148),I=M(60830),C=M(12497),f=M(1972),h="window",p="document",m="documentMode",_="navigator",b="history",l="location",S="console",c="performance",g="JSON",d="crypto",w="msCrypto",k="ReactNative",R="msie",P="trident/",U="XMLHttpRequest",F=null,y=null,z=!1,Q=null,Z=null;function X(pe,Ae){var Fe=!1;if(pe){try{if(Fe=Ae in pe,!Fe){var Be=pe[A.vR];Be&&(Fe=Ae in Be)}}catch{}if(!Fe)try{var Ue=new pe;Fe=!(0,C.b0)(Ue[Ae])}catch{}}return Fe}function Y(pe){z=pe}function O(pe){var Ae=(0,L.mS)();return Ae&&Ae[pe]?Ae[pe]:pe===h&&$()?window:null}function $(){return!!(typeof window===A._1&&window)}function D(){return $()?window:O(h)}function u(){return!!(typeof document===A._1&&document)}function E(){return u()?document:O(p)}function q(){return!!(typeof navigator===A._1&&navigator)}function H(){return q()?navigator:O(_)}function K(){return!!(typeof history===A._1&&history)}function G(){return K()?history:O(b)}function ie(pe){if(pe&&z){var Ae=O("__mockLocation");if(Ae)return Ae}return typeof location===A._1&&location?location:O(l)}function J(){return typeof console!==A.bA?console:O(S)}function B(){return O(c)}function ae(){return!!(typeof JSON===A._1&&JSON||O(g)!==null)}function Ne(){return ae()?JSON||O(g):null}function be(){return O(d)}function we(){return O(w)}function Te(){var pe=H();return pe&&pe.product?pe.product===k:!1}function ee(){var pe=H();if(pe&&(pe[I.tX]!==y||F===null)){y=pe[I.tX];var Ae=(y||f.m5)[I.OL]();F=(0,C.Ju)(Ae,R)||(0,C.Ju)(Ae,P)}return F}function ne(pe){if(pe===void 0&&(pe=null),!pe){var Ae=H()||{};pe=Ae?(Ae[I.tX]||f.m5)[I.OL]():f.m5}var Fe=(pe||f.m5)[I.OL]();if((0,C.Ju)(Fe,R)){var Be=E()||{};return Math.max(parseInt(Fe[I.sY](R)[1]),Be[m]||0)}else if((0,C.Ju)(Fe,P)){var Ue=parseInt(Fe[I.sY](P)[1]);if(Ue)return Ue+4}return null}function me(pe){var Ae=Object[A.vR].toString[I.Ek](pe),Fe=f.m5;return Ae==="[object Error]"?Fe="{ stack: '"+pe.stack+"', message: '"+pe.message+"', name: '"+pe[I.RS]+"'":ae()&&(Fe=Ne().stringify(pe)),Ae+Fe}function ge(pe){if(!pe||!isString(pe)){var Ae=H()||{};pe=Ae?(Ae[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var Fe=(pe||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return Fe[_DYN_INDEX_OF]("safari")>=0}function _e(){return Z===null&&(Z=q()&&!!H().sendBeacon),Z}function j(pe){var Ae=!1;try{Ae=!!O("fetch");var Fe=O("Request");Ae&&pe&&Fe&&(Ae=X(Fe,"keepalive"))}catch{}return Ae}function N(){return Q===null&&(Q=typeof XDomainRequest!==A.bA,Q&&se()&&(Q=Q&&!X(O(U),"withCredentials"))),Q}function se(){var pe=!1;try{var Ae=O(U);pe=!!Ae}catch{}return pe}function de(pe,Ae){if(pe)for(var Fe=0;Fe<pe[I.oI];Fe++){var Be=pe[Fe];if(Be[I.RS]&&Be[I.RS]===Ae)return Be}return{}}function ue(pe){var Ae=E();return Ae&&pe?de(Ae.querySelectorAll("meta"),pe).content:null}function le(pe){var Ae,Fe=B();if(Fe){var Be=Fe.getEntriesByType("navigation")||[];Ae=de((Be[I.oI]>0?Be[0]:{}).serverTiming,pe).description}return Ae}},18413:(s,V,M)=>{"use strict";M.d(V,{Ds:()=>we,El:()=>X,Fc:()=>Te,Hm:()=>E,ML:()=>H,Q3:()=>K,So:()=>ie,Wg:()=>Ne,Ym:()=>G,ee:()=>be,lQ:()=>ae,mB:()=>q,oS:()=>ne,sq:()=>ee,vF:()=>me,zh:()=>J});var A=M(60830),L=M(64252),I=M(44180),C=M(12497),f=M(1972),h="on",p="attachEvent",m="addEventListener",_="detachEvent",b="removeEventListener",l="events",S="visibilitychange",c="pagehide",g="pageshow",d="unload",w="beforeunload",k=(0,L.Z)("aiEvtPageHide"),R=(0,L.Z)("aiEvtPageShow"),P=/\.[\.]+/g,U=/[\.]+$/,F=1,y=(0,L.T)("events"),z=/^([^.]*)(?:\.(.+)|)/;function Q(ge){return ge&&ge[A.W7]?ge[A.W7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,f.m5):ge}function Z(ge,_e){var j;if(_e){var N=f.m5;(0,C.cy)(_e)?(N=f.m5,(0,C.Iu)(_e,function(de){de=Q(de),de&&(de[0]!=="."&&(de="."+de),N+=de)})):N=Q(_e),N&&(N[0]!=="."&&(N="."+N),ge=(ge||f.m5)+N)}var se=z.exec(ge||f.m5)||[];return j={},j[A.QM]=se[1],j.ns=(se[2]||f.m5).replace(P,".").replace(U,f.m5)[A.sY](".").sort().join("."),j}function X(ge,_e,j){var N=[],se=y.get(ge,l,{},!1),de=Z(_e,j);return(0,C.z)(se,function(ue,le){(0,C.Iu)(le,function(pe){var Ae;(!de[A.QM]||de[A.QM]===pe.evtName[A.QM])&&(!de.ns||de.ns===de.ns)&&N[A.y5]((Ae={},Ae[A.RS]=pe.evtName[A.QM]+(pe.evtName.ns?"."+pe.evtName.ns:f.m5),Ae.handler=pe[A.Yo],Ae))})}),N}function Y(ge,_e,j){j===void 0&&(j=!0);var N=y.get(ge,l,{},j),se=N[_e];return se||(se=N[_e]=[]),se}function O(ge,_e,j,N){ge&&_e&&_e[A.QM]&&(ge[b]?ge[b](_e[A.QM],j,N):ge[_]&&ge[_](h+_e[A.QM],j))}function $(ge,_e,j,N){var se=!1;return ge&&_e&&_e[A.QM]&&j&&(ge[m]?(ge[m](_e[A.QM],j,N),se=!0):ge[p]&&(ge[p](h+_e[A.QM],j),se=!0)),se}function D(ge,_e,j,N){for(var se=_e[A.oI];se--;){var de=_e[se];de&&(!j.ns||j.ns===de.evtName.ns)&&(!N||N(de))&&(O(ge,de.evtName,de[A.Yo],de.capture),_e[A.Ic](se,1))}}function u(ge,_e,j){if(_e[A.QM])D(ge,Y(ge,_e[A.QM]),_e,j);else{var N=y.get(ge,l,{});(0,C.z)(N,function(se,de){D(ge,de,_e,j)}),(0,C.cG)(N)[A.oI]===0&&y.kill(ge,l)}}function E(ge,_e){var j;return _e?((0,C.cy)(_e)?j=[ge].concat(_e):j=[ge,_e],j=Z("xx",j).ns[A.sY](".")):j=ge,j}function q(ge,_e,j,N,se){var de;se===void 0&&(se=!1);var ue=!1;if(ge)try{var le=Z(_e,N);if(ue=$(ge,le,j,se),ue&&y.accept(ge)){var pe=(de={guid:F++,evtName:le},de[A.Yo]=j,de.capture=se,de);Y(ge,le.type)[A.y5](pe)}}catch{}return ue}function H(ge,_e,j,N,se){if(se===void 0&&(se=!1),ge)try{var de=Z(_e,N),ue=!1;u(ge,de,function(le){return de.ns&&!j||le[A.Yo]===j?(ue=!0,!0):!1}),ue||O(ge,de,j,se)}catch{}}function K(ge,_e,j,N){return N===void 0&&(N=!1),q(ge,_e,j,null,N)}function G(ge,_e,j,N){N===void 0&&(N=!1),H(ge,_e,j,null,N)}function ie(ge,_e,j){var N=!1,se=(0,I.zk)();se&&(N=q(se,ge,_e,j),N=q(se.body,ge,_e,j)||N);var de=(0,I.YE)();return de&&(N=q(de,ge,_e,j)||N),N}function J(ge,_e,j){var N=(0,I.zk)();N&&(H(N,ge,_e,j),H(N.body,ge,_e,j));var se=(0,I.YE)();se&&H(se,ge,_e,j)}function B(ge,_e,j,N){var se=!1;return _e&&ge&&ge[A.oI]>0&&(0,C.Iu)(ge,function(de){de&&(!j||(0,C.rD)(j,de)===-1)&&(se=ie(de,_e,N)||se)}),se}function ae(ge,_e,j,N){var se=!1;return _e&&ge&&(0,C.cy)(ge)&&(se=B(ge,_e,j,N),!se&&j&&j[A.oI]>0&&(se=B(ge,_e,null,N))),se}function Ne(ge,_e,j){ge&&(0,C.cy)(ge)&&(0,C.Iu)(ge,function(N){N&&J(N,_e,j)})}function be(ge,_e,j){return ae([w,d,c],ge,_e,j)}function we(ge,_e){Ne([w,d,c],ge,_e)}function Te(ge,_e,j){function N(ue){var le=(0,I.YE)();ge&&le&&le.visibilityState==="hidden"&&ge(ue)}var se=E(k,j),de=B([c],ge,_e,se);return(!_e||(0,C.rD)(_e,S)===-1)&&(de=B([S],N,_e,se)||de),!de&&_e&&(de=Te(ge,null,j)),de}function ee(ge,_e){var j=E(k,_e);Ne([c],ge,j),Ne([S],null,j)}function ne(ge,_e,j){function N(ue){var le=(0,I.YE)();ge&&le&&le.visibilityState==="visible"&&ge(ue)}var se=E(R,j),de=B([g],ge,_e,se);return de=B([S],N,_e,se)||de,!de&&_e&&(de=ne(ge,null,j)),de}function me(ge,_e){var j=E(R,_e);Ne([g],ge,j),Ne([S],null,j)}},12497:(s,V,M)=>{"use strict";M.d(V,{$8:()=>zt,$P:()=>N,CP:()=>Qn,Cv:()=>ne,EH:()=>ke,Ed:()=>K,Et:()=>pe,Gh:()=>B,Gv:()=>Ne,Iu:()=>Ye,Ju:()=>j,KT:()=>ce,KY:()=>ci,Kg:()=>le,Lm:()=>Ae,N6:()=>lt,RF:()=>Ct,SA:()=>Tt,SZ:()=>Wt,Tn:()=>be,W$:()=>re,_u:()=>Ue,b0:()=>G,bJ:()=>ue,c2:()=>wt,cG:()=>Oe,cH:()=>Te,cy:()=>se,hW:()=>ti,hX:()=>J,js:()=>bt,lL:()=>yt,mQ:()=>ae,o$:()=>ei,ol:()=>st,qz:()=>Zt,r:()=>Ke,rD:()=>he,tG:()=>ge,wo:()=>Ii,x3:()=>vt,z:()=>ee,zz:()=>It});var A=M(47672),L=M(75148),I=M(60830),C=M(1972),f="toISOString",h="endsWith",p="startsWith",m="indexOf",_="map",b="reduce",l="trim",S="toString",c="__proto__",g="constructor",d=A.KU,w=A.s6.freeze,k=A.s6.seal,R=A.s6.keys,P=String[A.vR],U=P[l],F=P[h],y=P[p],z=Date[A.vR],Q=z[f],Z=Array.isArray,X=A.Wy[S],Y=A.J$[S],O=Y[I.Ek](A.s6),$=/-([a-z])/g,D=/([^\w\d_$])/g,u=/^(\d+[\w\d_$])/,E=Object.getPrototypeOf;function q(xe){if(xe){if(E)return E(xe);var Je=xe[c]||xe[A.vR]||xe[g];if(Je)return Je}return null}function H(xe){return X[_DYN_CALL](xe)}function K(xe,Je){return typeof xe===Je}function G(xe){return xe===void 0||typeof xe===A.bA}function ie(xe){return!G(xe)}function J(xe){return xe===null||G(xe)}function B(xe){return!J(xe)}function ae(xe,Je){return!!(xe&&A.J$[I.Ek](xe,Je))}function Ne(xe){return!!(xe&&typeof xe===A._1)}function be(xe){return!!(xe&&typeof xe===A.hW)}function we(xe){return xe&&be(xe.then)}function Te(xe){var Je=xe;return Je&&le(Je)&&(Je=Je[I.W7]($,function(tt,ft){return ft.toUpperCase()}),Je=Je[I.W7](D,"_"),Je=Je[I.W7](u,function(tt,ft){return"_"+ft})),Je}function ee(xe,Je){if(xe)for(var tt in xe)A.J$[I.Ek](xe,tt)&&Je[I.Ek](xe,tt,xe[tt])}function ne(xe,Je){var tt=!1;return xe&&Je&&!(tt=xe===Je)&&(tt=F?xe[h](Je):me(xe,Je)),tt}function me(xe,Je){var tt=!1,ft=Je?Je[I.oI]:0,gt=xe?xe[I.oI]:0;if(ft&&gt&&gt>=ft&&!(tt=xe===Je)){for(var si=gt-1,Rt=ft-1;Rt>=0;Rt--){if(xe[si]!=Je[Rt])return!1;si--}tt=!0}return tt}function ge(xe,Je){var tt=!1;return xe&&Je&&!(tt=xe===Je)&&(tt=y?xe[p](Je):_e(xe,Je)),tt}function _e(xe,Je){var tt=!1,ft=Je?Je[I.oI]:0;if(xe&&ft&&xe[I.oI]>=ft&&!(tt=xe===Je)){for(var gt=0;gt<ft;gt++)if(xe[gt]!==Je[gt])return!1;tt=!0}return tt}function j(xe,Je){return xe&&Je?xe[I.Sj](Je)!==-1:!1}function N(xe){return!!(xe&&X[I.Ek](xe)==="[object Date]")}var se=Z||de;function de(xe){return!!(xe&&X[I.Ek](xe)==="[object Array]")}function ue(xe){return!!(xe&&X[I.Ek](xe)==="[object Error]")}function le(xe){return typeof xe=="string"}function pe(xe){return typeof xe=="number"}function Ae(xe){return typeof xe=="boolean"}function Fe(xe){return typeof xe=="symbol"}function Be(xe){var Je=!1;if(xe&&typeof xe=="object"){var tt=E?E(xe):q(xe);tt?(tt[g]&&A.J$[I.Ek](tt,g)&&(tt=tt[g]),Je=typeof tt===A.hW&&Y[I.Ek](tt)===O):Je=!0}return Je}function Ue(xe){if(xe)return Q?xe[f]():He(xe)}function He(xe){if(xe&&xe.getUTCFullYear){var Je=function(tt){var ft=String(tt);return ft[I.oI]===1&&(ft="0"+ft),ft};return xe.getUTCFullYear()+"-"+Je(xe.getUTCMonth()+1)+"-"+Je(xe.getUTCDate())+"T"+Je(xe.getUTCHours())+":"+Je(xe.getUTCMinutes())+":"+Je(xe.getUTCSeconds())+"."+String((xe.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function Ye(xe,Je,tt){var ft=xe[I.oI];try{for(var gt=0;gt<ft&&!(gt in xe&&Je[I.Ek](tt||xe,xe[gt],gt,xe)===-1);gt++);}catch{}}function he(xe,Je,tt){if(xe){if(xe[m])return xe[m](Je,tt);var ft=xe[I.oI],gt=tt||0;try{for(var si=Math.max(gt>=0?gt:ft-Math.abs(gt),0);si<ft;si++)if(si in xe&&xe[si]===Je)return si}catch{}}return-1}function re(xe,Je,tt){var ft;if(xe){if(xe[_])return xe[_](Je,tt);var gt=xe[I.oI],si=tt||xe;ft=new Array(gt);try{for(var Rt=0;Rt<gt;Rt++)Rt in xe&&(ft[Rt]=Je[I.Ek](si,xe[Rt],xe))}catch{}}return ft}function ce(xe,Je,tt){var ft;if(xe){if(xe[b])return xe[b](Je,tt);var gt=xe[I.oI],si=0;if(arguments[I.oI]>=3)ft=arguments[2];else{for(;si<gt&&!(si in xe);)si++;ft=xe[si++]}for(;si<gt;)si in xe&&(ft=Je(ft,xe[si],si,xe)),si++}return ft}function ke(xe){return xe&&(xe=U&&xe[l]?xe[l]():xe[I.W7]?xe[I.W7](/^\s+|(?=\s)\s+$/g,C.m5):xe),xe}var Ie=!{toString:null}.propertyIsEnumerable("toString"),Qe=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Oe(xe){var Je=typeof xe;if(Je!==A.hW&&(Je!==A._1||xe===null)&&(0,L.zk)("objKeys called on non-object"),!Ie&&R)return R(xe);var tt=[];for(var ft in xe)xe&&A.J$[I.Ek](xe,ft)&&tt[I.y5](ft);if(Ie)for(var gt=Qe[I.oI],si=0;si<gt;si++)xe&&A.J$[I.Ek](xe,Qe[si])&&tt[I.y5](Qe[si]);return tt}function Ke(xe,Je,tt,ft){if(d)try{var gt={enumerable:!0,configurable:!0};return tt&&(gt.get=tt),ft&&(gt.set=ft),d(xe,Je,gt),!0}catch{}return!1}function Ot(xe){return xe}function st(xe){return w&&ee(xe,function(Je,tt){(se(tt)||Ne(tt))&&w(tt)}),lt(xe)}var lt=w||Ot,bt=k||Ot;function vt(){var xe=Date;return xe.now?xe.now():new xe().getTime()}function yt(xe){return ue(xe)?xe[I.RS]:C.m5}function ci(xe,Je,tt,ft,gt){var si=tt;return xe&&(si=xe[Je],si!==tt&&(!gt||gt(si))&&(!ft||ft(tt))&&(si=tt,xe[Je]=si)),si}function wt(xe,Je,tt){var ft;return xe?(ft=xe[Je],!ft&&J(ft)&&(ft=G(tt)?{}:tt,xe[Je]=ft)):ft=G(tt)?{}:tt,ft}function Tt(xe,Je){return J(xe)?Je:xe}function Ii(xe){return!xe}function It(xe){return!!xe}function zt(xe){throw new Error(xe)}function vn(xe,Je){var tt=null,ft=null;return be(xe)?tt=xe:ft=xe,function(){var gt=arguments;if(tt&&(ft=tt()),ft)return ft[Je][I.y9](ft,gt)}}function Zt(xe,Je,tt){if(xe&&Je&&Ne(xe)&&Ne(Je)){var ft=function(si){if(le(si)){var Rt=Je[si];be(Rt)?(!tt||tt(si,!0,Je,xe))&&(xe[si]=vn(Je,si)):(!tt||tt(si,!1,Je,xe))&&(ae(xe,si)&&delete xe[si],Ke(xe,si,function(){return Je[si]},function(Bt){Je[si]=Bt})||(xe[si]=Rt))}};for(var gt in Je)ft(gt)}return xe}function Ct(xe,Je,tt,ft,gt){xe&&Je&&tt&&(gt!==!1||G(xe[Je]))&&(xe[Je]=vn(tt,ft))}function ei(xe,Je,tt,ft){return xe&&Je&&Ne(xe)&&se(tt)&&Ye(tt,function(gt){le(gt)&&Ct(xe,gt,Je,gt,ft)}),xe}function Wt(xe){return function(){function Je(){var tt=this;xe&&ee(xe,function(ft,gt){tt[ft]=gt})}return Je}()}function ti(xe){return xe&&A.zi&&(xe=(0,A.s6)((0,A.zi)({},xe))),xe}function Qn(xe,Je,tt,ft,gt,si){var Rt=arguments,Bt=Rt[0]||{},xt=Rt[I.oI],pt=!1,St=1;for(xt>0&&Ae(Bt)&&(pt=Bt,Bt=Rt[St]||{},St++),Ne(Bt)||(Bt={});St<xt;St++){var Pt=Rt[St],di=se(Pt),ni=Ne(Pt);for(var Ut in Pt){var Si=di&&Ut in Pt||ni&&A.J$[I.Ek](Pt,Ut);if(Si){var fi=Pt[Ut],ai=void 0;if(pt&&fi&&((ai=se(fi))||Be(fi))){var Di=Bt[Ut];ai?se(Di)||(Di=[]):Be(Di)||(Di={}),fi=Qn(pt,Di,fi)}fi!==void 0&&(Bt[Ut]=fi)}}}return Bt}},1972:(s,V,M)=>{"use strict";M.d(V,{Bw:()=>h,Hr:()=>f,LZ:()=>L,Tj:()=>d,Vo:()=>_,Yd:()=>C,Yp:()=>l,Zi:()=>g,dI:()=>S,eT:()=>I,fc:()=>b,jy:()=>p,kI:()=>w,l0:()=>c,m5:()=>A,qT:()=>m});var A="",L="channels",I="core",C="createPerfMgr",f="disabled",h="extensionConfig",p="extensions",m="processTelemetry",_="priority",b="eventsSent",l="eventsDiscarded",S="eventsSendRequest",c="perfEvent",g="errorToConsole",d="warnToConsole",w="getPerfMgr"},54660:(s,V,M)=>{"use strict";M.d(V,{h:()=>h});var A=M(92457),L=M(60830),I=M(12497),C=M(1972);function f(p,m,_,b){(0,I.Iu)(p,function(l){if(l&&l[m])if(_)setTimeout(function(){return b(l)},0);else try{b(l)}catch{}})}var h=function(){function p(m){this.listeners=[];var _=!!(m||{}).perfEvtsSendAll;(0,A.A)(p,this,function(b){b[L.vR]=function(l){b.listeners[L.y5](l)},b[L.TP]=function(l){for(var S=(0,I.rD)(b[L.lJ],l);S>-1;)b.listeners[L.Ic](S,1),S=(0,I.rD)(b[L.lJ],l)},b[C.fc]=function(l){f(b[L.lJ],C.fc,!0,function(S){S[C.fc](l)})},b[C.Yp]=function(l,S){f(b[L.lJ],C.Yp,!0,function(c){c[C.Yp](l,S)})},b[C.dI]=function(l,S){f(b[L.lJ],C.dI,S,function(c){c[C.dI](l,S)})},b[C.l0]=function(l){l&&(_||!l[L.Zu]())&&f(b[L.lJ],C.l0,!1,function(S){l[L.tI]?setTimeout(function(){return S[C.l0](l)},0):S[C.l0](l)})}})}return p.__ieDyn=1,p}()},5204:(s,V,M)=>{"use strict";M.d(V,{NS:()=>b,Q6:()=>_,Z4:()=>g,r2:()=>S});var A=M(92457),L=M(60830),I=M(12497),C=M(1972),f="ctx",h="ParentContextKey",p="ChildrenContextKey",m=null,_=function(){function d(w,k,R){var P=this,U=!1;if(P.start=(0,I.x3)(),P[L.RS]=w,P[L.tI]=R,P[L.Zu]=function(){return!1},(0,I.Tn)(k)){var F;U=(0,I.r)(P,"payload",function(){return!F&&(0,I.Tn)(k)&&(F=k(),k=null),F})}P[L.O_]=function(y){return y?y===d[h]||y===d[p]?P[y]:(P[f]||{})[y]:null},P[L.e_]=function(y,z){if(y)if(y===d[h])P[y]||(P[L.Zu]=function(){return!0}),P[y]=z;else if(y===d[p])P[y]=z;else{var Q=P[f]=P[f]||{};Q[y]=z}},P[L.Ru]=function(){var y=0,z=P[L.O_](d[p]);if((0,I.cy)(z))for(var Q=0;Q<z[L.oI];Q++){var Z=z[Q];Z&&(y+=Z[L.fA])}P[L.fA]=(0,I.x3)()-P.start,P.exTime=P[L.fA]-y,P[L.Ru]=function(){},!U&&(0,I.Tn)(k)&&(P.payload=k())}}return d.ParentContextKey="parent",d.ChildrenContextKey="childEvts",d}(),b=function(){function d(w){this.ctx={},(0,A.A)(d,this,function(k){k.create=function(R,P,U){return new _(R,P,U)},k.fire=function(R){R&&(R[L.Ru](),w&&(0,I.Tn)(w[C.l0])&&w[C.l0](R))},k[L.e_]=function(R,P){if(R){var U=k[f]=k[f]||{};U[R]=P}},k[L.O_]=function(R){return(k[f]||{})[R]}})}return d.__ieDyn=1,d}(),l="CoreUtils.doPerf";function S(d,w,k,R,P){if(d){var U=d;if(U[C.kI]&&(U=U[C.kI]()),U){var F=void 0,y=U[L.O_](l);try{if(F=U.create(w(),R,P),F){if(y&&F[L.e_]&&(F[L.e_](_[h],y),y[L.O_]&&y[L.e_])){var z=y[L.O_](_[p]);z||(z=[],y[L.e_](_[p],z)),z[L.y5](F)}return U[L.e_](l,F),k(F)}}catch(Q){F&&F[L.e_]&&F[L.e_]("exception",Q)}finally{F&&U.fire(F),U[L.e_](l,y)}}}return k()}function c(d){m=d}function g(){return m}},8997:(s,V,M)=>{"use strict";M.d(V,{PV:()=>k,W0:()=>P,i8:()=>g,nU:()=>w,tS:()=>d});var A=M(60830),L=M(99015),I=M(44180),C=M(12497),f=M(1972),h=M(5204),p=M(33540),m="TelemetryPluginChain",_="_hasRun",b="_getTelCtx",l=0;function S(U,F,y){for(;U;){if(U[A.AP]()===y)return U;U=U[A.uR]()}return k([y],F[A.GA]||{},F)}function c(U,F,y,z){var Q=null,Z=[];z!==null&&(Q=z?S(U,y,z):U);var X={_next:O,ctx:{core:function(){return y},diagLog:function(){return(0,L.y0)(y,F)},getCfg:function(){return F},getExtCfg:$,getConfig:D,hasNext:function(){return!!Q},getNext:function(){return Q},setNext:function(E){Q=E},iterate:u,onComplete:Y}};function Y(E,q){for(var H=[],K=2;K<arguments.length;K++)H[K-2]=arguments[K];E&&Z[A.y5]({func:E,self:(0,C.b0)(q)?X.ctx:q,args:H})}function O(){var E=Q;if(Q=E?E[A.uR]():null,!E){var q=Z;q&&q[A.oI]>0&&((0,C.Iu)(q,function(H){try{H.func[A.Ek](H.self,H.args)}catch(K){(0,L.ZP)(y[A.Uw],2,73,"Unexpected Exception during onComplete - "+(0,I.mm)(K))}}),Z=[])}return E}function $(E,q,H){q===void 0&&(q={}),H===void 0&&(H=0);var K;if(F){var G=F[f.Bw];G&&E&&(K=G[E])}if(!K)K=q;else if((0,C.Gv)(q)&&H!==0){var ie=(0,C.CP)(!0,q,K);F&&H===2&&(0,C.z)(q,function(J){if((0,C.hX)(ie[J])){var B=F[J];(0,C.hX)(B)||(ie[J]=B)}}),K=ie}return K}function D(E,q,H){H===void 0&&(H=!1);var K,G=$(E,null);return G&&!(0,C.hX)(G[q])?K=G[q]:F&&!(0,C.hX)(F[q])&&(K=F[q]),(0,C.hX)(K)?H:K}function u(E){for(var q;q=X._next();){var H=q[A.AP]();H&&E(H)}}return X}function g(U,F,y,z){var Q=c(U,F,y,z),Z=Q.ctx;function X(O){var $=Q._next();return $&&$[f.qT](O,Z),!$}function Y(O,$){return O===void 0&&(O=null),(0,C.cy)(O)&&(O=k(O,F,y,$)),g(O||Z[A.uR](),F,y,$)}return Z[A.$5]=X,Z[A.$o]=Y,Z}function d(U,F,y){var z=F[A.GA]||{},Q=c(U,z,F,y),Z=Q.ctx;function X(O){var $=Q._next();return $&&$.unload(Z,O),!$}function Y(O,$){return O===void 0&&(O=null),(0,C.cy)(O)&&(O=k(O,z,F,$)),d(O||Z[A.uR](),F,$)}return Z[A.$5]=X,Z[A.$o]=Y,Z}function w(U,F,y){var z=F[A.GA]||{},Q=c(U,z,F,y),Z=Q.ctx;function X(O){return Z.iterate(function($){(0,C.Tn)($[A.HC])&&$[A.HC](Z,O)})}function Y(O,$){return O===void 0&&(O=null),(0,C.cy)(O)&&(O=k(O,z,F,$)),w(O||Z[A.uR](),F,$)}return Z[A.$5]=X,Z[A.$o]=Y,Z}function k(U,F,y,z){var Q=null,Z=!z;if((0,C.cy)(U)&&U[A.oI]>0){var X=null;(0,C.Iu)(U,function(Y){if(!Z&&z===Y&&(Z=!0),Z&&Y&&(0,C.Tn)(Y[f.qT])){var O=R(Y,F,y);Q||(Q=O),X&&X._setNext(O),X=O}})}return z&&!Q?k([z],F,y):Q}function R(U,F,y){var z=null,Q=(0,C.Tn)(U[f.qT]),Z=(0,C.Tn)(U[A.YH]),X;U?X=U[A.Ju]+"-"+U[f.Vo]+"-"+l++:X="Unknown-0-"+l++;var Y={getPlugin:function(){return U},getNext:function(){return z},processTelemetry:D,unload:u,update:E,_id:X,_setNext:function(q){z=q}};function O(){var q;return U&&(0,C.Tn)(U[b])&&(q=U[b]()),q||(q=g(Y,F,y)),q}function $(q,H,K,G,ie){var J=!1,B=U?U[A.Ju]:m,ae=q[_];return ae||(ae=q[_]={}),q.setNext(z),U&&(0,h.r2)(q[f.eT](),function(){return B+":"+K},function(){ae[X]=!0;try{var Ne=z?z._id:f.m5;Ne&&(ae[Ne]=!1),J=H(q)}catch(we){var be=z?ae[z._id]:!0;be&&(J=!0),(!z||!be)&&(0,L.ZP)(q[A.e4](),1,73,"Plugin ["+B+"] failed during "+K+" - "+(0,I.mm)(we)+", run flags: "+(0,I.mm)(ae))}},G,ie),J}function D(q,H){H=H||O();function K(G){if(!U||!Q)return!1;var ie=(0,p.Cr)(U);return ie[A.Ik]||ie[f.Hr]?!1:(Z&&U[A.YH](z),U[f.qT](q,G),!0)}$(H,K,"processTelemetry",function(){return{item:q}},!q.sync)||H[A.$5](q)}function u(q,H){function K(){var G=!1;if(U){var ie=(0,p.Cr)(U),J=U[f.eT]||ie[f.eT];U&&(!J||J===q.core())&&!ie[A.Ik]&&(ie[f.eT]=null,ie[A.Ik]=!0,ie[A.tZ]=!1,U[A.Ik]&&U[A.Ik](q,H)===!0&&(G=!0))}return G}$(q,K,"unload",function(){},H[A.tI])||q[A.$5](H)}function E(q,H){function K(){var G=!1;if(U){var ie=(0,p.Cr)(U),J=U[f.eT]||ie[f.eT];U&&(!J||J===q.core())&&!ie[A.Ik]&&U[A.HC]&&U[A.HC](q,H)===!0&&(G=!0)}return G}$(q,K,"update",function(){},!1)||q[A.$5](H)}return(0,C.N6)(Y)}var P=function(){function U(F,y,z,Q){var Z=this,X=g(F,y,z,Q);(0,C.o$)(Z,X,(0,C.cG)(X))}return U}()},57679:(s,V,M)=>{"use strict";M.d(V,{Si:()=>w,VN:()=>c,Z1:()=>S,k5:()=>d,yc:()=>g});var A=M(60830),L=M(44180),I=M(12497),C=M(1972),f=4294967296,h=4294967295,p=!1,m=123456789,_=987654321;function b(k){k<0&&(k>>>=0),m=123456789+k&h,_=987654321-k&h,p=!0}function l(){try{var k=(0,I.x3)()&2147483647;b((Math.random()*f^k)+k)}catch{}}function S(k){return k>0?Math.floor(c()/h*(k+1))>>>0:0}function c(k){var R=0,P=(0,L.MY)()||(0,L.iN)();return P&&P.getRandomValues&&(R=P.getRandomValues(new Uint32Array(1))[0]&h),R===0&&(0,L.lT)()&&(p||l(),R=d()&h),R===0&&(R=Math.floor(f*Math.random()|0)),k||(R>>>=0),R}function g(k){k?b(k):l()}function d(k){_=36969*(_&65535)+(_>>16)&h,m=18e3*(m&65535)+(m>>16)&h;var R=(_<<16)+(m&65535)>>>0&h|0;return k||(R>>>=0),R}function w(k){k===void 0&&(k=22);for(var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=c()>>>0,U=0,F=C.m5;F[A.oI]<k;)U++,F+=R.charAt(P&63),P>>>=6,U===5&&(P=(c()<<2&4294967295|P&3)>>>0,U=0);return F}},33540:(s,V,M)=>{"use strict";M.d(V,{Cr:()=>p,Xc:()=>_,pI:()=>m,u7:()=>l});var A=M(60830),L=M(64252),I=M(12497),C=M(1972),f=M(68560),h=(0,L.T)("plugin");function p(S){return h.get(S,"state",{},!0)}function m(S,c){for(var g=[],d=null,w=S[A.uR](),k;w;){var R=w[A.AP]();if(R){d&&(0,I.Tn)(d[A.YH])&&(0,I.Tn)(R[C.qT])&&d[A.YH](R);var P=!1;(0,I.Tn)(R[A.tZ])?P=R[A.tZ]():(k=p(R),P=k[A.tZ]),P||g[A.y5](R),d=R,w=w[A.uR]()}}(0,I.Iu)(g,function(U){var F=S[C.eT]();U[A.mE](S.getCfg(),F,c,S[A.uR]()),k=p(U),!U[C.eT]&&!k[C.eT]&&(k[C.eT]=F),k[A.tZ]=!0,delete k[A.Ik]})}function _(S){return S.sort(function(c,g){var d=0;if(g){var w=(0,I.Tn)(g[C.qT]);(0,I.Tn)(c[C.qT])?d=w?c[C.Vo]-g[C.Vo]:1:w&&(d=-1)}else d=c?1:-1;return d})}function b(S,c,g,d){var w=0;function k(){for(;w<S[_DYN_LENGTH];){var R=S[w++];if(R){var P=R._doUnload||R[_DYN__DO_TEARDOWN];if(isFunction(P)&&P[_DYN_CALL](R,c,g,k)===!0)return!0}}}return k()}function l(S){var c={};return{getName:function(){return c[A.RS]},setName:function(g){S&&S.setName(g),c[A.RS]=g},getTraceId:function(){return c[A.P5]},setTraceId:function(g){S&&S.setTraceId(g),(0,f.hX)(g)&&(c[A.P5]=g)},getSpanId:function(){return c[A.wi]},setSpanId:function(g){S&&S.setSpanId(g),(0,f.wN)(g)&&(c[A.wi]=g)},getTraceFlags:function(){return c[A.Rr]},setTraceFlags:function(g){S&&S.setTraceFlags(g),c[A.Rr]=g}}}},49388:(s,V,M)=>{"use strict";M.d(V,{P:()=>f});var A=M(60830),L=M(99015),I=M(44180),C=M(12497);function f(){var h=[];function p(_){_&&h[A.y5](_)}function m(_,b){(0,C.Iu)(h,function(l){try{l(_,b)}catch(S){(0,L.ZP)(_[A.e4](),2,73,"Unexpected error calling unload handler - "+(0,I.mm)(S))}}),h=[]}return{add:p,run:m}}},68560:(s,V,M)=>{"use strict";M.d(V,{L0:()=>U,N7:()=>P,ZI:()=>d,ef:()=>F,hX:()=>w,mJ:()=>R,wN:()=>k,wk:()=>g});var A=M(60830),L=M(32578),I=M(44180),C=M(12497),f=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,h="00",p="ff",m="00000000000000000000000000000000",_="0000000000000000",b=1;function l(y,z,Q){return y&&y[A.oI]===z&&y!==Q?!!y.match(/^[\da-f]*$/):!1}function S(y,z,Q){return l(y,z)?y:Q}function c(y){(isNaN(y)||y<0||y>255)&&(y=1);for(var z=y.toString(16);z[A.oI]<2;)z="0"+z;return z}function g(y,z,Q,Z){var X;return X={},X[A.s]=l(Z,2,p)?Z:h,X[A.P5]=w(y)?y:(0,L.cL)(),X.spanId=k(z)?z:(0,L.cL)()[A.$4](0,16),X.traceFlags=Q>=0&&Q<=255?Q:1,X}function d(y){var z;if(!y||((0,C.cy)(y)&&(y=y[0]||""),!y||!(0,C.Kg)(y)||y[A.oI]>8192))return null;var Q=f.exec((0,C.EH)(y));return!Q||Q[1]===p||Q[2]===m||Q[3]===_?null:(z={},z[A.s]=Q[1],z[A.P5]=Q[2],z[A.wi]=Q[3],z[A.Rr]=parseInt(Q[4],16),z)}function w(y){return l(y,32,m)}function k(y){return l(y,16,_)}function R(y){return!(!y||!l(y[A.s],2,p)||!l(y[A.P5],32,m)||!l(y[A.wi],16,_)||!l(c(y[A.Rr]),2))}function P(y){return R(y)?(y[A.Rr]&b)===b:!1}function U(y){if(y){var z=c(y[A.Rr]);l(z,2)||(z="01");var Q=y[A.s]||h;return Q!=="00"&&Q!=="ff"&&(Q=h),"".concat(Q,"-").concat(S(y.traceId,32,m),"-").concat(S(y.spanId,16,_),"-").concat(z)}return""}function F(){var y="traceparent",z=d((0,I.$Z)(y));return z||(z=d((0,I.Iu)(y))),z}},60830:(s,V,M)=>{"use strict";M.d(V,{$4:()=>J,$5:()=>S,$o:()=>u,AP:()=>R,Di:()=>w,EX:()=>P,Ek:()=>ee,GA:()=>p,H7:()=>U,HC:()=>Y,Ic:()=>F,Ik:()=>y,JR:()=>z,Ju:()=>C,OL:()=>Te,O_:()=>j,P5:()=>de,QM:()=>ne,RF:()=>I,RS:()=>L,Re:()=>H,Rr:()=>le,Ru:()=>se,Sj:()=>q,TP:()=>d,Uw:()=>_,W7:()=>Ne,YH:()=>D,Yo:()=>me,Zu:()=>_e,a$:()=>be,by:()=>k,e4:()=>$,e_:()=>N,fA:()=>l,kt:()=>ie,lJ:()=>ge,lK:()=>E,mE:()=>A,oI:()=>b,pM:()=>Q,ps:()=>c,re:()=>B,s:()=>pe,sY:()=>G,sl:()=>m,sx:()=>we,tI:()=>Z,tX:()=>K,tZ:()=>h,tn:()=>X,uR:()=>O,vR:()=>g,wi:()=>ue,y5:()=>f,y9:()=>ae});var A="initialize",L="name",I="getNotifyMgr",C="identifier",f="push",h="isInitialized",p="config",m="instrumentationKey",_="logger",b="length",l="time",S="processNext",c="getProcessTelContext",g="addNotificationListener",d="removeNotificationListener",w="stopPollingInternalLogs",k="onComplete",R="getPlugin",P="flush",U="_extensions",F="splice",y="teardown",z="messageId",Q="message",Z="isAsync",X="_doTeardown",Y="update",O="getNext",$="diagLog",D="setNextPlugin",u="createNew",E="cookieCfg",q="indexOf",H="substring",K="userAgent",G="split",ie="setEnabled",J="substr",B="nodeType",ae="apply",Ne="replace",be="enableDebugExceptions",we="logInternalMessage",Te="toLowerCase",ee="call",ne="type",me="handler",ge="listeners",_e="isChildEvt",j="getCtx",N="setCtx",se="complete",de="traceId",ue="spanId",le="traceFlags",pe="version"},47672:(s,V,M)=>{"use strict";M.d(V,{J$:()=>S,KU:()=>l,OR:()=>b,QV:()=>f,Wy:()=>m,_1:()=>L,bA:()=>I,hW:()=>A,s6:()=>p,vR:()=>C,zi:()=>_});var A="function",L="object",I="undefined",C="prototype",f="hasOwnProperty",h="default",p=Object,m=p[C],_=p.assign,b=p.create,l=p.defineProperty,S=m[f]},75148:(s,V,M)=>{"use strict";M.d(V,{AQ:()=>f,mS:()=>I,zk:()=>C});var A=M(47672),L=null;function I(h){h===void 0&&(h=!0);var p=h===!1?null:L;return p||(typeof globalThis!==A.bA&&(p=globalThis),!p&&typeof self!==A.bA&&(p=self),!p&&typeof window!==A.bA&&(p=window),!p&&typeof M.g!==A.bA&&(p=M.g),L=p),p}function C(h){throw new TypeError(h)}function f(h){var p=A.OR;if(p)return p(h);if(h==null)return{};var m=typeof h;m!==A._1&&m!==A.hW&&C("Object prototype may only be an Object:"+h);function _(){}return _[A.vR]=h,new _}},8747:(s,V,M)=>{"use strict";M.d(V,{Im:()=>S,qU:()=>g,vz:()=>Q});var A=M(47672),L=M(75148),I=((0,L.mS)()||{}).Symbol,C=((0,L.mS)()||{}).Reflect,f=!!I,h=!!C,p="decorate",m="metadata",_="getOwnPropertySymbols",b="iterator",l=function(O){for(var $,D=1,u=arguments.length;D<u;D++){$=arguments[D];for(var E in $)A.Wy[A.QV].call($,E)&&(O[E]=$[E])}return O},S=A.zi||l,c=function(O,$){return c=A.s6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,u){D.__proto__=u}||function(D,u){for(var E in u)u[A.QV](E)&&(D[E]=u[E])},c(O,$)};function g(O,$){typeof $!==A.hW&&$!==null&&(0,L.zk)("Class extends value "+String($)+" is not a constructor or null"),c(O,$);function D(){this.constructor=O}O[A.vR]=$===null?(0,L.AQ)($):(D[A.vR]=$[A.vR],new D)}function d(O,$){var D={};for(var u in O)ObjHasOwnProperty.call(O,u)&&$.indexOf(u)<0&&(D[u]=O[u]);if(O!=null&&typeof ObjClass[_]===strShimFunction)for(var E=0,q=ObjClass[_](O);E<q.length;E++)$.indexOf(q[E])<0&&ObjProto.propertyIsEnumerable.call(O,q[E])&&(D[q[E]]=O[q[E]]);return D}function w(O,$,D,u){var E=arguments.length,q=E<3?$:u===null?u=ObjClass.getOwnPropertyDescriptor($,D):u,H;if(h&&typeof C[p]===strShimFunction)q=C[p](O,$,D,u);else for(var K=O.length-1;K>=0;K--)(H=O[K])&&(q=(E<3?H(q):E>3?H($,D,q):H($,D))||q);return E>3&&q&&ObjDefineProperty($,D,q),q}function k(O,$){return function(D,u){$(D,u,O)}}function R(O,$){if(h&&C[m]===strShimFunction)return C[m](O,$)}function P(O,$){for(var D in O)D!==strDefault&&!ObjHasOwnProperty.call($,D)&&U($,O,D)}function U(O,$,D,u){u===void 0&&(u=D),ObjCreate?ObjDefineProperty(O,u,{enumerable:!0,get:function(){return $[D]}}):O[u]=$[D]}function F(O){var $=typeof I===strShimFunction&&I[b],D=$&&O[$],u=0;if(D)return D.call(O);if(O&&typeof O.length=="number")return{next:function(){return O&&u>=O.length&&(O=void 0),{value:O&&O[u++],done:!O}}};throwTypeError($?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(O,$){var D=typeof I===strShimFunction&&O[I[b]];if(!D)return O;var u=D.call(O),E,q=[],H;try{for(;($===void 0||$-- >0)&&!(E=u.next()).done;)q.push(E.value)}catch(K){H={error:K}}finally{try{E&&!E.done&&(D=u.return)&&D.call(u)}finally{if(H)throw H.error}}return q}function z(){for(var O=arguments,$=0,D=0,u=O.length;D<u;D++)$+=O[D].length;for(var E=Array($),q=0,D=0;D<u;D++)for(var H=O[D],K=0,G=H.length;K<G;K++,q++)E[q]=H[K];return E}function Q(O,$){for(var D=0,u=$.length,E=O.length;D<u;D++,E++)O[E]=$[D];return O}function Z(O,$){return ObjDefineProperty?ObjDefineProperty(O,"raw",{value:$}):O.raw=$,O}function X(O){if(O&&O.__esModule)return O;var $={};if(O!=null)for(var D in O)D!==strDefault&&Object.prototype.hasOwnProperty.call(O,D)&&U($,O,D);return ObjCreate?ObjDefineProperty($,strDefault,{enumerable:!0,value:O}):$[strDefault]=O,$}function Y(O){return O&&O.__esModule?O:{strDefault:O}}},94731:(s,V,M)=>{"use strict";M.r(V),M.d(V,{AppInsightsCore:()=>At._,ApplicationInsights:()=>Ta,CoreUtils:()=>ni.jS,Sender:()=>nu,SeverityLevel:()=>Na,_InternalMessageId:()=>sh.$,arrForEach:()=>ue.Iu,isNullOrUndefined:()=>ue.hX,proxyFunctions:()=>ue.o$,throwError:()=>ue.$8});var A=M(92457),L=M(8747),I="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",C="sampleRate",f="ProcessLegacy",h="http.method",p="https://dc.services.visualstudio.com",m="/v2/track",_="not_specified",b="iKey",l="split",S="length",c="toLowerCase",g="ingestionendpoint",d="toString",w="removeItem",k="name",R="message",P="count",U="preTriggerDate",F="disabled",y="interval",z="daysOfMonth",Q="date",Z="getUTCDate",X="stringify",Y="pathname",O="correlationHeaderExcludePatterns",$="indexOf",D="extensionConfig",u="exceptions",E="parsedStack",q="properties",H="measurements",K="sizeInBytes",G="typeName",ie="severityLevel",J="problemGroup",B="isManual",ae="CreateFromInterface",Ne="hasFullStack",be="level",we="method",Te="assembly",ee="fileName",ne="line",me="duration",ge="receivedResponse",_e="substring",j="sanitizeKeyAndAddUniqueness",N="sanitizeException",se="sanitizeProperties",de="sanitizeMeasurements",ue=M(12497),le=M(99015),pe=M(44180),Ae;function Fe(Re,ve,Ee){var Me=ve[S],je=Be(Re,ve);if(je[S]!==Me){for(var et=0,at=je;Ee[at]!==void 0;)et++,at=je[_e](0,147)+Qe(et);je=at}return je}function Be(Re,ve){var Ee;return ve&&(ve=(0,ue.EH)(ve[d]()),ve[S]>150&&(Ee=ve[_e](0,150),(0,le.ZP)(Re,2,57,"name is too long.  It has been truncated to 150 characters.",{name:ve},!0))),Ee||ve}function Ue(Re,ve,Ee){Ee===void 0&&(Ee=1024);var Me;return ve&&(Ee=Ee||1024,ve=(0,ue.EH)(ve),ve.toString()[S]>Ee&&(Me=ve[d]()[_e](0,Ee),(0,le.ZP)(Re,2,61,"string value is too long. It has been truncated to "+Ee+" characters.",{value:ve},!0))),Me||ve}function He(Re,ve){return Ie(Re,ve,2048,66)}function Ye(Re,ve){var Ee;return ve&&ve[S]>32768&&(Ee=ve[_e](0,32768),(0,le.ZP)(Re,2,56,"message is too long, it has been truncated to 32768 characters.",{message:ve},!0)),Ee||ve}function he(Re,ve){var Ee;if(ve){var Me=""+ve;Me[S]>32768&&(Ee=Me[_e](0,32768),(0,le.ZP)(Re,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:ve},!0))}return Ee||ve}function re(Re,ve){if(ve){var Ee={};(0,ue.z)(ve,function(Me,je){if((0,ue.Gv)(je)&&(0,pe.Z)())try{je=(0,pe.hm)()[X](je)}catch(et){(0,le.ZP)(Re,2,49,"custom property is not valid",{exception:et},!0)}je=Ue(Re,je,8192),Me=Fe(Re,Me,Ee),Ee[Me]=je}),ve=Ee}return ve}function ce(Re,ve){if(ve){var Ee={};(0,ue.z)(ve,function(Me,je){Me=Fe(Re,Me,Ee),Ee[Me]=je}),ve=Ee}return ve}function ke(Re,ve){return ve&&Ie(Re,ve,128,69)[d]()}function Ie(Re,ve,Ee,Me){var je;return ve&&(ve=(0,ue.EH)(ve),ve[S]>Ee&&(je=ve[_e](0,Ee),(0,le.ZP)(Re,2,Me,"input is too long, it has been truncated to "+Ee+" characters.",{data:ve},!0))),je||ve}function Qe(Re){var ve="00"+Re;return ve.substr(ve[S]-3)}var Oe=(Ae={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},Ae[j]=Fe,Ae.sanitizeKey=Be,Ae.sanitizeString=Ue,Ae.sanitizeUrl=He,Ae.sanitizeMessage=Ye,Ae[N]=he,Ae[se]=re,Ae[de]=ce,Ae.sanitizeId=ke,Ae.sanitizeInput=Ie,Ae.padNumber=Qe,Ae.trim=ue.EH,Ae),Ke=function(){function Re(ve,Ee,Me,je){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var et=this;et.ver=2,et[k]=Ue(ve,Ee)||_,et[q]=re(ve,Me),et[H]=ce(ve,je)}return Re.envelopeType="Microsoft.ApplicationInsights.{0}.Event",Re.dataType="EventData",Re}(),Ot=function(){function Re(ve,Ee,Me,je,et){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var at=this;at.ver=2,Ee=Ee||_,at[R]=Ye(ve,Ee),at[q]=re(ve,je),at[H]=ce(ve,et),Me&&(at[ie]=Me)}return Re.envelopeType="Microsoft.ApplicationInsights.{0}.Message",Re.dataType="MessageData",Re}(),st="";function lt(Re,ve){return ve===void 0&&(ve=!1),Re==null?ve:Re.toString()[c]()==="true"}function bt(Re){(isNaN(Re)||Re<0)&&(Re=0),Re=Math.round(Re);var ve=st+Re%1e3,Ee=st+Math.floor(Re/1e3)%60,Me=st+Math.floor(Re/(1e3*60))%60,je=st+Math.floor(Re/(1e3*60*60))%24,et=Math.floor(Re/(1e3*60*60*24));return ve=ve[S]===1?"00"+ve:ve[S]===2?"0"+ve:ve,Ee=Ee[S]<2?"0"+Ee:Ee,Me=Me[S]<2?"0"+Me:Me,je=je[S]<2?"0"+je:je,(et>0?et+".":st)+je+":"+Me+":"+Ee+"."+ve}function vt(Re,ve){var Ee=null;return(0,ue.Iu)(Re,function(Me){if(Me.identifier===ve)return Ee=Me,-1}),Ee}function yt(Re,ve,Ee,Me,je){return!je&&(0,ue.Kg)(Re)&&(Re==="Script error."||Re==="Script error")}var ci=function(){function Re(ve,Ee,Me,je,et,at,mt){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Gt=this;Gt.ver=2,Gt.id=ke(ve,mt),Gt.url=He(ve,Me),Gt[k]=Ue(ve,Ee)||_,isNaN(je)||(Gt[me]=bt(je)),Gt[q]=re(ve,et),Gt[H]=ce(ve,at)}return Re.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Re.dataType="PageviewData",Re}(),wt=function(){function Re(ve,Ee,Me,je,et,at,mt){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Gt=this;Gt.ver=2,Gt.url=He(ve,Me),Gt[k]=Ue(ve,Ee)||_,Gt[q]=re(ve,et),Gt[H]=ce(ve,at),mt&&(Gt.domProcessing=mt.domProcessing,Gt[me]=mt[me],Gt.networkConnect=mt.networkConnect,Gt.perfTotal=mt.perfTotal,Gt[ge]=mt[ge],Gt.sentRequest=mt.sentRequest)}return Re.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",Re.dataType="PageviewPerformanceData",Re}(),Tt="<no_method>",Ii="error",It="stack",zt="stackDetails",vn="errorSrc",Zt="message",Ct="description";function ei(Re,ve){var Ee=Re;return Ee&&!(0,ue.Kg)(Ee)&&(JSON&&JSON[X]?(Ee=JSON[X](Re),ve&&(!Ee||Ee==="{}")&&((0,ue.Tn)(Re[d])?Ee=Re[d]():Ee=""+Re)):Ee=""+Re+" - (Missing JSON.stringify)"),Ee||""}function Wt(Re,ve){var Ee=Re;return Re&&(Ee&&!(0,ue.Kg)(Ee)&&(Ee=Re[Zt]||Re[Ct]||Ee),Ee&&!(0,ue.Kg)(Ee)&&(Ee=ei(Ee,!0)),Re.filename&&(Ee=Ee+" @"+(Re.filename||"")+":"+(Re.lineno||"?")+":"+(Re.colno||"?"))),ve&&ve!=="String"&&ve!=="Object"&&ve!=="Error"&&(Ee||"")[$](ve)===-1&&(Ee=ve+": "+Ee),Ee||""}function ti(Re){try{if((0,ue.Gv)(Re))return"hasFullStack"in Re&&"typeName"in Re}catch{}return!1}function Qn(Re){try{if((0,ue.Gv)(Re))return"ver"in Re&&"exceptions"in Re&&"properties"in Re}catch{}return!1}function xe(Re){return Re&&Re.src&&(0,ue.Kg)(Re.src)&&Re.obj&&(0,ue.cy)(Re.obj)}function Je(Re){var ve=Re||"";(0,ue.Kg)(ve)||((0,ue.Kg)(ve[It])?ve=ve[It]:ve=""+ve);var Ee=ve[l](`
`);return{src:ve,obj:Ee}}function tt(Re){for(var ve=[],Ee=Re[l](`
`),Me=0;Me<Ee[S];Me++){var je=Ee[Me];Ee[Me+1]&&(je+="@"+Ee[Me+1],Me++),ve.push(je)}return{src:Re,obj:ve}}function ft(Re){var ve=null;if(Re)try{if(Re[It])ve=Je(Re[It]);else if(Re[Ii]&&Re[Ii][It])ve=Je(Re[Ii][It]);else if(Re.exception&&Re.exception[It])ve=Je(Re.exception[It]);else if(xe(Re))ve=Re;else if(xe(Re[zt]))ve=Re[zt];else if(window&&window.opera&&Re[Zt])ve=tt(Re[R]);else if(Re.reason&&Re.reason[It])ve=Je(Re.reason[It]);else if((0,ue.Kg)(Re))ve=Je(Re);else{var Ee=Re[Zt]||Re[Ct]||"";(0,ue.Kg)(Re[vn])&&(Ee&&(Ee+=`
`),Ee+=" from "+Re[vn]),Ee&&(ve=Je(Ee))}}catch(Me){ve=Je(Me)}return ve||{src:"",obj:null}}function gt(Re){var ve="";return Re&&(Re.obj?(0,ue.Iu)(Re.obj,function(Ee){ve+=Ee+`
`}):ve=Re.src||""),ve}function si(Re){var ve,Ee=Re.obj;if(Ee&&Ee[S]>0){ve=[];var Me=0,je=0;(0,ue.Iu)(Ee,function(zi){var Mi=zi[d]();if(St.regex.test(Mi)){var ut=new St(Mi,Me++);je+=ut[K],ve.push(ut)}});var et=32*1024;if(je>et)for(var at=0,mt=ve[S]-1,Gt=0,Vt=at,ii=mt;at<mt;){var Ei=ve[at][K],Oi=ve[mt][K];if(Gt+=Ei+Oi,Gt>et){var Ti=ii-Vt+1;ve.splice(Vt,Ti);break}Vt=at,ii=mt,at++,mt--}}return ve}function Rt(Re){var ve="";if(Re&&(ve=Re.typeName||Re[k]||"",!ve))try{var Ee=/function (.{1,200})\(/,Me=Ee.exec(Re.constructor[d]());ve=Me&&Me[S]>1?Me[1]:""}catch{}return ve}function Bt(Re){if(Re)try{if(!(0,ue.Kg)(Re)){var ve=Rt(Re),Ee=ei(Re,!1);return(!Ee||Ee==="{}")&&(Re[Ii]&&(Re=Re[Ii],ve=Rt(Re)),Ee=ei(Re,!0)),Ee[$](ve)!==0&&ve!=="String"?ve+":"+Ee:Ee}}catch{}return""+(Re||"")}var xt=function(){function Re(ve,Ee,Me,je,et,at){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var mt=this;mt.ver=2,Qn(Ee)?(mt[u]=Ee[u]||[],mt[q]=Ee[q],mt[H]=Ee[H],Ee[ie]&&(mt[ie]=Ee[ie]),Ee.id&&(mt.id=Ee.id),Ee[J]&&(mt[J]=Ee[J]),(0,ue.hX)(Ee[B])||(mt[B]=Ee[B])):(Me||(Me={}),mt[u]=[new pt(ve,Ee,Me)],mt[q]=re(ve,Me),mt[H]=ce(ve,je),et&&(mt[ie]=et),at&&(mt.id=at))}return Re.CreateAutoException=function(ve,Ee,Me,je,et,at,mt,Gt){var Vt,ii=Rt(et||at||ve);return Vt={},Vt[R]=Wt(ve,ii),Vt.url=Ee,Vt.lineNumber=Me,Vt.columnNumber=je,Vt.error=Bt(et||at||ve),Vt.evt=Bt(at||ve),Vt[G]=ii,Vt.stackDetails=ft(mt||et||at),Vt.errorSrc=Gt,Vt},Re.CreateFromInterface=function(ve,Ee,Me,je){var et=Ee[u]&&(0,ue.W$)(Ee[u],function(mt){return pt[ae](ve,mt)}),at=new Re(ve,(0,L.Im)((0,L.Im)({},Ee),{exceptions:et}),Me,je);return at},Re.prototype.toInterface=function(){var ve,Ee=this,Me=Ee.exceptions,je=Ee.properties,et=Ee.measurements,at=Ee.severityLevel,mt=Ee.problemGroup,Gt=Ee.id,Vt=Ee.isManual,ii=Me instanceof Array&&(0,ue.W$)(Me,function(Ei){return Ei.toInterface()})||void 0;return ve={ver:"4.0"},ve[u]=ii,ve.severityLevel=at,ve.properties=je,ve.measurements=et,ve.problemGroup=mt,ve.id=Gt,ve.isManual=Vt,ve},Re.CreateSimpleException=function(ve,Ee,Me,je,et,at){var mt;return{exceptions:[(mt={},mt[Ne]=!0,mt.message=ve,mt.stack=et,mt.typeName=Ee,mt)]}},Re.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",Re.dataType="ExceptionData",Re.formatError=Bt,Re}(),pt=function(){function Re(ve,Ee,Me){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var je=this;if(ti(Ee))je[G]=Ee[G],je[R]=Ee[R],je[It]=Ee[It],je[E]=Ee[E]||[],je[Ne]=Ee[Ne];else{var et=Ee,at=et&&et.evt;(0,ue.bJ)(et)||(et=et[Ii]||at||et),je[G]=Ue(ve,Rt(et))||_,je[R]=Ye(ve,Wt(Ee||et,je[G]))||_;var mt=Ee[zt]||ft(Ee);je[E]=si(mt),je[It]=he(ve,gt(mt)),je.hasFullStack=(0,ue.cy)(je.parsedStack)&&je.parsedStack[S]>0,Me&&(Me[G]=Me[G]||je[G])}}return Re.prototype.toInterface=function(){var ve,Ee=this,Me=Ee[E]instanceof Array&&(0,ue.W$)(Ee[E],function(et){return et.toInterface()}),je=(ve={id:Ee.id,outerId:Ee.outerId,typeName:Ee[G],message:Ee[R],hasFullStack:Ee[Ne],stack:Ee[It]},ve[E]=Me||void 0,ve);return je},Re.CreateFromInterface=function(ve,Ee){var Me=Ee[E]instanceof Array&&(0,ue.W$)(Ee[E],function(et){return St[ae](et)})||Ee[E],je=new Re(ve,(0,L.Im)((0,L.Im)({},Ee),{parsedStack:Me}));return je},Re}(),St=function(){function Re(ve,Ee){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Me=this;if(Me[K]=0,typeof ve=="string"){var je=ve;Me[be]=Ee,Me[we]=Tt,Me[Te]=(0,ue.EH)(je),Me[ee]="",Me[ne]=0;var et=je.match(Re.regex);et&&et[S]>=5&&(Me[we]=(0,ue.EH)(et[2])||Me[we],Me[ee]=(0,ue.EH)(et[4]),Me[ne]=parseInt(et[5])||0)}else Me[be]=ve[be],Me[we]=ve[we],Me[Te]=ve[Te],Me[ee]=ve[ee],Me[ne]=ve[ne],Me[K]=0;Me.sizeInBytes+=Me.method[S],Me.sizeInBytes+=Me.fileName[S],Me.sizeInBytes+=Me.assembly[S],Me[K]+=Re.baseSize,Me.sizeInBytes+=Me.level.toString()[S],Me.sizeInBytes+=Me.line.toString()[S]}return Re.CreateFromInterface=function(ve){return new Re(ve,null)},Re.prototype.toInterface=function(){var ve=this;return{level:ve[be],method:ve[we],assembly:ve[Te],fileName:ve[ee],line:ve[ne]}},Re.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,Re.baseSize=58,Re}(),Pt=function(){function Re(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return Re}(),di=function(){function Re(ve,Ee,Me,je,et,at,mt,Gt,Vt){this.aiDataContract={ver:1,metrics:1,properties:0};var ii=this;ii.ver=2;var Ei=new Pt;Ei[P]=je>0?je:void 0,Ei.max=isNaN(at)||at===null?void 0:at,Ei.min=isNaN(et)||et===null?void 0:et,Ei[k]=Ue(ve,Ee)||_,Ei.value=Me,Ei.stdDev=isNaN(mt)||mt===null?void 0:mt,ii.metrics=[Ei],ii[q]=re(ve,Gt),ii[H]=ce(ve,Vt)}return Re.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",Re.dataType="MetricData",Re}(),ni=M(32578),Ut=M(91698),Si=M(57679),fi=M(18413);function ai(Re){var ve=null;if((0,ue.Tn)(Event))ve=new Event(Re);else{var Ee=(0,pe.YE)();Ee&&Ee.createEvent&&(ve=Ee.createEvent("Event"),ve.initEvent(Re,!0,!0))}return ve}var Di=M(96434),Qi=(0,Di.oP)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Yi=M(75148),Hi=(0,Di.Hj)({LocalStorage:0,SessionStorage:1}),Gi=(0,Di.Hj)({AI:0,AI_AND_W3C:1,W3C:2}),Kt=void 0,oi=void 0;function wi(){return on()?qi(Hi.LocalStorage):null}function qi(Re){try{if((0,ue.hX)((0,Yi.mS)()))return null;var ve=new Date()[d](),Ee=(0,pe.EH)(Re===Hi.LocalStorage?"localStorage":"sessionStorage");Ee.setItem(ve,ve);var Me=Ee.getItem(ve)!==ve;if(Ee[w](ve),!Me)return Ee}catch{}return null}function hi(){return sn()?qi(Hi.SessionStorage):null}function Ri(){Kt=!1,oi=!1}function Vi(){Kt=on(!0),oi=sn(!0)}function on(Re){return(Re||Kt===void 0)&&(Kt=!!qi(Hi.LocalStorage)),Kt}function Bi(Re,ve){var Ee=wi();if(Ee!==null)try{return Ee.getItem(ve)}catch(Me){Kt=!1,(0,le.ZP)(Re,2,1,"Browser failed read of local storage. "+(0,ue.lL)(Me),{exception:(0,pe.mm)(Me)})}return null}function wn(Re,ve,Ee){var Me=wi();if(Me!==null)try{return Me.setItem(ve,Ee),!0}catch(je){Kt=!1,(0,le.ZP)(Re,2,3,"Browser failed write to local storage. "+(0,ue.lL)(je),{exception:(0,pe.mm)(je)})}return!1}function Li(Re,ve){var Ee=wi();if(Ee!==null)try{return Ee[w](ve),!0}catch(Me){Kt=!1,(0,le.ZP)(Re,2,5,"Browser failed removal of local storage item. "+(0,ue.lL)(Me),{exception:(0,pe.mm)(Me)})}return!1}function sn(Re){return(Re||oi===void 0)&&(oi=!!qi(Hi.SessionStorage)),oi}function Mn(){var Re=[];return sn()&&(0,ue.z)((0,pe.EH)("sessionStorage"),function(ve){Re.push(ve)}),Re}function _n(Re,ve){var Ee=hi();if(Ee!==null)try{return Ee.getItem(ve)}catch(Me){oi=!1,(0,le.ZP)(Re,2,2,"Browser failed read of session storage. "+(0,ue.lL)(Me),{exception:(0,pe.mm)(Me)})}return null}function cn(Re,ve,Ee){var Me=hi();if(Me!==null)try{return Me.setItem(ve,Ee),!0}catch(je){oi=!1,(0,le.ZP)(Re,2,4,"Browser failed write to session storage. "+(0,ue.lL)(je),{exception:(0,pe.mm)(je)})}return!1}function Pi(Re,ve){var Ee=hi();if(Ee!==null)try{return Ee[w](ve),!0}catch(Me){oi=!1,(0,le.ZP)(Re,2,6,"Browser failed removal of session storage item. "+(0,ue.lL)(Me),{exception:(0,pe.mm)(Me)})}return!1}var gi=(0,pe.YE)()||{},In=0,Wr=[null,null,null,null,null];function Bn(Re){var ve=In,Ee=Wr,Me=Ee[ve];return gi.createElement?Ee[ve]||(Me=Ee[ve]=gi.createElement("a")):Me={host:Kr(Re,!0)},Me.href=Re,ve++,ve>=Ee[S]&&(ve=0),In=ve,Me}function Br(Re){var ve,Ee=Bn(Re);return Ee&&(ve=Ee.href),ve}function rr(Re){var ve,Ee=Bn(Re);return Ee&&(ve=Ee[Y]),ve}function aa(Re,ve){return Re?Re.toUpperCase()+" "+ve:ve}function Kr(Re,ve){var Ee=Tn(Re,ve)||"";if(Ee){var Me=Ee.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Me!=null&&Me[S]>3&&(0,ue.Kg)(Me[2])&&Me[2][S]>0)return Me[2]+(Me[3]||"")}return Ee}function Tn(Re,ve){var Ee=null;if(Re){var Me=Re.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Me!=null&&Me[S]>2&&(0,ue.Kg)(Me[2])&&Me[2][S]>0&&(Ee=Me[2]||"",ve&&Me[S]>2)){var je=(Me[1]||"")[c](),et=Me[3]||"";(je==="http"&&et===":80"||je==="https"&&et===":443")&&(et=""),Ee+=et}}return Ee}var Ha=[p+m,"https://breeze.aimon.applicationinsights.io"+m,"https://dc-int.services.visualstudio.com"+m];function Rr(Re){return(0,ue.rD)(Ha,Re[c]())!==-1}var Er={NotSpecified:_,createDomEvent:ai,disableStorage:Ri,isInternalApplicationInsightsEndpoint:Rr,canUseLocalStorage:on,getStorage:Bi,setStorage:wn,removeStorage:Li,canUseSessionStorage:sn,getSessionStorageKeys:Mn,getSessionStorage:_n,setSessionStorage:cn,removeSessionStorage:Pi,disableCookies:ni.WD,canUseCookies:ni.ht,disallowsSameSiteNone:Ut.It,setCookie:ni.TV,stringToBoolOrDefault:lt,getCookie:ni.Ri,deleteCookie:ni.Yj,trim:ue.EH,newId:Si.Si,random32:function(){return(0,Si.VN)(!0)},generateW3CId:ni.cL,isArray:ue.cy,isError:ue.bJ,isDate:ue.$P,toISOStringForIE8:ue._u,getIEVersion:pe.L0,msToTimeSpan:bt,isCrossOriginError:yt,dump:pe.mm,getExceptionName:ue.lL,addEventHandler:fi.Q3,IsBeaconApiSupported:pe.Uf,getExtension:vt},ba={parseUrl:Bn,getAbsoluteUrl:Br,getPathName:rr,getCompleteUrl:aa,parseHost:Kr,parseFullHost:Tn},sa={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(Re,ve,Ee){if(!ve||Re&&Re.disableCorrelationHeaders)return!1;if(Re&&Re[O]){for(var Me=0;Me<Re.correlationHeaderExcludePatterns[S];Me++)if(Re[O][Me].test(ve))return!1}var je=Bn(ve).host[c]();if(je&&(je[$](":443")!==-1||je[$](":80")!==-1)&&(je=(Tn(ve,!0)||"")[c]()),(!Re||!Re.enableCorsCorrelation)&&je&&je!==Ee)return!1;var et=Re&&Re.correlationHeaderDomains;if(et){var at;if((0,ue.Iu)(et,function(Vt){var ii=new RegExp(Vt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));at=at||ii.test(je)}),!at)return!1}var mt=Re&&Re.correlationHeaderExcludedDomains;if(!mt||mt[S]===0)return!0;for(var Me=0;Me<mt[S];Me++){var Gt=new RegExp(mt[Me].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Gt.test(je))return!1}return je&&je[S]>0},getCorrelationContext:function(Re){if(Re){var ve=sa.getCorrelationContextValue(Re,Qi[1]);if(ve&&ve!==sa.correlationIdPrefix)return ve}},getCorrelationContextValue:function(Re,ve){if(Re)for(var Ee=Re[l](","),Me=0;Me<Ee[S];++Me){var je=Ee[Me][l]("=");if(je[S]===2&&je[0]===ve)return je[1]}}};function Ga(Re,ve,Ee,Me){var je,et=Me,at=Me;if(ve&&ve[S]>0){var mt=Bn(ve);if(je=mt.host,!et)if(mt[Y]!=null){var Gt=mt.pathname[S]===0?"/":mt[Y];Gt.charAt(0)!=="/"&&(Gt="/"+Gt),at=mt[Y],et=Ue(Re,Ee?Ee+" "+Gt:Gt)}else et=Ue(Re,ve)}else je=Me,et=Me;return{target:je,name:et,data:at}}function Qr(){var Re=(0,pe.FJ)();if(Re&&Re.now&&Re.timing){var ve=Re.now()+Re.timing.navigationStart;if(ve>0)return ve}return(0,ue.x3)()}function vr(Re,ve){var Ee=null;return Re!==0&&ve!==0&&!(0,ue.hX)(Re)&&!(0,ue.hX)(ve)&&(Ee=ve-Re),Ee}var to={Now:Qr,GetDuration:vr};function Va(Re,ve){var Ee=Re||{};return{getName:function(){return Ee[_DYN_NAME]},setName:function(Me){ve&&ve.setName(Me),Ee[_DYN_NAME]=Me},getTraceId:function(){return Ee.traceID},setTraceId:function(Me){ve&&ve.setTraceId(Me),isValidTraceId(Me)&&(Ee.traceID=Me)},getSpanId:function(){return Ee.parentID},setSpanId:function(Me){ve&&ve.setSpanId(Me),isValidSpanId(Me)&&(Ee.parentID=Me)},getTraceFlags:function(){return Ee.traceFlags},setTraceFlags:function(Me){ve&&ve.setTraceFlags(Me),Ee.traceFlags=Me}}}var Yr=function(){function Re(ve,Ee,Me,je,et,at,mt,Gt,Vt,ii,Ei,Oi){Vt===void 0&&(Vt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Ti=this;Ti.ver=2,Ti.id=Ee,Ti[me]=bt(et),Ti.success=at,Ti.resultCode=mt+"",Ti.type=Ue(ve,Vt);var zi=Ga(ve,Me,Gt,je);Ti.data=He(ve,je)||zi.data,Ti.target=Ue(ve,zi.target),ii&&(Ti.target="".concat(Ti.target," | ").concat(ii)),Ti[k]=Ue(ve,zi[k]),Ti[q]=re(ve,Ei),Ti[H]=ce(ve,Oi)}return Re.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",Re.dataType="RemoteDependencyData",Re}(),Es="AppInsightsPropertiesPlugin",oa="AppInsightsChannelPlugin",as="ApplicationInsightsAnalytics",ss=M(64252),os=M(56489);function Cn(Re){var ve="ai."+Re+".";return function(Ee){return ve+Ee}}var qr=Cn("application"),ze=Cn("device"),_t=Cn("location"),kt=Cn("operation"),Mt=Cn("session"),Ht=Cn("user"),yi=Cn("cloud"),pi=Cn("internal"),Xe=function(Re){(0,L.qU)(ve,Re);function ve(){return Re.call(this)||this}return ve}((0,ue.SZ)({applicationVersion:qr("ver"),applicationBuild:qr("build"),applicationTypeId:qr("typeId"),applicationId:qr("applicationId"),applicationLayer:qr("layer"),deviceId:ze("id"),deviceIp:ze("ip"),deviceLanguage:ze("language"),deviceLocale:ze("locale"),deviceModel:ze("model"),deviceFriendlyName:ze("friendlyName"),deviceNetwork:ze("network"),deviceNetworkName:ze("networkName"),deviceOEMName:ze("oemName"),deviceOS:ze("os"),deviceOSVersion:ze("osVersion"),deviceRoleInstance:ze("roleInstance"),deviceRoleName:ze("roleName"),deviceScreenResolution:ze("screenResolution"),deviceType:ze("type"),deviceMachineName:ze("machineName"),deviceVMName:ze("vmName"),deviceBrowser:ze("browser"),deviceBrowserVersion:ze("browserVersion"),locationIp:_t("ip"),locationCountry:_t("country"),locationProvince:_t("province"),locationCity:_t("city"),operationId:kt("id"),operationName:kt("name"),operationParentId:kt("parentId"),operationRootId:kt("rootId"),operationSyntheticSource:kt("syntheticSource"),operationCorrelationVector:kt("correlationVector"),sessionId:Mt("id"),sessionIsFirst:Mt("isFirst"),sessionIsNew:Mt("isNew"),userAccountAcquisitionDate:Ht("accountAcquisitionDate"),userAccountId:Ht("accountId"),userAgent:Ht("userAgent"),userId:Ht("id"),userStoreRegion:Ht("storeRegion"),userAuthUserId:Ht("authUserId"),userAnonymousUserAcquisitionDate:Ht("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Ht("authUserAcquisitionDate"),cloudName:yi("name"),cloudRole:yi("role"),cloudRoleVer:yi("roleVer"),cloudRoleInstance:yi("roleInstance"),cloudEnvironment:yi("environment"),cloudLocation:yi("location"),cloudDeploymentUnit:yi("deploymentUnit"),internalNodeName:pi("nodeName"),internalSdkVersion:pi("sdkVersion"),internalAgentVersion:pi("agentVersion"),internalSnippet:pi("snippet"),internalSdkSrc:pi("sdkSrc")})),ht={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},ot=new Xe,Dt=function(){function Re(ve,Ee,Me){var je=this,et=this;et.ver=1,et.sampleRate=100,et.tags={},et[k]=Ue(ve,Me)||_,et.data=Ee,et.time=(0,ue._u)(new Date),et.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return je.sampleRate===100?4:1},tags:1,data:1}}return Re}(),Qt=function(){function Re(ve,Ee){this.aiDataContract={baseType:1,baseData:1},this.baseType=ve,this.baseData=Ee}return Re}(),ui="duration",vi="tags",Ni="deviceType",Ui="data",Dn="name",bn="traceID",Ai="length",Vn="stringify",Ir="measurements",Nr="dataType",Dr="envelopeType",ji="toString",Fr="onLine",Xi="enqueue",dn="count",$r="push",ya="emitLineDelimitedJson",ja="clear",xr="batchPayloads",wa="markAsSent",Fn="clearSent",Ns="BUFFER_KEY",Tr="SENT_BUFFER_KEY",kn="MAX_BUFFER_SIZE",za="namePrefix",tl="maxBatchSizeInBytes",ls="triggerSend",ar="diagLog",Ft="onunloadDisableBeacon",qn="isBeaconApiDisabled",_a="_sender",xi="_senderConfig",Zr="_buffer",io="enableSessionStorageBuffer",yn="samplingPercentage",sr="instrumentationKey",Yn="endpointUrl",Ql="customHeaders",en="disableXhr",$t="onunloadDisableFetch",Jr="disableTelemetry",ka="baseType",no="sampleRate",Yl="convertUndefined",Dc="_xhrReadyStateChange",Wi="_onError",ro="_onPartialSuccess",ao="_onSuccess",so="itemsAccepted",Zl="itemsReceived",Ts="isRetryDisabled",il="setRequestHeader",us="maxBatchInterval",oo="eventsSendRequest",Jl="disableInstrumentationKeyValidation",nl="getSamplingScore",Cs="getHashCodeScore",rl="baseType",mn="baseData",$n="properties",Xl="true";function Pn(Re,ve,Ee){return(0,ue.KY)(Re,ve,Ee,ue.zz)}function Fc(Re,ve,Ee){var Me=Ee[vi]=Ee[vi]||{},je=ve.ext=ve.ext||{},et=ve[vi]=ve[vi]||[],at=je.user;at&&(Pn(Me,ot.userAuthUserId,at.authId),Pn(Me,ot.userId,at.id||at.localId));var mt=je.app;mt&&Pn(Me,ot.sessionId,mt.sesId);var Gt=je.device;Gt&&(Pn(Me,ot.deviceId,Gt.id||Gt.localId),Pn(Me,ot[Ni],Gt.deviceClass),Pn(Me,ot.deviceIp,Gt.ip),Pn(Me,ot.deviceModel,Gt.model),Pn(Me,ot[Ni],Gt[Ni]));var Vt=ve.ext.web;if(Vt){Pn(Me,ot.deviceLanguage,Vt.browserLang),Pn(Me,ot.deviceBrowserVersion,Vt.browserVer),Pn(Me,ot.deviceBrowser,Vt.browser);var ii=Ee[Ui]=Ee[Ui]||{},Ei=ii[mn]=ii[mn]||{},Oi=Ei[$n]=Ei[$n]||{};Pn(Oi,"domain",Vt.domain),Pn(Oi,"isManual",Vt.isManual?Xl:null),Pn(Oi,"screenRes",Vt.screenRes),Pn(Oi,"userConsent",Vt.userConsent?Xl:null)}var Ti=je.os;Ti&&Pn(Me,ot.deviceOS,Ti[Dn]);var zi=je.trace;zi&&(Pn(Me,ot.operationParentId,zi.parentID),Pn(Me,ot.operationName,Ue(Re,zi[Dn])),Pn(Me,ot.operationId,zi[bn]));for(var Mi={},ut=et[Ai]-1;ut>=0;ut--){var gn=et[ut];(0,ue.z)(gn,function(ds,Sn){Mi[ds]=Sn}),et.splice(ut,1)}(0,ue.z)(et,function(ds,Sn){Mi[ds]=Sn});var Or=(0,L.Im)((0,L.Im)({},Me),Mi);Or[ot.internalSdkVersion]||(Or[ot.internalSdkVersion]="javascript:".concat(xc.Version)),Ee[vi]=(0,ue.hW)(Or)}function Sa(Re,ve,Ee){(0,ue.hX)(Re)||(0,ue.z)(Re,function(Me,je){(0,ue.Et)(je)?Ee[Me]=je:(0,ue.Kg)(je)?ve[Me]=je:(0,pe.Z)()&&(ve[Me]=(0,pe.hm)()[Vn](je))})}function Wa(Re,ve){(0,ue.hX)(Re)||(0,ue.z)(Re,function(Ee,Me){Re[Ee]=Me||ve})}function Ka(Re,ve,Ee,Me){var je=new Dt(Re,Me,ve);Pn(je,"sampleRate",Ee[C]),(Ee[mn]||{}).startTime&&(je.time=(0,ue._u)(Ee[mn].startTime)),je.iKey=Ee.iKey;var et=Ee.iKey.replace(/-/g,"");return je[Dn]=je[Dn].replace("{0}",et),Fc(Re,Ee,je),Ee[vi]=Ee[vi]||[],(0,ue.hW)(je)}function Ra(Re,ve){(0,ue.hX)(ve[mn])&&(0,le.ZP)(Re,1,46,"telemetryItem.baseData cannot be null.")}var xc={Version:"2.8.10"};function Oc(Re,ve,Ee){Ra(Re,ve);var Me=ve[mn][Ir]||{},je=ve[mn][$n]||{};Sa(ve[Ui],je,Me),(0,ue.hX)(Ee)||Wa(je,Ee);var et=ve[mn];if((0,ue.hX)(et))return(0,le.OG)(Re,"Invalid input for dependency data"),null;var at=et[$n]&&et[$n][h]?et[$n][h]:"GET",mt=new Yr(Re,et.id,et.target,et[Dn],et[ui],et.success,et.responseCode,at,et.type,et.correlationContext,je,Me),Gt=new Qt(Yr[Nr],mt);return Ka(Re,Yr[Dr],ve,Gt)}function Ps(Re,ve,Ee){Ra(Re,ve);var Me={},je={};ve[rl]!==Ke[Nr]&&(Me.baseTypeSource=ve[rl]),ve[rl]===Ke[Nr]?(Me=ve[mn][$n]||{},je=ve[mn][Ir]||{}):ve[mn]&&Sa(ve[mn],Me,je),Sa(ve[Ui],Me,je),(0,ue.hX)(Ee)||Wa(Me,Ee);var et=ve[mn][Dn],at=new Ke(Re,et,Me,je),mt=new Qt(Ke[Nr],at);return Ka(Re,Ke[Dr],ve,mt)}function Lc(Re,ve,Ee){Ra(Re,ve);var Me=ve[mn][Ir]||{},je=ve[mn][$n]||{};Sa(ve[Ui],je,Me),(0,ue.hX)(Ee)||Wa(je,Ee);var et=ve[mn],at=xt.CreateFromInterface(Re,et,je,Me),mt=new Qt(xt[Nr],at);return Ka(Re,xt[Dr],ve,mt)}function Uc(Re,ve,Ee){Ra(Re,ve);var Me=ve[mn],je=Me[$n]||{},et=Me[Ir]||{};Sa(ve[Ui],je,et),(0,ue.hX)(Ee)||Wa(je,Ee);var at=new di(Re,Me[Dn],Me.average,Me.sampleCount,Me.min,Me.max,Me.stdDev,je,et),mt=new Qt(di[Nr],at);return Ka(Re,di[Dr],ve,mt)}function Bc(Re,ve,Ee){Ra(Re,ve);var Me,je=ve[mn];!(0,ue.hX)(je)&&!(0,ue.hX)(je[$n])&&!(0,ue.hX)(je[$n][ui])?(Me=je[$n][ui],delete je[$n][ui]):!(0,ue.hX)(ve[Ui])&&!(0,ue.hX)(ve[Ui][ui])&&(Me=ve[Ui][ui],delete ve[Ui][ui]);var et=ve[mn],at;((ve.ext||{}).trace||{})[bn]&&(at=ve.ext.trace[bn]);var mt=et.id||at,Gt=et[Dn],Vt=et.uri,ii=et[$n]||{},Ei=et[Ir]||{};if((0,ue.hX)(et.refUri)||(ii.refUri=et.refUri),(0,ue.hX)(et.pageType)||(ii.pageType=et.pageType),(0,ue.hX)(et.isLoggedIn)||(ii.isLoggedIn=et.isLoggedIn[ji]()),!(0,ue.hX)(et[$n])){var Oi=et[$n];(0,ue.z)(Oi,function(Mi,ut){ii[Mi]=ut})}Sa(ve[Ui],ii,Ei),(0,ue.hX)(Ee)||Wa(ii,Ee);var Ti=new ci(Re,Gt,Vt,Me,ii,Ei,mt),zi=new Qt(ci[Nr],Ti);return Ka(Re,ci[Dr],ve,zi)}function cs(Re,ve,Ee){Ra(Re,ve);var Me=ve[mn],je=Me[Dn],et=Me.uri||Me.url,at=Me[$n]||{},mt=Me[Ir]||{};Sa(ve[Ui],at,mt),(0,ue.hX)(Ee)||Wa(at,Ee);var Gt=new wt(Re,je,et,void 0,at,mt,Me),Vt=new Qt(wt[Nr],Gt);return Ka(Re,wt[Dr],ve,Vt)}function eu(Re,ve,Ee){Ra(Re,ve);var Me=ve[mn].message,je=ve[mn].severityLevel,et=ve[mn][$n]||{},at=ve[mn][Ir]||{};Sa(ve[Ui],et,at),(0,ue.hX)(Ee)||Wa(et,Ee);var mt=new Ot(Re,Me,je,et,at),Gt=new Qt(Ot[Nr],mt);return Ka(Re,Ot[Dr],ve,Gt)}function al(Re,ve){(0,fi.ML)(Re,null,null,ve)}function br(Re){var ve=(0,pe.YE)(),Ee=(0,pe.w3)(),Me=!1,je=!0,et=(0,fi.Hm)((0,ss.Z)("OfflineListener"),Re);try{if(mt((0,pe.zk)())&&(Me=!0),ve){var at=ve.body||ve;at.ononline&&mt(at)&&(Me=!0)}Me&&Ee&&!(0,ue.hX)(Ee[Fr])&&(je=Ee[Fr])}catch{Me=!1}function mt(Oi){var Ti=!1;return Oi&&(Ti=(0,fi.mB)(Oi,"online",Gt,et),Ti&&(0,fi.mB)(Oi,"offline",Vt,et)),Ti}function Gt(){je=!0}function Vt(){je=!1}function ii(){var Oi=!0;return Me?Oi=je:Ee&&!(0,ue.hX)(Ee[Fr])&&(Oi=Ee[Fr]),Oi}function Ei(){var Oi=(0,pe.zk)();if(Oi&&Me){if(al(Oi,et),ve){var Ti=ve.body||ve;(0,ue.b0)(Ti.ononline)||al(Ti,et)}Me=!1}}return{isOnline:ii,isListening:function(){return Me},unload:Ei}}var tu=function(){function Re(ve,Ee){var Me=[],je=!1;this._get=function(){return Me},this._set=function(et){return Me=et,Me},(0,A.A)(Re,this,function(et){et[Xi]=function(at){if(et[dn]()>=Ee.eventsLimitInMem()){je||((0,le.ZP)(ve,2,105,"Maximum in-memory buffer size reached: "+et[dn](),!0),je=!0);return}Me[$r](at)},et[dn]=function(){return Me[Ai]},et.size=function(){for(var at=Me[Ai],mt=0;mt<Me[Ai];mt++)at+=Me[mt][Ai];return Ee[ya]()||(at+=2),at},et[ja]=function(){Me=[],je=!1},et.getItems=function(){return Me.slice(0)},et[xr]=function(at){if(at&&at[Ai]>0){var mt=Ee[ya]()?at.join(`
`):"["+at.join(",")+"]";return mt}return null}})}return Re.__ieDyn=1,Re}(),pn=function(Re){(0,L.qU)(ve,Re);function ve(Ee,Me){var je=Re.call(this,Ee,Me)||this;return(0,A.A)(ve,je,function(et,at){et[wa]=function(mt){at[ja]()},et[Fn]=function(mt){}}),je}return ve.__ieDyn=1,ve}(tu),li=function(Re){(0,L.qU)(ve,Re);function ve(Ee,Me){var je=Re.call(this,Ee,Me)||this,et=!1;return(0,A.A)(ve,je,function(at,mt){var Gt=Oi(ve[Ns]),Vt=Oi(ve[Tr]),ii=at._set(Gt.concat(Vt));ii[Ai]>ve[kn]&&(ii[Ai]=ve[kn]),Ti(ve[Tr],[]),Ti(ve[Ns],ii),at[Xi]=function(zi){if(at[dn]()>=ve[kn]){et||((0,le.ZP)(Ee,2,67,"Maximum buffer size reached: "+at[dn](),!0),et=!0);return}mt[Xi](zi),Ti(ve[Ns],at._get())},at[ja]=function(){mt[ja](),Ti(ve[Ns],at._get()),Ti(ve[Tr],[]),et=!1},at[wa]=function(zi){Ti(ve[Ns],at._set(Ei(zi,at._get())));var Mi=Oi(ve[Tr]);Mi instanceof Array&&zi instanceof Array&&(Mi=Mi.concat(zi),Mi[Ai]>ve[kn]&&((0,le.ZP)(Ee,1,67,"Sent buffer reached its maximum size: "+Mi[Ai],!0),Mi[Ai]=ve[kn]),Ti(ve[Tr],Mi))},at[Fn]=function(zi){var Mi=Oi(ve[Tr]);Mi=Ei(zi,Mi),Ti(ve[Tr],Mi)};function Ei(zi,Mi){var ut=[];return(0,ue.Iu)(Mi,function(gn){!(0,ue.Tn)(gn)&&(0,ue.rD)(zi,gn)===-1&&ut[$r](gn)}),ut}function Oi(zi){var Mi=zi;try{Mi=Me[za]&&Me[za]()?Me[za]()+"_"+Mi:Mi;var ut=_n(Ee,Mi);if(ut){var gn=(0,pe.hm)().parse(ut);if((0,ue.Kg)(gn)&&(gn=(0,pe.hm)().parse(gn)),gn&&(0,ue.cy)(gn))return gn}}catch(Or){(0,le.ZP)(Ee,1,42," storage key: "+Mi+", "+(0,ue.lL)(Or),{exception:(0,pe.mm)(Or)})}return[]}function Ti(zi,Mi){var ut=zi;try{ut=Me[za]&&Me[za]()?Me[za]()+"_"+ut:ut;var gn=JSON[Vn](Mi);cn(Ee,ut,gn)}catch(Or){cn(Ee,ut,JSON[Vn]([])),(0,le.ZP)(Ee,2,41," storage key: "+ut+", "+(0,ue.lL)(Or)+". Buffer cleared",{exception:(0,pe.mm)(Or)})}}}),je}return ve.BUFFER_KEY="AI_buffer",ve.SENT_BUFFER_KEY="AI_sentBuffer",ve.MAX_BUFFER_SIZE=2e3,ve}(tu),lo=function(){function Re(ve){(0,A.A)(Re,this,function(Ee){Ee.serialize=function(at){var mt=Me(at,"root");try{return(0,pe.hm)()[Vn](mt)}catch(Gt){(0,le.ZP)(ve,1,48,Gt&&(0,ue.Tn)(Gt[ji])?Gt[ji]():"Error serializing object",null,!0)}};function Me(at,mt){var Gt="__aiCircularRefCheck",Vt={};if(!at)return(0,le.ZP)(ve,1,48,"cannot serialize object because it is null or undefined",{name:mt},!0),Vt;if(at[Gt])return(0,le.ZP)(ve,2,50,"Circular reference detected while serializing object",{name:mt},!0),Vt;if(!at.aiDataContract){if(mt==="measurements")Vt=et(at,"number",mt);else if(mt==="properties")Vt=et(at,"string",mt);else if(mt==="tags")Vt=et(at,"string",mt);else if((0,ue.cy)(at))Vt=je(at,mt);else{(0,le.ZP)(ve,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:mt},!0);try{(0,pe.hm)()[Vn](at),Vt=at}catch(ii){(0,le.ZP)(ve,1,48,ii&&(0,ue.Tn)(ii[ji])?ii[ji]():"Error serializing object",null,!0)}}return Vt}return at[Gt]=!0,(0,ue.z)(at.aiDataContract,function(ii,Ei){var Oi=(0,ue.Tn)(Ei)?Ei()&1:Ei&1,Ti=(0,ue.Tn)(Ei)?Ei()&4:Ei&4,zi=Ei&2,Mi=at[ii]!==void 0,ut=(0,ue.Gv)(at[ii])&&at[ii]!==null;if(Oi&&!Mi&&!zi)(0,le.ZP)(ve,1,24,"Missing required field specification. The field is required but not present on source",{field:ii,name:mt});else if(!Ti){var gn=void 0;ut?zi?gn=je(at[ii],ii):gn=Me(at[ii],ii):gn=at[ii],gn!==void 0&&(Vt[ii]=gn)}}),delete at[Gt],Vt}function je(at,mt){var Gt;if(at)if(!(0,ue.cy)(at))(0,le.ZP)(ve,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:mt},!0);else{Gt=[];for(var Vt=0;Vt<at[Ai];Vt++){var ii=at[Vt],Ei=Me(ii,mt+"["+Vt+"]");Gt[$r](Ei)}}return Gt}function et(at,mt,Gt){var Vt;return at&&(Vt={},(0,ue.z)(at,function(ii,Ei){if(mt==="string")Ei===void 0?Vt[ii]="undefined":Ei===null?Vt[ii]="null":Ei[ji]?Vt[ii]=Ei[ji]():Vt[ii]="invalid field: toString() is not defined.";else if(mt==="number")if(Ei===void 0)Vt[ii]="undefined";else if(Ei===null)Vt[ii]="null";else{var Oi=parseFloat(Ei);isNaN(Oi)?Vt[ii]="NaN":Vt[ii]=Oi}else Vt[ii]="invalid field: "+Gt+" is of unknown type.",(0,le.ZP)(ve,1,Vt[ii],null,!0)})),Vt}})}return Re.__ieDyn=1,Re}(),sl=8,qc=function(){function Re(){}return Re.prototype.getHashCodeScore=function(ve){var Ee=this.getHashCode(ve)/Re.INT_MAX_VALUE;return Ee*100},Re.prototype.getHashCode=function(ve){if(ve==="")return 0;for(;ve[Ai]<sl;)ve=ve.concat(ve);for(var Ee=5381,Me=0;Me<ve[Ai];++Me)Ee=(Ee<<5)+Ee+ve.charCodeAt(Me),Ee=Ee&Ee;return Math.abs(Ee)},Re.INT_MAX_VALUE=2147483647,Re}(),As=function(){function Re(){var ve=this,Ee=new qc,Me=new Xe;ve[nl]=function(je){var et=0;return je[vi]&&je[vi][Me.userId]?et=Ee.getHashCodeScore(je[vi][Me.userId]):je.ext&&je.ext.user&&je.ext.user.id?et=Ee[Cs](je.ext.user.id):je[vi]&&je[vi][Me.operationId]?et=Ee.getHashCodeScore(je[vi][Me.operationId]):je.ext&&je.ext.telemetryTrace&&je.ext.telemetryTrace[bn]?et=Ee.getHashCodeScore(je.ext.telemetryTrace[bn]):et=Math.random()*100,et}}return Re}(),ol=function(){function Re(ve,Ee){this.INT_MAX_VALUE=2147483647;var Me=Ee||(0,le.y0)(null);(ve>100||ve<0)&&(Me.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:ve},!0),ve=100),this[no]=ve,this.samplingScoreGenerator=new As}return Re.prototype.isSampledIn=function(ve){var Ee=this[no],Me=!1;return Ee==null||Ee>=100||ve.baseType===di[Nr]?!0:(Me=this.samplingScoreGenerator[nl](ve)<Ee,Me)},Re}(),or,$c=65e3;function la(Re){try{return Re.responseText}catch{}return null}function iu(){var Re,ve,Ee;return Re={endpointUrl:function(){return p+m}},Re[ya]=function(){return!1},Re[us]=function(){return 15e3},Re[tl]=function(){return 102400},Re[Jr]=function(){return!1},Re[io]=function(){return!0},Re[Ts]=function(){return!1},Re[qn]=function(){return!0},Re[en]=function(){return!1},Re[$t]=function(){return!1},Re[Ft]=function(){return!1},Re[sr]=function(){return ve},Re[za]=function(){return ve},Re[yn]=function(){return 100},Re[Ql]=function(){return Ee},Re[Yl]=function(){return ve},Re.eventsLimitInMem=function(){return 1e4},Re}var Hc=(or={},or[Ke.dataType]=Ps,or[Ot.dataType]=eu,or[ci.dataType]=Bc,or[wt.dataType]=cs,or[xt.dataType]=Lc,or[di.dataType]=Uc,or[Yr.dataType]=Oc,or),nu=function(Re){(0,L.qU)(ve,Re);function ve(){var Ee=Re.call(this)||this;Ee.priority=1001,Ee.identifier=oa,Ee._senderConfig=iu();var Me,je,et,at,mt,Gt,Vt,ii,Ei=0,Oi,Ti,zi,Mi;return(0,A.A)(ve,Ee,function(ut,gn){lu(),ut.pause=function(){Cr(),at=!0},ut.resume=function(){at&&(at=!1,je=null,ut._buffer.size()>ut._senderConfig[tl]()&&ut[ls](!0,null,10),Is())},ut.flush=function(nt,Lt,Yt){if(nt===void 0&&(nt=!0),!at){Cr();try{ut[ls](nt,null,Yt||1)}catch(mi){(0,le.ZP)(ut[ar](),1,22,"flush failed, telemetry will not be collected: "+(0,ue.lL)(mi),{exception:(0,pe.mm)(mi)})}}},ut.onunloadFlush=function(){if(!at)if((ut._senderConfig[Ft]()===!1||ut[xi][qn]()===!1)&&(0,pe.Uf)())try{ut[ls](!0,Ki,2)}catch(nt){(0,le.ZP)(ut[ar](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,ue.lL)(nt),{exception:(0,pe.mm)(nt)})}else ut.flush()},ut.addHeader=function(nt,Lt){ii[nt]=Lt},ut.initialize=function(nt,Lt,Yt,mi){ut.isInitialized()&&(0,le.ZP)(ut[ar](),1,28,"Sender is already initialized"),gn.initialize(nt,Lt,Yt,mi);var $i=ut._getTelCtx(),tn=ut.identifier;Gt=new lo(Lt.logger),Me=0,je=null,et=0,ut[_a]=null,Vt=0;var nn=ut[ar]();Mi=(0,fi.Hm)((0,ss.Z)("Sender"),Lt.evtNamespace&&Lt.evtNamespace()),zi=br(Mi);var Rn=iu();(0,ue.z)(Rn,function(Zn,Xr){ut[xi][Zn]=function(){var En=$i.getConfig(tn,Zn,Xr());return!En&&Zn==="endpointUrl"&&(En=Xr()),En}}),ut._buffer=ut[xi][io]()&&sn()?new li(nn,ut[xi]):new pn(nn,ut[xi]),ut._sample=new ol(ut[xi][yn](),nn),zc(nt)||(0,le.ZP)(nn,1,100,"Invalid Instrumentation key "+nt[sr]),!Rr(ut._senderConfig.endpointUrl())&&ut._senderConfig.customHeaders()&&ut._senderConfig.customHeaders()[Ai]>0&&(0,ue.Iu)(ut[xi][Ql](),function(Zn){Ee.addHeader(Zn.header,Zn.value)});var jn=ut[xi],zn=null;!jn[en]()&&(0,pe.PV)()?zn=jc:!jn[en]()&&(0,pe.xk)()&&(zn=cl),!zn&&(0,pe.R7)()&&(zn=Gc),Oi=zn||cl,!jn[qn]()&&(0,pe.Uf)()&&(zn=Ms),ut[_a]=zn||cl,!jn[$t]()&&(0,pe.R7)(!0)?Ti=oh:(0,pe.Uf)()?Ti=Ms:!jn[en]()&&(0,pe.PV)()?Ti=jc:!jn[en]()&&(0,pe.xk)()?Ti=cl:Ti=Oi},ut.processTelemetry=function(nt,Lt){Lt=ut._getTelCtx(Lt);var Yt=Lt[ar]();try{if(ut[xi][Jr]())return;if(!nt){(0,le.ZP)(Yt,1,7,"Cannot send empty telemetry");return}if(nt.baseData&&!nt[ka]){(0,le.ZP)(Yt,1,70,"Cannot send telemetry without baseData and baseType");return}if(nt[ka]||(nt[ka]="EventData"),!ut[_a]){(0,le.ZP)(Yt,1,28,"Sender was not initialized");return}if(Or(nt))nt[C]=ut._sample[no];else{(0,le.ZP)(Yt,2,33,"Telemetry item was sampled out and not sent",{SampleRate:ut._sample[no]});return}var mi=ut[xi][Yl]()||void 0,$i=nt.iKey||ut[xi][sr](),tn=ve.constructEnvelope(nt,$i,Yt,mi);if(!tn){(0,le.ZP)(Yt,1,47,"Unable to create an AppInsights envelope");return}var nn=!1;if(nt[vi]&&nt[vi][f]&&((0,ue.Iu)(nt[vi][f],function(Zn){try{Zn&&Zn(tn)===!1&&(nn=!0,(0,le.OG)(Yt,"Telemetry processor check returns false"))}catch(Xr){(0,le.ZP)(Yt,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,ue.lL)(Xr),{exception:(0,pe.mm)(Xr)},!0)}}),delete nt[vi][f]),nn)return;var Rn=Gt.serialize(tn),jn=ut[Zr],zn=jn.size();zn+Rn[Ai]>ut[xi][tl]()&&ut[ls](!0,null,10),jn[Xi](Rn),Is()}catch(Zn){(0,le.ZP)(Yt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,ue.lL)(Zn),{exception:(0,pe.mm)(Zn)})}ut.processNext(nt,Lt)},ut[Dc]=function(nt,Lt,Yt){nt.readyState===4&&ds(nt.status,Lt,nt.responseURL,Yt,po(nt),la(nt)||nt.response)},ut[ls]=function(nt,Lt,Yt){if(nt===void 0&&(nt=!0),!at)try{var mi=ut[Zr];if(ut[xi][Jr]())mi[ja]();else{if(mi[dn]()>0){var $i=mi.getItems();uh(Yt||0,nt),Lt?Lt.call(Ee,$i,nt):ut[_a]($i,nt)}et=+new Date}Cr()}catch(nn){var tn=(0,pe.L0)();(!tn||tn>9)&&(0,le.ZP)(ut[ar](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,ue.lL)(nn),{exception:(0,pe.mm)(nn)})}},ut._doTeardown=function(nt,Lt){ut.onunloadFlush(),zi.unload(),lu()},ut[Wi]=function(nt,Lt,Yt){(0,le.ZP)(ut[ar](),2,26,"Failed to send telemetry.",{message:Lt}),ut._buffer[Fn](nt)},ut[ro]=function(nt,Lt){for(var Yt=[],mi=[],$i=Lt.errors.reverse(),tn=0,nn=$i;tn<nn.length;tn++){var Rn=nn[tn],jn=nt.splice(Rn.index,1)[0];mo(Rn.statusCode)?mi[$r](jn):Yt[$r](jn)}nt[Ai]>0&&ut[ao](nt,Lt[so]),Yt[Ai]>0&&ut[Wi](Yt,po(null,["partial success",Lt[so],"of",Lt.itemsReceived].join(" "))),mi[Ai]>0&&(ho(mi),(0,le.ZP)(ut[ar](),2,40,"Partial success. Delivered: "+nt[Ai]+", Failed: "+Yt[Ai]+". Will retry to send "+mi[Ai]+" our of "+Lt[Zl]+" items"))},ut[ao]=function(nt,Lt){ut._buffer[Fn](nt)},ut._xdrOnLoad=function(nt,Lt){var Yt=la(nt);if(nt&&(Yt+""=="200"||Yt===""))Me=0,ut[ao](Lt,0);else{var mi=fo(Yt);mi&&mi.itemsReceived&&mi.itemsReceived>mi[so]&&!ut[xi][Ts]()?ut[ro](Lt,mi):ut[Wi](Lt,ou(nt))}};function Or(nt){return ut._sample.isSampledIn(nt)}function ds(nt,Lt,Yt,mi,$i,tn){var nn=null;if(ut._appId||(nn=fo(tn),nn&&nn.appId&&(ut._appId=nn.appId)),(nt<200||nt>=300)&&nt!==0){if((nt===301||nt===307||nt===308)&&!Sn(Yt)){ut[Wi](Lt,$i);return}!ut[xi][Ts]()&&mo(nt)?(ho(Lt),(0,le.ZP)(ut[ar](),2,40,". Response code "+nt+". Will retry to send "+Lt[Ai]+" items.")):ut[Wi](Lt,$i)}else if(zi&&!zi.isOnline()){if(!ut[xi][Ts]()){var Rn=10;ho(Lt,Rn),(0,le.ZP)(ut[ar](),2,40,". Offline - Response Code: ".concat(nt,". Offline status: ").concat(!zi.isOnline(),". Will retry to send ").concat(Lt.length," items."))}}else Sn(Yt),nt===206?(nn||(nn=fo(tn)),nn&&!ut[xi][Ts]()?ut[ro](Lt,nn):ut[Wi](Lt,$i)):(Me=0,ut[ao](Lt,mi))}function Sn(nt){return Vt>=10?!1:!(0,ue.hX)(nt)&&nt!==""&&nt!==ut[xi][Yn]()?(ut[xi][Yn]=function(){return nt},++Vt,!0):!1}function Ki(nt,Lt){Ti?Ti(nt,!1):Ms(nt,Lt)}function ul(nt){var Lt=(0,pe.w3)(),Yt=ut[Zr],mi=ut[xi][Yn](),$i=ut._buffer[xr](nt),tn=new Blob([$i],{type:"text/plain;charset=UTF-8"}),nn=Lt.sendBeacon(mi,tn);return nn&&(Yt[wa](nt),ut._onSuccess(nt,nt[Ai])),nn}function Ms(nt,Lt){if((0,ue.cy)(nt)&&nt[Ai]>0&&!ul(nt)){for(var Yt=[],mi=0;mi<nt[Ai];mi++){var $i=nt[mi];ul([$i])||Yt[$r]($i)}Yt[Ai]>0&&(Oi&&Oi(Yt,!0),(0,le.ZP)(ut[ar](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function cl(nt,Lt){var Yt=new XMLHttpRequest,mi=ut[xi][Yn]();try{Yt[I]=!0}catch{}Yt.open("POST",mi,Lt),Yt[il]("Content-type","application/json"),Rr(mi)&&Yt[il](Qi[6],Qi[7]),(0,ue.Iu)((0,ue.cG)(ii),function(tn){Yt[il](tn,ii[tn])}),Yt.onreadystatechange=function(){return ut._xhrReadyStateChange(Yt,nt,nt[Ai])},Yt.onerror=function(tn){return ut[Wi](nt,po(Yt),tn)};var $i=ut._buffer[xr](nt);Yt.send($i),ut._buffer[wa](nt)}function oh(nt,Lt){if((0,ue.cy)(nt)){for(var Yt=nt[Ai],mi=0;mi<nt[Ai];mi++)Yt+=nt[mi][Ai];Ei+Yt<=$c?su(nt,!1):(0,pe.Uf)()?Ms(nt,Lt):(Oi&&Oi(nt,!0),(0,le.ZP)(ut[ar](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function Gc(nt,Lt){su(nt,!0)}function su(nt,Lt){var Yt,mi=ut[xi][Yn](),$i=ut._buffer[xr](nt),tn=new Blob([$i],{type:"application/json"}),nn=new Headers,Rn=$i[Ai],jn=!1,zn=!1;Rr(mi)&&nn.append(Qi[6],Qi[7]),(0,ue.Iu)((0,ue.cG)(ii),function(En){nn.append(En,ii[En])});var Zn=(Yt={method:"POST",headers:nn,body:tn},Yt[I]=!0,Yt);Lt||(Zn.keepalive=!0,jn=!0,Ei+=Rn);var Xr=new Request(mi,Zn);try{Xr[I]=!0}catch{}ut._buffer[wa](nt);try{fetch(Xr).then(function(En){Lt||(Ei-=Rn,Rn=0),zn||(zn=!0,En.ok?En.text().then(function(Ca){ds(En.status,nt,En.url,nt[Ai],En.statusText,Ca)}):ut[Wi](nt,En.statusText))}).catch(function(En){Lt||(Ei-=Rn,Rn=0),zn||(zn=!0,ut[Wi](nt,En.message))})}catch(En){zn||ut[Wi](nt,(0,pe.mm)(En))}jn&&!zn&&(zn=!0,ut._onSuccess(nt,nt[Ai]))}function fo(nt){try{if(nt&&nt!==""){var Lt=(0,pe.hm)().parse(nt);if(Lt&&Lt.itemsReceived&&Lt.itemsReceived>=Lt[so]&&Lt.itemsReceived-Lt.itemsAccepted===Lt.errors[Ai])return Lt}}catch(Yt){(0,le.ZP)(ut[ar](),1,43,"Cannot parse the response. "+(0,ue.lL)(Yt),{response:nt})}return null}function ho(nt,Lt){if(Lt===void 0&&(Lt=1),!(!nt||nt[Ai]===0)){var Yt=ut[Zr];Yt[Fn](nt),Me++;for(var mi=0,$i=nt;mi<$i.length;mi++){var tn=$i[mi];Yt[Xi](tn)}Vc(Lt),Is()}}function Vc(nt){var Lt=10,Yt;if(Me<=1)Yt=Lt;else{var mi=(Math.pow(2,Me)-1)/2,$i=Math.floor(Math.random()*mi*Lt)+1;$i=nt*$i,Yt=Math.max(Math.min($i,3600),Lt)}var tn=(0,ue.x3)()+Yt*1e3;je=tn}function Is(){if(!mt&&!at){var nt=je?Math.max(0,je-(0,ue.x3)()):0,Lt=Math.max(ut[xi][us](),nt);mt=setTimeout(function(){mt=null,ut[ls](!0,null,1)},Lt)}}function Cr(){clearTimeout(mt),mt=null,je=null}function mo(nt){return nt===401||nt===403||nt===408||nt===429||nt===500||nt===502||nt===503||nt===504}function po(nt,Lt){return nt?"XMLHttpRequest,Status:"+nt.status+",Response:"+la(nt)||0||0:Lt}function jc(nt,Lt){var Yt=ut[Zr],mi=(0,pe.zk)(),$i=new XDomainRequest;$i.onload=function(){return ut._xdrOnLoad($i,nt)},$i.onerror=function(jn){return ut[Wi](nt,ou($i),jn)};var tn=mi&&mi.location&&mi.location.protocol||"";if(ut[xi][Yn]().lastIndexOf(tn,0)!==0){(0,le.ZP)(ut[ar](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),Yt[ja]();return}var nn=ut[xi][Yn]().replace(/^(https?:)/,"");$i.open("POST",nn);var Rn=Yt[xr](nt);$i.send(Rn),Yt[wa](nt)}function ou(nt,Lt){return nt?"XDomainRequest,Response:"+la(nt)||0:Lt}function lh(){var nt="getNotifyMgr";return ut.core[nt]?ut.core[nt]():ut.core._notificationManager}function uh(nt,Lt){var Yt=lh();if(Yt&&Yt[oo])try{Yt[oo](nt,Lt)}catch(mi){(0,le.ZP)(ut[ar](),1,74,"send request notification failed: "+(0,ue.lL)(mi),{exception:(0,pe.mm)(mi)})}}function zc(nt){var Lt=(0,ue.hX)(nt[Jl])?!1:nt[Jl];if(Lt)return!0;var Yt="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",mi=new RegExp(Yt);return mi.test(nt[sr])}function lu(){ut[_a]=null,ut[Zr]=null,ut._appId=null,ut._sample=null,ii={},zi=null,Me=0,je=null,et=null,at=!1,mt=null,Gt=null,Vt=0,Ei=0,Oi=null,Ti=null,Mi=null}}),Ee}return ve.constructEnvelope=function(Ee,Me,je,et){var at;Me!==Ee.iKey&&!(0,ue.hX)(Me)?at=(0,L.Im)((0,L.Im)({},Ee),{iKey:Me}):at=Ee;var mt=Hc[at.baseType]||Ps;return mt(je,at,et)},ve}(os.s),ru=";",ua="=";function uo(Re){if(!Re)return{};var ve=Re[l](ru),Ee=(0,ue.KT)(ve,function(je,et){var at=et[l](ua);if(at[S]===2){var mt=at[0][c](),Gt=at[1];je[mt]=Gt}return je},{});if((0,ue.cG)(Ee)[S]>0){if(Ee.endpointsuffix){var Me=Ee.location?Ee.location+".":"";Ee[g]=Ee[g]||"https://"+Me+"dc."+Ee.endpointsuffix}Ee[g]=Ee[g]||p}return Ee}var Ea={parse:uo},At=M(12235),co="instrumentationKey",au="connectionString",ll="diagnosticLogInterval",sh=M(83897),Na=(0,Di.Hj)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Ta=function(){function Re(ve){var Ee=new At._;((0,ue.hX)(ve)||(0,ue.hX)(ve[co])&&(0,ue.hX)(ve[au]))&&(0,ue.$8)("Invalid input configuration"),(0,A.A)(Re,this,function(Me){if(ve[au]){var je=uo(ve[au]),et=je.ingestionendpoint;ve.endpointUrl=et?et+m:ve.endpointUrl,ve[co]=je.instrumentationkey||ve[co]}Me.config=ve,at(),Me.initialize=at,Me.getSKUDefaults=function(){Me.config[ll]=Me.config[ll]&&Me.config[ll]>0?Me.config[ll]:1e4},Me.getSKUDefaults(),(0,ue.o$)(Me,Ee,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function at(){Ee.initialize(Me.config,[new nu]),Ee.pollInternalLogs()}})}return Re.__ieDyn=1,Re}()},92457:(s,V,M)=>{"use strict";M.d(V,{A:()=>Ne});/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var A,L="undefined",I="constructor",C="prototype",f="function",h="_dynInstFuncs",p="_isDynProxy",m="_dynClass",_="_dynCls$",b="_dynInstChk",l=b,S="_dfOpts",c="_unknown_",g="__proto__",d="_dyn"+g,w="__dynProto$Gbl",k="_dynInstProto",R="useBaseInst",P="setInstFuncs",U=Object,F=U.getPrototypeOf,y=U.getOwnPropertyNames;function z(){var be;return typeof globalThis!==L&&(be=globalThis),!be&&typeof self!==L&&(be=self),!be&&typeof window!==L&&(be=window),!be&&typeof M.g!==L&&(be=M.g),be||{}}var Q=z(),Z=Q[w]||(Q[w]={o:(A={},A[P]=!0,A[R]=!0,A),n:1e3});function X(be,we){return be&&U[C].hasOwnProperty.call(be,we)}function Y(be){return be&&(be===U[C]||be===Array[C])}function O(be){return Y(be)||be===Function[C]}function $(be){var we;if(be){if(F)return F(be);var Te=be[g]||be[C]||(be[I]?be[I][C]:null);we=be[d]||Te,X(be,d)||(delete be[k],we=be[d]=be[k]||be[d],be[k]=Te)}return we}function D(be,we){var Te=[];if(y)Te=y(be);else for(var ee in be)typeof ee=="string"&&X(be,ee)&&Te.push(ee);if(Te&&Te.length>0)for(var ne=0;ne<Te.length;ne++)we(Te[ne])}function u(be,we,Te){return we!==I&&typeof be[we]===f&&(Te||X(be,we))}function E(be){throw new TypeError("DynamicProto: "+be)}function q(be){var we={};return D(be,function(Te){!we[Te]&&u(be,Te,!1)&&(we[Te]=be[Te])}),we}function H(be,we){for(var Te=be.length-1;Te>=0;Te--)if(be[Te]===we)return!0;return!1}function K(be,we,Te,ee){function ne(j,N,se){var de=N[se];if(de[p]&&ee){var ue=j[h]||{};ue[l]!==!1&&(de=(ue[N[m]]||{})[se]||de)}return function(){return de.apply(j,arguments)}}var me={};D(Te,function(j){me[j]=ne(we,Te,j)});for(var ge=$(be),_e=[];ge&&!O(ge)&&!H(_e,ge);)D(ge,function(j){!me[j]&&u(ge,j,!F)&&(me[j]=ne(we,ge,j))}),_e.push(ge),ge=$(ge);return me}function G(be,we,Te,ee){var ne=null;if(be&&X(Te,m)){var me=be[h]||{};if(ne=(me[Te[m]]||{})[we],ne||E("Missing ["+we+"] "+f),!ne[b]&&me[l]!==!1){for(var ge=!X(be,we),_e=$(be),j=[];ge&&_e&&!O(_e)&&!H(j,_e);){var N=_e[we];if(N){ge=N===ee;break}j.push(_e),_e=$(_e)}try{ge&&(be[we]=ne),ne[b]=1}catch{me[l]=!1}}}return ne}function ie(be,we,Te){var ee=we[be];return ee===Te&&(ee=$(we)[be]),typeof ee!==f&&E("["+be+"] is not a "+f),ee}function J(be,we,Te,ee,ne){function me(j,N){var se=function(){var de=G(this,N,j,se)||ie(N,j,se);return de.apply(this,arguments)};return se[p]=1,se}if(!Y(be)){var ge=Te[h]=Te[h]||{},_e=ge[we]=ge[we]||{};ge[l]!==!1&&(ge[l]=!!ne),D(Te,function(j){u(Te,j,!1)&&Te[j]!==ee[j]&&(_e[j]=Te[j],delete Te[j],(!X(be,j)||be[j]&&!be[j][p])&&(be[j]=me(be,j)))})}}function B(be,we){if(F){for(var Te=[],ee=$(we);ee&&!O(ee)&&!H(Te,ee);){if(ee===be)return!0;Te.push(ee),ee=$(ee)}return!1}return!0}function ae(be,we){return X(be,C)?be.name||we||c:((be||{})[I]||{}).name||we||c}function Ne(be,we,Te,ee){X(be,C)||E("theClass is an invalid class definition.");var ne=be[C];B(ne,we)||E("["+ae(be)+"] not in hierarchy of ["+ae(we)+"]");var me=null;X(ne,m)?me=ne[m]:(me=_+ae(be,"_")+"$"+Z.n,Z.n++,ne[m]=me);var ge=Ne[S],_e=!!ge[R];_e&&ee&&ee[R]!==void 0&&(_e=!!ee[R]);var j=q(we),N=K(ne,we,j,_e);Te(we,N);var se=!!F&&!!ge[P];se&&ee&&(se=!!ee[P]),J(ne,me,we,j,se!==!1)}Ne[S]=Z.o},46925:(s,V,M)=>{"use strict";var A=M(48287).Buffer;Object.defineProperty(V,"__esModule",{value:!0}),V.HTMLTracer=void 0;const L=M(12111),I=M(49138);class C{constructor(){Nt(this,"traceData");Nt(this,"epochs",[])}addRenderEpoch(c){this.epochs.push(c)}includeInEpoch(c){this.epochs[this.epochs.length-1].elements.push(c)}didMaterializeTree(c){this.traceData=c}async serveHTML(){return h.create({epochs:this.epochs,traceData:l(this.traceData)})}serveRouter(c){return new f({baseAddress:c,epochs:this.epochs,traceData:l(this.traceData)})}}V.HTMLTracer=C;class f{constructor(c){Nt(this,"opts");Nt(this,"serverToken",crypto.randomUUID());this.opts=c}route(c,g){const d=c,w=g,k=new URL(d.url||"/","http://localhost"),R=`/${this.serverToken}`;switch(k.pathname){case R:case`${R}/`:this.onRoot(k,d,w);break;case`${R}/regen`:this.onRegen(k,d,w);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){const{traceData:c,epochs:g}=this.opts;return`<body>
			<style>${L.tracerCss}</style>
			<script>
				const DEFAULT_TOKENS = ${JSON.stringify(c.budget)};
				const EPOCHS = ${JSON.stringify(g)};
				const DEFAULT_MODEL = ${JSON.stringify(await p(c.tokenizer,c.renderedTree))};
				const SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};
				${L.tracerSrc}
			<\/script>
		</body>`}async onRegen(c,g,d){const{traceData:w}=this.opts,k=Number(c.searchParams.get("n")||w.budget),R=await w.renderTree(k),P=await p(w.tokenizer,R),U=JSON.stringify(P);d.setHeader("Content-Type","application/json"),d.setHeader("Content-Length",A.byteLength(U)),d.end(U)}onRoot(c,g,d){this.getHTML().then(w=>{d.setHeader("Content-Type","text/html"),d.setHeader("Content-Length",A.byteLength(w)),d.end(w)})}}class h extends f{constructor(g,d){super(g);Nt(this,"server");this.server=d}static async create(g){const{createServer:d}=await Promise.resolve().then(()=>M(11568)),w=d((P,U)=>{try{R.route(P,U)||(U.statusCode=404,U.end("Not Found"))}catch(F){U.statusCode=500,U.end(String(F))}}),k=await new Promise((P,U)=>{w.listen(0,"127.0.0.1",()=>P(w.address().port)).on("error",U)}),R=new h({...g,baseAddress:`http://127.0.0.1:${k}`},w);return R}dispose(){this.server.closeAllConnections(),this.server.close()}}async function p(S,c){return{container:await m(S,c.container,!1),removed:c.removed,budget:c.budget}}async function m(S,c,g){const d={metadata:c.metadata.map(b),priority:c.priority};if(c instanceof I.MaterializedChatMessageTextChunk)return{...d,type:2,value:c.text,tokens:await c.upperBoundTokenCount(S)};{const w={...d,id:c.id,name:c.name,children:await Promise.all(c.children.map(k=>m(S,k,g||c instanceof I.MaterializedChatMessage))),tokens:g?await c.upperBoundTokenCount(S):await c.tokenCount(S)};if(c instanceof I.MaterializedContainer)return{...w,type:0};if(c instanceof I.MaterializedChatMessage)return{...w,type:1,role:c.role,text:c.text}}_(c)}function _(S){throw new Error("unreachable")}function b(S){return{name:S.constructor.name,value:JSON.stringify(S)}}const l=S=>{if(S===void 0)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return S}},12111:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.tracerCss=V.tracerSrc=void 0,V.tracerSrc='"use strict";(()=>{var $,m,se,ze,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function I(t){return t.children}function B(t,e){this.props=t,this.context=e}function N(t,e){if(e==null)return t.__?N(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?N(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??N(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,C,x=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,x),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:x[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),C==null&&b!=null&&(C=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=C}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(I,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=N(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=N(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,C,x,h,v,H,M,P,F,oe,U,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?x=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(z){z&&(z.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,C)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),U=0;U<i._sb.length;U++)i.__h.push(i._sb[U]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(C=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===I&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),x&&(i.__E=i.__=null)}catch(z){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(z,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,C,x=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)x===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),x=n.props||D,!a&&_!=null)for(x={},s=0;s<t.attributes.length;s++)x[(d=t.attributes[s]).name]=d.value;for(s in x)if(d=x[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?C=d:a&&typeof d!="function"||x[s]===d||A(t,s,d,x[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&N(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==x[s])&&A(t,s,b,x[s],r),s="checked",C!==void 0&&C!==t[s]&&A(t,s,C,x[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(I,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,ze=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=I,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,xe=y.diffed,Ce=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ie,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ie(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ne(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ne(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){xe&&xe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),Ce&&Ce(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ne(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ie(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(I,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var Ue=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(Ue,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(Ue,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n',V.tracerCss=`body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}
`},60937:function(s,V,M){"use strict";var A=this&&this.__createBinding||(Object.create?function(c,g,d,w){w===void 0&&(w=d);var k=Object.getOwnPropertyDescriptor(g,d);(!k||("get"in k?!g.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return g[d]}}),Object.defineProperty(c,w,k)}:function(c,g,d,w){w===void 0&&(w=d),c[w]=g[d]}),L=this&&this.__exportStar||function(c,g){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(g,d)&&A(g,c,d)};Object.defineProperty(V,"__esModule",{value:!0}),V.contentType=V.PromptRenderer=V.MetadataMap=V.PromptElement=V.ToolResult=V.UserMessage=V.ToolMessage=V.TextChunk=V.SystemMessage=V.PrioritizedList=V.LegacyPrioritization=V.FunctionMessage=V.Chunk=V.AssistantMessage=V.ChatRole=V.JSONTree=void 0,V.renderPrompt=b,V.renderElementJSON=l,V.toVsCodeChatMessages=S;const I=M(96423),C=M(79420),f=M(82990);L(M(46925),V),V.JSONTree=M(8150);var h=M(96423);Object.defineProperty(V,"ChatRole",{enumerable:!0,get:function(){return h.ChatRole}}),L(M(52727),V),L(M(3804),V),L(M(63479),V),L(M(68504),V);var p=M(75234);Object.defineProperty(V,"AssistantMessage",{enumerable:!0,get:function(){return p.AssistantMessage}}),Object.defineProperty(V,"Chunk",{enumerable:!0,get:function(){return p.Chunk}}),Object.defineProperty(V,"FunctionMessage",{enumerable:!0,get:function(){return p.FunctionMessage}}),Object.defineProperty(V,"LegacyPrioritization",{enumerable:!0,get:function(){return p.LegacyPrioritization}}),Object.defineProperty(V,"PrioritizedList",{enumerable:!0,get:function(){return p.PrioritizedList}}),Object.defineProperty(V,"SystemMessage",{enumerable:!0,get:function(){return p.SystemMessage}}),Object.defineProperty(V,"TextChunk",{enumerable:!0,get:function(){return p.TextChunk}}),Object.defineProperty(V,"ToolMessage",{enumerable:!0,get:function(){return p.ToolMessage}}),Object.defineProperty(V,"UserMessage",{enumerable:!0,get:function(){return p.UserMessage}}),Object.defineProperty(V,"ToolResult",{enumerable:!0,get:function(){return p.ToolResult}});var m=M(3575);Object.defineProperty(V,"PromptElement",{enumerable:!0,get:function(){return m.PromptElement}});var _=M(79420);Object.defineProperty(V,"MetadataMap",{enumerable:!0,get:function(){return _.MetadataMap}}),Object.defineProperty(V,"PromptRenderer",{enumerable:!0,get:function(){return _.PromptRenderer}});async function b(c,g,d,w,k,R,P="vscode"){let U="countTokens"in w?new f.AnyTokenizer((Y,O)=>w.countTokens(Y,O)):w;const F=new C.PromptRenderer(d,c,g,U);let{messages:y,tokenCount:z,references:Q,metadata:Z}=await F.render(k,R);const X=F.getUsedContext();return P==="vscode"&&(y=S(y)),{messages:y,tokenCount:z,metadatas:Z,usedContext:X,references:Q}}V.contentType="application/vnd.codechat.prompt+json.1";function l(c,g,d,w){var R;return new C.PromptRenderer({modelMaxPromptTokens:(R=d==null?void 0:d.tokenBudget)!=null?R:Number.MAX_SAFE_INTEGER},c,g,{countMessageTokens(P){throw new Error("Tools may only return text, not messages.")},tokenLength(P,U){var F;return Promise.resolve((F=d==null?void 0:d.countTokens(P,U))!=null?F:Promise.resolve(1))}}).renderElementJSON(w)}function S(c){const g=M(91398);return c.map(d=>{switch(d.role){case I.ChatRole.Assistant:const w=g.LanguageModelChatMessage.Assistant(d.content,d.name);return d.tool_calls&&(w.content=[new g.LanguageModelTextPart(d.content),...d.tool_calls.map(k=>new g.LanguageModelToolCallPart(k.id,k.function.name,k.function.arguments))]),w;case I.ChatRole.User:return g.LanguageModelChatMessage.User(d.content,d.name);case I.ChatRole.Function:{const k=g.LanguageModelChatMessage.User("");return k.content=[new g.LanguageModelToolResultPart(d.name,[new g.LanguageModelTextPart(d.content)])],k}case I.ChatRole.Tool:{const k=g.LanguageModelChatMessage.User("");return k.content=[new g.LanguageModelToolResultPart(d.tool_call_id,[new g.LanguageModelTextPart(d.content)])],k}default:throw new Error(`Converting chat message with role ${d.role} to VS Code chat message is not supported.`)}})}},8150:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.forEachNode=M;function M(A,L){if(L(A),A.type===1)for(const I of A.children)M(I,L)}},49138:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.MaterializedChatMessage=V.MaterializedChatMessageTextChunk=V.MaterializedContainer=void 0;const A=M(54548),L=M(96423);class I{constructor(d,w,k,R,P,U){Nt(this,"id");Nt(this,"name");Nt(this,"priority");Nt(this,"children");Nt(this,"metadata");Nt(this,"flags");this.id=d,this.name=w,this.priority=k,this.children=R,this.metadata=P,this.flags=U}has(d){return!!(this.flags&d)}async tokenCount(d){let w=0;return await Promise.all(this.children.map(async k=>{p(k);const R=await k.tokenCount(d);w+=R})),w}async upperBoundTokenCount(d){let w=0;return await Promise.all(this.children.map(async k=>{const R=await k.upperBoundTokenCount(d);w+=R})),w}replaceNode(d,w){return c(d,this.children,w)}allMetadata(){return S(this)}*toChatMessages(){for(const d of this.children)p(d),d instanceof I?yield*d.toChatMessages():d.isEmpty||(yield d.toChatMessage())}removeLowestPriorityChild(){this.has(1)?_(this):b(this)}}V.MaterializedContainer=I;class C{constructor(d,w,k=[],R){Nt(this,"text");Nt(this,"priority");Nt(this,"metadata");Nt(this,"lineBreakBefore");Nt(this,"_upperBound",(0,A.once)(async d=>await d.tokenLength(this.text)+(this.lineBreakBefore!==0?1:0)));this.text=d,this.priority=w,this.metadata=k,this.lineBreakBefore=R}upperBoundTokenCount(d){return this._upperBound(d)}}V.MaterializedChatMessageTextChunk=C;class f{constructor(d,w,k,R,P,U,F,y){Nt(this,"id");Nt(this,"role");Nt(this,"name");Nt(this,"toolCalls");Nt(this,"toolCallId");Nt(this,"priority");Nt(this,"metadata");Nt(this,"children");Nt(this,"_tokenCount",(0,A.once)(async d=>d.countMessageTokens(this.toChatMessage())));Nt(this,"_upperBound",(0,A.once)(async d=>{let w=await this._baseMessageTokenCount(d);return await Promise.all(this.children.map(async k=>{const R=await k.upperBoundTokenCount(d);w+=R})),w}));Nt(this,"_baseMessageTokenCount",(0,A.once)(d=>d.countMessageTokens({...this.toChatMessage(),content:""})));Nt(this,"_text",(0,A.once)(()=>{let d="";for(const{text:w,isTextSibling:k}of m(this))(w.lineBreakBefore===1||w.lineBreakBefore===2&&!k)&&d.length&&!d.endsWith(`
`)&&(d+=`
`),d+=w.text;return d.trim()}));this.id=d,this.role=w,this.name=k,this.toolCalls=R,this.toolCallId=P,this.priority=U,this.metadata=F,this.children=y}async tokenCount(d){return this._tokenCount(d)}async upperBoundTokenCount(d){return this._upperBound(d)}get text(){return this._text()}get isEmpty(){var d;return!/\S/.test(this.text)&&!((d=this.toolCalls)!=null&&d.length)&&!this.toolCallId}replaceNode(d,w){const k=c(d,this.children,w);return k&&this.onChunksChange(),k}removeLowestPriorityChild(){b(this)}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear()}toChatMessage(){return this.role===L.ChatRole.System?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===L.ChatRole.Assistant?{role:this.role,content:this.text,...this.toolCalls?{tool_calls:this.toolCalls}:{},...this.name?{name:this.name}:{}}:this.role===L.ChatRole.User?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===L.ChatRole.Tool?{role:this.role,content:this.text,tool_call_id:this.toolCallId}:{role:this.role,content:this.text,name:this.name}}}V.MaterializedChatMessage=f;function h(g){return!(g instanceof C)}function p(g){if(!(g instanceof I)&&!(g instanceof f))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${g.text}"`)}function*m(g,d=!1){for(const w of g.children)w instanceof C?(yield{text:w,isTextSibling:d},d=!0):(yield*m(w,d),d=!1)}function _(g){let d;function w(P,U){if(P instanceof C)(!d||P.priority<d.node.priority)&&(d={chain:U.slice(),node:P});else{U.push(P);for(const F of P.children)w(F,U);U.pop()}}if(w(g,[]),!d)throw new Error("No lowest priority node found");let k=d.node,R=d.chain.length-1;for(;R>=0;R--){const P=d.chain[R];if(P.children.splice(P.children.indexOf(k),1),P instanceof f&&P.onChunksChange(),P.children.length>0)break;k=P}for(;R>=0;R--){const P=d.chain[R];P instanceof f&&P.onChunksChange()}}function b(g){var R;let d;const w=g.children.map((P,U)=>({chain:[g],index:U}));for(let P=0;P<w.length;P++){const{chain:U,index:F}=w[P],y=U[U.length-1].children[F];if(y instanceof I&&y.has(4)){const z=[...U,y];w.splice(P+1,0,...y.children.map((Q,Z)=>({chain:z,index:Z})))}else if(!d||y.priority<d.value.priority)d={chain:U,index:F,value:y};else if(y.priority===d.value.priority){(R=d.lowestNested)!=null||(d.lowestNested=l(d.value));const z=l(y);z<d.lowestNested&&(d={chain:U,index:F,value:y,lowestNested:z})}}if(!d)throw new Error("No lowest priority node found");const k=d.chain[d.chain.length-1].children;d.value instanceof C||d.value instanceof I&&d.value.has(2)||h(d.value)&&!d.value.children.length?k.splice(d.index,1):(d.value.removeLowestPriorityChild(),d.value.children.length===0&&k.splice(d.index,1));for(const P of d.chain)P instanceof f&&P.onChunksChange()}function l(g){if(!h(g))return-1;let d=Number.MAX_SAFE_INTEGER;for(const w of g.children)d=Math.min(d,w.priority);return d}function*S(g){yield*g.metadata;for(const d of g.children)h(d)?yield*S(d):yield*d.metadata}function c(g,d,w){for(let k=0;k<d.length;k++){const R=d[k];if(h(R)){if(R.id===g){const U=d[k];return d[k]=w,U}const P=R.replaceNode(g,w);if(P)return P}}}},54548:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.once=M;function M(A){let L,I=!1;const C=(...f)=>(I||(L=A(...f),I=!0),L);return C.clear=()=>{I=!1},C}},96423:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.BaseTokensPerName=V.BaseTokensPerMessage=V.BaseTokensPerCompletion=V.ChatRole=void 0;var M;(function(A){A.System="system",A.User="user",A.Assistant="assistant",A.Function="function",A.Tool="tool"})(M||(V.ChatRole=M={})),V.BaseTokensPerCompletion=3,V.BaseTokensPerMessage=3,V.BaseTokensPerName=1},3575:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PromptElement=void 0,M(10818);class A{constructor(I){Nt(this,"props");this.props=I}get priority(){var I;return(I=this.props.priority)!=null?I:Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}}V.PromptElement=A},75234:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.Expandable=V.Chunk=V.LegacyPrioritization=V.ToolResult=V.PrioritizedList=V.TextChunk=V.ToolMessage=V.FunctionMessage=V.AssistantMessage=V.UserMessage=V.SystemMessage=V.BaseChatMessage=void 0,V.isChatMessagePromptElement=I;const A=M(96423),L=M(3575);function I(R){return R instanceof f||R instanceof h||R instanceof p}class C extends L.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}V.BaseChatMessage=C;class f extends C{constructor(P){P.role=A.ChatRole.System,super(P)}}V.SystemMessage=f;class h extends C{constructor(P){P.role=A.ChatRole.User,super(P)}}V.UserMessage=h;class p extends C{constructor(P){P.role=A.ChatRole.Assistant,super(P)}}V.AssistantMessage=p;const m=/\s+/g;class _ extends C{constructor(P){P.role=A.ChatRole.Function,super(P)}}V.FunctionMessage=_;class b extends C{constructor(P){P.role=A.ChatRole.Tool,super(P)}}V.ToolMessage=b;class l extends L.PromptElement{async prepare(P,U,F){const y=this.props.breakOnWhitespace?m:this.props.breakOn;if(!y)return vscpp(vscppf,null,this.props.children);let z="";const Q=[];for(const X of this.props.children||[])if(X&&typeof X=="object"){if(typeof X.ctor!="string")throw new Error("TextChunk children must be text literals or intrinsic attributes.");X.ctor==="br"?z+=`
`:Q.push(X)}else X!=null&&(z+=X);const Z=await S(P,y,z,F);return vscpp(vscppf,null,Q,Z)}render(P){return P}}V.TextChunk=l;async function S(R,P,U,F){var Q,Z;if(P instanceof RegExp){if(!P.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${P})`);P.lastIndex=0}let y="",z=-1;for(;z<U.length;){let X;typeof P=="string"?X=U.indexOf(P,z===-1?0:z+P.length):X=(Z=(Q=P.exec(U))==null?void 0:Q.index)!=null?Z:-1,X===-1&&(X=U.length);const Y=y+U.slice(Math.max(0,z),X);if(await R.countTokens(Y,F)>R.tokenBudget)return y;y=Y,z=X}return y}class c extends L.PromptElement{render(){const P=this.props.children;if(P)return vscpp(vscppf,null,P.map((U,F)=>{var z;if(!U)return;const y=this.props.descending?this.props.priority-F:this.props.priority-P.length+F;return typeof U!="object"?vscpp(l,{priority:y},U):((z=U.props)!=null||(U.props={}),U.props.priority=y,U)}))}}V.PrioritizedList=c;class g extends L.PromptElement{render(){const P=M(91398);return vscpp(vscppf,null,this.props.data.content.map(U=>{if(U instanceof P.LanguageModelTextPart)return U.value;if(U instanceof P.LanguageModelPromptTsxPart)return vscpp("elementJSON",{data:U.value})}))}}V.ToolResult=g;class d extends L.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}V.LegacyPrioritization=d;class w extends L.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}V.Chunk=w;class k extends L.PromptElement{async render(P,U){return vscpp(vscppf,null,await this.props.value(U))}}V.Expandable=k},79420:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PromptRenderer=V.MetadataMap=void 0;const A=M(49138),L=M(75234),I=M(52727);var C;(function(F){F.empty={get:()=>{},getAll:()=>[]}})(C||(V.MetadataMap=C={}));class f{constructor(y,z,Q,Z){Nt(this,"_endpoint");Nt(this,"_ctor");Nt(this,"_props");Nt(this,"_tokenizer");Nt(this,"_usedContext",[]);Nt(this,"_ignoredFiles",[]);Nt(this,"_growables",[]);Nt(this,"_root",new c(null,0));Nt(this,"tracer");this._endpoint=y,this._ctor=z,this._props=Q,this._tokenizer=Z}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(y){return new y.ctor(y.props)}async _processPromptPieces(y,z,Q,Z){var $,D,u,E,q,H,K;const X=new Map;for(const[G,ie]of z.entries()){if(Array.isArray(ie.children)&&(ie.props=($=ie.props)!=null?$:{},ie.props.children=ie.children),!ie.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");const J=this.createElement(ie);ie.node.setObj(J);const B=(D=ie.props.flexGrow)!=null?D:1/0;let ae=X.get(B);ae||(ae=[],X.set(B,ae)),ae.push({element:ie,promptElementInstance:J})}if(X.size===0)return;const Y=[...X.entries()].sort(([G],[ie])=>ie-G).map(([G,ie])=>ie),O=G=>{let ie=0;for(let J=G+1;J<Y.length;J++)for(const{element:B}of Y[J]){if(!B.props.flexReserve)continue;const ae=typeof B.props.flexReserve=="string"?Math.floor(y.remainingTokenBudget/Number(B.props.flexReserve.slice(1))):B.props.flexReserve;ie+=ae}return y.consume(ie),ie};for(const[G,ie]of Y.entries()){const J=O(G);let B=0;for(const{element:be}of ie)B+=(u=be.props.flex||be.props.flexBasis)!=null?u:1;const ae=ie.map(be=>{var Te;const we=((Te=be.element.props.flexBasis)!=null?Te:1)/B;return{tokenBudget:Math.floor(y.remainingTokenBudget*we),endpoint:y.endpoint,countTokens:(ee,ne)=>this._tokenizer.tokenLength(ee,ne)}});y.consume(-J),(K=(E=this.tracer)==null?void 0:E.addRenderEpoch)==null||K.call(E,{inNode:(q=ie[0].element.node.parent)==null?void 0:q.id,flexValue:(H=ie[0].element.props.flexGrow)!=null?H:0,tokenBudget:y.remainingTokenBudget,reservedTokens:J,elements:ie.map((be,we)=>({id:be.element.node.id,tokenBudget:ae[we].tokenBudget}))}),await Promise.all(ie.map(async({element:be,promptElementInstance:we},Te)=>{var ne;const ee=await((ne=we.prepare)==null?void 0:ne.call(we,ae[Te],Q,Z));be.node.setState(ee)}));const Ne=await Promise.all(ie.map(async({element:be,promptElementInstance:we},Te)=>{const ee=ae[Te];return await we.render(be.node.getState(),ee,Q,Z)}));for(const[be,{element:we,promptElementInstance:Te}]of ie.entries()){const ee=ae[be],ne=Ne[be];if(!ne)continue;const me=await this._processPromptRenderPiece(new S(ee.tokenBudget,this._endpoint),we,Te,ne,Q,Z);Te instanceof L.Expandable&&this._growables.push({initialConsume:me,elem:we.node}),y.consume(me)}}}async _processPromptRenderPiece(y,z,Q,Z,X,Y){const O=p(Z),$=new S(y.tokenBudget,this._endpoint),{tokensConsumed:D}=await h(this._tokenizer,z,Q,O);return $.consume(D),await this._handlePromptChildren(z,O,$,X,Y),$.consumed}async renderElementJSON(y){return await this._processPromptPieces(new S(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,y),{node:this._root.toJSON()}}async render(y,z){var q,H;await this._processPromptPieces(new S(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],y,z);const{container:Q,allMetadata:Z,removed:X}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,z);(H=(q=this.tracer)==null?void 0:q.didMaterializeTree)==null||H.call(q,{budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:Q,removed:X,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:K=>this._getFinalElementTree(K,void 0).then(G=>({...G,budget:K}))});const Y=[...Q.toChatMessages()],O=await Q.tokenCount(this._tokenizer),$=[...Q.allMetadata()],D=new Set,u=$.map(K=>{if(!(K instanceof P))return;const G=K.reference,ie="variableName"in G.anchor;if(ie&&!D.has(G.anchor.variableName))return D.add(G.anchor.variableName),G;if(!ie)return G}).filter(k),E=Z.map(K=>{if(!(K instanceof P)||$.includes(K))return;const G=K.reference,ie="variableName"in G.anchor;if(ie&&!D.has(G.anchor.variableName))return D.add(G.anchor.variableName),G;if(!ie)return G}).filter(k);return{metadata:{get:K=>$.find(G=>G instanceof K),getAll:K=>$.filter(G=>G instanceof K)},messages:Y,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:O,references:u,omittedReferences:E}}async _getFinalElementTree(y,z){const Q=this._root.materialize(),Z=await Q.tokenCount(this._tokenizer);if(Z<y&&!await this._grow(Q,Z,y,z))return{container:Q,allMetadata:[...Q.allMetadata()],removed:0};const X=[...Q.allMetadata()];let Y=0;for(;await Q.upperBoundTokenCount(this._tokenizer)>y&&await Q.tokenCount(this._tokenizer)>y;)Q.removeLowestPriorityChild(),Y++;return{container:Q,allMetadata:X,removed:Y}}async _grow(y,z,Q,Z){if(!this._growables.length)return!1;for(const X of this._growables){const Y=X.elem.getObj();if(!(Y instanceof L.Expandable))throw new Error("unreachable: expected growable");const O=new c(null,0,X.elem.id),$=new S(Q-z+X.initialConsume,this._endpoint),D=await this._processPromptRenderPiece($,{node:O,ctor:this._ctor,props:{},children:[]},Y,await Y.render(void 0,{tokenBudget:$.tokenBudget,endpoint:this._endpoint,countTokens:(q,H)=>this._tokenizer.tokenLength(q,H)}),void 0,Z),u=O.materialize();if(!y.replaceNode(X.elem.id,u))throw new Error("unreachable: could not find old element to replace");if(z-=X.initialConsume,z+=D,z>=Q)break}return!0}_handlePromptChildren(y,z,Q,Z,X){var O,$;if(y.ctor===L.TextChunk){this._handleExtrinsicTextChunkChildren(y.node,y.node,y.props,z);return}let Y=[];for(const D of z){if(D.kind==="literal"){y.node.appendStringChild(D.value,(O=y.props.priority)!=null?O:Number.MAX_SAFE_INTEGER);continue}if(D.kind==="intrinsic"){this._handleIntrinsic(y.node,D.name,{priority:($=y.props.priority)!=null?$:Number.MAX_SAFE_INTEGER,...D.props},m(D.children));continue}const u=y.node.createChild();Y.push({node:u,ctor:D.ctor,props:{priority:y.props.priority,...D.props},children:D.children})}return this._processPromptPieces(Q,Y,Z,X)}_handleIntrinsic(y,z,Q,Z,X){switch(z){case"meta":return this._handleIntrinsicMeta(y,Q,Z);case"br":return this._handleIntrinsicLineBreak(y,Q,Z,Q.priority,X);case"usedContext":return this._handleIntrinsicUsedContext(y,Q,Z);case"references":return this._handleIntrinsicReferences(y,Q,Z);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(y,Q,Z);case"elementJSON":return this._handleIntrinsicElementJSON(y,Q.data)}throw new Error(`Unknown intrinsic element ${z}!`)}_handleIntrinsicMeta(y,z,Q){if(Q.length>0)throw new Error("<meta /> must not have children!");z.local?y.addMetadata(z.value):this._root.addMetadata(z.value)}_handleIntrinsicLineBreak(y,z,Q,Z,X){if(Q.length>0)throw new Error("<br /> must not have children!");y.appendLineBreak(Z!=null?Z:Number.MAX_SAFE_INTEGER,X)}_handleIntrinsicElementJSON(y,z){var Z;const Q=y.appendPieceJSON(z.node);if((Z=this.tracer)!=null&&Z.includeInEpoch)for(const X of Q.elements())this.tracer.includeInEpoch({id:X.id,tokenBudget:0})}_handleIntrinsicUsedContext(y,z,Q){if(Q.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...z.value)}_handleIntrinsicReferences(y,z,Q){if(Q.length>0)throw new Error("<reference /> must not have children!");for(const Z of z.value)y.addMetadata(new P(Z))}_handleIntrinsicIgnoredFiles(y,z,Q){if(Q.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...z.value)}_handleExtrinsicTextChunkChildren(y,z,Q,Z){var O;const X=[],Y=[];for(const $ of Z){if($.kind==="extrinsic")throw new Error("TextChunk cannot have extrinsic children!");if($.kind==="literal"&&X.push($.value),$.kind==="intrinsic")if($.name==="br")X.push(`
`);else if($.name==="references")for(const D of $.props.value)Y.push(new P(D));else this._handleIntrinsic(y,$.name,$.props,m($.children),z.childIndex)}y.appendStringChild(X.join(""),(O=Q==null?void 0:Q.priority)!=null?O:Number.MAX_SAFE_INTEGER,Y,z.childIndex,!0)}}V.PromptRenderer=f;async function h(F,y,z,Q){let Z=0;(0,L.isChatMessagePromptElement)(z)&&(Z+=await F.countMessageTokens({role:y.props.role,content:"",...y.props.name?{name:y.props.name}:void 0}));for(const X of Q)X.kind==="literal"&&(Z+=await F.tokenLength(X.value));return{tokensConsumed:Z}}function p(F){return typeof F=="undefined"||typeof F=="boolean"?[]:typeof F=="string"||typeof F=="number"?[new l(String(F))]:d(F)?[...m(F.children)]:typeof F.ctor=="string"?[new _(F.ctor,F.props,F.children)]:[new b(F.ctor,F.props,F.children)]}function m(F){return(F!=null?F:[]).reduce((y,z)=>(y.push(...p(z)),y),[])}class _{constructor(y,z,Q){Nt(this,"name");Nt(this,"props");Nt(this,"children");Nt(this,"kind","intrinsic");this.name=y,this.props=z,this.children=Q}}class b{constructor(y,z,Q){Nt(this,"ctor");Nt(this,"props");Nt(this,"children");Nt(this,"kind","extrinsic");this.ctor=y,this.props=z,this.children=Q}}class l{constructor(y,z){Nt(this,"value");Nt(this,"priority");Nt(this,"kind","literal");this.value=y,this.priority=z}}class S{constructor(y,z){Nt(this,"tokenBudget");Nt(this,"endpoint");Nt(this,"_consumed",0);this.tokenBudget=y,this.endpoint=z}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(y){this._consumed+=y}}const U=class U{constructor(y=null,z,Q=U._nextId++){Nt(this,"parent");Nt(this,"childIndex");Nt(this,"id");Nt(this,"kind",1);Nt(this,"_obj",null);Nt(this,"_state");Nt(this,"_children",[]);Nt(this,"_metadata",[]);this.parent=y,this.childIndex=z,this.id=Q}static fromJSON(y,z){var Z,X;const Q=new U(null,y);switch(Q._metadata=(X=(Z=z.references)==null?void 0:Z.map(Y=>new P(I.PromptReference.fromJSON(Y))))!=null?X:[],Q._children=z.children.map((Y,O)=>{switch(Y.type){case 1:return U.fromJSON(O,Y);case 2:return g.fromJSON(Q,O,Y);default:}}).filter(k),z.ctor){case 1:Q._obj=new L.BaseChatMessage(z.props);break;case 2:break;default:z.ctor}return Q}setObj(y){this._obj=y}getObj(){return this._obj}setState(y){this._state=y}getState(){return this._state}createChild(){const y=new U(this,this._children.length);return this._children.push(y),y}appendPieceJSON(y){const z=U.fromJSON(this._children.length,y);return this._children.push(z),z}appendStringChild(y,z,Q,Z=this._children.length,X=!1){this._children.push(new g(this,Z,y,z,Q,X))}appendLineBreak(y,z=this._children.length){this._children.push(new g(this,z,`
`,y))}toJSON(){var z;const y={type:1,ctor:2,children:this._children.slice().sort((Q,Z)=>Q.childIndex-Z.childIndex).map(Q=>Q.toJSON()),priority:(z=this._obj)==null?void 0:z.props.priority,references:this._metadata.filter(Q=>Q instanceof P).map(Q=>Q.reference.toJSON())};return this._obj instanceof L.BaseChatMessage&&(y.ctor=1,y.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId}),y}materialize(){var y,z,Q,Z,X,Y;if(this._children.sort((O,$)=>O.childIndex-$.childIndex),this._obj instanceof L.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new A.MaterializedChatMessage(this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof L.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof L.ToolMessage?this._obj.props.toolCallId:void 0,(y=this._obj.props.priority)!=null?y:Number.MAX_SAFE_INTEGER,this._metadata,this._children.map($=>$.materialize()))}else{let O=0;return this._obj instanceof L.LegacyPrioritization&&(O|=1),this._obj instanceof L.Chunk&&(O|=2),(z=this._obj)!=null&&z.props.passPriority&&(O|=4),new A.MaterializedContainer(this.id,(Q=this._obj)==null?void 0:Q.constructor.name,(Y=(Z=this._obj)==null?void 0:Z.props.priority)!=null?Y:(X=this._obj)!=null&&X.props.passPriority?0:Number.MAX_SAFE_INTEGER,this._children.map($=>$.materialize()),this._metadata,O)}}addMetadata(y){this._metadata.push(y)}*elements(){yield this;for(const y of this._children)y instanceof U&&(yield*y.elements())}};Nt(U,"_nextId",0);let c=U;class g{constructor(y,z,Q,Z,X,Y=!1){Nt(this,"parent");Nt(this,"childIndex");Nt(this,"text");Nt(this,"priority");Nt(this,"metadata");Nt(this,"lineBreakBefore");Nt(this,"kind",2);this.parent=y,this.childIndex=z,this.text=Q,this.priority=Z,this.metadata=X,this.lineBreakBefore=Y}static fromJSON(y,z,Q){var Z;return new g(y,z,Q.text,Q.priority,(Z=Q.references)==null?void 0:Z.map(X=>new P(I.PromptReference.fromJSON(X))),Q.lineBreakBefore)}collectLeafs(y){y.push(this)}materialize(){var z;const y=this.lineBreakBefore?1:this.childIndex===0?2:0;return new A.MaterializedChatMessageTextChunk(this.text,(z=this.priority)!=null?z:Number.MAX_SAFE_INTEGER,this.metadata||[],y)}toJSON(){var y;return{type:2,priority:this.priority,text:this.text,references:(y=this.metadata)==null?void 0:y.filter(z=>z instanceof P).map(z=>z.reference.toJSON()),lineBreakBefore:this.lineBreakBefore}}}function d(F){var y;return(y=typeof F.ctor=="function"&&F.ctor.isFragment)!=null?y:!1}function w(F){}function k(F){return F!==void 0}class R extends I.PromptMetadata{}class P extends R{constructor(z){super();Nt(this,"reference");this.reference=z}}},52727:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PromptReference=V.ChatResponseReferencePartStatusKind=V.PromptMetadata=void 0;const A=M(84326);class L{constructor(){Nt(this,"_marker")}toString(){return Object.getPrototypeOf(this).constructor.name}}V.PromptMetadata=L;var I;(function(f){f[f.Complete=1]="Complete",f[f.Partial=2]="Partial",f[f.Omitted=3]="Omitted"})(I||(V.ChatResponseReferencePartStatusKind=I={}));class C{constructor(h,p,m){Nt(this,"anchor");Nt(this,"iconPath");Nt(this,"options");this.anchor=h,this.iconPath=p,this.options=m}static fromJSON(h){const p=m=>"scheme"in m?A.URI.from(m):{uri:A.URI.from(m.uri),range:m.range};return new C("variableName"in h.anchor?{variableName:h.anchor.variableName,value:h.anchor.value&&p(h.anchor.value)}:p(h.anchor),h.iconPath&&("scheme"in h.iconPath?A.URI.from(h.iconPath):"light"in h.iconPath?{light:A.URI.from(h.iconPath.light),dark:A.URI.from(h.iconPath.dark)}:h.iconPath),h.options)}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}}V.PromptReference=C},82990:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.AnyTokenizer=void 0;const A=M(96423);class L{constructor(C){Nt(this,"countTokens");this.countTokens=C}async tokenLength(C,f){return this.countTokens(C,f)}async countMessageTokens(C){const f=await Promise.resolve().then(()=>M(91398));return this.countTokens({role:this.toChatRole(C.role),content:[new f.LanguageModelTextPart(C.content)],name:"name"in C?C.name:void 0})}toChatRole(C){switch(C){case A.ChatRole.User:return 1;case A.ChatRole.Assistant:return 2;case A.ChatRole.System:return 1;case A.ChatRole.Function:return 1;case A.ChatRole.Tool:return 1}}}V.AnyTokenizer=L},3804:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0})},63479:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0})},10818:()=>{"use strict";function s(M,A,...L){return{ctor:M,props:A,children:L.flat()}}function V(){throw new Error("This should not be invoked!")}V.isFragment=!0,globalThis.vscpp=s,globalThis.vscppf=V},68504:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0})},22177:(s,V,M)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.delimiter=V.sep=V.toNamespacedPath=V.parse=V.format=V.extname=V.basename=V.dirname=V.relative=V.resolve=V.join=V.isAbsolute=V.normalize=V.posix=V.win32=void 0;const A=M(13),L=65,I=97,C=90,f=122,h=46,p=47,m=92,_=58,b=63;class l extends Error{constructor(z,Q,Z){let X;typeof Q=="string"&&Q.indexOf("not ")===0?(X="must not be",Q=Q.replace(/^not /,"")):X="must be";const Y=z.indexOf(".")!==-1?"property":"argument";let O=`The "${z}" ${Y} ${X} of type ${Q}`;O+=`. Received type ${typeof Z}`;super(O);Nt(this,"code");this.code="ERR_INVALID_ARG_TYPE"}}function S(F,y){if(F===null||typeof F!="object")throw new l(y,"Object",F)}function c(F,y){if(typeof F!="string")throw new l(y,"string",F)}const g=A.platform==="win32";function d(F){return F===p||F===m}function w(F){return F===p}function k(F){return F>=L&&F<=C||F>=I&&F<=f}function R(F,y,z,Q){let Z="",X=0,Y=-1,O=0,$=0;for(let D=0;D<=F.length;++D){if(D<F.length)$=F.charCodeAt(D);else{if(Q($))break;$=p}if(Q($)){if(!(Y===D-1||O===1))if(O===2){if(Z.length<2||X!==2||Z.charCodeAt(Z.length-1)!==h||Z.charCodeAt(Z.length-2)!==h){if(Z.length>2){const u=Z.lastIndexOf(z);u===-1?(Z="",X=0):(Z=Z.slice(0,u),X=Z.length-1-Z.lastIndexOf(z)),Y=D,O=0;continue}else if(Z.length!==0){Z="",X=0,Y=D,O=0;continue}}y&&(Z+=Z.length>0?`${z}..`:"..",X=2)}else Z.length>0?Z+=`${z}${F.slice(Y+1,D)}`:Z=F.slice(Y+1,D),X=D-Y-1;Y=D,O=0}else $===h&&O!==-1?++O:O=-1}return Z}function P(F,y){S(y,"pathObject");const z=y.dir||y.root,Q=y.base||`${y.name||""}${y.ext||""}`;return z?z===y.root?`${z}${Q}`:`${z}${F}${Q}`:Q}V.win32={resolve(...F){let y="",z="",Q=!1;for(let Z=F.length-1;Z>=-1;Z--){let X;if(Z>=0){if(X=F[Z],c(X,"path"),X.length===0)continue}else y.length===0?X=A.cwd():(X=A.env[`=${y}`]||A.cwd(),(X===void 0||X.slice(0,2).toLowerCase()!==y.toLowerCase()&&X.charCodeAt(2)===m)&&(X=`${y}\\`));const Y=X.length;let O=0,$="",D=!1;const u=X.charCodeAt(0);if(Y===1)d(u)&&(O=1,D=!0);else if(d(u))if(D=!0,d(X.charCodeAt(1))){let E=2,q=E;for(;E<Y&&!d(X.charCodeAt(E));)E++;if(E<Y&&E!==q){const H=X.slice(q,E);for(q=E;E<Y&&d(X.charCodeAt(E));)E++;if(E<Y&&E!==q){for(q=E;E<Y&&!d(X.charCodeAt(E));)E++;(E===Y||E!==q)&&($=`\\\\${H}\\${X.slice(q,E)}`,O=E)}}}else O=1;else k(u)&&X.charCodeAt(1)===_&&($=X.slice(0,2),O=2,Y>2&&d(X.charCodeAt(2))&&(D=!0,O=3));if($.length>0)if(y.length>0){if($.toLowerCase()!==y.toLowerCase())continue}else y=$;if(Q){if(y.length>0)break}else if(z=`${X.slice(O)}\\${z}`,Q=D,D&&y.length>0)break}return z=R(z,!Q,"\\",d),Q?`${y}\\${z}`:`${y}${z}`||"."},normalize(F){c(F,"path");const y=F.length;if(y===0)return".";let z=0,Q,Z=!1;const X=F.charCodeAt(0);if(y===1)return w(X)?"\\":F;if(d(X))if(Z=!0,d(F.charCodeAt(1))){let O=2,$=O;for(;O<y&&!d(F.charCodeAt(O));)O++;if(O<y&&O!==$){const D=F.slice($,O);for($=O;O<y&&d(F.charCodeAt(O));)O++;if(O<y&&O!==$){for($=O;O<y&&!d(F.charCodeAt(O));)O++;if(O===y)return`\\\\${D}\\${F.slice($)}\\`;O!==$&&(Q=`\\\\${D}\\${F.slice($,O)}`,z=O)}}}else z=1;else k(X)&&F.charCodeAt(1)===_&&(Q=F.slice(0,2),z=2,y>2&&d(F.charCodeAt(2))&&(Z=!0,z=3));let Y=z<y?R(F.slice(z),!Z,"\\",d):"";return Y.length===0&&!Z&&(Y="."),Y.length>0&&d(F.charCodeAt(y-1))&&(Y+="\\"),Q===void 0?Z?`\\${Y}`:Y:Z?`${Q}\\${Y}`:`${Q}${Y}`},isAbsolute(F){c(F,"path");const y=F.length;if(y===0)return!1;const z=F.charCodeAt(0);return d(z)||y>2&&k(z)&&F.charCodeAt(1)===_&&d(F.charCodeAt(2))},join(...F){if(F.length===0)return".";let y,z;for(let X=0;X<F.length;++X){const Y=F[X];c(Y,"path"),Y.length>0&&(y===void 0?y=z=Y:y+=`\\${Y}`)}if(y===void 0)return".";let Q=!0,Z=0;if(typeof z=="string"&&d(z.charCodeAt(0))){++Z;const X=z.length;X>1&&d(z.charCodeAt(1))&&(++Z,X>2&&(d(z.charCodeAt(2))?++Z:Q=!1))}if(Q){for(;Z<y.length&&d(y.charCodeAt(Z));)Z++;Z>=2&&(y=`\\${y.slice(Z)}`)}return V.win32.normalize(y)},relative(F,y){if(c(F,"from"),c(y,"to"),F===y)return"";const z=V.win32.resolve(F),Q=V.win32.resolve(y);if(z===Q||(F=z.toLowerCase(),y=Q.toLowerCase(),F===y))return"";let Z=0;for(;Z<F.length&&F.charCodeAt(Z)===m;)Z++;let X=F.length;for(;X-1>Z&&F.charCodeAt(X-1)===m;)X--;const Y=X-Z;let O=0;for(;O<y.length&&y.charCodeAt(O)===m;)O++;let $=y.length;for(;$-1>O&&y.charCodeAt($-1)===m;)$--;const D=$-O,u=Y<D?Y:D;let E=-1,q=0;for(;q<u;q++){const K=F.charCodeAt(Z+q);if(K!==y.charCodeAt(O+q))break;K===m&&(E=q)}if(q!==u){if(E===-1)return Q}else{if(D>u){if(y.charCodeAt(O+q)===m)return Q.slice(O+q+1);if(q===2)return Q.slice(O+q)}Y>u&&(F.charCodeAt(Z+q)===m?E=q:q===2&&(E=3)),E===-1&&(E=0)}let H="";for(q=Z+E+1;q<=X;++q)(q===X||F.charCodeAt(q)===m)&&(H+=H.length===0?"..":"\\..");return O+=E,H.length>0?`${H}${Q.slice(O,$)}`:(Q.charCodeAt(O)===m&&++O,Q.slice(O,$))},toNamespacedPath(F){if(typeof F!="string"||F.length===0)return F;const y=V.win32.resolve(F);if(y.length<=2)return F;if(y.charCodeAt(0)===m){if(y.charCodeAt(1)===m){const z=y.charCodeAt(2);if(z!==b&&z!==h)return`\\\\?\\UNC\\${y.slice(2)}`}}else if(k(y.charCodeAt(0))&&y.charCodeAt(1)===_&&y.charCodeAt(2)===m)return`\\\\?\\${y}`;return F},dirname(F){c(F,"path");const y=F.length;if(y===0)return".";let z=-1,Q=0;const Z=F.charCodeAt(0);if(y===1)return d(Z)?F:".";if(d(Z)){if(z=Q=1,d(F.charCodeAt(1))){let O=2,$=O;for(;O<y&&!d(F.charCodeAt(O));)O++;if(O<y&&O!==$){for($=O;O<y&&d(F.charCodeAt(O));)O++;if(O<y&&O!==$){for($=O;O<y&&!d(F.charCodeAt(O));)O++;if(O===y)return F;O!==$&&(z=Q=O+1)}}}}else k(Z)&&F.charCodeAt(1)===_&&(z=y>2&&d(F.charCodeAt(2))?3:2,Q=z);let X=-1,Y=!0;for(let O=y-1;O>=Q;--O)if(d(F.charCodeAt(O))){if(!Y){X=O;break}}else Y=!1;if(X===-1){if(z===-1)return".";X=z}return F.slice(0,X)},basename(F,y){y!==void 0&&c(y,"ext"),c(F,"path");let z=0,Q=-1,Z=!0,X;if(F.length>=2&&k(F.charCodeAt(0))&&F.charCodeAt(1)===_&&(z=2),y!==void 0&&y.length>0&&y.length<=F.length){if(y===F)return"";let Y=y.length-1,O=-1;for(X=F.length-1;X>=z;--X){const $=F.charCodeAt(X);if(d($)){if(!Z){z=X+1;break}}else O===-1&&(Z=!1,O=X+1),Y>=0&&($===y.charCodeAt(Y)?--Y===-1&&(Q=X):(Y=-1,Q=O))}return z===Q?Q=O:Q===-1&&(Q=F.length),F.slice(z,Q)}for(X=F.length-1;X>=z;--X)if(d(F.charCodeAt(X))){if(!Z){z=X+1;break}}else Q===-1&&(Z=!1,Q=X+1);return Q===-1?"":F.slice(z,Q)},extname(F){c(F,"path");let y=0,z=-1,Q=0,Z=-1,X=!0,Y=0;F.length>=2&&F.charCodeAt(1)===_&&k(F.charCodeAt(0))&&(y=Q=2);for(let O=F.length-1;O>=y;--O){const $=F.charCodeAt(O);if(d($)){if(!X){Q=O+1;break}continue}Z===-1&&(X=!1,Z=O+1),$===h?z===-1?z=O:Y!==1&&(Y=1):z!==-1&&(Y=-1)}return z===-1||Z===-1||Y===0||Y===1&&z===Z-1&&z===Q+1?"":F.slice(z,Z)},format:P.bind(null,"\\"),parse(F){c(F,"path");const y={root:"",dir:"",base:"",ext:"",name:""};if(F.length===0)return y;const z=F.length;let Q=0,Z=F.charCodeAt(0);if(z===1)return d(Z)?(y.root=y.dir=F,y):(y.base=y.name=F,y);if(d(Z)){if(Q=1,d(F.charCodeAt(1))){let E=2,q=E;for(;E<z&&!d(F.charCodeAt(E));)E++;if(E<z&&E!==q){for(q=E;E<z&&d(F.charCodeAt(E));)E++;if(E<z&&E!==q){for(q=E;E<z&&!d(F.charCodeAt(E));)E++;E===z?Q=E:E!==q&&(Q=E+1)}}}}else if(k(Z)&&F.charCodeAt(1)===_){if(z<=2)return y.root=y.dir=F,y;if(Q=2,d(F.charCodeAt(2))){if(z===3)return y.root=y.dir=F,y;Q=3}}Q>0&&(y.root=F.slice(0,Q));let X=-1,Y=Q,O=-1,$=!0,D=F.length-1,u=0;for(;D>=Q;--D){if(Z=F.charCodeAt(D),d(Z)){if(!$){Y=D+1;break}continue}O===-1&&($=!1,O=D+1),Z===h?X===-1?X=D:u!==1&&(u=1):X!==-1&&(u=-1)}return O!==-1&&(X===-1||u===0||u===1&&X===O-1&&X===Y+1?y.base=y.name=F.slice(Y,O):(y.name=F.slice(Y,X),y.base=F.slice(Y,O),y.ext=F.slice(X,O))),Y>0&&Y!==Q?y.dir=F.slice(0,Y-1):y.dir=y.root,y},sep:"\\",delimiter:";",win32:null,posix:null};const U=(()=>{if(g){const F=/\\/g;return()=>{const y=A.cwd().replace(F,"/");return y.slice(y.indexOf("/"))}}return()=>A.cwd()})();V.posix={resolve(...F){let y="",z=!1;for(let Q=F.length-1;Q>=-1&&!z;Q--){const Z=Q>=0?F[Q]:U();c(Z,"path"),Z.length!==0&&(y=`${Z}/${y}`,z=Z.charCodeAt(0)===p)}return y=R(y,!z,"/",w),z?`/${y}`:y.length>0?y:"."},normalize(F){if(c(F,"path"),F.length===0)return".";const y=F.charCodeAt(0)===p,z=F.charCodeAt(F.length-1)===p;return F=R(F,!y,"/",w),F.length===0?y?"/":z?"./":".":(z&&(F+="/"),y?`/${F}`:F)},isAbsolute(F){return c(F,"path"),F.length>0&&F.charCodeAt(0)===p},join(...F){if(F.length===0)return".";let y;for(let z=0;z<F.length;++z){const Q=F[z];c(Q,"path"),Q.length>0&&(y===void 0?y=Q:y+=`/${Q}`)}return y===void 0?".":V.posix.normalize(y)},relative(F,y){if(c(F,"from"),c(y,"to"),F===y||(F=V.posix.resolve(F),y=V.posix.resolve(y),F===y))return"";const z=1,Q=F.length,Z=Q-z,X=1,Y=y.length-X,O=Z<Y?Z:Y;let $=-1,D=0;for(;D<O;D++){const E=F.charCodeAt(z+D);if(E!==y.charCodeAt(X+D))break;E===p&&($=D)}if(D===O)if(Y>O){if(y.charCodeAt(X+D)===p)return y.slice(X+D+1);if(D===0)return y.slice(X+D)}else Z>O&&(F.charCodeAt(z+D)===p?$=D:D===0&&($=0));let u="";for(D=z+$+1;D<=Q;++D)(D===Q||F.charCodeAt(D)===p)&&(u+=u.length===0?"..":"/..");return`${u}${y.slice(X+$)}`},toNamespacedPath(F){return F},dirname(F){if(c(F,"path"),F.length===0)return".";const y=F.charCodeAt(0)===p;let z=-1,Q=!0;for(let Z=F.length-1;Z>=1;--Z)if(F.charCodeAt(Z)===p){if(!Q){z=Z;break}}else Q=!1;return z===-1?y?"/":".":y&&z===1?"//":F.slice(0,z)},basename(F,y){y!==void 0&&c(y,"ext"),c(F,"path");let z=0,Q=-1,Z=!0,X;if(y!==void 0&&y.length>0&&y.length<=F.length){if(y===F)return"";let Y=y.length-1,O=-1;for(X=F.length-1;X>=0;--X){const $=F.charCodeAt(X);if($===p){if(!Z){z=X+1;break}}else O===-1&&(Z=!1,O=X+1),Y>=0&&($===y.charCodeAt(Y)?--Y===-1&&(Q=X):(Y=-1,Q=O))}return z===Q?Q=O:Q===-1&&(Q=F.length),F.slice(z,Q)}for(X=F.length-1;X>=0;--X)if(F.charCodeAt(X)===p){if(!Z){z=X+1;break}}else Q===-1&&(Z=!1,Q=X+1);return Q===-1?"":F.slice(z,Q)},extname(F){c(F,"path");let y=-1,z=0,Q=-1,Z=!0,X=0;for(let Y=F.length-1;Y>=0;--Y){const O=F.charCodeAt(Y);if(O===p){if(!Z){z=Y+1;break}continue}Q===-1&&(Z=!1,Q=Y+1),O===h?y===-1?y=Y:X!==1&&(X=1):y!==-1&&(X=-1)}return y===-1||Q===-1||X===0||X===1&&y===Q-1&&y===z+1?"":F.slice(y,Q)},format:P.bind(null,"/"),parse(F){c(F,"path");const y={root:"",dir:"",base:"",ext:"",name:""};if(F.length===0)return y;const z=F.charCodeAt(0)===p;let Q;z?(y.root="/",Q=1):Q=0;let Z=-1,X=0,Y=-1,O=!0,$=F.length-1,D=0;for(;$>=Q;--$){const u=F.charCodeAt($);if(u===p){if(!O){X=$+1;break}continue}Y===-1&&(O=!1,Y=$+1),u===h?Z===-1?Z=$:D!==1&&(D=1):Z!==-1&&(D=-1)}if(Y!==-1){const u=X===0&&z?1:X;Z===-1||D===0||D===1&&Z===Y-1&&Z===X+1?y.base=y.name=F.slice(u,Y):(y.name=F.slice(u,Z),y.base=F.slice(u,Y),y.ext=F.slice(Z,Y))}return X>0?y.dir=F.slice(0,X-1):z&&(y.dir="/"),y},sep:"/",delimiter:":",win32:null,posix:null},V.posix.win32=V.win32.win32=V.win32,V.posix.posix=V.win32.posix=V.posix,V.normalize=g?V.win32.normalize:V.posix.normalize,V.isAbsolute=g?V.win32.isAbsolute:V.posix.isAbsolute,V.join=g?V.win32.join:V.posix.join,V.resolve=g?V.win32.resolve:V.posix.resolve,V.relative=g?V.win32.relative:V.posix.relative,V.dirname=g?V.win32.dirname:V.posix.dirname,V.basename=g?V.win32.basename:V.posix.basename,V.extname=g?V.win32.extname:V.posix.extname,V.format=g?V.win32.format:V.posix.format,V.parse=g?V.win32.parse:V.posix.parse,V.toNamespacedPath=g?V.win32.toNamespacedPath:V.posix.toNamespacedPath,V.sep=g?V.win32.sep:V.posix.sep,V.delimiter=g?V.win32.delimiter:V.posix.delimiter},821:(s,V,M)=>{"use strict";var $;var A=M(65606);//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.isAndroid=V.isEdge=V.isSafari=V.isFirefox=V.isChrome=V.OS=V.setTimeout0=V.setTimeout0IsFaster=V.translationsConfigFile=V.platformLocale=V.locale=V.Language=V.language=V.userAgent=V.platform=V.isCI=V.isMobile=V.isIOS=V.webWorkerOrigin=V.isWebWorker=V.isWeb=V.isElectron=V.isNative=V.isLinuxSnap=V.isLinux=V.isMacintosh=V.isWindows=V.LANGUAGE_DEFAULT=void 0,V.PlatformToString=y,V.isLittleEndian=Y,V.isBigSurOrNewer=O;const L=M(69175);V.LANGUAGE_DEFAULT="en";let I=!1,C=!1,f=!1,h=!1,p=!1,m=!1,_=!1,b=!1,l=!1,S=!1,c,g=V.LANGUAGE_DEFAULT,d=V.LANGUAGE_DEFAULT,w,k;const R=globalThis;let P;typeof R.vscode!="undefined"&&typeof R.vscode.process!="undefined"?P=R.vscode.process:typeof A!="undefined"&&(P=A);const U=typeof(($=P==null?void 0:P.versions)==null?void 0:$.electron)=="string",F=U&&(P==null?void 0:P.type)==="renderer";if(typeof P=="object"){I=P.platform==="win32",C=P.platform==="darwin",f=P.platform==="linux",h=f&&!!P.env.SNAP&&!!P.env.SNAP_REVISION,_=U,l=!!P.env.CI||!!P.env.BUILD_ARTIFACTSTAGINGDIRECTORY,c=V.LANGUAGE_DEFAULT,g=V.LANGUAGE_DEFAULT;const D=P.env.VSCODE_NLS_CONFIG;if(D)try{const u=JSON.parse(D),E=u.availableLanguages["*"];c=u.locale,d=u.osLocale,g=E||V.LANGUAGE_DEFAULT,w=u._translationsConfigFile}catch{}p=!0}else typeof navigator=="object"&&!F?(k=navigator.userAgent,I=k.indexOf("Windows")>=0,C=k.indexOf("Macintosh")>=0,b=(k.indexOf("Macintosh")>=0||k.indexOf("iPad")>=0||k.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,f=k.indexOf("Linux")>=0,S=(k==null?void 0:k.indexOf("Mobi"))>=0,m=!0,c=L.getConfiguredDefaultLocale(L.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||V.LANGUAGE_DEFAULT,g=c,d=navigator.language):console.error("Unable to resolve platform.");function y(D){switch(D){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}let z=0;C?z=1:I?z=3:f&&(z=2),V.isWindows=I,V.isMacintosh=C,V.isLinux=f,V.isLinuxSnap=h,V.isNative=p,V.isElectron=_,V.isWeb=m,V.isWebWorker=m&&typeof R.importScripts=="function",V.webWorkerOrigin=V.isWebWorker?R.origin:void 0,V.isIOS=b,V.isMobile=S,V.isCI=l,V.platform=z,V.userAgent=k,V.language=g;var Q;(function(D){function u(){return V.language}D.value=u;function E(){return V.language.length===2?V.language==="en":V.language.length>=3?V.language[0]==="e"&&V.language[1]==="n"&&V.language[2]==="-":!1}D.isDefaultVariant=E;function q(){return V.language==="en"}D.isDefault=q})(Q||(V.Language=Q={})),V.locale=c,V.platformLocale=d,V.translationsConfigFile=w,V.setTimeout0IsFaster=typeof R.postMessage=="function"&&!R.importScripts,V.setTimeout0=(()=>{if(V.setTimeout0IsFaster){const D=[];R.addEventListener("message",E=>{if(E.data&&E.data.vscodeScheduleAsyncWork)for(let q=0,H=D.length;q<H;q++){const K=D[q];if(K.id===E.data.vscodeScheduleAsyncWork){D.splice(q,1),K.callback();return}}});let u=0;return E=>{const q=++u;D.push({id:q,callback:E}),R.postMessage({vscodeScheduleAsyncWork:q},"*")}}return D=>setTimeout(D)})(),V.OS=C||b?2:I?1:3;let Z=!0,X=!1;function Y(){if(!X){X=!0;const D=new Uint8Array(2);D[0]=1,D[1]=2,Z=new Uint16Array(D.buffer)[0]===513}return Z}V.isChrome=!!(V.userAgent&&V.userAgent.indexOf("Chrome")>=0),V.isFirefox=!!(V.userAgent&&V.userAgent.indexOf("Firefox")>=0),V.isSafari=!!(!V.isChrome&&V.userAgent&&V.userAgent.indexOf("Safari")>=0),V.isEdge=!!(V.userAgent&&V.userAgent.indexOf("Edg/")>=0),V.isAndroid=!!(V.userAgent&&V.userAgent.indexOf("Android")>=0);function O(D){return parseFloat(D)>=20}},13:(s,V,M)=>{"use strict";var A=M(65606);//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.arch=V.platform=V.env=V.cwd=void 0;const L=M(821);let I;const C=globalThis.vscode;if(typeof C!="undefined"&&typeof C.process!="undefined"){const f=C.process;I={get platform(){return f.platform},get arch(){return f.arch},get env(){return f.env},cwd(){return f.cwd()}}}else typeof A!="undefined"?I={get platform(){return A.platform},get arch(){return A.arch},get env(){return A.env},cwd(){return A.env.VSCODE_CWD||A.cwd()}}:I={get platform(){return L.isWindows?"win32":L.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};V.cwd=I.cwd,V.env=I.env,V.platform=I.platform,V.arch=I.arch},84326:(s,V,M)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.URI=void 0,V.isUriComponents=c,V.uriToFsPath=P;const A=M(22177),L=M(821),I=/^\w[\w\d+.-]*$/,C=/^\//,f=/^\/\//;function h(Q,Z){if(!Q.scheme&&Z)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${Q.authority}", path: "${Q.path}", query: "${Q.query}", fragment: "${Q.fragment}"}`);if(Q.scheme&&!I.test(Q.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(Q.path){if(Q.authority){if(!C.test(Q.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(f.test(Q.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function p(Q,Z){return!Q&&!Z?"file":Q}function m(Q,Z){switch(Q){case"https":case"http":case"file":Z?Z[0]!==b&&(Z=b+Z):Z=b;break}return Z}const _="",b="/",l=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class S{constructor(Z,X,Y,O,$,D=!1){Nt(this,"scheme");Nt(this,"authority");Nt(this,"path");Nt(this,"query");Nt(this,"fragment");typeof Z=="object"?(this.scheme=Z.scheme||_,this.authority=Z.authority||_,this.path=Z.path||_,this.query=Z.query||_,this.fragment=Z.fragment||_):(this.scheme=p(Z,D),this.authority=X||_,this.path=m(this.scheme,Y||_),this.query=O||_,this.fragment=$||_,h(this,D))}static isUri(Z){return Z instanceof S?!0:Z?typeof Z.authority=="string"&&typeof Z.fragment=="string"&&typeof Z.path=="string"&&typeof Z.query=="string"&&typeof Z.scheme=="string"&&typeof Z.fsPath=="string"&&typeof Z.with=="function"&&typeof Z.toString=="function":!1}get fsPath(){return P(this,!1)}with(Z){if(!Z)return this;let{scheme:X,authority:Y,path:O,query:$,fragment:D}=Z;return X===void 0?X=this.scheme:X===null&&(X=_),Y===void 0?Y=this.authority:Y===null&&(Y=_),O===void 0?O=this.path:O===null&&(O=_),$===void 0?$=this.query:$===null&&($=_),D===void 0?D=this.fragment:D===null&&(D=_),X===this.scheme&&Y===this.authority&&O===this.path&&$===this.query&&D===this.fragment?this:new d(X,Y,O,$,D)}static parse(Z,X=!1){const Y=l.exec(Z);return Y?new d(Y[2]||_,z(Y[4]||_),z(Y[5]||_),z(Y[7]||_),z(Y[9]||_),X):new d(_,_,_,_,_)}static file(Z){let X=_;if(L.isWindows&&(Z=Z.replace(/\\/g,b)),Z[0]===b&&Z[1]===b){const Y=Z.indexOf(b,2);Y===-1?(X=Z.substring(2),Z=b):(X=Z.substring(2,Y),Z=Z.substring(Y)||b)}return new d("file",X,Z,_,_)}static from(Z,X){return new d(Z.scheme,Z.authority,Z.path,Z.query,Z.fragment,X)}static joinPath(Z,...X){if(!Z.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let Y;return L.isWindows&&Z.scheme==="file"?Y=S.file(A.win32.join(P(Z,!0),...X)).path:Y=A.posix.join(Z.path,...X),Z.with({path:Y})}toString(Z=!1){return U(this,Z)}toJSON(){return this}static revive(Z){var X,Y;if(Z){if(Z instanceof S)return Z;{const O=new d(Z);return O._formatted=(X=Z.external)!=null?X:null,O._fsPath=Z._sep===g&&(Y=Z.fsPath)!=null?Y:null,O}}else return Z}}V.URI=S;function c(Q){return!Q||typeof Q!="object"?!1:typeof Q.scheme=="string"&&(typeof Q.authority=="string"||typeof Q.authority=="undefined")&&(typeof Q.path=="string"||typeof Q.path=="undefined")&&(typeof Q.query=="string"||typeof Q.query=="undefined")&&(typeof Q.fragment=="string"||typeof Q.fragment=="undefined")}const g=L.isWindows?1:void 0;class d extends S{constructor(){super(...arguments);Nt(this,"_formatted",null);Nt(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=P(this,!1)),this._fsPath}toString(X=!1){return X?U(this,!0):(this._formatted||(this._formatted=U(this,!1)),this._formatted)}toJSON(){const X={$mid:1};return this._fsPath&&(X.fsPath=this._fsPath,X._sep=g),this._formatted&&(X.external=this._formatted),this.path&&(X.path=this.path),this.scheme&&(X.scheme=this.scheme),this.authority&&(X.authority=this.authority),this.query&&(X.query=this.query),this.fragment&&(X.fragment=this.fragment),X}}const w={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function k(Q,Z,X){let Y,O=-1;for(let $=0;$<Q.length;$++){const D=Q.charCodeAt($);if(D>=97&&D<=122||D>=65&&D<=90||D>=48&&D<=57||D===45||D===46||D===95||D===126||Z&&D===47||X&&D===91||X&&D===93||X&&D===58)O!==-1&&(Y+=encodeURIComponent(Q.substring(O,$)),O=-1),Y!==void 0&&(Y+=Q.charAt($));else{Y===void 0&&(Y=Q.substr(0,$));const u=w[D];u!==void 0?(O!==-1&&(Y+=encodeURIComponent(Q.substring(O,$)),O=-1),Y+=u):O===-1&&(O=$)}}return O!==-1&&(Y+=encodeURIComponent(Q.substring(O))),Y!==void 0?Y:Q}function R(Q){let Z;for(let X=0;X<Q.length;X++){const Y=Q.charCodeAt(X);Y===35||Y===63?(Z===void 0&&(Z=Q.substr(0,X)),Z+=w[Y]):Z!==void 0&&(Z+=Q[X])}return Z!==void 0?Z:Q}function P(Q,Z){let X;return Q.authority&&Q.path.length>1&&Q.scheme==="file"?X=`//${Q.authority}${Q.path}`:Q.path.charCodeAt(0)===47&&(Q.path.charCodeAt(1)>=65&&Q.path.charCodeAt(1)<=90||Q.path.charCodeAt(1)>=97&&Q.path.charCodeAt(1)<=122)&&Q.path.charCodeAt(2)===58?Z?X=Q.path.substr(1):X=Q.path[1].toLowerCase()+Q.path.substr(2):X=Q.path,L.isWindows&&(X=X.replace(/\//g,"\\")),X}function U(Q,Z){const X=Z?R:k;let Y="",{scheme:O,authority:$,path:D,query:u,fragment:E}=Q;if(O&&(Y+=O,Y+=":"),($||O==="file")&&(Y+=b,Y+=b),$){let q=$.indexOf("@");if(q!==-1){const H=$.substr(0,q);$=$.substr(q+1),q=H.lastIndexOf(":"),q===-1?Y+=X(H,!1,!1):(Y+=X(H.substr(0,q),!1,!1),Y+=":",Y+=X(H.substr(q+1),!1,!0)),Y+="@"}$=$.toLowerCase(),q=$.lastIndexOf(":"),q===-1?Y+=X($,!1,!0):(Y+=X($.substr(0,q),!1,!0),Y+=$.substr(q))}if(D){if(D.length>=3&&D.charCodeAt(0)===47&&D.charCodeAt(2)===58){const q=D.charCodeAt(1);q>=65&&q<=90&&(D=`/${String.fromCharCode(q+32)}:${D.substr(3)}`)}else if(D.length>=2&&D.charCodeAt(1)===58){const q=D.charCodeAt(0);q>=65&&q<=90&&(D=`${String.fromCharCode(q+32)}:${D.substr(2)}`)}Y+=X(D,!0,!1)}return u&&(Y+="?",Y+=X(u,!1,!1)),E&&(Y+="#",Y+=Z?E:k(E,!1,!1)),Y}function F(Q){try{return decodeURIComponent(Q)}catch{return Q.length>3?Q.substr(0,3)+F(Q.substr(3)):Q}}const y=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function z(Q){return Q.match(y)?Q.replace(y,Z=>F(Z)):Q}},69175:(s,V)=>{"use strict";//!!! DO NOT modify, this file was COPIED from 'microsoft/vscode'
Object.defineProperty(V,"__esModule",{value:!0}),V.localize=A,V.localize2=L,V.getConfiguredDefaultLocale=I;function M(C,f){let h;return f.length===0?h=C:h=C.replace(/\{(\d+)\}/g,function(p,m){const _=m[0];return typeof f[_]!="undefined"?f[_]:p}),h}function A(C,f,...h){return M(f,h)}function L(C,f,...h){const p=M(f,h);return{original:p,value:p}}function I(C){}},87568:(s,V,M)=>{"use strict";const A=V;A.bignum=M(39404),A.define=M(47363).define,A.base=M(9673),A.constants=M(22153),A.decoders=M(22853),A.encoders=M(24669)},47363:(s,V,M)=>{"use strict";const A=M(24669),L=M(22853),I=M(56698),C=V;C.define=function(p,m){return new f(p,m)};function f(h,p){this.name=h,this.body=p,this.decoders={},this.encoders={}}f.prototype._createNamed=function(p){const m=this.name;function _(b){this._initNamed(b,m)}return I(_,p),_.prototype._initNamed=function(l,S){p.call(this,l,S)},new _(this)},f.prototype._getDecoder=function(p){return p=p||"der",this.decoders.hasOwnProperty(p)||(this.decoders[p]=this._createNamed(L[p])),this.decoders[p]},f.prototype.decode=function(p,m,_){return this._getDecoder(m).decode(p,_)},f.prototype._getEncoder=function(p){return p=p||"der",this.encoders.hasOwnProperty(p)||(this.encoders[p]=this._createNamed(A[p])),this.encoders[p]},f.prototype.encode=function(p,m,_){return this._getEncoder(m).encode(p,_)}},47227:(s,V,M)=>{"use strict";const A=M(56698),L=M(89220).a,I=M(54774).Buffer;function C(h,p){if(L.call(this,p),!I.isBuffer(h)){this.error("Input not Buffer");return}this.base=h,this.offset=0,this.length=h.length}A(C,L),V.t=C,C.isDecoderBuffer=function(p){return p instanceof C?!0:typeof p=="object"&&I.isBuffer(p.base)&&p.constructor.name==="DecoderBuffer"&&typeof p.offset=="number"&&typeof p.length=="number"&&typeof p.save=="function"&&typeof p.restore=="function"&&typeof p.isEmpty=="function"&&typeof p.readUInt8=="function"&&typeof p.skip=="function"&&typeof p.raw=="function"},C.prototype.save=function(){return{offset:this.offset,reporter:L.prototype.save.call(this)}},C.prototype.restore=function(p){const m=new C(this.base);return m.offset=p.offset,m.length=this.offset,this.offset=p.offset,L.prototype.restore.call(this,p.reporter),m},C.prototype.isEmpty=function(){return this.offset===this.length},C.prototype.readUInt8=function(p){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(p||"DecoderBuffer overrun")},C.prototype.skip=function(p,m){if(!(this.offset+p<=this.length))return this.error(m||"DecoderBuffer overrun");const _=new C(this.base);return _._reporterState=this._reporterState,_.offset=this.offset,_.length=this.offset+p,this.offset+=p,_},C.prototype.raw=function(p){return this.base.slice(p?p.offset:this.offset,this.length)};function f(h,p){if(Array.isArray(h))this.length=0,this.value=h.map(function(m){return f.isEncoderBuffer(m)||(m=new f(m,p)),this.length+=m.length,m},this);else if(typeof h=="number"){if(!(0<=h&&h<=255))return p.error("non-byte EncoderBuffer value");this.value=h,this.length=1}else if(typeof h=="string")this.value=h,this.length=I.byteLength(h);else if(I.isBuffer(h))this.value=h,this.length=h.length;else return p.error("Unsupported type: "+typeof h)}V.d=f,f.isEncoderBuffer=function(p){return p instanceof f?!0:typeof p=="object"&&p.constructor.name==="EncoderBuffer"&&typeof p.length=="number"&&typeof p.join=="function"},f.prototype.join=function(p,m){return p||(p=I.alloc(this.length)),m||(m=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(_){_.join(p,m),m+=_.length}):(typeof this.value=="number"?p[m]=this.value:typeof this.value=="string"?p.write(this.value,m):I.isBuffer(this.value)&&this.value.copy(p,m),m+=this.length)),p}},9673:(s,V,M)=>{"use strict";const A=V;A.Reporter=M(89220).a,A.DecoderBuffer=M(47227).t,A.EncoderBuffer=M(47227).d,A.Node=M(90993)},90993:(s,V,M)=>{"use strict";const A=M(89220).a,L=M(47227).d,I=M(47227).t,C=M(43349),f=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],h=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(f),p=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function m(b,l,S){const c={};this._baseState=c,c.name=S,c.enc=b,c.parent=l||null,c.children=null,c.tag=null,c.args=null,c.reverseArgs=null,c.choice=null,c.optional=!1,c.any=!1,c.obj=!1,c.use=null,c.useDecoder=null,c.key=null,c.default=null,c.explicit=null,c.implicit=null,c.contains=null,c.parent||(c.children=[],this._wrap())}s.exports=m;const _=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];m.prototype.clone=function(){const l=this._baseState,S={};_.forEach(function(g){S[g]=l[g]});const c=new this.constructor(S.parent);return c._baseState=S,c},m.prototype._wrap=function(){const l=this._baseState;h.forEach(function(S){this[S]=function(){const g=new this.constructor(this);return l.children.push(g),g[S].apply(g,arguments)}},this)},m.prototype._init=function(l){const S=this._baseState;C(S.parent===null),l.call(this),S.children=S.children.filter(function(c){return c._baseState.parent===this},this),C.equal(S.children.length,1,"Root node can have only one child")},m.prototype._useArgs=function(l){const S=this._baseState,c=l.filter(function(g){return g instanceof this.constructor},this);l=l.filter(function(g){return!(g instanceof this.constructor)},this),c.length!==0&&(C(S.children===null),S.children=c,c.forEach(function(g){g._baseState.parent=this},this)),l.length!==0&&(C(S.args===null),S.args=l,S.reverseArgs=l.map(function(g){if(typeof g!="object"||g.constructor!==Object)return g;const d={};return Object.keys(g).forEach(function(w){w==(w|0)&&(w|=0);const k=g[w];d[k]=w}),d}))},p.forEach(function(b){m.prototype[b]=function(){const S=this._baseState;throw new Error(b+" not implemented for encoding: "+S.enc)}}),f.forEach(function(b){m.prototype[b]=function(){const S=this._baseState,c=Array.prototype.slice.call(arguments);return C(S.tag===null),S.tag=b,this._useArgs(c),this}}),m.prototype.use=function(l){C(l);const S=this._baseState;return C(S.use===null),S.use=l,this},m.prototype.optional=function(){const l=this._baseState;return l.optional=!0,this},m.prototype.def=function(l){const S=this._baseState;return C(S.default===null),S.default=l,S.optional=!0,this},m.prototype.explicit=function(l){const S=this._baseState;return C(S.explicit===null&&S.implicit===null),S.explicit=l,this},m.prototype.implicit=function(l){const S=this._baseState;return C(S.explicit===null&&S.implicit===null),S.implicit=l,this},m.prototype.obj=function(){const l=this._baseState,S=Array.prototype.slice.call(arguments);return l.obj=!0,S.length!==0&&this._useArgs(S),this},m.prototype.key=function(l){const S=this._baseState;return C(S.key===null),S.key=l,this},m.prototype.any=function(){const l=this._baseState;return l.any=!0,this},m.prototype.choice=function(l){const S=this._baseState;return C(S.choice===null),S.choice=l,this._useArgs(Object.keys(l).map(function(c){return l[c]})),this},m.prototype.contains=function(l){const S=this._baseState;return C(S.use===null),S.contains=l,this},m.prototype._decode=function(l,S){const c=this._baseState;if(c.parent===null)return l.wrapResult(c.children[0]._decode(l,S));let g=c.default,d=!0,w=null;if(c.key!==null&&(w=l.enterKey(c.key)),c.optional){let R=null;if(c.explicit!==null?R=c.explicit:c.implicit!==null?R=c.implicit:c.tag!==null&&(R=c.tag),R===null&&!c.any){const P=l.save();try{c.choice===null?this._decodeGeneric(c.tag,l,S):this._decodeChoice(l,S),d=!0}catch{d=!1}l.restore(P)}else if(d=this._peekTag(l,R,c.any),l.isError(d))return d}let k;if(c.obj&&d&&(k=l.enterObject()),d){if(c.explicit!==null){const P=this._decodeTag(l,c.explicit);if(l.isError(P))return P;l=P}const R=l.offset;if(c.use===null&&c.choice===null){let P;c.any&&(P=l.save());const U=this._decodeTag(l,c.implicit!==null?c.implicit:c.tag,c.any);if(l.isError(U))return U;c.any?g=l.raw(P):l=U}if(S&&S.track&&c.tag!==null&&S.track(l.path(),R,l.length,"tagged"),S&&S.track&&c.tag!==null&&S.track(l.path(),l.offset,l.length,"content"),c.any||(c.choice===null?g=this._decodeGeneric(c.tag,l,S):g=this._decodeChoice(l,S)),l.isError(g))return g;if(!c.any&&c.choice===null&&c.children!==null&&c.children.forEach(function(U){U._decode(l,S)}),c.contains&&(c.tag==="octstr"||c.tag==="bitstr")){const P=new I(g);g=this._getUse(c.contains,l._reporterState.obj)._decode(P,S)}}return c.obj&&d&&(g=l.leaveObject(k)),c.key!==null&&(g!==null||d===!0)?l.leaveKey(w,c.key,g):w!==null&&l.exitKey(w),g},m.prototype._decodeGeneric=function(l,S,c){const g=this._baseState;return l==="seq"||l==="set"?null:l==="seqof"||l==="setof"?this._decodeList(S,l,g.args[0],c):/str$/.test(l)?this._decodeStr(S,l,c):l==="objid"&&g.args?this._decodeObjid(S,g.args[0],g.args[1],c):l==="objid"?this._decodeObjid(S,null,null,c):l==="gentime"||l==="utctime"?this._decodeTime(S,l,c):l==="null_"?this._decodeNull(S,c):l==="bool"?this._decodeBool(S,c):l==="objDesc"?this._decodeStr(S,l,c):l==="int"||l==="enum"?this._decodeInt(S,g.args&&g.args[0],c):g.use!==null?this._getUse(g.use,S._reporterState.obj)._decode(S,c):S.error("unknown tag: "+l)},m.prototype._getUse=function(l,S){const c=this._baseState;return c.useDecoder=this._use(l,S),C(c.useDecoder._baseState.parent===null),c.useDecoder=c.useDecoder._baseState.children[0],c.implicit!==c.useDecoder._baseState.implicit&&(c.useDecoder=c.useDecoder.clone(),c.useDecoder._baseState.implicit=c.implicit),c.useDecoder},m.prototype._decodeChoice=function(l,S){const c=this._baseState;let g=null,d=!1;return Object.keys(c.choice).some(function(w){const k=l.save(),R=c.choice[w];try{const P=R._decode(l,S);if(l.isError(P))return!1;g={type:w,value:P},d=!0}catch{return l.restore(k),!1}return!0},this),d?g:l.error("Choice not matched")},m.prototype._createEncoderBuffer=function(l){return new L(l,this.reporter)},m.prototype._encode=function(l,S,c){const g=this._baseState;if(g.default!==null&&g.default===l)return;const d=this._encodeValue(l,S,c);if(d!==void 0&&!this._skipDefault(d,S,c))return d},m.prototype._encodeValue=function(l,S,c){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(l,S||new A);let d=null;if(this.reporter=S,g.optional&&l===void 0)if(g.default!==null)l=g.default;else return;let w=null,k=!1;if(g.any)d=this._createEncoderBuffer(l);else if(g.choice)d=this._encodeChoice(l,S);else if(g.contains)w=this._getUse(g.contains,c)._encode(l,S),k=!0;else if(g.children)w=g.children.map(function(R){if(R._baseState.tag==="null_")return R._encode(null,S,l);if(R._baseState.key===null)return S.error("Child should have a key");const P=S.enterKey(R._baseState.key);if(typeof l!="object")return S.error("Child expected, but input is not object");const U=R._encode(l[R._baseState.key],S,l);return S.leaveKey(P),U},this).filter(function(R){return R}),w=this._createEncoderBuffer(w);else if(g.tag==="seqof"||g.tag==="setof"){if(!(g.args&&g.args.length===1))return S.error("Too many args for : "+g.tag);if(!Array.isArray(l))return S.error("seqof/setof, but data is not Array");const R=this.clone();R._baseState.implicit=null,w=this._createEncoderBuffer(l.map(function(P){const U=this._baseState;return this._getUse(U.args[0],l)._encode(P,S)},R))}else g.use!==null?d=this._getUse(g.use,c)._encode(l,S):(w=this._encodePrimitive(g.tag,l),k=!0);if(!g.any&&g.choice===null){const R=g.implicit!==null?g.implicit:g.tag,P=g.implicit===null?"universal":"context";R===null?g.use===null&&S.error("Tag could be omitted only for .use()"):g.use===null&&(d=this._encodeComposite(R,k,P,w))}return g.explicit!==null&&(d=this._encodeComposite(g.explicit,!1,"context",d)),d},m.prototype._encodeChoice=function(l,S){const c=this._baseState,g=c.choice[l.type];return g||C(!1,l.type+" not found in "+JSON.stringify(Object.keys(c.choice))),g._encode(l.value,S)},m.prototype._encodePrimitive=function(l,S){const c=this._baseState;if(/str$/.test(l))return this._encodeStr(S,l);if(l==="objid"&&c.args)return this._encodeObjid(S,c.reverseArgs[0],c.args[1]);if(l==="objid")return this._encodeObjid(S,null,null);if(l==="gentime"||l==="utctime")return this._encodeTime(S,l);if(l==="null_")return this._encodeNull();if(l==="int"||l==="enum")return this._encodeInt(S,c.args&&c.reverseArgs[0]);if(l==="bool")return this._encodeBool(S);if(l==="objDesc")return this._encodeStr(S,l);throw new Error("Unsupported tag: "+l)},m.prototype._isNumstr=function(l){return/^[0-9 ]*$/.test(l)},m.prototype._isPrintstr=function(l){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(l)}},89220:(s,V,M)=>{"use strict";const A=M(56698);function L(C){this._reporterState={obj:null,path:[],options:C||{},errors:[]}}V.a=L,L.prototype.isError=function(f){return f instanceof I},L.prototype.save=function(){const f=this._reporterState;return{obj:f.obj,pathLen:f.path.length}},L.prototype.restore=function(f){const h=this._reporterState;h.obj=f.obj,h.path=h.path.slice(0,f.pathLen)},L.prototype.enterKey=function(f){return this._reporterState.path.push(f)},L.prototype.exitKey=function(f){const h=this._reporterState;h.path=h.path.slice(0,f-1)},L.prototype.leaveKey=function(f,h,p){const m=this._reporterState;this.exitKey(f),m.obj!==null&&(m.obj[h]=p)},L.prototype.path=function(){return this._reporterState.path.join("/")},L.prototype.enterObject=function(){const f=this._reporterState,h=f.obj;return f.obj={},h},L.prototype.leaveObject=function(f){const h=this._reporterState,p=h.obj;return h.obj=f,p},L.prototype.error=function(f){let h;const p=this._reporterState,m=f instanceof I;if(m?h=f:h=new I(p.path.map(function(_){return"["+JSON.stringify(_)+"]"}).join(""),f.message||f,f.stack),!p.options.partial)throw h;return m||p.errors.push(h),h},L.prototype.wrapResult=function(f){const h=this._reporterState;return h.options.partial?{result:this.isError(f)?null:f,errors:h.errors}:f};function I(C,f){this.path=C,this.rethrow(f)}A(I,Error),I.prototype.rethrow=function(f){if(this.message=f+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,I),!this.stack)try{throw new Error(this.message)}catch(h){this.stack=h.stack}return this}},74598:(s,V)=>{"use strict";function M(A){const L={};return Object.keys(A).forEach(function(I){(I|0)==I&&(I=I|0);const C=A[I];L[C]=I}),L}V.tagClass={0:"universal",1:"application",2:"context",3:"private"},V.tagClassByName=M(V.tagClass),V.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},V.tagByName=M(V.tag)},22153:(s,V,M)=>{"use strict";const A=V;A._reverse=function(I){const C={};return Object.keys(I).forEach(function(f){(f|0)==f&&(f=f|0);const h=I[f];C[h]=f}),C},A.der=M(74598)},62010:(s,V,M)=>{"use strict";const A=M(56698),L=M(39404),I=M(47227).t,C=M(90993),f=M(74598);function h(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new p,this.tree._init(b.body)}s.exports=h,h.prototype.decode=function(l,S){return I.isDecoderBuffer(l)||(l=new I(l,S)),this.tree._decode(l,S)};function p(b){C.call(this,"der",b)}A(p,C),p.prototype._peekTag=function(l,S,c){if(l.isEmpty())return!1;const g=l.save(),d=m(l,'Failed to peek tag: "'+S+'"');return l.isError(d)?d:(l.restore(g),d.tag===S||d.tagStr===S||d.tagStr+"of"===S||c)},p.prototype._decodeTag=function(l,S,c){const g=m(l,'Failed to decode tag of "'+S+'"');if(l.isError(g))return g;let d=_(l,g.primitive,'Failed to get length of "'+S+'"');if(l.isError(d))return d;if(!c&&g.tag!==S&&g.tagStr!==S&&g.tagStr+"of"!==S)return l.error('Failed to match tag: "'+S+'"');if(g.primitive||d!==null)return l.skip(d,'Failed to match body of: "'+S+'"');const w=l.save(),k=this._skipUntilEnd(l,'Failed to skip indefinite length body: "'+this.tag+'"');return l.isError(k)?k:(d=l.offset-w.offset,l.restore(w),l.skip(d,'Failed to match body of: "'+S+'"'))},p.prototype._skipUntilEnd=function(l,S){for(;;){const c=m(l,S);if(l.isError(c))return c;const g=_(l,c.primitive,S);if(l.isError(g))return g;let d;if(c.primitive||g!==null?d=l.skip(g):d=this._skipUntilEnd(l,S),l.isError(d))return d;if(c.tagStr==="end")break}},p.prototype._decodeList=function(l,S,c,g){const d=[];for(;!l.isEmpty();){const w=this._peekTag(l,"end");if(l.isError(w))return w;const k=c.decode(l,"der",g);if(l.isError(k)&&w)break;d.push(k)}return d},p.prototype._decodeStr=function(l,S){if(S==="bitstr"){const c=l.readUInt8();return l.isError(c)?c:{unused:c,data:l.raw()}}else if(S==="bmpstr"){const c=l.raw();if(c.length%2===1)return l.error("Decoding of string type: bmpstr length mismatch");let g="";for(let d=0;d<c.length/2;d++)g+=String.fromCharCode(c.readUInt16BE(d*2));return g}else if(S==="numstr"){const c=l.raw().toString("ascii");return this._isNumstr(c)?c:l.error("Decoding of string type: numstr unsupported characters")}else{if(S==="octstr")return l.raw();if(S==="objDesc")return l.raw();if(S==="printstr"){const c=l.raw().toString("ascii");return this._isPrintstr(c)?c:l.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(S)?l.raw().toString():l.error("Decoding of string type: "+S+" unsupported")}},p.prototype._decodeObjid=function(l,S,c){let g;const d=[];let w=0,k=0;for(;!l.isEmpty();)k=l.readUInt8(),w<<=7,w|=k&127,k&128||(d.push(w),w=0);k&128&&d.push(w);const R=d[0]/40|0,P=d[0]%40;if(c?g=d:g=[R,P].concat(d.slice(1)),S){let U=S[g.join(" ")];U===void 0&&(U=S[g.join(".")]),U!==void 0&&(g=U)}return g},p.prototype._decodeTime=function(l,S){const c=l.raw().toString();let g,d,w,k,R,P;if(S==="gentime")g=c.slice(0,4)|0,d=c.slice(4,6)|0,w=c.slice(6,8)|0,k=c.slice(8,10)|0,R=c.slice(10,12)|0,P=c.slice(12,14)|0;else if(S==="utctime")g=c.slice(0,2)|0,d=c.slice(2,4)|0,w=c.slice(4,6)|0,k=c.slice(6,8)|0,R=c.slice(8,10)|0,P=c.slice(10,12)|0,g<70?g=2e3+g:g=1900+g;else return l.error("Decoding "+S+" time is not supported yet");return Date.UTC(g,d-1,w,k,R,P,0)},p.prototype._decodeNull=function(){return null},p.prototype._decodeBool=function(l){const S=l.readUInt8();return l.isError(S)?S:S!==0},p.prototype._decodeInt=function(l,S){const c=l.raw();let g=new L(c);return S&&(g=S[g.toString(10)]||g),g},p.prototype._use=function(l,S){return typeof l=="function"&&(l=l(S)),l._getDecoder("der").tree};function m(b,l){let S=b.readUInt8(l);if(b.isError(S))return S;const c=f.tagClass[S>>6],g=(S&32)===0;if((S&31)===31){let w=S;for(S=0;(w&128)===128;){if(w=b.readUInt8(l),b.isError(w))return w;S<<=7,S|=w&127}}else S&=31;const d=f.tag[S];return{cls:c,primitive:g,tag:S,tagStr:d}}function _(b,l,S){let c=b.readUInt8(S);if(b.isError(c))return c;if(!l&&c===128)return null;if(!(c&128))return c;const g=c&127;if(g>4)return b.error("length octect is too long");c=0;for(let d=0;d<g;d++){c<<=8;const w=b.readUInt8(S);if(b.isError(w))return w;c|=w}return c}},22853:(s,V,M)=>{"use strict";const A=V;A.der=M(62010),A.pem=M(58903)},58903:(s,V,M)=>{"use strict";const A=M(56698),L=M(54774).Buffer,I=M(62010);function C(f){I.call(this,f),this.enc="pem"}A(C,I),s.exports=C,C.prototype.decode=function(h,p){const m=h.toString().split(/[\r\n]+/g),_=p.label.toUpperCase(),b=/^-----(BEGIN|END) ([^-]+)-----$/;let l=-1,S=-1;for(let d=0;d<m.length;d++){const w=m[d].match(b);if(w!==null&&w[2]===_)if(l===-1){if(w[1]!=="BEGIN")break;l=d}else{if(w[1]!=="END")break;S=d;break}}if(l===-1||S===-1)throw new Error("PEM section not found for: "+_);const c=m.slice(l+1,S).join("");c.replace(/[^a-z0-9+/=]+/gi,"");const g=L.from(c,"base64");return I.prototype.decode.call(this,g,p)}},70082:(s,V,M)=>{"use strict";const A=M(56698),L=M(54774).Buffer,I=M(90993),C=M(74598);function f(_){this.enc="der",this.name=_.name,this.entity=_,this.tree=new h,this.tree._init(_.body)}s.exports=f,f.prototype.encode=function(b,l){return this.tree._encode(b,l).join()};function h(_){I.call(this,"der",_)}A(h,I),h.prototype._encodeComposite=function(b,l,S,c){const g=m(b,l,S,this.reporter);if(c.length<128){const k=L.alloc(2);return k[0]=g,k[1]=c.length,this._createEncoderBuffer([k,c])}let d=1;for(let k=c.length;k>=256;k>>=8)d++;const w=L.alloc(2+d);w[0]=g,w[1]=128|d;for(let k=1+d,R=c.length;R>0;k--,R>>=8)w[k]=R&255;return this._createEncoderBuffer([w,c])},h.prototype._encodeStr=function(b,l){if(l==="bitstr")return this._createEncoderBuffer([b.unused|0,b.data]);if(l==="bmpstr"){const S=L.alloc(b.length*2);for(let c=0;c<b.length;c++)S.writeUInt16BE(b.charCodeAt(c),c*2);return this._createEncoderBuffer(S)}else return l==="numstr"?this._isNumstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: numstr supports only digits and space"):l==="printstr"?this._isPrintstr(b)?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(l)?this._createEncoderBuffer(b):l==="objDesc"?this._createEncoderBuffer(b):this.reporter.error("Encoding of string type: "+l+" unsupported")},h.prototype._encodeObjid=function(b,l,S){if(typeof b=="string"){if(!l)return this.reporter.error("string objid given, but no values map found");if(!l.hasOwnProperty(b))return this.reporter.error("objid not found in values map");b=l[b].split(/[\s.]+/g);for(let w=0;w<b.length;w++)b[w]|=0}else if(Array.isArray(b)){b=b.slice();for(let w=0;w<b.length;w++)b[w]|=0}if(!Array.isArray(b))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(b));if(!S){if(b[1]>=40)return this.reporter.error("Second objid identifier OOB");b.splice(0,2,b[0]*40+b[1])}let c=0;for(let w=0;w<b.length;w++){let k=b[w];for(c++;k>=128;k>>=7)c++}const g=L.alloc(c);let d=g.length-1;for(let w=b.length-1;w>=0;w--){let k=b[w];for(g[d--]=k&127;(k>>=7)>0;)g[d--]=128|k&127}return this._createEncoderBuffer(g)};function p(_){return _<10?"0"+_:_}h.prototype._encodeTime=function(b,l){let S;const c=new Date(b);return l==="gentime"?S=[p(c.getUTCFullYear()),p(c.getUTCMonth()+1),p(c.getUTCDate()),p(c.getUTCHours()),p(c.getUTCMinutes()),p(c.getUTCSeconds()),"Z"].join(""):l==="utctime"?S=[p(c.getUTCFullYear()%100),p(c.getUTCMonth()+1),p(c.getUTCDate()),p(c.getUTCHours()),p(c.getUTCMinutes()),p(c.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+l+" time is not supported yet"),this._encodeStr(S,"octstr")},h.prototype._encodeNull=function(){return this._createEncoderBuffer("")},h.prototype._encodeInt=function(b,l){if(typeof b=="string"){if(!l)return this.reporter.error("String int or enum given, but no values map");if(!l.hasOwnProperty(b))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(b));b=l[b]}if(typeof b!="number"&&!L.isBuffer(b)){const g=b.toArray();!b.sign&&g[0]&128&&g.unshift(0),b=L.from(g)}if(L.isBuffer(b)){let g=b.length;b.length===0&&g++;const d=L.alloc(g);return b.copy(d),b.length===0&&(d[0]=0),this._createEncoderBuffer(d)}if(b<128)return this._createEncoderBuffer(b);if(b<256)return this._createEncoderBuffer([0,b]);let S=1;for(let g=b;g>=256;g>>=8)S++;const c=new Array(S);for(let g=c.length-1;g>=0;g--)c[g]=b&255,b>>=8;return c[0]&128&&c.unshift(0),this._createEncoderBuffer(L.from(c))},h.prototype._encodeBool=function(b){return this._createEncoderBuffer(b?255:0)},h.prototype._use=function(b,l){return typeof b=="function"&&(b=b(l)),b._getEncoder("der").tree},h.prototype._skipDefault=function(b,l,S){const c=this._baseState;let g;if(c.default===null)return!1;const d=b.join();if(c.defaultBuffer===void 0&&(c.defaultBuffer=this._encodeValue(c.default,l,S).join()),d.length!==c.defaultBuffer.length)return!1;for(g=0;g<d.length;g++)if(d[g]!==c.defaultBuffer[g])return!1;return!0};function m(_,b,l,S){let c;if(_==="seqof"?_="seq":_==="setof"&&(_="set"),C.tagByName.hasOwnProperty(_))c=C.tagByName[_];else if(typeof _=="number"&&(_|0)===_)c=_;else return S.error("Unknown tag: "+_);return c>=31?S.error("Multi-octet tag encoding unsupported"):(b||(c|=32),c|=C.tagClassByName[l||"universal"]<<6,c)}},24669:(s,V,M)=>{"use strict";const A=V;A.der=M(70082),A.pem=M(90735)},90735:(s,V,M)=>{"use strict";const A=M(56698),L=M(70082);function I(C){L.call(this,C),this.enc="pem"}A(I,L),s.exports=I,I.prototype.encode=function(f,h){const m=L.prototype.encode.call(this,f).toString("base64"),_=["-----BEGIN "+h.label+"-----"];for(let b=0;b<m.length;b+=64)_.push(m.slice(b,b+64));return _.push("-----END "+h.label+"-----"),_.join(`
`)}},67526:(s,V)=>{"use strict";V.byteLength=p,V.toByteArray=_,V.fromByteArray=S;for(var M=[],A=[],L=typeof Uint8Array!="undefined"?Uint8Array:Array,I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,f=I.length;C<f;++C)M[C]=I[C],A[I.charCodeAt(C)]=C;A[45]=62,A[95]=63;function h(c){var g=c.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=c.indexOf("=");d===-1&&(d=g);var w=d===g?0:4-d%4;return[d,w]}function p(c){var g=h(c),d=g[0],w=g[1];return(d+w)*3/4-w}function m(c,g,d){return(g+d)*3/4-d}function _(c){var g,d=h(c),w=d[0],k=d[1],R=new L(m(c,w,k)),P=0,U=k>0?w-4:w,F;for(F=0;F<U;F+=4)g=A[c.charCodeAt(F)]<<18|A[c.charCodeAt(F+1)]<<12|A[c.charCodeAt(F+2)]<<6|A[c.charCodeAt(F+3)],R[P++]=g>>16&255,R[P++]=g>>8&255,R[P++]=g&255;return k===2&&(g=A[c.charCodeAt(F)]<<2|A[c.charCodeAt(F+1)]>>4,R[P++]=g&255),k===1&&(g=A[c.charCodeAt(F)]<<10|A[c.charCodeAt(F+1)]<<4|A[c.charCodeAt(F+2)]>>2,R[P++]=g>>8&255,R[P++]=g&255),R}function b(c){return M[c>>18&63]+M[c>>12&63]+M[c>>6&63]+M[c&63]}function l(c,g,d){for(var w,k=[],R=g;R<d;R+=3)w=(c[R]<<16&16711680)+(c[R+1]<<8&65280)+(c[R+2]&255),k.push(b(w));return k.join("")}function S(c){for(var g,d=c.length,w=d%3,k=[],R=16383,P=0,U=d-w;P<U;P+=R)k.push(l(c,P,P+R>U?U:P+R));return w===1?(g=c[d-1],k.push(M[g>>2]+M[g<<4&63]+"==")):w===2&&(g=(c[d-2]<<8)+c[d-1],k.push(M[g>>10]+M[g>>4&63]+M[g<<2&63]+"=")),k.join("")}},39404:function(s,V,M){s=M.nmd(s),function(A,L){"use strict";function I(Y,O){if(!Y)throw new Error(O||"Assertion failed")}function C(Y,O){Y.super_=O;var $=function(){};$.prototype=O.prototype,Y.prototype=new $,Y.prototype.constructor=Y}function f(Y,O,$){if(f.isBN(Y))return Y;this.negative=0,this.words=null,this.length=0,this.red=null,Y!==null&&((O==="le"||O==="be")&&($=O,O=10),this._init(Y||0,O||10,$||"be"))}typeof A=="object"?A.exports=f:L.BN=f,f.BN=f,f.wordSize=26;var h;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?h=window.Buffer:h=M(47790).Buffer}catch{}f.isBN=function(O){return O instanceof f?!0:O!==null&&typeof O=="object"&&O.constructor.wordSize===f.wordSize&&Array.isArray(O.words)},f.max=function(O,$){return O.cmp($)>0?O:$},f.min=function(O,$){return O.cmp($)<0?O:$},f.prototype._init=function(O,$,D){if(typeof O=="number")return this._initNumber(O,$,D);if(typeof O=="object")return this._initArray(O,$,D);$==="hex"&&($=16),I($===($|0)&&$>=2&&$<=36),O=O.toString().replace(/\s+/g,"");var u=0;O[0]==="-"&&(u++,this.negative=1),u<O.length&&($===16?this._parseHex(O,u,D):(this._parseBase(O,$,u),D==="le"&&this._initArray(this.toArray(),$,D)))},f.prototype._initNumber=function(O,$,D){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[O&67108863],this.length=1):O<4503599627370496?(this.words=[O&67108863,O/67108864&67108863],this.length=2):(I(O<9007199254740992),this.words=[O&67108863,O/67108864&67108863,1],this.length=3),D==="le"&&this._initArray(this.toArray(),$,D)},f.prototype._initArray=function(O,$,D){if(I(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var E,q,H=0;if(D==="be")for(u=O.length-1,E=0;u>=0;u-=3)q=O[u]|O[u-1]<<8|O[u-2]<<16,this.words[E]|=q<<H&67108863,this.words[E+1]=q>>>26-H&67108863,H+=24,H>=26&&(H-=26,E++);else if(D==="le")for(u=0,E=0;u<O.length;u+=3)q=O[u]|O[u+1]<<8|O[u+2]<<16,this.words[E]|=q<<H&67108863,this.words[E+1]=q>>>26-H&67108863,H+=24,H>=26&&(H-=26,E++);return this.strip()};function p(Y,O){var $=Y.charCodeAt(O);return $>=65&&$<=70?$-55:$>=97&&$<=102?$-87:$-48&15}function m(Y,O,$){var D=p(Y,$);return $-1>=O&&(D|=p(Y,$-1)<<4),D}f.prototype._parseHex=function(O,$,D){this.length=Math.ceil((O.length-$)/6),this.words=new Array(this.length);for(var u=0;u<this.length;u++)this.words[u]=0;var E=0,q=0,H;if(D==="be")for(u=O.length-1;u>=$;u-=2)H=m(O,$,u)<<E,this.words[q]|=H&67108863,E>=18?(E-=18,q+=1,this.words[q]|=H>>>26):E+=8;else{var K=O.length-$;for(u=K%2===0?$+1:$;u<O.length;u+=2)H=m(O,$,u)<<E,this.words[q]|=H&67108863,E>=18?(E-=18,q+=1,this.words[q]|=H>>>26):E+=8}this.strip()};function _(Y,O,$,D){for(var u=0,E=Math.min(Y.length,$),q=O;q<E;q++){var H=Y.charCodeAt(q)-48;u*=D,H>=49?u+=H-49+10:H>=17?u+=H-17+10:u+=H}return u}f.prototype._parseBase=function(O,$,D){this.words=[0],this.length=1;for(var u=0,E=1;E<=67108863;E*=$)u++;u--,E=E/$|0;for(var q=O.length-D,H=q%u,K=Math.min(q,q-H)+D,G=0,ie=D;ie<K;ie+=u)G=_(O,ie,ie+u,$),this.imuln(E),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G);if(H!==0){var J=1;for(G=_(O,ie,O.length,$),ie=0;ie<H;ie++)J*=$;this.imuln(J),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G)}this.strip()},f.prototype.copy=function(O){O.words=new Array(this.length);for(var $=0;$<this.length;$++)O.words[$]=this.words[$];O.length=this.length,O.negative=this.negative,O.red=this.red},f.prototype.clone=function(){var O=new f(null);return this.copy(O),O},f.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(O,$){O=O||10,$=$|0||1;var D;if(O===16||O==="hex"){D="";for(var u=0,E=0,q=0;q<this.length;q++){var H=this.words[q],K=((H<<u|E)&16777215).toString(16);E=H>>>24-u&16777215,E!==0||q!==this.length-1?D=b[6-K.length]+K+D:D=K+D,u+=2,u>=26&&(u-=26,q--)}for(E!==0&&(D=E.toString(16)+D);D.length%$!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}if(O===(O|0)&&O>=2&&O<=36){var G=l[O],ie=S[O];D="";var J=this.clone();for(J.negative=0;!J.isZero();){var B=J.modn(ie).toString(O);J=J.idivn(ie),J.isZero()?D=B+D:D=b[G-B.length]+B+D}for(this.isZero()&&(D="0"+D);D.length%$!==0;)D="0"+D;return this.negative!==0&&(D="-"+D),D}I(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=this.words[1]*67108864:this.length===3&&this.words[2]===1?O+=4503599627370496+this.words[1]*67108864:this.length>2&&I(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(O,$){return I(typeof h!="undefined"),this.toArrayLike(h,O,$)},f.prototype.toArray=function(O,$){return this.toArrayLike(Array,O,$)},f.prototype.toArrayLike=function(O,$,D){var u=this.byteLength(),E=D||Math.max(1,u);I(u<=E,"byte array longer than desired length"),I(E>0,"Requested array length <= 0"),this.strip();var q=$==="le",H=new O(E),K,G,ie=this.clone();if(q){for(G=0;!ie.isZero();G++)K=ie.andln(255),ie.iushrn(8),H[G]=K;for(;G<E;G++)H[G]=0}else{for(G=0;G<E-u;G++)H[G]=0;for(G=0;!ie.isZero();G++)K=ie.andln(255),ie.iushrn(8),H[E-G-1]=K}return H},Math.clz32?f.prototype._countBits=function(O){return 32-Math.clz32(O)}:f.prototype._countBits=function(O){var $=O,D=0;return $>=4096&&(D+=13,$>>>=13),$>=64&&(D+=7,$>>>=7),$>=8&&(D+=4,$>>>=4),$>=2&&(D+=2,$>>>=2),D+$},f.prototype._zeroBits=function(O){if(O===0)return 26;var $=O,D=0;return $&8191||(D+=13,$>>>=13),$&127||(D+=7,$>>>=7),$&15||(D+=4,$>>>=4),$&3||(D+=2,$>>>=2),$&1||D++,D},f.prototype.bitLength=function(){var O=this.words[this.length-1],$=this._countBits(O);return(this.length-1)*26+$};function c(Y){for(var O=new Array(Y.bitLength()),$=0;$<O.length;$++){var D=$/26|0,u=$%26;O[$]=(Y.words[D]&1<<u)>>>u}return O}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,$=0;$<this.length;$++){var D=this._zeroBits(this.words[$]);if(O+=D,D!==26)break}return O},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},f.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var $=0;$<O.length;$++)this.words[$]=this.words[$]|O.words[$];return this.strip()},f.prototype.ior=function(O){return I((this.negative|O.negative)===0),this.iuor(O)},f.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},f.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},f.prototype.iuand=function(O){var $;this.length>O.length?$=O:$=this;for(var D=0;D<$.length;D++)this.words[D]=this.words[D]&O.words[D];return this.length=$.length,this.strip()},f.prototype.iand=function(O){return I((this.negative|O.negative)===0),this.iuand(O)},f.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},f.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},f.prototype.iuxor=function(O){var $,D;this.length>O.length?($=this,D=O):($=O,D=this);for(var u=0;u<D.length;u++)this.words[u]=$.words[u]^D.words[u];if(this!==$)for(;u<$.length;u++)this.words[u]=$.words[u];return this.length=$.length,this.strip()},f.prototype.ixor=function(O){return I((this.negative|O.negative)===0),this.iuxor(O)},f.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},f.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},f.prototype.inotn=function(O){I(typeof O=="number"&&O>=0);var $=Math.ceil(O/26)|0,D=O%26;this._expand($),D>0&&$--;for(var u=0;u<$;u++)this.words[u]=~this.words[u]&67108863;return D>0&&(this.words[u]=~this.words[u]&67108863>>26-D),this.strip()},f.prototype.notn=function(O){return this.clone().inotn(O)},f.prototype.setn=function(O,$){I(typeof O=="number"&&O>=0);var D=O/26|0,u=O%26;return this._expand(D+1),$?this.words[D]=this.words[D]|1<<u:this.words[D]=this.words[D]&~(1<<u),this.strip()},f.prototype.iadd=function(O){var $;if(this.negative!==0&&O.negative===0)return this.negative=0,$=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,$=this.isub(O),O.negative=1,$._normSign();var D,u;this.length>O.length?(D=this,u=O):(D=O,u=this);for(var E=0,q=0;q<u.length;q++)$=(D.words[q]|0)+(u.words[q]|0)+E,this.words[q]=$&67108863,E=$>>>26;for(;E!==0&&q<D.length;q++)$=(D.words[q]|0)+E,this.words[q]=$&67108863,E=$>>>26;if(this.length=D.length,E!==0)this.words[this.length]=E,this.length++;else if(D!==this)for(;q<D.length;q++)this.words[q]=D.words[q];return this},f.prototype.add=function(O){var $;return O.negative!==0&&this.negative===0?(O.negative=0,$=this.sub(O),O.negative^=1,$):O.negative===0&&this.negative!==0?(this.negative=0,$=O.sub(this),this.negative=1,$):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},f.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var $=this.iadd(O);return O.negative=1,$._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var D=this.cmp(O);if(D===0)return this.negative=0,this.length=1,this.words[0]=0,this;var u,E;D>0?(u=this,E=O):(u=O,E=this);for(var q=0,H=0;H<E.length;H++)$=(u.words[H]|0)-(E.words[H]|0)+q,q=$>>26,this.words[H]=$&67108863;for(;q!==0&&H<u.length;H++)$=(u.words[H]|0)+q,q=$>>26,this.words[H]=$&67108863;if(q===0&&H<u.length&&u!==this)for(;H<u.length;H++)this.words[H]=u.words[H];return this.length=Math.max(this.length,H),u!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(O){return this.clone().isub(O)};function g(Y,O,$){$.negative=O.negative^Y.negative;var D=Y.length+O.length|0;$.length=D,D=D-1|0;var u=Y.words[0]|0,E=O.words[0]|0,q=u*E,H=q&67108863,K=q/67108864|0;$.words[0]=H;for(var G=1;G<D;G++){for(var ie=K>>>26,J=K&67108863,B=Math.min(G,O.length-1),ae=Math.max(0,G-Y.length+1);ae<=B;ae++){var Ne=G-ae|0;u=Y.words[Ne]|0,E=O.words[ae]|0,q=u*E+J,ie+=q/67108864|0,J=q&67108863}$.words[G]=J|0,K=ie|0}return K!==0?$.words[G]=K|0:$.length--,$.strip()}var d=function(O,$,D){var u=O.words,E=$.words,q=D.words,H=0,K,G,ie,J=u[0]|0,B=J&8191,ae=J>>>13,Ne=u[1]|0,be=Ne&8191,we=Ne>>>13,Te=u[2]|0,ee=Te&8191,ne=Te>>>13,me=u[3]|0,ge=me&8191,_e=me>>>13,j=u[4]|0,N=j&8191,se=j>>>13,de=u[5]|0,ue=de&8191,le=de>>>13,pe=u[6]|0,Ae=pe&8191,Fe=pe>>>13,Be=u[7]|0,Ue=Be&8191,He=Be>>>13,Ye=u[8]|0,he=Ye&8191,re=Ye>>>13,ce=u[9]|0,ke=ce&8191,Ie=ce>>>13,Qe=E[0]|0,Oe=Qe&8191,Ke=Qe>>>13,Ot=E[1]|0,st=Ot&8191,lt=Ot>>>13,bt=E[2]|0,vt=bt&8191,yt=bt>>>13,ci=E[3]|0,wt=ci&8191,Tt=ci>>>13,Ii=E[4]|0,It=Ii&8191,zt=Ii>>>13,vn=E[5]|0,Zt=vn&8191,Ct=vn>>>13,ei=E[6]|0,Wt=ei&8191,ti=ei>>>13,Qn=E[7]|0,xe=Qn&8191,Je=Qn>>>13,tt=E[8]|0,ft=tt&8191,gt=tt>>>13,si=E[9]|0,Rt=si&8191,Bt=si>>>13;D.negative=O.negative^$.negative,D.length=19,K=Math.imul(B,Oe),G=Math.imul(B,Ke),G=G+Math.imul(ae,Oe)|0,ie=Math.imul(ae,Ke);var xt=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(xt>>>26)|0,xt&=67108863,K=Math.imul(be,Oe),G=Math.imul(be,Ke),G=G+Math.imul(we,Oe)|0,ie=Math.imul(we,Ke),K=K+Math.imul(B,st)|0,G=G+Math.imul(B,lt)|0,G=G+Math.imul(ae,st)|0,ie=ie+Math.imul(ae,lt)|0;var pt=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(pt>>>26)|0,pt&=67108863,K=Math.imul(ee,Oe),G=Math.imul(ee,Ke),G=G+Math.imul(ne,Oe)|0,ie=Math.imul(ne,Ke),K=K+Math.imul(be,st)|0,G=G+Math.imul(be,lt)|0,G=G+Math.imul(we,st)|0,ie=ie+Math.imul(we,lt)|0,K=K+Math.imul(B,vt)|0,G=G+Math.imul(B,yt)|0,G=G+Math.imul(ae,vt)|0,ie=ie+Math.imul(ae,yt)|0;var St=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(St>>>26)|0,St&=67108863,K=Math.imul(ge,Oe),G=Math.imul(ge,Ke),G=G+Math.imul(_e,Oe)|0,ie=Math.imul(_e,Ke),K=K+Math.imul(ee,st)|0,G=G+Math.imul(ee,lt)|0,G=G+Math.imul(ne,st)|0,ie=ie+Math.imul(ne,lt)|0,K=K+Math.imul(be,vt)|0,G=G+Math.imul(be,yt)|0,G=G+Math.imul(we,vt)|0,ie=ie+Math.imul(we,yt)|0,K=K+Math.imul(B,wt)|0,G=G+Math.imul(B,Tt)|0,G=G+Math.imul(ae,wt)|0,ie=ie+Math.imul(ae,Tt)|0;var Pt=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,K=Math.imul(N,Oe),G=Math.imul(N,Ke),G=G+Math.imul(se,Oe)|0,ie=Math.imul(se,Ke),K=K+Math.imul(ge,st)|0,G=G+Math.imul(ge,lt)|0,G=G+Math.imul(_e,st)|0,ie=ie+Math.imul(_e,lt)|0,K=K+Math.imul(ee,vt)|0,G=G+Math.imul(ee,yt)|0,G=G+Math.imul(ne,vt)|0,ie=ie+Math.imul(ne,yt)|0,K=K+Math.imul(be,wt)|0,G=G+Math.imul(be,Tt)|0,G=G+Math.imul(we,wt)|0,ie=ie+Math.imul(we,Tt)|0,K=K+Math.imul(B,It)|0,G=G+Math.imul(B,zt)|0,G=G+Math.imul(ae,It)|0,ie=ie+Math.imul(ae,zt)|0;var di=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(di>>>26)|0,di&=67108863,K=Math.imul(ue,Oe),G=Math.imul(ue,Ke),G=G+Math.imul(le,Oe)|0,ie=Math.imul(le,Ke),K=K+Math.imul(N,st)|0,G=G+Math.imul(N,lt)|0,G=G+Math.imul(se,st)|0,ie=ie+Math.imul(se,lt)|0,K=K+Math.imul(ge,vt)|0,G=G+Math.imul(ge,yt)|0,G=G+Math.imul(_e,vt)|0,ie=ie+Math.imul(_e,yt)|0,K=K+Math.imul(ee,wt)|0,G=G+Math.imul(ee,Tt)|0,G=G+Math.imul(ne,wt)|0,ie=ie+Math.imul(ne,Tt)|0,K=K+Math.imul(be,It)|0,G=G+Math.imul(be,zt)|0,G=G+Math.imul(we,It)|0,ie=ie+Math.imul(we,zt)|0,K=K+Math.imul(B,Zt)|0,G=G+Math.imul(B,Ct)|0,G=G+Math.imul(ae,Zt)|0,ie=ie+Math.imul(ae,Ct)|0;var ni=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(ni>>>26)|0,ni&=67108863,K=Math.imul(Ae,Oe),G=Math.imul(Ae,Ke),G=G+Math.imul(Fe,Oe)|0,ie=Math.imul(Fe,Ke),K=K+Math.imul(ue,st)|0,G=G+Math.imul(ue,lt)|0,G=G+Math.imul(le,st)|0,ie=ie+Math.imul(le,lt)|0,K=K+Math.imul(N,vt)|0,G=G+Math.imul(N,yt)|0,G=G+Math.imul(se,vt)|0,ie=ie+Math.imul(se,yt)|0,K=K+Math.imul(ge,wt)|0,G=G+Math.imul(ge,Tt)|0,G=G+Math.imul(_e,wt)|0,ie=ie+Math.imul(_e,Tt)|0,K=K+Math.imul(ee,It)|0,G=G+Math.imul(ee,zt)|0,G=G+Math.imul(ne,It)|0,ie=ie+Math.imul(ne,zt)|0,K=K+Math.imul(be,Zt)|0,G=G+Math.imul(be,Ct)|0,G=G+Math.imul(we,Zt)|0,ie=ie+Math.imul(we,Ct)|0,K=K+Math.imul(B,Wt)|0,G=G+Math.imul(B,ti)|0,G=G+Math.imul(ae,Wt)|0,ie=ie+Math.imul(ae,ti)|0;var Ut=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,K=Math.imul(Ue,Oe),G=Math.imul(Ue,Ke),G=G+Math.imul(He,Oe)|0,ie=Math.imul(He,Ke),K=K+Math.imul(Ae,st)|0,G=G+Math.imul(Ae,lt)|0,G=G+Math.imul(Fe,st)|0,ie=ie+Math.imul(Fe,lt)|0,K=K+Math.imul(ue,vt)|0,G=G+Math.imul(ue,yt)|0,G=G+Math.imul(le,vt)|0,ie=ie+Math.imul(le,yt)|0,K=K+Math.imul(N,wt)|0,G=G+Math.imul(N,Tt)|0,G=G+Math.imul(se,wt)|0,ie=ie+Math.imul(se,Tt)|0,K=K+Math.imul(ge,It)|0,G=G+Math.imul(ge,zt)|0,G=G+Math.imul(_e,It)|0,ie=ie+Math.imul(_e,zt)|0,K=K+Math.imul(ee,Zt)|0,G=G+Math.imul(ee,Ct)|0,G=G+Math.imul(ne,Zt)|0,ie=ie+Math.imul(ne,Ct)|0,K=K+Math.imul(be,Wt)|0,G=G+Math.imul(be,ti)|0,G=G+Math.imul(we,Wt)|0,ie=ie+Math.imul(we,ti)|0,K=K+Math.imul(B,xe)|0,G=G+Math.imul(B,Je)|0,G=G+Math.imul(ae,xe)|0,ie=ie+Math.imul(ae,Je)|0;var Si=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(Si>>>26)|0,Si&=67108863,K=Math.imul(he,Oe),G=Math.imul(he,Ke),G=G+Math.imul(re,Oe)|0,ie=Math.imul(re,Ke),K=K+Math.imul(Ue,st)|0,G=G+Math.imul(Ue,lt)|0,G=G+Math.imul(He,st)|0,ie=ie+Math.imul(He,lt)|0,K=K+Math.imul(Ae,vt)|0,G=G+Math.imul(Ae,yt)|0,G=G+Math.imul(Fe,vt)|0,ie=ie+Math.imul(Fe,yt)|0,K=K+Math.imul(ue,wt)|0,G=G+Math.imul(ue,Tt)|0,G=G+Math.imul(le,wt)|0,ie=ie+Math.imul(le,Tt)|0,K=K+Math.imul(N,It)|0,G=G+Math.imul(N,zt)|0,G=G+Math.imul(se,It)|0,ie=ie+Math.imul(se,zt)|0,K=K+Math.imul(ge,Zt)|0,G=G+Math.imul(ge,Ct)|0,G=G+Math.imul(_e,Zt)|0,ie=ie+Math.imul(_e,Ct)|0,K=K+Math.imul(ee,Wt)|0,G=G+Math.imul(ee,ti)|0,G=G+Math.imul(ne,Wt)|0,ie=ie+Math.imul(ne,ti)|0,K=K+Math.imul(be,xe)|0,G=G+Math.imul(be,Je)|0,G=G+Math.imul(we,xe)|0,ie=ie+Math.imul(we,Je)|0,K=K+Math.imul(B,ft)|0,G=G+Math.imul(B,gt)|0,G=G+Math.imul(ae,ft)|0,ie=ie+Math.imul(ae,gt)|0;var fi=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(fi>>>26)|0,fi&=67108863,K=Math.imul(ke,Oe),G=Math.imul(ke,Ke),G=G+Math.imul(Ie,Oe)|0,ie=Math.imul(Ie,Ke),K=K+Math.imul(he,st)|0,G=G+Math.imul(he,lt)|0,G=G+Math.imul(re,st)|0,ie=ie+Math.imul(re,lt)|0,K=K+Math.imul(Ue,vt)|0,G=G+Math.imul(Ue,yt)|0,G=G+Math.imul(He,vt)|0,ie=ie+Math.imul(He,yt)|0,K=K+Math.imul(Ae,wt)|0,G=G+Math.imul(Ae,Tt)|0,G=G+Math.imul(Fe,wt)|0,ie=ie+Math.imul(Fe,Tt)|0,K=K+Math.imul(ue,It)|0,G=G+Math.imul(ue,zt)|0,G=G+Math.imul(le,It)|0,ie=ie+Math.imul(le,zt)|0,K=K+Math.imul(N,Zt)|0,G=G+Math.imul(N,Ct)|0,G=G+Math.imul(se,Zt)|0,ie=ie+Math.imul(se,Ct)|0,K=K+Math.imul(ge,Wt)|0,G=G+Math.imul(ge,ti)|0,G=G+Math.imul(_e,Wt)|0,ie=ie+Math.imul(_e,ti)|0,K=K+Math.imul(ee,xe)|0,G=G+Math.imul(ee,Je)|0,G=G+Math.imul(ne,xe)|0,ie=ie+Math.imul(ne,Je)|0,K=K+Math.imul(be,ft)|0,G=G+Math.imul(be,gt)|0,G=G+Math.imul(we,ft)|0,ie=ie+Math.imul(we,gt)|0,K=K+Math.imul(B,Rt)|0,G=G+Math.imul(B,Bt)|0,G=G+Math.imul(ae,Rt)|0,ie=ie+Math.imul(ae,Bt)|0;var ai=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(ai>>>26)|0,ai&=67108863,K=Math.imul(ke,st),G=Math.imul(ke,lt),G=G+Math.imul(Ie,st)|0,ie=Math.imul(Ie,lt),K=K+Math.imul(he,vt)|0,G=G+Math.imul(he,yt)|0,G=G+Math.imul(re,vt)|0,ie=ie+Math.imul(re,yt)|0,K=K+Math.imul(Ue,wt)|0,G=G+Math.imul(Ue,Tt)|0,G=G+Math.imul(He,wt)|0,ie=ie+Math.imul(He,Tt)|0,K=K+Math.imul(Ae,It)|0,G=G+Math.imul(Ae,zt)|0,G=G+Math.imul(Fe,It)|0,ie=ie+Math.imul(Fe,zt)|0,K=K+Math.imul(ue,Zt)|0,G=G+Math.imul(ue,Ct)|0,G=G+Math.imul(le,Zt)|0,ie=ie+Math.imul(le,Ct)|0,K=K+Math.imul(N,Wt)|0,G=G+Math.imul(N,ti)|0,G=G+Math.imul(se,Wt)|0,ie=ie+Math.imul(se,ti)|0,K=K+Math.imul(ge,xe)|0,G=G+Math.imul(ge,Je)|0,G=G+Math.imul(_e,xe)|0,ie=ie+Math.imul(_e,Je)|0,K=K+Math.imul(ee,ft)|0,G=G+Math.imul(ee,gt)|0,G=G+Math.imul(ne,ft)|0,ie=ie+Math.imul(ne,gt)|0,K=K+Math.imul(be,Rt)|0,G=G+Math.imul(be,Bt)|0,G=G+Math.imul(we,Rt)|0,ie=ie+Math.imul(we,Bt)|0;var Di=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(Di>>>26)|0,Di&=67108863,K=Math.imul(ke,vt),G=Math.imul(ke,yt),G=G+Math.imul(Ie,vt)|0,ie=Math.imul(Ie,yt),K=K+Math.imul(he,wt)|0,G=G+Math.imul(he,Tt)|0,G=G+Math.imul(re,wt)|0,ie=ie+Math.imul(re,Tt)|0,K=K+Math.imul(Ue,It)|0,G=G+Math.imul(Ue,zt)|0,G=G+Math.imul(He,It)|0,ie=ie+Math.imul(He,zt)|0,K=K+Math.imul(Ae,Zt)|0,G=G+Math.imul(Ae,Ct)|0,G=G+Math.imul(Fe,Zt)|0,ie=ie+Math.imul(Fe,Ct)|0,K=K+Math.imul(ue,Wt)|0,G=G+Math.imul(ue,ti)|0,G=G+Math.imul(le,Wt)|0,ie=ie+Math.imul(le,ti)|0,K=K+Math.imul(N,xe)|0,G=G+Math.imul(N,Je)|0,G=G+Math.imul(se,xe)|0,ie=ie+Math.imul(se,Je)|0,K=K+Math.imul(ge,ft)|0,G=G+Math.imul(ge,gt)|0,G=G+Math.imul(_e,ft)|0,ie=ie+Math.imul(_e,gt)|0,K=K+Math.imul(ee,Rt)|0,G=G+Math.imul(ee,Bt)|0,G=G+Math.imul(ne,Rt)|0,ie=ie+Math.imul(ne,Bt)|0;var Qi=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,K=Math.imul(ke,wt),G=Math.imul(ke,Tt),G=G+Math.imul(Ie,wt)|0,ie=Math.imul(Ie,Tt),K=K+Math.imul(he,It)|0,G=G+Math.imul(he,zt)|0,G=G+Math.imul(re,It)|0,ie=ie+Math.imul(re,zt)|0,K=K+Math.imul(Ue,Zt)|0,G=G+Math.imul(Ue,Ct)|0,G=G+Math.imul(He,Zt)|0,ie=ie+Math.imul(He,Ct)|0,K=K+Math.imul(Ae,Wt)|0,G=G+Math.imul(Ae,ti)|0,G=G+Math.imul(Fe,Wt)|0,ie=ie+Math.imul(Fe,ti)|0,K=K+Math.imul(ue,xe)|0,G=G+Math.imul(ue,Je)|0,G=G+Math.imul(le,xe)|0,ie=ie+Math.imul(le,Je)|0,K=K+Math.imul(N,ft)|0,G=G+Math.imul(N,gt)|0,G=G+Math.imul(se,ft)|0,ie=ie+Math.imul(se,gt)|0,K=K+Math.imul(ge,Rt)|0,G=G+Math.imul(ge,Bt)|0,G=G+Math.imul(_e,Rt)|0,ie=ie+Math.imul(_e,Bt)|0;var Yi=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,K=Math.imul(ke,It),G=Math.imul(ke,zt),G=G+Math.imul(Ie,It)|0,ie=Math.imul(Ie,zt),K=K+Math.imul(he,Zt)|0,G=G+Math.imul(he,Ct)|0,G=G+Math.imul(re,Zt)|0,ie=ie+Math.imul(re,Ct)|0,K=K+Math.imul(Ue,Wt)|0,G=G+Math.imul(Ue,ti)|0,G=G+Math.imul(He,Wt)|0,ie=ie+Math.imul(He,ti)|0,K=K+Math.imul(Ae,xe)|0,G=G+Math.imul(Ae,Je)|0,G=G+Math.imul(Fe,xe)|0,ie=ie+Math.imul(Fe,Je)|0,K=K+Math.imul(ue,ft)|0,G=G+Math.imul(ue,gt)|0,G=G+Math.imul(le,ft)|0,ie=ie+Math.imul(le,gt)|0,K=K+Math.imul(N,Rt)|0,G=G+Math.imul(N,Bt)|0,G=G+Math.imul(se,Rt)|0,ie=ie+Math.imul(se,Bt)|0;var Hi=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,K=Math.imul(ke,Zt),G=Math.imul(ke,Ct),G=G+Math.imul(Ie,Zt)|0,ie=Math.imul(Ie,Ct),K=K+Math.imul(he,Wt)|0,G=G+Math.imul(he,ti)|0,G=G+Math.imul(re,Wt)|0,ie=ie+Math.imul(re,ti)|0,K=K+Math.imul(Ue,xe)|0,G=G+Math.imul(Ue,Je)|0,G=G+Math.imul(He,xe)|0,ie=ie+Math.imul(He,Je)|0,K=K+Math.imul(Ae,ft)|0,G=G+Math.imul(Ae,gt)|0,G=G+Math.imul(Fe,ft)|0,ie=ie+Math.imul(Fe,gt)|0,K=K+Math.imul(ue,Rt)|0,G=G+Math.imul(ue,Bt)|0,G=G+Math.imul(le,Rt)|0,ie=ie+Math.imul(le,Bt)|0;var Gi=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,K=Math.imul(ke,Wt),G=Math.imul(ke,ti),G=G+Math.imul(Ie,Wt)|0,ie=Math.imul(Ie,ti),K=K+Math.imul(he,xe)|0,G=G+Math.imul(he,Je)|0,G=G+Math.imul(re,xe)|0,ie=ie+Math.imul(re,Je)|0,K=K+Math.imul(Ue,ft)|0,G=G+Math.imul(Ue,gt)|0,G=G+Math.imul(He,ft)|0,ie=ie+Math.imul(He,gt)|0,K=K+Math.imul(Ae,Rt)|0,G=G+Math.imul(Ae,Bt)|0,G=G+Math.imul(Fe,Rt)|0,ie=ie+Math.imul(Fe,Bt)|0;var Kt=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,K=Math.imul(ke,xe),G=Math.imul(ke,Je),G=G+Math.imul(Ie,xe)|0,ie=Math.imul(Ie,Je),K=K+Math.imul(he,ft)|0,G=G+Math.imul(he,gt)|0,G=G+Math.imul(re,ft)|0,ie=ie+Math.imul(re,gt)|0,K=K+Math.imul(Ue,Rt)|0,G=G+Math.imul(Ue,Bt)|0,G=G+Math.imul(He,Rt)|0,ie=ie+Math.imul(He,Bt)|0;var oi=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(oi>>>26)|0,oi&=67108863,K=Math.imul(ke,ft),G=Math.imul(ke,gt),G=G+Math.imul(Ie,ft)|0,ie=Math.imul(Ie,gt),K=K+Math.imul(he,Rt)|0,G=G+Math.imul(he,Bt)|0,G=G+Math.imul(re,Rt)|0,ie=ie+Math.imul(re,Bt)|0;var wi=(H+K|0)+((G&8191)<<13)|0;H=(ie+(G>>>13)|0)+(wi>>>26)|0,wi&=67108863,K=Math.imul(ke,Rt),G=Math.imul(ke,Bt),G=G+Math.imul(Ie,Rt)|0,ie=Math.imul(Ie,Bt);var qi=(H+K|0)+((G&8191)<<13)|0;return H=(ie+(G>>>13)|0)+(qi>>>26)|0,qi&=67108863,q[0]=xt,q[1]=pt,q[2]=St,q[3]=Pt,q[4]=di,q[5]=ni,q[6]=Ut,q[7]=Si,q[8]=fi,q[9]=ai,q[10]=Di,q[11]=Qi,q[12]=Yi,q[13]=Hi,q[14]=Gi,q[15]=Kt,q[16]=oi,q[17]=wi,q[18]=qi,H!==0&&(q[19]=H,D.length++),D};Math.imul||(d=g);function w(Y,O,$){$.negative=O.negative^Y.negative,$.length=Y.length+O.length;for(var D=0,u=0,E=0;E<$.length-1;E++){var q=u;u=0;for(var H=D&67108863,K=Math.min(E,O.length-1),G=Math.max(0,E-Y.length+1);G<=K;G++){var ie=E-G,J=Y.words[ie]|0,B=O.words[G]|0,ae=J*B,Ne=ae&67108863;q=q+(ae/67108864|0)|0,Ne=Ne+H|0,H=Ne&67108863,q=q+(Ne>>>26)|0,u+=q>>>26,q&=67108863}$.words[E]=H,D=q,q=u}return D!==0?$.words[E]=D:$.length--,$.strip()}function k(Y,O,$){var D=new R;return D.mulp(Y,O,$)}f.prototype.mulTo=function(O,$){var D,u=this.length+O.length;return this.length===10&&O.length===10?D=d(this,O,$):u<63?D=g(this,O,$):u<1024?D=w(this,O,$):D=k(this,O,$),D};function R(Y,O){this.x=Y,this.y=O}R.prototype.makeRBT=function(O){for(var $=new Array(O),D=f.prototype._countBits(O)-1,u=0;u<O;u++)$[u]=this.revBin(u,D,O);return $},R.prototype.revBin=function(O,$,D){if(O===0||O===D-1)return O;for(var u=0,E=0;E<$;E++)u|=(O&1)<<$-E-1,O>>=1;return u},R.prototype.permute=function(O,$,D,u,E,q){for(var H=0;H<q;H++)u[H]=$[O[H]],E[H]=D[O[H]]},R.prototype.transform=function(O,$,D,u,E,q){this.permute(q,O,$,D,u,E);for(var H=1;H<E;H<<=1)for(var K=H<<1,G=Math.cos(2*Math.PI/K),ie=Math.sin(2*Math.PI/K),J=0;J<E;J+=K)for(var B=G,ae=ie,Ne=0;Ne<H;Ne++){var be=D[J+Ne],we=u[J+Ne],Te=D[J+Ne+H],ee=u[J+Ne+H],ne=B*Te-ae*ee;ee=B*ee+ae*Te,Te=ne,D[J+Ne]=be+Te,u[J+Ne]=we+ee,D[J+Ne+H]=be-Te,u[J+Ne+H]=we-ee,Ne!==K&&(ne=G*B-ie*ae,ae=G*ae+ie*B,B=ne)}},R.prototype.guessLen13b=function(O,$){var D=Math.max($,O)|1,u=D&1,E=0;for(D=D/2|0;D;D=D>>>1)E++;return 1<<E+1+u},R.prototype.conjugate=function(O,$,D){if(!(D<=1))for(var u=0;u<D/2;u++){var E=O[u];O[u]=O[D-u-1],O[D-u-1]=E,E=$[u],$[u]=-$[D-u-1],$[D-u-1]=-E}},R.prototype.normalize13b=function(O,$){for(var D=0,u=0;u<$/2;u++){var E=Math.round(O[2*u+1]/$)*8192+Math.round(O[2*u]/$)+D;O[u]=E&67108863,E<67108864?D=0:D=E/67108864|0}return O},R.prototype.convert13b=function(O,$,D,u){for(var E=0,q=0;q<$;q++)E=E+(O[q]|0),D[2*q]=E&8191,E=E>>>13,D[2*q+1]=E&8191,E=E>>>13;for(q=2*$;q<u;++q)D[q]=0;I(E===0),I((E&-8192)===0)},R.prototype.stub=function(O){for(var $=new Array(O),D=0;D<O;D++)$[D]=0;return $},R.prototype.mulp=function(O,$,D){var u=2*this.guessLen13b(O.length,$.length),E=this.makeRBT(u),q=this.stub(u),H=new Array(u),K=new Array(u),G=new Array(u),ie=new Array(u),J=new Array(u),B=new Array(u),ae=D.words;ae.length=u,this.convert13b(O.words,O.length,H,u),this.convert13b($.words,$.length,ie,u),this.transform(H,q,K,G,u,E),this.transform(ie,q,J,B,u,E);for(var Ne=0;Ne<u;Ne++){var be=K[Ne]*J[Ne]-G[Ne]*B[Ne];G[Ne]=K[Ne]*B[Ne]+G[Ne]*J[Ne],K[Ne]=be}return this.conjugate(K,G,u),this.transform(K,G,ae,q,u,E),this.conjugate(ae,q,u),this.normalize13b(ae,u),D.negative=O.negative^$.negative,D.length=O.length+$.length,D.strip()},f.prototype.mul=function(O){var $=new f(null);return $.words=new Array(this.length+O.length),this.mulTo(O,$)},f.prototype.mulf=function(O){var $=new f(null);return $.words=new Array(this.length+O.length),k(this,O,$)},f.prototype.imul=function(O){return this.clone().mulTo(O,this)},f.prototype.imuln=function(O){I(typeof O=="number"),I(O<67108864);for(var $=0,D=0;D<this.length;D++){var u=(this.words[D]|0)*O,E=(u&67108863)+($&67108863);$>>=26,$+=u/67108864|0,$+=E>>>26,this.words[D]=E&67108863}return $!==0&&(this.words[D]=$,this.length++),this},f.prototype.muln=function(O){return this.clone().imuln(O)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(O){var $=c(O);if($.length===0)return new f(1);for(var D=this,u=0;u<$.length&&$[u]===0;u++,D=D.sqr());if(++u<$.length)for(var E=D.sqr();u<$.length;u++,E=E.sqr())$[u]!==0&&(D=D.mul(E));return D},f.prototype.iushln=function(O){I(typeof O=="number"&&O>=0);var $=O%26,D=(O-$)/26,u=67108863>>>26-$<<26-$,E;if($!==0){var q=0;for(E=0;E<this.length;E++){var H=this.words[E]&u,K=(this.words[E]|0)-H<<$;this.words[E]=K|q,q=H>>>26-$}q&&(this.words[E]=q,this.length++)}if(D!==0){for(E=this.length-1;E>=0;E--)this.words[E+D]=this.words[E];for(E=0;E<D;E++)this.words[E]=0;this.length+=D}return this.strip()},f.prototype.ishln=function(O){return I(this.negative===0),this.iushln(O)},f.prototype.iushrn=function(O,$,D){I(typeof O=="number"&&O>=0);var u;$?u=($-$%26)/26:u=0;var E=O%26,q=Math.min((O-E)/26,this.length),H=67108863^67108863>>>E<<E,K=D;if(u-=q,u=Math.max(0,u),K){for(var G=0;G<q;G++)K.words[G]=this.words[G];K.length=q}if(q!==0)if(this.length>q)for(this.length-=q,G=0;G<this.length;G++)this.words[G]=this.words[G+q];else this.words[0]=0,this.length=1;var ie=0;for(G=this.length-1;G>=0&&(ie!==0||G>=u);G--){var J=this.words[G]|0;this.words[G]=ie<<26-E|J>>>E,ie=J&H}return K&&ie!==0&&(K.words[K.length++]=ie),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(O,$,D){return I(this.negative===0),this.iushrn(O,$,D)},f.prototype.shln=function(O){return this.clone().ishln(O)},f.prototype.ushln=function(O){return this.clone().iushln(O)},f.prototype.shrn=function(O){return this.clone().ishrn(O)},f.prototype.ushrn=function(O){return this.clone().iushrn(O)},f.prototype.testn=function(O){I(typeof O=="number"&&O>=0);var $=O%26,D=(O-$)/26,u=1<<$;if(this.length<=D)return!1;var E=this.words[D];return!!(E&u)},f.prototype.imaskn=function(O){I(typeof O=="number"&&O>=0);var $=O%26,D=(O-$)/26;if(I(this.negative===0,"imaskn works only with positive numbers"),this.length<=D)return this;if($!==0&&D++,this.length=Math.min(D,this.length),$!==0){var u=67108863^67108863>>>$<<$;this.words[this.length-1]&=u}return this.strip()},f.prototype.maskn=function(O){return this.clone().imaskn(O)},f.prototype.iaddn=function(O){return I(typeof O=="number"),I(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(this.words[0]|0)<O?(this.words[0]=O-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},f.prototype._iaddn=function(O){this.words[0]+=O;for(var $=0;$<this.length&&this.words[$]>=67108864;$++)this.words[$]-=67108864,$===this.length-1?this.words[$+1]=1:this.words[$+1]++;return this.length=Math.max(this.length,$+1),this},f.prototype.isubn=function(O){if(I(typeof O=="number"),I(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var $=0;$<this.length&&this.words[$]<0;$++)this.words[$]+=67108864,this.words[$+1]-=1;return this.strip()},f.prototype.addn=function(O){return this.clone().iaddn(O)},f.prototype.subn=function(O){return this.clone().isubn(O)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(O,$,D){var u=O.length+D,E;this._expand(u);var q,H=0;for(E=0;E<O.length;E++){q=(this.words[E+D]|0)+H;var K=(O.words[E]|0)*$;q-=K&67108863,H=(q>>26)-(K/67108864|0),this.words[E+D]=q&67108863}for(;E<this.length-D;E++)q=(this.words[E+D]|0)+H,H=q>>26,this.words[E+D]=q&67108863;if(H===0)return this.strip();for(I(H===-1),H=0,E=0;E<this.length;E++)q=-(this.words[E]|0)+H,H=q>>26,this.words[E]=q&67108863;return this.negative=1,this.strip()},f.prototype._wordDiv=function(O,$){var D=this.length-O.length,u=this.clone(),E=O,q=E.words[E.length-1]|0,H=this._countBits(q);D=26-H,D!==0&&(E=E.ushln(D),u.iushln(D),q=E.words[E.length-1]|0);var K=u.length-E.length,G;if($!=="mod"){G=new f(null),G.length=K+1,G.words=new Array(G.length);for(var ie=0;ie<G.length;ie++)G.words[ie]=0}var J=u.clone()._ishlnsubmul(E,1,K);J.negative===0&&(u=J,G&&(G.words[K]=1));for(var B=K-1;B>=0;B--){var ae=(u.words[E.length+B]|0)*67108864+(u.words[E.length+B-1]|0);for(ae=Math.min(ae/q|0,67108863),u._ishlnsubmul(E,ae,B);u.negative!==0;)ae--,u.negative=0,u._ishlnsubmul(E,1,B),u.isZero()||(u.negative^=1);G&&(G.words[B]=ae)}return G&&G.strip(),u.strip(),$!=="div"&&D!==0&&u.iushrn(D),{div:G||null,mod:u}},f.prototype.divmod=function(O,$,D){if(I(!O.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var u,E,q;return this.negative!==0&&O.negative===0?(q=this.neg().divmod(O,$),$!=="mod"&&(u=q.div.neg()),$!=="div"&&(E=q.mod.neg(),D&&E.negative!==0&&E.iadd(O)),{div:u,mod:E}):this.negative===0&&O.negative!==0?(q=this.divmod(O.neg(),$),$!=="mod"&&(u=q.div.neg()),{div:u,mod:q.mod}):this.negative&O.negative?(q=this.neg().divmod(O.neg(),$),$!=="div"&&(E=q.mod.neg(),D&&E.negative!==0&&E.isub(O)),{div:q.div,mod:E}):O.length>this.length||this.cmp(O)<0?{div:new f(0),mod:this}:O.length===1?$==="div"?{div:this.divn(O.words[0]),mod:null}:$==="mod"?{div:null,mod:new f(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new f(this.modn(O.words[0]))}:this._wordDiv(O,$)},f.prototype.div=function(O){return this.divmod(O,"div",!1).div},f.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},f.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},f.prototype.divRound=function(O){var $=this.divmod(O);if($.mod.isZero())return $.div;var D=$.div.negative!==0?$.mod.isub(O):$.mod,u=O.ushrn(1),E=O.andln(1),q=D.cmp(u);return q<0||E===1&&q===0?$.div:$.div.negative!==0?$.div.isubn(1):$.div.iaddn(1)},f.prototype.modn=function(O){I(O<=67108863);for(var $=(1<<26)%O,D=0,u=this.length-1;u>=0;u--)D=($*D+(this.words[u]|0))%O;return D},f.prototype.idivn=function(O){I(O<=67108863);for(var $=0,D=this.length-1;D>=0;D--){var u=(this.words[D]|0)+$*67108864;this.words[D]=u/O|0,$=u%O}return this.strip()},f.prototype.divn=function(O){return this.clone().idivn(O)},f.prototype.egcd=function(O){I(O.negative===0),I(!O.isZero());var $=this,D=O.clone();$.negative!==0?$=$.umod(O):$=$.clone();for(var u=new f(1),E=new f(0),q=new f(0),H=new f(1),K=0;$.isEven()&&D.isEven();)$.iushrn(1),D.iushrn(1),++K;for(var G=D.clone(),ie=$.clone();!$.isZero();){for(var J=0,B=1;!($.words[0]&B)&&J<26;++J,B<<=1);if(J>0)for($.iushrn(J);J-- >0;)(u.isOdd()||E.isOdd())&&(u.iadd(G),E.isub(ie)),u.iushrn(1),E.iushrn(1);for(var ae=0,Ne=1;!(D.words[0]&Ne)&&ae<26;++ae,Ne<<=1);if(ae>0)for(D.iushrn(ae);ae-- >0;)(q.isOdd()||H.isOdd())&&(q.iadd(G),H.isub(ie)),q.iushrn(1),H.iushrn(1);$.cmp(D)>=0?($.isub(D),u.isub(q),E.isub(H)):(D.isub($),q.isub(u),H.isub(E))}return{a:q,b:H,gcd:D.iushln(K)}},f.prototype._invmp=function(O){I(O.negative===0),I(!O.isZero());var $=this,D=O.clone();$.negative!==0?$=$.umod(O):$=$.clone();for(var u=new f(1),E=new f(0),q=D.clone();$.cmpn(1)>0&&D.cmpn(1)>0;){for(var H=0,K=1;!($.words[0]&K)&&H<26;++H,K<<=1);if(H>0)for($.iushrn(H);H-- >0;)u.isOdd()&&u.iadd(q),u.iushrn(1);for(var G=0,ie=1;!(D.words[0]&ie)&&G<26;++G,ie<<=1);if(G>0)for(D.iushrn(G);G-- >0;)E.isOdd()&&E.iadd(q),E.iushrn(1);$.cmp(D)>=0?($.isub(D),u.isub(E)):(D.isub($),E.isub(u))}var J;return $.cmpn(1)===0?J=u:J=E,J.cmpn(0)<0&&J.iadd(O),J},f.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var $=this.clone(),D=O.clone();$.negative=0,D.negative=0;for(var u=0;$.isEven()&&D.isEven();u++)$.iushrn(1),D.iushrn(1);do{for(;$.isEven();)$.iushrn(1);for(;D.isEven();)D.iushrn(1);var E=$.cmp(D);if(E<0){var q=$;$=D,D=q}else if(E===0||D.cmpn(1)===0)break;$.isub(D)}while(!0);return D.iushln(u)},f.prototype.invm=function(O){return this.egcd(O).a.umod(O)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(O){return this.words[0]&O},f.prototype.bincn=function(O){I(typeof O=="number");var $=O%26,D=(O-$)/26,u=1<<$;if(this.length<=D)return this._expand(D+1),this.words[D]|=u,this;for(var E=u,q=D;E!==0&&q<this.length;q++){var H=this.words[q]|0;H+=E,E=H>>>26,H&=67108863,this.words[q]=H}return E!==0&&(this.words[q]=E,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(O){var $=O<0;if(this.negative!==0&&!$)return-1;if(this.negative===0&&$)return 1;this.strip();var D;if(this.length>1)D=1;else{$&&(O=-O),I(O<=67108863,"Number is too big");var u=this.words[0]|0;D=u===O?0:u<O?-1:1}return this.negative!==0?-D|0:D},f.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var $=this.ucmp(O);return this.negative!==0?-$|0:$},f.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var $=0,D=this.length-1;D>=0;D--){var u=this.words[D]|0,E=O.words[D]|0;if(u!==E){u<E?$=-1:u>E&&($=1);break}}return $},f.prototype.gtn=function(O){return this.cmpn(O)===1},f.prototype.gt=function(O){return this.cmp(O)===1},f.prototype.gten=function(O){return this.cmpn(O)>=0},f.prototype.gte=function(O){return this.cmp(O)>=0},f.prototype.ltn=function(O){return this.cmpn(O)===-1},f.prototype.lt=function(O){return this.cmp(O)===-1},f.prototype.lten=function(O){return this.cmpn(O)<=0},f.prototype.lte=function(O){return this.cmp(O)<=0},f.prototype.eqn=function(O){return this.cmpn(O)===0},f.prototype.eq=function(O){return this.cmp(O)===0},f.red=function(O){return new Z(O)},f.prototype.toRed=function(O){return I(!this.red,"Already a number in reduction context"),I(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},f.prototype.fromRed=function(){return I(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(O){return this.red=O,this},f.prototype.forceRed=function(O){return I(!this.red,"Already a number in reduction context"),this._forceRed(O)},f.prototype.redAdd=function(O){return I(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},f.prototype.redIAdd=function(O){return I(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},f.prototype.redSub=function(O){return I(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},f.prototype.redISub=function(O){return I(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},f.prototype.redShl=function(O){return I(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},f.prototype.redMul=function(O){return I(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},f.prototype.redIMul=function(O){return I(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},f.prototype.redSqr=function(){return I(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return I(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return I(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return I(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return I(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(O){return I(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var P={k256:null,p224:null,p192:null,p25519:null};function U(Y,O){this.name=Y,this.p=new f(O,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var O=new f(null);return O.words=new Array(Math.ceil(this.n/13)),O},U.prototype.ireduce=function(O){var $=O,D;do this.split($,this.tmp),$=this.imulK($),$=$.iadd(this.tmp),D=$.bitLength();while(D>this.n);var u=D<this.n?-1:$.ucmp(this.p);return u===0?($.words[0]=0,$.length=1):u>0?$.isub(this.p):$.strip!==void 0?$.strip():$._strip(),$},U.prototype.split=function(O,$){O.iushrn(this.n,0,$)},U.prototype.imulK=function(O){return O.imul(this.k)};function F(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}C(F,U),F.prototype.split=function(O,$){for(var D=4194303,u=Math.min(O.length,9),E=0;E<u;E++)$.words[E]=O.words[E];if($.length=u,O.length<=9){O.words[0]=0,O.length=1;return}var q=O.words[9];for($.words[$.length++]=q&D,E=10;E<O.length;E++){var H=O.words[E]|0;O.words[E-10]=(H&D)<<4|q>>>22,q=H}q>>>=22,O.words[E-10]=q,q===0&&O.length>10?O.length-=10:O.length-=9},F.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var $=0,D=0;D<O.length;D++){var u=O.words[D]|0;$+=u*977,O.words[D]=$&67108863,$=u*64+($/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O};function y(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}C(y,U);function z(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}C(z,U);function Q(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}C(Q,U),Q.prototype.imulK=function(O){for(var $=0,D=0;D<O.length;D++){var u=(O.words[D]|0)*19+$,E=u&67108863;u>>>=26,O.words[D]=E,$=u}return $!==0&&(O.words[O.length++]=$),O},f._prime=function(O){if(P[O])return P[O];var $;if(O==="k256")$=new F;else if(O==="p224")$=new y;else if(O==="p192")$=new z;else if(O==="p25519")$=new Q;else throw new Error("Unknown prime "+O);return P[O]=$,$};function Z(Y){if(typeof Y=="string"){var O=f._prime(Y);this.m=O.p,this.prime=O}else I(Y.gtn(1),"modulus must be greater than 1"),this.m=Y,this.prime=null}Z.prototype._verify1=function(O){I(O.negative===0,"red works only with positives"),I(O.red,"red works only with red numbers")},Z.prototype._verify2=function(O,$){I((O.negative|$.negative)===0,"red works only with positives"),I(O.red&&O.red===$.red,"red works only with red numbers")},Z.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},Z.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},Z.prototype.add=function(O,$){this._verify2(O,$);var D=O.add($);return D.cmp(this.m)>=0&&D.isub(this.m),D._forceRed(this)},Z.prototype.iadd=function(O,$){this._verify2(O,$);var D=O.iadd($);return D.cmp(this.m)>=0&&D.isub(this.m),D},Z.prototype.sub=function(O,$){this._verify2(O,$);var D=O.sub($);return D.cmpn(0)<0&&D.iadd(this.m),D._forceRed(this)},Z.prototype.isub=function(O,$){this._verify2(O,$);var D=O.isub($);return D.cmpn(0)<0&&D.iadd(this.m),D},Z.prototype.shl=function(O,$){return this._verify1(O),this.imod(O.ushln($))},Z.prototype.imul=function(O,$){return this._verify2(O,$),this.imod(O.imul($))},Z.prototype.mul=function(O,$){return this._verify2(O,$),this.imod(O.mul($))},Z.prototype.isqr=function(O){return this.imul(O,O.clone())},Z.prototype.sqr=function(O){return this.mul(O,O)},Z.prototype.sqrt=function(O){if(O.isZero())return O.clone();var $=this.m.andln(3);if(I($%2===1),$===3){var D=this.m.add(new f(1)).iushrn(2);return this.pow(O,D)}for(var u=this.m.subn(1),E=0;!u.isZero()&&u.andln(1)===0;)E++,u.iushrn(1);I(!u.isZero());var q=new f(1).toRed(this),H=q.redNeg(),K=this.m.subn(1).iushrn(1),G=this.m.bitLength();for(G=new f(2*G*G).toRed(this);this.pow(G,K).cmp(H)!==0;)G.redIAdd(H);for(var ie=this.pow(G,u),J=this.pow(O,u.addn(1).iushrn(1)),B=this.pow(O,u),ae=E;B.cmp(q)!==0;){for(var Ne=B,be=0;Ne.cmp(q)!==0;be++)Ne=Ne.redSqr();I(be<ae);var we=this.pow(ie,new f(1).iushln(ae-be-1));J=J.redMul(we),ie=we.redSqr(),B=B.redMul(ie),ae=be}return J},Z.prototype.invm=function(O){var $=O._invmp(this.m);return $.negative!==0?($.negative=0,this.imod($).redNeg()):this.imod($)},Z.prototype.pow=function(O,$){if($.isZero())return new f(1).toRed(this);if($.cmpn(1)===0)return O.clone();var D=4,u=new Array(1<<D);u[0]=new f(1).toRed(this),u[1]=O;for(var E=2;E<u.length;E++)u[E]=this.mul(u[E-1],O);var q=u[0],H=0,K=0,G=$.bitLength()%26;for(G===0&&(G=26),E=$.length-1;E>=0;E--){for(var ie=$.words[E],J=G-1;J>=0;J--){var B=ie>>J&1;if(q!==u[0]&&(q=this.sqr(q)),B===0&&H===0){K=0;continue}H<<=1,H|=B,K++,!(K!==D&&(E!==0||J!==0))&&(q=this.mul(q,u[H]),K=0,H=0)}G=26}return q},Z.prototype.convertTo=function(O){var $=O.umod(this.m);return $===O?$.clone():$},Z.prototype.convertFrom=function(O){var $=O.clone();return $.red=null,$},f.mont=function(O){return new X(O)};function X(Y){Z.call(this,Y),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}C(X,Z),X.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},X.prototype.convertFrom=function(O){var $=this.imod(O.mul(this.rinv));return $.red=null,$},X.prototype.imul=function(O,$){if(O.isZero()||$.isZero())return O.words[0]=0,O.length=1,O;var D=O.imul($),u=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=D.isub(u).iushrn(this.shift),q=E;return E.cmp(this.m)>=0?q=E.isub(this.m):E.cmpn(0)<0&&(q=E.iadd(this.m)),q._forceRed(this)},X.prototype.mul=function(O,$){if(O.isZero()||$.isZero())return new f(0)._forceRed(this);var D=O.mul($),u=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=D.isub(u).iushrn(this.shift),q=E;return E.cmp(this.m)>=0?q=E.isub(this.m):E.cmpn(0)<0&&(q=E.iadd(this.m)),q._forceRed(this)},X.prototype.invm=function(O){var $=this.imod(O._invmp(this.m).mul(this.r2));return $._forceRed(this)}}(s,this)},15037:(s,V,M)=>{var A;s.exports=function(f){return A||(A=new L(null)),A.generate(f)};function L(C){this.rand=C}if(s.exports.Rand=L,L.prototype.generate=function(f){return this._rand(f)},L.prototype._rand=function(f){if(this.rand.getBytes)return this.rand.getBytes(f);for(var h=new Uint8Array(f),p=0;p<h.length;p++)h[p]=this.rand.getByte();return h},typeof self=="object")self.crypto&&self.crypto.getRandomValues?L.prototype._rand=function(f){var h=new Uint8Array(f);return self.crypto.getRandomValues(h),h}:self.msCrypto&&self.msCrypto.getRandomValues?L.prototype._rand=function(f){var h=new Uint8Array(f);return self.msCrypto.getRandomValues(h),h}:typeof window=="object"&&(L.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var I=M(73776);if(typeof I.randomBytes!="function")throw new Error("Not supported");L.prototype._rand=function(f){return I.randomBytes(f)}}catch{}},50462:(s,V,M)=>{var A=M(92861).Buffer;function L(m){A.isBuffer(m)||(m=A.from(m));for(var _=m.length/4|0,b=new Array(_),l=0;l<_;l++)b[l]=m.readUInt32BE(l*4);return b}function I(m){for(var _=0;_<m.length;m++)m[_]=0}function C(m,_,b,l,S){for(var c=b[0],g=b[1],d=b[2],w=b[3],k=m[0]^_[0],R=m[1]^_[1],P=m[2]^_[2],U=m[3]^_[3],F,y,z,Q,Z=4,X=1;X<S;X++)F=c[k>>>24]^g[R>>>16&255]^d[P>>>8&255]^w[U&255]^_[Z++],y=c[R>>>24]^g[P>>>16&255]^d[U>>>8&255]^w[k&255]^_[Z++],z=c[P>>>24]^g[U>>>16&255]^d[k>>>8&255]^w[R&255]^_[Z++],Q=c[U>>>24]^g[k>>>16&255]^d[R>>>8&255]^w[P&255]^_[Z++],k=F,R=y,P=z,U=Q;return F=(l[k>>>24]<<24|l[R>>>16&255]<<16|l[P>>>8&255]<<8|l[U&255])^_[Z++],y=(l[R>>>24]<<24|l[P>>>16&255]<<16|l[U>>>8&255]<<8|l[k&255])^_[Z++],z=(l[P>>>24]<<24|l[U>>>16&255]<<16|l[k>>>8&255]<<8|l[R&255])^_[Z++],Q=(l[U>>>24]<<24|l[k>>>16&255]<<16|l[R>>>8&255]<<8|l[P&255])^_[Z++],F=F>>>0,y=y>>>0,z=z>>>0,Q=Q>>>0,[F,y,z,Q]}var f=[0,1,2,4,8,16,32,64,128,27,54],h=function(){for(var m=new Array(256),_=0;_<256;_++)_<128?m[_]=_<<1:m[_]=_<<1^283;for(var b=[],l=[],S=[[],[],[],[]],c=[[],[],[],[]],g=0,d=0,w=0;w<256;++w){var k=d^d<<1^d<<2^d<<3^d<<4;k=k>>>8^k&255^99,b[g]=k,l[k]=g;var R=m[g],P=m[R],U=m[P],F=m[k]*257^k*16843008;S[0][g]=F<<24|F>>>8,S[1][g]=F<<16|F>>>16,S[2][g]=F<<8|F>>>24,S[3][g]=F,F=U*16843009^P*65537^R*257^g*16843008,c[0][k]=F<<24|F>>>8,c[1][k]=F<<16|F>>>16,c[2][k]=F<<8|F>>>24,c[3][k]=F,g===0?g=d=1:(g=R^m[m[m[U^R]]],d^=m[m[d]])}return{SBOX:b,INV_SBOX:l,SUB_MIX:S,INV_SUB_MIX:c}}();function p(m){this._key=L(m),this._reset()}p.blockSize=16,p.keySize=32,p.prototype.blockSize=p.blockSize,p.prototype.keySize=p.keySize,p.prototype._reset=function(){for(var m=this._key,_=m.length,b=_+6,l=(b+1)*4,S=[],c=0;c<_;c++)S[c]=m[c];for(c=_;c<l;c++){var g=S[c-1];c%_===0?(g=g<<8|g>>>24,g=h.SBOX[g>>>24]<<24|h.SBOX[g>>>16&255]<<16|h.SBOX[g>>>8&255]<<8|h.SBOX[g&255],g^=f[c/_|0]<<24):_>6&&c%_===4&&(g=h.SBOX[g>>>24]<<24|h.SBOX[g>>>16&255]<<16|h.SBOX[g>>>8&255]<<8|h.SBOX[g&255]),S[c]=S[c-_]^g}for(var d=[],w=0;w<l;w++){var k=l-w,R=S[k-(w%4?0:4)];w<4||k<=4?d[w]=R:d[w]=h.INV_SUB_MIX[0][h.SBOX[R>>>24]]^h.INV_SUB_MIX[1][h.SBOX[R>>>16&255]]^h.INV_SUB_MIX[2][h.SBOX[R>>>8&255]]^h.INV_SUB_MIX[3][h.SBOX[R&255]]}this._nRounds=b,this._keySchedule=S,this._invKeySchedule=d},p.prototype.encryptBlockRaw=function(m){return m=L(m),C(m,this._keySchedule,h.SUB_MIX,h.SBOX,this._nRounds)},p.prototype.encryptBlock=function(m){var _=this.encryptBlockRaw(m),b=A.allocUnsafe(16);return b.writeUInt32BE(_[0],0),b.writeUInt32BE(_[1],4),b.writeUInt32BE(_[2],8),b.writeUInt32BE(_[3],12),b},p.prototype.decryptBlock=function(m){m=L(m);var _=m[1];m[1]=m[3],m[3]=_;var b=C(m,this._invKeySchedule,h.INV_SUB_MIX,h.INV_SBOX,this._nRounds),l=A.allocUnsafe(16);return l.writeUInt32BE(b[0],0),l.writeUInt32BE(b[3],4),l.writeUInt32BE(b[2],8),l.writeUInt32BE(b[1],12),l},p.prototype.scrub=function(){I(this._keySchedule),I(this._invKeySchedule),I(this._key)},s.exports.AES=p},92356:(s,V,M)=>{var A=M(50462),L=M(92861).Buffer,I=M(56168),C=M(56698),f=M(25892),h=M(30295),p=M(45122);function m(l,S){var c=0;l.length!==S.length&&c++;for(var g=Math.min(l.length,S.length),d=0;d<g;++d)c+=l[d]^S[d];return c}function _(l,S,c){if(S.length===12)return l._finID=L.concat([S,L.from([0,0,0,1])]),L.concat([S,L.from([0,0,0,2])]);var g=new f(c),d=S.length,w=d%16;g.update(S),w&&(w=16-w,g.update(L.alloc(w,0))),g.update(L.alloc(8,0));var k=d*8,R=L.alloc(8);R.writeUIntBE(k,0,8),g.update(R),l._finID=g.state;var P=L.from(l._finID);return p(P),P}function b(l,S,c,g){I.call(this);var d=L.alloc(4,0);this._cipher=new A.AES(S);var w=this._cipher.encryptBlock(d);this._ghash=new f(w),c=_(this,c,w),this._prev=L.from(c),this._cache=L.allocUnsafe(0),this._secCache=L.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=l,this._authTag=null,this._called=!1}C(b,I),b.prototype._update=function(l){if(!this._called&&this._alen){var S=16-this._alen%16;S<16&&(S=L.alloc(S,0),this._ghash.update(S))}this._called=!0;var c=this._mode.encrypt(this,l);return this._decrypt?this._ghash.update(l):this._ghash.update(c),this._len+=l.length,c},b.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var l=h(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&m(l,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=l,this._cipher.scrub()},b.prototype.getAuthTag=function(){if(this._decrypt||!L.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},b.prototype.setAuthTag=function(S){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=S},b.prototype.setAAD=function(S){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(S),this._alen+=S.length},s.exports=b},1241:(s,V,M)=>{var A=M(25799),L=M(36171),I=M(3219);function C(){return Object.keys(I)}V.createCipher=V.Cipher=A.createCipher,V.createCipheriv=V.Cipheriv=A.createCipheriv,V.createDecipher=V.Decipher=L.createDecipher,V.createDecipheriv=V.Decipheriv=L.createDecipheriv,V.listCiphers=V.getCiphers=C},36171:(s,V,M)=>{var A=M(92356),L=M(92861).Buffer,I=M(530),C=M(50650),f=M(56168),h=M(50462),p=M(68078),m=M(56698);function _(g,d,w){f.call(this),this._cache=new b,this._last=void 0,this._cipher=new h.AES(d),this._prev=L.from(w),this._mode=g,this._autopadding=!0}m(_,f),_.prototype._update=function(g){this._cache.add(g);for(var d,w,k=[];d=this._cache.get(this._autopadding);)w=this._mode.decrypt(this,d),k.push(w);return L.concat(k)},_.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return l(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},_.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this};function b(){this.cache=L.allocUnsafe(0)}b.prototype.add=function(g){this.cache=L.concat([this.cache,g])},b.prototype.get=function(g){var d;if(g){if(this.cache.length>16)return d=this.cache.slice(0,16),this.cache=this.cache.slice(16),d}else if(this.cache.length>=16)return d=this.cache.slice(0,16),this.cache=this.cache.slice(16),d;return null},b.prototype.flush=function(){if(this.cache.length)return this.cache};function l(g){var d=g[15];if(d<1||d>16)throw new Error("unable to decrypt data");for(var w=-1;++w<d;)if(g[w+(16-d)]!==d)throw new Error("unable to decrypt data");if(d!==16)return g.slice(0,16-d)}function S(g,d,w){var k=I[g.toLowerCase()];if(!k)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=L.from(w)),k.mode!=="GCM"&&w.length!==k.iv)throw new TypeError("invalid iv length "+w.length);if(typeof d=="string"&&(d=L.from(d)),d.length!==k.key/8)throw new TypeError("invalid key length "+d.length);return k.type==="stream"?new C(k.module,d,w,!0):k.type==="auth"?new A(k.module,d,w,!0):new _(k.module,d,w)}function c(g,d){var w=I[g.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var k=p(d,!1,w.key,w.iv);return S(g,k.key,k.iv)}V.createDecipher=c,V.createDecipheriv=S},25799:(s,V,M)=>{var A=M(530),L=M(92356),I=M(92861).Buffer,C=M(50650),f=M(56168),h=M(50462),p=M(68078),m=M(56698);function _(g,d,w){f.call(this),this._cache=new l,this._cipher=new h.AES(d),this._prev=I.from(w),this._mode=g,this._autopadding=!0}m(_,f),_.prototype._update=function(g){this._cache.add(g);for(var d,w,k=[];d=this._cache.get();)w=this._mode.encrypt(this,d),k.push(w);return I.concat(k)};var b=I.alloc(16,16);_.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(b))throw this._cipher.scrub(),new Error("data not multiple of block length")},_.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this};function l(){this.cache=I.allocUnsafe(0)}l.prototype.add=function(g){this.cache=I.concat([this.cache,g])},l.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},l.prototype.flush=function(){for(var g=16-this.cache.length,d=I.allocUnsafe(g),w=-1;++w<g;)d.writeUInt8(g,w);return I.concat([this.cache,d])};function S(g,d,w){var k=A[g.toLowerCase()];if(!k)throw new TypeError("invalid suite type");if(typeof d=="string"&&(d=I.from(d)),d.length!==k.key/8)throw new TypeError("invalid key length "+d.length);if(typeof w=="string"&&(w=I.from(w)),k.mode!=="GCM"&&w.length!==k.iv)throw new TypeError("invalid iv length "+w.length);return k.type==="stream"?new C(k.module,d,w):k.type==="auth"?new L(k.module,d,w):new _(k.module,d,w)}function c(g,d){var w=A[g.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var k=p(d,!1,w.key,w.iv);return S(g,k.key,k.iv)}V.createCipheriv=S,V.createCipher=c},25892:(s,V,M)=>{var A=M(92861).Buffer,L=A.alloc(16,0);function I(h){return[h.readUInt32BE(0),h.readUInt32BE(4),h.readUInt32BE(8),h.readUInt32BE(12)]}function C(h){var p=A.allocUnsafe(16);return p.writeUInt32BE(h[0]>>>0,0),p.writeUInt32BE(h[1]>>>0,4),p.writeUInt32BE(h[2]>>>0,8),p.writeUInt32BE(h[3]>>>0,12),p}function f(h){this.h=h,this.state=A.alloc(16,0),this.cache=A.allocUnsafe(0)}f.prototype.ghash=function(h){for(var p=-1;++p<h.length;)this.state[p]^=h[p];this._multiply()},f.prototype._multiply=function(){for(var h=I(this.h),p=[0,0,0,0],m,_,b,l=-1;++l<128;){for(_=(this.state[~~(l/8)]&1<<7-l%8)!==0,_&&(p[0]^=h[0],p[1]^=h[1],p[2]^=h[2],p[3]^=h[3]),b=(h[3]&1)!==0,m=3;m>0;m--)h[m]=h[m]>>>1|(h[m-1]&1)<<31;h[0]=h[0]>>>1,b&&(h[0]=h[0]^-520093696)}this.state=C(p)},f.prototype.update=function(h){this.cache=A.concat([this.cache,h]);for(var p;this.cache.length>=16;)p=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(p)},f.prototype.final=function(h,p){return this.cache.length&&this.ghash(A.concat([this.cache,L],16)),this.ghash(C([0,h,0,p])),this.state},s.exports=f},45122:s=>{function V(M){for(var A=M.length,L;A--;)if(L=M.readUInt8(A),L===255)M.writeUInt8(0,A);else{L++,M.writeUInt8(L,A);break}}s.exports=V},92884:(s,V,M)=>{var A=M(30295);V.encrypt=function(L,I){var C=A(I,L._prev);return L._prev=L._cipher.encryptBlock(C),L._prev},V.decrypt=function(L,I){var C=L._prev;L._prev=I;var f=L._cipher.decryptBlock(I);return A(f,C)}},46383:(s,V,M)=>{var A=M(92861).Buffer,L=M(30295);function I(C,f,h){var p=f.length,m=L(f,C._cache);return C._cache=C._cache.slice(p),C._prev=A.concat([C._prev,h?f:m]),m}V.encrypt=function(C,f,h){for(var p=A.allocUnsafe(0),m;f.length;)if(C._cache.length===0&&(C._cache=C._cipher.encryptBlock(C._prev),C._prev=A.allocUnsafe(0)),C._cache.length<=f.length)m=C._cache.length,p=A.concat([p,I(C,f.slice(0,m),h)]),f=f.slice(m);else{p=A.concat([p,I(C,f,h)]);break}return p}},55264:(s,V,M)=>{var A=M(92861).Buffer;function L(C,f,h){for(var p,m=-1,_=8,b=0,l,S;++m<_;)p=C._cipher.encryptBlock(C._prev),l=f&1<<7-m?128:0,S=p[0]^l,b+=(S&128)>>m%8,C._prev=I(C._prev,h?l:S);return b}function I(C,f){var h=C.length,p=-1,m=A.allocUnsafe(C.length);for(C=A.concat([C,A.from([f])]);++p<h;)m[p]=C[p]<<1|C[p+1]>>7;return m}V.encrypt=function(C,f,h){for(var p=f.length,m=A.allocUnsafe(p),_=-1;++_<p;)m[_]=L(C,f[_],h);return m}},86975:(s,V,M)=>{var A=M(92861).Buffer;function L(I,C,f){var h=I._cipher.encryptBlock(I._prev),p=h[0]^C;return I._prev=A.concat([I._prev.slice(1),A.from([f?C:p])]),p}V.encrypt=function(I,C,f){for(var h=C.length,p=A.allocUnsafe(h),m=-1;++m<h;)p[m]=L(I,C[m],f);return p}},63053:(s,V,M)=>{var A=M(30295),L=M(92861).Buffer,I=M(45122);function C(h){var p=h._cipher.encryptBlockRaw(h._prev);return I(h._prev),p}var f=16;V.encrypt=function(h,p){var m=Math.ceil(p.length/f),_=h._cache.length;h._cache=L.concat([h._cache,L.allocUnsafe(m*f)]);for(var b=0;b<m;b++){var l=C(h),S=_+b*f;h._cache.writeUInt32BE(l[0],S+0),h._cache.writeUInt32BE(l[1],S+4),h._cache.writeUInt32BE(l[2],S+8),h._cache.writeUInt32BE(l[3],S+12)}var c=h._cache.slice(0,p.length);return h._cache=h._cache.slice(p.length),A(p,c)}},52632:(s,V)=>{V.encrypt=function(M,A){return M._cipher.encryptBlock(A)},V.decrypt=function(M,A){return M._cipher.decryptBlock(A)}},530:(s,V,M)=>{var A={ECB:M(52632),CBC:M(92884),CFB:M(46383),CFB8:M(86975),CFB1:M(55264),OFB:M(46843),CTR:M(63053),GCM:M(63053)},L=M(3219);for(var I in L)L[I].module=A[L[I].mode];s.exports=L},46843:(s,V,M)=>{var A=M(48287).Buffer,L=M(30295);function I(C){return C._prev=C._cipher.encryptBlock(C._prev),C._prev}V.encrypt=function(C,f){for(;C._cache.length<f.length;)C._cache=A.concat([C._cache,I(C)]);var h=C._cache.slice(0,f.length);return C._cache=C._cache.slice(f.length),L(f,h)}},50650:(s,V,M)=>{var A=M(50462),L=M(92861).Buffer,I=M(56168),C=M(56698);function f(h,p,m,_){I.call(this),this._cipher=new A.AES(p),this._prev=L.from(m),this._cache=L.allocUnsafe(0),this._secCache=L.allocUnsafe(0),this._decrypt=_,this._mode=h}C(f,I),f.prototype._update=function(h){return this._mode.encrypt(this,h,this._decrypt)},f.prototype._final=function(){this._cipher.scrub()},s.exports=f},30125:(s,V,M)=>{var A=M(84050),L=M(1241),I=M(530),C=M(32438),f=M(68078);function h(l,S){l=l.toLowerCase();var c,g;if(I[l])c=I[l].key,g=I[l].iv;else if(C[l])c=C[l].key*8,g=C[l].iv;else throw new TypeError("invalid suite type");var d=f(S,!1,c,g);return m(l,d.key,d.iv)}function p(l,S){l=l.toLowerCase();var c,g;if(I[l])c=I[l].key,g=I[l].iv;else if(C[l])c=C[l].key*8,g=C[l].iv;else throw new TypeError("invalid suite type");var d=f(S,!1,c,g);return _(l,d.key,d.iv)}function m(l,S,c){if(l=l.toLowerCase(),I[l])return L.createCipheriv(l,S,c);if(C[l])return new A({key:S,iv:c,mode:l});throw new TypeError("invalid suite type")}function _(l,S,c){if(l=l.toLowerCase(),I[l])return L.createDecipheriv(l,S,c);if(C[l])return new A({key:S,iv:c,mode:l,decrypt:!0});throw new TypeError("invalid suite type")}function b(){return Object.keys(C).concat(L.getCiphers())}V.createCipher=V.Cipher=h,V.createCipheriv=V.Cipheriv=m,V.createDecipher=V.Decipher=p,V.createDecipheriv=V.Decipheriv=_,V.listCiphers=V.getCiphers=b},84050:(s,V,M)=>{var A=M(56168),L=M(29560),I=M(56698),C=M(92861).Buffer,f={"des-ede3-cbc":L.CBC.instantiate(L.EDE),"des-ede3":L.EDE,"des-ede-cbc":L.CBC.instantiate(L.EDE),"des-ede":L.EDE,"des-cbc":L.CBC.instantiate(L.DES),"des-ecb":L.DES};f.des=f["des-cbc"],f.des3=f["des-ede3-cbc"],s.exports=h,I(h,A);function h(p){A.call(this);var m=p.mode.toLowerCase(),_=f[m],b;p.decrypt?b="decrypt":b="encrypt";var l=p.key;C.isBuffer(l)||(l=C.from(l)),(m==="des-ede"||m==="des-ede-cbc")&&(l=C.concat([l,l.slice(0,8)]));var S=p.iv;C.isBuffer(S)||(S=C.from(S)),this._des=_.create({key:l,iv:S,type:b})}h.prototype._update=function(p){return C.from(this._des.update(p))},h.prototype._final=function(){return C.from(this._des.final())}},32438:(s,V)=>{V["des-ecb"]={key:8,iv:0},V["des-cbc"]=V.des={key:8,iv:8},V["des-ede3-cbc"]=V.des3={key:24,iv:8},V["des-ede3"]={key:24,iv:0},V["des-ede-cbc"]={key:16,iv:8},V["des-ede"]={key:16,iv:0}},67332:(s,V,M)=>{var A=M(48287).Buffer,L=M(78893),I=M(53209);function C(p){var m=f(p),_=m.toRed(L.mont(p.modulus)).redPow(new L(p.publicExponent)).fromRed();return{blinder:_,unblinder:m.invm(p.modulus)}}function f(p){var m=p.modulus.byteLength(),_;do _=new L(I(m));while(_.cmp(p.modulus)>=0||!_.umod(p.prime1)||!_.umod(p.prime2));return _}function h(p,m){var _=C(m),b=m.modulus.byteLength(),l=new L(p).mul(_.blinder).umod(m.modulus),S=l.toRed(L.mont(m.prime1)),c=l.toRed(L.mont(m.prime2)),g=m.coefficient,d=m.prime1,w=m.prime2,k=S.redPow(m.exponent1).fromRed(),R=c.redPow(m.exponent2).fromRed(),P=k.isub(R).imul(g).umod(d).imul(w);return R.iadd(P).imul(_.unblinder).umod(m.modulus).toArrayLike(A,"be",b)}h.getr=f,s.exports=h},78893:function(s,V,M){s=M.nmd(s),function(A,L){"use strict";function I(D,u){if(!D)throw new Error(u||"Assertion failed")}function C(D,u){D.super_=u;var E=function(){};E.prototype=u.prototype,D.prototype=new E,D.prototype.constructor=D}function f(D,u,E){if(f.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((u==="le"||u==="be")&&(E=u,u=10),this._init(D||0,u||10,E||"be"))}typeof A=="object"?A.exports=f:L.BN=f,f.BN=f,f.wordSize=26;var h;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?h=window.Buffer:h=M(98285).Buffer}catch{}f.isBN=function(u){return u instanceof f?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===f.wordSize&&Array.isArray(u.words)},f.max=function(u,E){return u.cmp(E)>0?u:E},f.min=function(u,E){return u.cmp(E)<0?u:E},f.prototype._init=function(u,E,q){if(typeof u=="number")return this._initNumber(u,E,q);if(typeof u=="object")return this._initArray(u,E,q);E==="hex"&&(E=16),I(E===(E|0)&&E>=2&&E<=36),u=u.toString().replace(/\s+/g,"");var H=0;u[0]==="-"&&(H++,this.negative=1),H<u.length&&(E===16?this._parseHex(u,H,q):(this._parseBase(u,E,H),q==="le"&&this._initArray(this.toArray(),E,q)))},f.prototype._initNumber=function(u,E,q){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(I(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),q==="le"&&this._initArray(this.toArray(),E,q)},f.prototype._initArray=function(u,E,q){if(I(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var K,G,ie=0;if(q==="be")for(H=u.length-1,K=0;H>=0;H-=3)G=u[H]|u[H-1]<<8|u[H-2]<<16,this.words[K]|=G<<ie&67108863,this.words[K+1]=G>>>26-ie&67108863,ie+=24,ie>=26&&(ie-=26,K++);else if(q==="le")for(H=0,K=0;H<u.length;H+=3)G=u[H]|u[H+1]<<8|u[H+2]<<16,this.words[K]|=G<<ie&67108863,this.words[K+1]=G>>>26-ie&67108863,ie+=24,ie>=26&&(ie-=26,K++);return this._strip()};function p(D,u){var E=D.charCodeAt(u);if(E>=48&&E<=57)return E-48;if(E>=65&&E<=70)return E-55;if(E>=97&&E<=102)return E-87;I(!1,"Invalid character in "+D)}function m(D,u,E){var q=p(D,E);return E-1>=u&&(q|=p(D,E-1)<<4),q}f.prototype._parseHex=function(u,E,q){this.length=Math.ceil((u.length-E)/6),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var K=0,G=0,ie;if(q==="be")for(H=u.length-1;H>=E;H-=2)ie=m(u,E,H)<<K,this.words[G]|=ie&67108863,K>=18?(K-=18,G+=1,this.words[G]|=ie>>>26):K+=8;else{var J=u.length-E;for(H=J%2===0?E+1:E;H<u.length;H+=2)ie=m(u,E,H)<<K,this.words[G]|=ie&67108863,K>=18?(K-=18,G+=1,this.words[G]|=ie>>>26):K+=8}this._strip()};function _(D,u,E,q){for(var H=0,K=0,G=Math.min(D.length,E),ie=u;ie<G;ie++){var J=D.charCodeAt(ie)-48;H*=q,J>=49?K=J-49+10:J>=17?K=J-17+10:K=J,I(J>=0&&K<q,"Invalid character"),H+=K}return H}f.prototype._parseBase=function(u,E,q){this.words=[0],this.length=1;for(var H=0,K=1;K<=67108863;K*=E)H++;H--,K=K/E|0;for(var G=u.length-q,ie=G%H,J=Math.min(G,G-ie)+q,B=0,ae=q;ae<J;ae+=H)B=_(u,ae,ae+H,E),this.imuln(K),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(ie!==0){var Ne=1;for(B=_(u,ae,u.length,E),ae=0;ae<ie;ae++)Ne*=E;this.imuln(Ne),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this._strip()},f.prototype.copy=function(u){u.words=new Array(this.length);for(var E=0;E<this.length;E++)u.words[E]=this.words[E];u.length=this.length,u.negative=this.negative,u.red=this.red};function b(D,u){D.words=u.words,D.length=u.length,D.negative=u.negative,D.red=u.red}if(f.prototype._move=function(u){b(u,this)},f.prototype.clone=function(){var u=new f(null);return this.copy(u),u},f.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},f.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{f.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{f.prototype.inspect=l}else f.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(u,E){u=u||10,E=E|0||1;var q;if(u===16||u==="hex"){q="";for(var H=0,K=0,G=0;G<this.length;G++){var ie=this.words[G],J=((ie<<H|K)&16777215).toString(16);K=ie>>>24-H&16777215,K!==0||G!==this.length-1?q=S[6-J.length]+J+q:q=J+q,H+=2,H>=26&&(H-=26,G--)}for(K!==0&&(q=K.toString(16)+q);q.length%E!==0;)q="0"+q;return this.negative!==0&&(q="-"+q),q}if(u===(u|0)&&u>=2&&u<=36){var B=c[u],ae=g[u];q="";var Ne=this.clone();for(Ne.negative=0;!Ne.isZero();){var be=Ne.modrn(ae).toString(u);Ne=Ne.idivn(ae),Ne.isZero()?q=be+q:q=S[B-be.length]+be+q}for(this.isZero()&&(q="0"+q);q.length%E!==0;)q="0"+q;return this.negative!==0&&(q="-"+q),q}I(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&I(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},f.prototype.toJSON=function(){return this.toString(16,2)},h&&(f.prototype.toBuffer=function(u,E){return this.toArrayLike(h,u,E)}),f.prototype.toArray=function(u,E){return this.toArrayLike(Array,u,E)};var d=function(u,E){return u.allocUnsafe?u.allocUnsafe(E):new u(E)};f.prototype.toArrayLike=function(u,E,q){this._strip();var H=this.byteLength(),K=q||Math.max(1,H);I(H<=K,"byte array longer than desired length"),I(K>0,"Requested array length <= 0");var G=d(u,K),ie=E==="le"?"LE":"BE";return this["_toArrayLike"+ie](G,H),G},f.prototype._toArrayLikeLE=function(u,E){for(var q=0,H=0,K=0,G=0;K<this.length;K++){var ie=this.words[K]<<G|H;u[q++]=ie&255,q<u.length&&(u[q++]=ie>>8&255),q<u.length&&(u[q++]=ie>>16&255),G===6?(q<u.length&&(u[q++]=ie>>24&255),H=0,G=0):(H=ie>>>24,G+=2)}if(q<u.length)for(u[q++]=H;q<u.length;)u[q++]=0},f.prototype._toArrayLikeBE=function(u,E){for(var q=u.length-1,H=0,K=0,G=0;K<this.length;K++){var ie=this.words[K]<<G|H;u[q--]=ie&255,q>=0&&(u[q--]=ie>>8&255),q>=0&&(u[q--]=ie>>16&255),G===6?(q>=0&&(u[q--]=ie>>24&255),H=0,G=0):(H=ie>>>24,G+=2)}if(q>=0)for(u[q--]=H;q>=0;)u[q--]=0},Math.clz32?f.prototype._countBits=function(u){return 32-Math.clz32(u)}:f.prototype._countBits=function(u){var E=u,q=0;return E>=4096&&(q+=13,E>>>=13),E>=64&&(q+=7,E>>>=7),E>=8&&(q+=4,E>>>=4),E>=2&&(q+=2,E>>>=2),q+E},f.prototype._zeroBits=function(u){if(u===0)return 26;var E=u,q=0;return E&8191||(q+=13,E>>>=13),E&127||(q+=7,E>>>=7),E&15||(q+=4,E>>>=4),E&3||(q+=2,E>>>=2),E&1||q++,q},f.prototype.bitLength=function(){var u=this.words[this.length-1],E=this._countBits(u);return(this.length-1)*26+E};function w(D){for(var u=new Array(D.bitLength()),E=0;E<u.length;E++){var q=E/26|0,H=E%26;u[E]=D.words[q]>>>H&1}return u}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,E=0;E<this.length;E++){var q=this._zeroBits(this.words[E]);if(u+=q,q!==26)break}return u},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},f.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var E=0;E<u.length;E++)this.words[E]=this.words[E]|u.words[E];return this._strip()},f.prototype.ior=function(u){return I((this.negative|u.negative)===0),this.iuor(u)},f.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},f.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},f.prototype.iuand=function(u){var E;this.length>u.length?E=u:E=this;for(var q=0;q<E.length;q++)this.words[q]=this.words[q]&u.words[q];return this.length=E.length,this._strip()},f.prototype.iand=function(u){return I((this.negative|u.negative)===0),this.iuand(u)},f.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},f.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},f.prototype.iuxor=function(u){var E,q;this.length>u.length?(E=this,q=u):(E=u,q=this);for(var H=0;H<q.length;H++)this.words[H]=E.words[H]^q.words[H];if(this!==E)for(;H<E.length;H++)this.words[H]=E.words[H];return this.length=E.length,this._strip()},f.prototype.ixor=function(u){return I((this.negative|u.negative)===0),this.iuxor(u)},f.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},f.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},f.prototype.inotn=function(u){I(typeof u=="number"&&u>=0);var E=Math.ceil(u/26)|0,q=u%26;this._expand(E),q>0&&E--;for(var H=0;H<E;H++)this.words[H]=~this.words[H]&67108863;return q>0&&(this.words[H]=~this.words[H]&67108863>>26-q),this._strip()},f.prototype.notn=function(u){return this.clone().inotn(u)},f.prototype.setn=function(u,E){I(typeof u=="number"&&u>=0);var q=u/26|0,H=u%26;return this._expand(q+1),E?this.words[q]=this.words[q]|1<<H:this.words[q]=this.words[q]&~(1<<H),this._strip()},f.prototype.iadd=function(u){var E;if(this.negative!==0&&u.negative===0)return this.negative=0,E=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,E=this.isub(u),u.negative=1,E._normSign();var q,H;this.length>u.length?(q=this,H=u):(q=u,H=this);for(var K=0,G=0;G<H.length;G++)E=(q.words[G]|0)+(H.words[G]|0)+K,this.words[G]=E&67108863,K=E>>>26;for(;K!==0&&G<q.length;G++)E=(q.words[G]|0)+K,this.words[G]=E&67108863,K=E>>>26;if(this.length=q.length,K!==0)this.words[this.length]=K,this.length++;else if(q!==this)for(;G<q.length;G++)this.words[G]=q.words[G];return this},f.prototype.add=function(u){var E;return u.negative!==0&&this.negative===0?(u.negative=0,E=this.sub(u),u.negative^=1,E):u.negative===0&&this.negative!==0?(this.negative=0,E=u.sub(this),this.negative=1,E):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},f.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var E=this.iadd(u);return u.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var q=this.cmp(u);if(q===0)return this.negative=0,this.length=1,this.words[0]=0,this;var H,K;q>0?(H=this,K=u):(H=u,K=this);for(var G=0,ie=0;ie<K.length;ie++)E=(H.words[ie]|0)-(K.words[ie]|0)+G,G=E>>26,this.words[ie]=E&67108863;for(;G!==0&&ie<H.length;ie++)E=(H.words[ie]|0)+G,G=E>>26,this.words[ie]=E&67108863;if(G===0&&ie<H.length&&H!==this)for(;ie<H.length;ie++)this.words[ie]=H.words[ie];return this.length=Math.max(this.length,ie),H!==this&&(this.negative=1),this._strip()},f.prototype.sub=function(u){return this.clone().isub(u)};function k(D,u,E){E.negative=u.negative^D.negative;var q=D.length+u.length|0;E.length=q,q=q-1|0;var H=D.words[0]|0,K=u.words[0]|0,G=H*K,ie=G&67108863,J=G/67108864|0;E.words[0]=ie;for(var B=1;B<q;B++){for(var ae=J>>>26,Ne=J&67108863,be=Math.min(B,u.length-1),we=Math.max(0,B-D.length+1);we<=be;we++){var Te=B-we|0;H=D.words[Te]|0,K=u.words[we]|0,G=H*K+Ne,ae+=G/67108864|0,Ne=G&67108863}E.words[B]=Ne|0,J=ae|0}return J!==0?E.words[B]=J|0:E.length--,E._strip()}var R=function(u,E,q){var H=u.words,K=E.words,G=q.words,ie=0,J,B,ae,Ne=H[0]|0,be=Ne&8191,we=Ne>>>13,Te=H[1]|0,ee=Te&8191,ne=Te>>>13,me=H[2]|0,ge=me&8191,_e=me>>>13,j=H[3]|0,N=j&8191,se=j>>>13,de=H[4]|0,ue=de&8191,le=de>>>13,pe=H[5]|0,Ae=pe&8191,Fe=pe>>>13,Be=H[6]|0,Ue=Be&8191,He=Be>>>13,Ye=H[7]|0,he=Ye&8191,re=Ye>>>13,ce=H[8]|0,ke=ce&8191,Ie=ce>>>13,Qe=H[9]|0,Oe=Qe&8191,Ke=Qe>>>13,Ot=K[0]|0,st=Ot&8191,lt=Ot>>>13,bt=K[1]|0,vt=bt&8191,yt=bt>>>13,ci=K[2]|0,wt=ci&8191,Tt=ci>>>13,Ii=K[3]|0,It=Ii&8191,zt=Ii>>>13,vn=K[4]|0,Zt=vn&8191,Ct=vn>>>13,ei=K[5]|0,Wt=ei&8191,ti=ei>>>13,Qn=K[6]|0,xe=Qn&8191,Je=Qn>>>13,tt=K[7]|0,ft=tt&8191,gt=tt>>>13,si=K[8]|0,Rt=si&8191,Bt=si>>>13,xt=K[9]|0,pt=xt&8191,St=xt>>>13;q.negative=u.negative^E.negative,q.length=19,J=Math.imul(be,st),B=Math.imul(be,lt),B=B+Math.imul(we,st)|0,ae=Math.imul(we,lt);var Pt=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,J=Math.imul(ee,st),B=Math.imul(ee,lt),B=B+Math.imul(ne,st)|0,ae=Math.imul(ne,lt),J=J+Math.imul(be,vt)|0,B=B+Math.imul(be,yt)|0,B=B+Math.imul(we,vt)|0,ae=ae+Math.imul(we,yt)|0;var di=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(di>>>26)|0,di&=67108863,J=Math.imul(ge,st),B=Math.imul(ge,lt),B=B+Math.imul(_e,st)|0,ae=Math.imul(_e,lt),J=J+Math.imul(ee,vt)|0,B=B+Math.imul(ee,yt)|0,B=B+Math.imul(ne,vt)|0,ae=ae+Math.imul(ne,yt)|0,J=J+Math.imul(be,wt)|0,B=B+Math.imul(be,Tt)|0,B=B+Math.imul(we,wt)|0,ae=ae+Math.imul(we,Tt)|0;var ni=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(ni>>>26)|0,ni&=67108863,J=Math.imul(N,st),B=Math.imul(N,lt),B=B+Math.imul(se,st)|0,ae=Math.imul(se,lt),J=J+Math.imul(ge,vt)|0,B=B+Math.imul(ge,yt)|0,B=B+Math.imul(_e,vt)|0,ae=ae+Math.imul(_e,yt)|0,J=J+Math.imul(ee,wt)|0,B=B+Math.imul(ee,Tt)|0,B=B+Math.imul(ne,wt)|0,ae=ae+Math.imul(ne,Tt)|0,J=J+Math.imul(be,It)|0,B=B+Math.imul(be,zt)|0,B=B+Math.imul(we,It)|0,ae=ae+Math.imul(we,zt)|0;var Ut=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,J=Math.imul(ue,st),B=Math.imul(ue,lt),B=B+Math.imul(le,st)|0,ae=Math.imul(le,lt),J=J+Math.imul(N,vt)|0,B=B+Math.imul(N,yt)|0,B=B+Math.imul(se,vt)|0,ae=ae+Math.imul(se,yt)|0,J=J+Math.imul(ge,wt)|0,B=B+Math.imul(ge,Tt)|0,B=B+Math.imul(_e,wt)|0,ae=ae+Math.imul(_e,Tt)|0,J=J+Math.imul(ee,It)|0,B=B+Math.imul(ee,zt)|0,B=B+Math.imul(ne,It)|0,ae=ae+Math.imul(ne,zt)|0,J=J+Math.imul(be,Zt)|0,B=B+Math.imul(be,Ct)|0,B=B+Math.imul(we,Zt)|0,ae=ae+Math.imul(we,Ct)|0;var Si=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Si>>>26)|0,Si&=67108863,J=Math.imul(Ae,st),B=Math.imul(Ae,lt),B=B+Math.imul(Fe,st)|0,ae=Math.imul(Fe,lt),J=J+Math.imul(ue,vt)|0,B=B+Math.imul(ue,yt)|0,B=B+Math.imul(le,vt)|0,ae=ae+Math.imul(le,yt)|0,J=J+Math.imul(N,wt)|0,B=B+Math.imul(N,Tt)|0,B=B+Math.imul(se,wt)|0,ae=ae+Math.imul(se,Tt)|0,J=J+Math.imul(ge,It)|0,B=B+Math.imul(ge,zt)|0,B=B+Math.imul(_e,It)|0,ae=ae+Math.imul(_e,zt)|0,J=J+Math.imul(ee,Zt)|0,B=B+Math.imul(ee,Ct)|0,B=B+Math.imul(ne,Zt)|0,ae=ae+Math.imul(ne,Ct)|0,J=J+Math.imul(be,Wt)|0,B=B+Math.imul(be,ti)|0,B=B+Math.imul(we,Wt)|0,ae=ae+Math.imul(we,ti)|0;var fi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(fi>>>26)|0,fi&=67108863,J=Math.imul(Ue,st),B=Math.imul(Ue,lt),B=B+Math.imul(He,st)|0,ae=Math.imul(He,lt),J=J+Math.imul(Ae,vt)|0,B=B+Math.imul(Ae,yt)|0,B=B+Math.imul(Fe,vt)|0,ae=ae+Math.imul(Fe,yt)|0,J=J+Math.imul(ue,wt)|0,B=B+Math.imul(ue,Tt)|0,B=B+Math.imul(le,wt)|0,ae=ae+Math.imul(le,Tt)|0,J=J+Math.imul(N,It)|0,B=B+Math.imul(N,zt)|0,B=B+Math.imul(se,It)|0,ae=ae+Math.imul(se,zt)|0,J=J+Math.imul(ge,Zt)|0,B=B+Math.imul(ge,Ct)|0,B=B+Math.imul(_e,Zt)|0,ae=ae+Math.imul(_e,Ct)|0,J=J+Math.imul(ee,Wt)|0,B=B+Math.imul(ee,ti)|0,B=B+Math.imul(ne,Wt)|0,ae=ae+Math.imul(ne,ti)|0,J=J+Math.imul(be,xe)|0,B=B+Math.imul(be,Je)|0,B=B+Math.imul(we,xe)|0,ae=ae+Math.imul(we,Je)|0;var ai=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(ai>>>26)|0,ai&=67108863,J=Math.imul(he,st),B=Math.imul(he,lt),B=B+Math.imul(re,st)|0,ae=Math.imul(re,lt),J=J+Math.imul(Ue,vt)|0,B=B+Math.imul(Ue,yt)|0,B=B+Math.imul(He,vt)|0,ae=ae+Math.imul(He,yt)|0,J=J+Math.imul(Ae,wt)|0,B=B+Math.imul(Ae,Tt)|0,B=B+Math.imul(Fe,wt)|0,ae=ae+Math.imul(Fe,Tt)|0,J=J+Math.imul(ue,It)|0,B=B+Math.imul(ue,zt)|0,B=B+Math.imul(le,It)|0,ae=ae+Math.imul(le,zt)|0,J=J+Math.imul(N,Zt)|0,B=B+Math.imul(N,Ct)|0,B=B+Math.imul(se,Zt)|0,ae=ae+Math.imul(se,Ct)|0,J=J+Math.imul(ge,Wt)|0,B=B+Math.imul(ge,ti)|0,B=B+Math.imul(_e,Wt)|0,ae=ae+Math.imul(_e,ti)|0,J=J+Math.imul(ee,xe)|0,B=B+Math.imul(ee,Je)|0,B=B+Math.imul(ne,xe)|0,ae=ae+Math.imul(ne,Je)|0,J=J+Math.imul(be,ft)|0,B=B+Math.imul(be,gt)|0,B=B+Math.imul(we,ft)|0,ae=ae+Math.imul(we,gt)|0;var Di=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Di>>>26)|0,Di&=67108863,J=Math.imul(ke,st),B=Math.imul(ke,lt),B=B+Math.imul(Ie,st)|0,ae=Math.imul(Ie,lt),J=J+Math.imul(he,vt)|0,B=B+Math.imul(he,yt)|0,B=B+Math.imul(re,vt)|0,ae=ae+Math.imul(re,yt)|0,J=J+Math.imul(Ue,wt)|0,B=B+Math.imul(Ue,Tt)|0,B=B+Math.imul(He,wt)|0,ae=ae+Math.imul(He,Tt)|0,J=J+Math.imul(Ae,It)|0,B=B+Math.imul(Ae,zt)|0,B=B+Math.imul(Fe,It)|0,ae=ae+Math.imul(Fe,zt)|0,J=J+Math.imul(ue,Zt)|0,B=B+Math.imul(ue,Ct)|0,B=B+Math.imul(le,Zt)|0,ae=ae+Math.imul(le,Ct)|0,J=J+Math.imul(N,Wt)|0,B=B+Math.imul(N,ti)|0,B=B+Math.imul(se,Wt)|0,ae=ae+Math.imul(se,ti)|0,J=J+Math.imul(ge,xe)|0,B=B+Math.imul(ge,Je)|0,B=B+Math.imul(_e,xe)|0,ae=ae+Math.imul(_e,Je)|0,J=J+Math.imul(ee,ft)|0,B=B+Math.imul(ee,gt)|0,B=B+Math.imul(ne,ft)|0,ae=ae+Math.imul(ne,gt)|0,J=J+Math.imul(be,Rt)|0,B=B+Math.imul(be,Bt)|0,B=B+Math.imul(we,Rt)|0,ae=ae+Math.imul(we,Bt)|0;var Qi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,J=Math.imul(Oe,st),B=Math.imul(Oe,lt),B=B+Math.imul(Ke,st)|0,ae=Math.imul(Ke,lt),J=J+Math.imul(ke,vt)|0,B=B+Math.imul(ke,yt)|0,B=B+Math.imul(Ie,vt)|0,ae=ae+Math.imul(Ie,yt)|0,J=J+Math.imul(he,wt)|0,B=B+Math.imul(he,Tt)|0,B=B+Math.imul(re,wt)|0,ae=ae+Math.imul(re,Tt)|0,J=J+Math.imul(Ue,It)|0,B=B+Math.imul(Ue,zt)|0,B=B+Math.imul(He,It)|0,ae=ae+Math.imul(He,zt)|0,J=J+Math.imul(Ae,Zt)|0,B=B+Math.imul(Ae,Ct)|0,B=B+Math.imul(Fe,Zt)|0,ae=ae+Math.imul(Fe,Ct)|0,J=J+Math.imul(ue,Wt)|0,B=B+Math.imul(ue,ti)|0,B=B+Math.imul(le,Wt)|0,ae=ae+Math.imul(le,ti)|0,J=J+Math.imul(N,xe)|0,B=B+Math.imul(N,Je)|0,B=B+Math.imul(se,xe)|0,ae=ae+Math.imul(se,Je)|0,J=J+Math.imul(ge,ft)|0,B=B+Math.imul(ge,gt)|0,B=B+Math.imul(_e,ft)|0,ae=ae+Math.imul(_e,gt)|0,J=J+Math.imul(ee,Rt)|0,B=B+Math.imul(ee,Bt)|0,B=B+Math.imul(ne,Rt)|0,ae=ae+Math.imul(ne,Bt)|0,J=J+Math.imul(be,pt)|0,B=B+Math.imul(be,St)|0,B=B+Math.imul(we,pt)|0,ae=ae+Math.imul(we,St)|0;var Yi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,J=Math.imul(Oe,vt),B=Math.imul(Oe,yt),B=B+Math.imul(Ke,vt)|0,ae=Math.imul(Ke,yt),J=J+Math.imul(ke,wt)|0,B=B+Math.imul(ke,Tt)|0,B=B+Math.imul(Ie,wt)|0,ae=ae+Math.imul(Ie,Tt)|0,J=J+Math.imul(he,It)|0,B=B+Math.imul(he,zt)|0,B=B+Math.imul(re,It)|0,ae=ae+Math.imul(re,zt)|0,J=J+Math.imul(Ue,Zt)|0,B=B+Math.imul(Ue,Ct)|0,B=B+Math.imul(He,Zt)|0,ae=ae+Math.imul(He,Ct)|0,J=J+Math.imul(Ae,Wt)|0,B=B+Math.imul(Ae,ti)|0,B=B+Math.imul(Fe,Wt)|0,ae=ae+Math.imul(Fe,ti)|0,J=J+Math.imul(ue,xe)|0,B=B+Math.imul(ue,Je)|0,B=B+Math.imul(le,xe)|0,ae=ae+Math.imul(le,Je)|0,J=J+Math.imul(N,ft)|0,B=B+Math.imul(N,gt)|0,B=B+Math.imul(se,ft)|0,ae=ae+Math.imul(se,gt)|0,J=J+Math.imul(ge,Rt)|0,B=B+Math.imul(ge,Bt)|0,B=B+Math.imul(_e,Rt)|0,ae=ae+Math.imul(_e,Bt)|0,J=J+Math.imul(ee,pt)|0,B=B+Math.imul(ee,St)|0,B=B+Math.imul(ne,pt)|0,ae=ae+Math.imul(ne,St)|0;var Hi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,J=Math.imul(Oe,wt),B=Math.imul(Oe,Tt),B=B+Math.imul(Ke,wt)|0,ae=Math.imul(Ke,Tt),J=J+Math.imul(ke,It)|0,B=B+Math.imul(ke,zt)|0,B=B+Math.imul(Ie,It)|0,ae=ae+Math.imul(Ie,zt)|0,J=J+Math.imul(he,Zt)|0,B=B+Math.imul(he,Ct)|0,B=B+Math.imul(re,Zt)|0,ae=ae+Math.imul(re,Ct)|0,J=J+Math.imul(Ue,Wt)|0,B=B+Math.imul(Ue,ti)|0,B=B+Math.imul(He,Wt)|0,ae=ae+Math.imul(He,ti)|0,J=J+Math.imul(Ae,xe)|0,B=B+Math.imul(Ae,Je)|0,B=B+Math.imul(Fe,xe)|0,ae=ae+Math.imul(Fe,Je)|0,J=J+Math.imul(ue,ft)|0,B=B+Math.imul(ue,gt)|0,B=B+Math.imul(le,ft)|0,ae=ae+Math.imul(le,gt)|0,J=J+Math.imul(N,Rt)|0,B=B+Math.imul(N,Bt)|0,B=B+Math.imul(se,Rt)|0,ae=ae+Math.imul(se,Bt)|0,J=J+Math.imul(ge,pt)|0,B=B+Math.imul(ge,St)|0,B=B+Math.imul(_e,pt)|0,ae=ae+Math.imul(_e,St)|0;var Gi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,J=Math.imul(Oe,It),B=Math.imul(Oe,zt),B=B+Math.imul(Ke,It)|0,ae=Math.imul(Ke,zt),J=J+Math.imul(ke,Zt)|0,B=B+Math.imul(ke,Ct)|0,B=B+Math.imul(Ie,Zt)|0,ae=ae+Math.imul(Ie,Ct)|0,J=J+Math.imul(he,Wt)|0,B=B+Math.imul(he,ti)|0,B=B+Math.imul(re,Wt)|0,ae=ae+Math.imul(re,ti)|0,J=J+Math.imul(Ue,xe)|0,B=B+Math.imul(Ue,Je)|0,B=B+Math.imul(He,xe)|0,ae=ae+Math.imul(He,Je)|0,J=J+Math.imul(Ae,ft)|0,B=B+Math.imul(Ae,gt)|0,B=B+Math.imul(Fe,ft)|0,ae=ae+Math.imul(Fe,gt)|0,J=J+Math.imul(ue,Rt)|0,B=B+Math.imul(ue,Bt)|0,B=B+Math.imul(le,Rt)|0,ae=ae+Math.imul(le,Bt)|0,J=J+Math.imul(N,pt)|0,B=B+Math.imul(N,St)|0,B=B+Math.imul(se,pt)|0,ae=ae+Math.imul(se,St)|0;var Kt=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,J=Math.imul(Oe,Zt),B=Math.imul(Oe,Ct),B=B+Math.imul(Ke,Zt)|0,ae=Math.imul(Ke,Ct),J=J+Math.imul(ke,Wt)|0,B=B+Math.imul(ke,ti)|0,B=B+Math.imul(Ie,Wt)|0,ae=ae+Math.imul(Ie,ti)|0,J=J+Math.imul(he,xe)|0,B=B+Math.imul(he,Je)|0,B=B+Math.imul(re,xe)|0,ae=ae+Math.imul(re,Je)|0,J=J+Math.imul(Ue,ft)|0,B=B+Math.imul(Ue,gt)|0,B=B+Math.imul(He,ft)|0,ae=ae+Math.imul(He,gt)|0,J=J+Math.imul(Ae,Rt)|0,B=B+Math.imul(Ae,Bt)|0,B=B+Math.imul(Fe,Rt)|0,ae=ae+Math.imul(Fe,Bt)|0,J=J+Math.imul(ue,pt)|0,B=B+Math.imul(ue,St)|0,B=B+Math.imul(le,pt)|0,ae=ae+Math.imul(le,St)|0;var oi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(oi>>>26)|0,oi&=67108863,J=Math.imul(Oe,Wt),B=Math.imul(Oe,ti),B=B+Math.imul(Ke,Wt)|0,ae=Math.imul(Ke,ti),J=J+Math.imul(ke,xe)|0,B=B+Math.imul(ke,Je)|0,B=B+Math.imul(Ie,xe)|0,ae=ae+Math.imul(Ie,Je)|0,J=J+Math.imul(he,ft)|0,B=B+Math.imul(he,gt)|0,B=B+Math.imul(re,ft)|0,ae=ae+Math.imul(re,gt)|0,J=J+Math.imul(Ue,Rt)|0,B=B+Math.imul(Ue,Bt)|0,B=B+Math.imul(He,Rt)|0,ae=ae+Math.imul(He,Bt)|0,J=J+Math.imul(Ae,pt)|0,B=B+Math.imul(Ae,St)|0,B=B+Math.imul(Fe,pt)|0,ae=ae+Math.imul(Fe,St)|0;var wi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(wi>>>26)|0,wi&=67108863,J=Math.imul(Oe,xe),B=Math.imul(Oe,Je),B=B+Math.imul(Ke,xe)|0,ae=Math.imul(Ke,Je),J=J+Math.imul(ke,ft)|0,B=B+Math.imul(ke,gt)|0,B=B+Math.imul(Ie,ft)|0,ae=ae+Math.imul(Ie,gt)|0,J=J+Math.imul(he,Rt)|0,B=B+Math.imul(he,Bt)|0,B=B+Math.imul(re,Rt)|0,ae=ae+Math.imul(re,Bt)|0,J=J+Math.imul(Ue,pt)|0,B=B+Math.imul(Ue,St)|0,B=B+Math.imul(He,pt)|0,ae=ae+Math.imul(He,St)|0;var qi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(qi>>>26)|0,qi&=67108863,J=Math.imul(Oe,ft),B=Math.imul(Oe,gt),B=B+Math.imul(Ke,ft)|0,ae=Math.imul(Ke,gt),J=J+Math.imul(ke,Rt)|0,B=B+Math.imul(ke,Bt)|0,B=B+Math.imul(Ie,Rt)|0,ae=ae+Math.imul(Ie,Bt)|0,J=J+Math.imul(he,pt)|0,B=B+Math.imul(he,St)|0,B=B+Math.imul(re,pt)|0,ae=ae+Math.imul(re,St)|0;var hi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(hi>>>26)|0,hi&=67108863,J=Math.imul(Oe,Rt),B=Math.imul(Oe,Bt),B=B+Math.imul(Ke,Rt)|0,ae=Math.imul(Ke,Bt),J=J+Math.imul(ke,pt)|0,B=B+Math.imul(ke,St)|0,B=B+Math.imul(Ie,pt)|0,ae=ae+Math.imul(Ie,St)|0;var Ri=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,J=Math.imul(Oe,pt),B=Math.imul(Oe,St),B=B+Math.imul(Ke,pt)|0,ae=Math.imul(Ke,St);var Vi=(ie+J|0)+((B&8191)<<13)|0;return ie=(ae+(B>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,G[0]=Pt,G[1]=di,G[2]=ni,G[3]=Ut,G[4]=Si,G[5]=fi,G[6]=ai,G[7]=Di,G[8]=Qi,G[9]=Yi,G[10]=Hi,G[11]=Gi,G[12]=Kt,G[13]=oi,G[14]=wi,G[15]=qi,G[16]=hi,G[17]=Ri,G[18]=Vi,ie!==0&&(G[19]=ie,q.length++),q};Math.imul||(R=k);function P(D,u,E){E.negative=u.negative^D.negative,E.length=D.length+u.length;for(var q=0,H=0,K=0;K<E.length-1;K++){var G=H;H=0;for(var ie=q&67108863,J=Math.min(K,u.length-1),B=Math.max(0,K-D.length+1);B<=J;B++){var ae=K-B,Ne=D.words[ae]|0,be=u.words[B]|0,we=Ne*be,Te=we&67108863;G=G+(we/67108864|0)|0,Te=Te+ie|0,ie=Te&67108863,G=G+(Te>>>26)|0,H+=G>>>26,G&=67108863}E.words[K]=ie,q=G,G=H}return q!==0?E.words[K]=q:E.length--,E._strip()}function U(D,u,E){return P(D,u,E)}f.prototype.mulTo=function(u,E){var q,H=this.length+u.length;return this.length===10&&u.length===10?q=R(this,u,E):H<63?q=k(this,u,E):H<1024?q=P(this,u,E):q=U(this,u,E),q};function F(D,u){this.x=D,this.y=u}F.prototype.makeRBT=function(u){for(var E=new Array(u),q=f.prototype._countBits(u)-1,H=0;H<u;H++)E[H]=this.revBin(H,q,u);return E},F.prototype.revBin=function(u,E,q){if(u===0||u===q-1)return u;for(var H=0,K=0;K<E;K++)H|=(u&1)<<E-K-1,u>>=1;return H},F.prototype.permute=function(u,E,q,H,K,G){for(var ie=0;ie<G;ie++)H[ie]=E[u[ie]],K[ie]=q[u[ie]]},F.prototype.transform=function(u,E,q,H,K,G){this.permute(G,u,E,q,H,K);for(var ie=1;ie<K;ie<<=1)for(var J=ie<<1,B=Math.cos(2*Math.PI/J),ae=Math.sin(2*Math.PI/J),Ne=0;Ne<K;Ne+=J)for(var be=B,we=ae,Te=0;Te<ie;Te++){var ee=q[Ne+Te],ne=H[Ne+Te],me=q[Ne+Te+ie],ge=H[Ne+Te+ie],_e=be*me-we*ge;ge=be*ge+we*me,me=_e,q[Ne+Te]=ee+me,H[Ne+Te]=ne+ge,q[Ne+Te+ie]=ee-me,H[Ne+Te+ie]=ne-ge,Te!==J&&(_e=B*be-ae*we,we=B*we+ae*be,be=_e)}},F.prototype.guessLen13b=function(u,E){var q=Math.max(E,u)|1,H=q&1,K=0;for(q=q/2|0;q;q=q>>>1)K++;return 1<<K+1+H},F.prototype.conjugate=function(u,E,q){if(!(q<=1))for(var H=0;H<q/2;H++){var K=u[H];u[H]=u[q-H-1],u[q-H-1]=K,K=E[H],E[H]=-E[q-H-1],E[q-H-1]=-K}},F.prototype.normalize13b=function(u,E){for(var q=0,H=0;H<E/2;H++){var K=Math.round(u[2*H+1]/E)*8192+Math.round(u[2*H]/E)+q;u[H]=K&67108863,K<67108864?q=0:q=K/67108864|0}return u},F.prototype.convert13b=function(u,E,q,H){for(var K=0,G=0;G<E;G++)K=K+(u[G]|0),q[2*G]=K&8191,K=K>>>13,q[2*G+1]=K&8191,K=K>>>13;for(G=2*E;G<H;++G)q[G]=0;I(K===0),I((K&-8192)===0)},F.prototype.stub=function(u){for(var E=new Array(u),q=0;q<u;q++)E[q]=0;return E},F.prototype.mulp=function(u,E,q){var H=2*this.guessLen13b(u.length,E.length),K=this.makeRBT(H),G=this.stub(H),ie=new Array(H),J=new Array(H),B=new Array(H),ae=new Array(H),Ne=new Array(H),be=new Array(H),we=q.words;we.length=H,this.convert13b(u.words,u.length,ie,H),this.convert13b(E.words,E.length,ae,H),this.transform(ie,G,J,B,H,K),this.transform(ae,G,Ne,be,H,K);for(var Te=0;Te<H;Te++){var ee=J[Te]*Ne[Te]-B[Te]*be[Te];B[Te]=J[Te]*be[Te]+B[Te]*Ne[Te],J[Te]=ee}return this.conjugate(J,B,H),this.transform(J,B,we,G,H,K),this.conjugate(we,G,H),this.normalize13b(we,H),q.negative=u.negative^E.negative,q.length=u.length+E.length,q._strip()},f.prototype.mul=function(u){var E=new f(null);return E.words=new Array(this.length+u.length),this.mulTo(u,E)},f.prototype.mulf=function(u){var E=new f(null);return E.words=new Array(this.length+u.length),U(this,u,E)},f.prototype.imul=function(u){return this.clone().mulTo(u,this)},f.prototype.imuln=function(u){var E=u<0;E&&(u=-u),I(typeof u=="number"),I(u<67108864);for(var q=0,H=0;H<this.length;H++){var K=(this.words[H]|0)*u,G=(K&67108863)+(q&67108863);q>>=26,q+=K/67108864|0,q+=G>>>26,this.words[H]=G&67108863}return q!==0&&(this.words[H]=q,this.length++),E?this.ineg():this},f.prototype.muln=function(u){return this.clone().imuln(u)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(u){var E=w(u);if(E.length===0)return new f(1);for(var q=this,H=0;H<E.length&&E[H]===0;H++,q=q.sqr());if(++H<E.length)for(var K=q.sqr();H<E.length;H++,K=K.sqr())E[H]!==0&&(q=q.mul(K));return q},f.prototype.iushln=function(u){I(typeof u=="number"&&u>=0);var E=u%26,q=(u-E)/26,H=67108863>>>26-E<<26-E,K;if(E!==0){var G=0;for(K=0;K<this.length;K++){var ie=this.words[K]&H,J=(this.words[K]|0)-ie<<E;this.words[K]=J|G,G=ie>>>26-E}G&&(this.words[K]=G,this.length++)}if(q!==0){for(K=this.length-1;K>=0;K--)this.words[K+q]=this.words[K];for(K=0;K<q;K++)this.words[K]=0;this.length+=q}return this._strip()},f.prototype.ishln=function(u){return I(this.negative===0),this.iushln(u)},f.prototype.iushrn=function(u,E,q){I(typeof u=="number"&&u>=0);var H;E?H=(E-E%26)/26:H=0;var K=u%26,G=Math.min((u-K)/26,this.length),ie=67108863^67108863>>>K<<K,J=q;if(H-=G,H=Math.max(0,H),J){for(var B=0;B<G;B++)J.words[B]=this.words[B];J.length=G}if(G!==0)if(this.length>G)for(this.length-=G,B=0;B<this.length;B++)this.words[B]=this.words[B+G];else this.words[0]=0,this.length=1;var ae=0;for(B=this.length-1;B>=0&&(ae!==0||B>=H);B--){var Ne=this.words[B]|0;this.words[B]=ae<<26-K|Ne>>>K,ae=Ne&ie}return J&&ae!==0&&(J.words[J.length++]=ae),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},f.prototype.ishrn=function(u,E,q){return I(this.negative===0),this.iushrn(u,E,q)},f.prototype.shln=function(u){return this.clone().ishln(u)},f.prototype.ushln=function(u){return this.clone().iushln(u)},f.prototype.shrn=function(u){return this.clone().ishrn(u)},f.prototype.ushrn=function(u){return this.clone().iushrn(u)},f.prototype.testn=function(u){I(typeof u=="number"&&u>=0);var E=u%26,q=(u-E)/26,H=1<<E;if(this.length<=q)return!1;var K=this.words[q];return!!(K&H)},f.prototype.imaskn=function(u){I(typeof u=="number"&&u>=0);var E=u%26,q=(u-E)/26;if(I(this.negative===0,"imaskn works only with positive numbers"),this.length<=q)return this;if(E!==0&&q++,this.length=Math.min(q,this.length),E!==0){var H=67108863^67108863>>>E<<E;this.words[this.length-1]&=H}return this._strip()},f.prototype.maskn=function(u){return this.clone().imaskn(u)},f.prototype.iaddn=function(u){return I(typeof u=="number"),I(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},f.prototype._iaddn=function(u){this.words[0]+=u;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},f.prototype.isubn=function(u){if(I(typeof u=="number"),I(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},f.prototype.addn=function(u){return this.clone().iaddn(u)},f.prototype.subn=function(u){return this.clone().isubn(u)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(u,E,q){var H=u.length+q,K;this._expand(H);var G,ie=0;for(K=0;K<u.length;K++){G=(this.words[K+q]|0)+ie;var J=(u.words[K]|0)*E;G-=J&67108863,ie=(G>>26)-(J/67108864|0),this.words[K+q]=G&67108863}for(;K<this.length-q;K++)G=(this.words[K+q]|0)+ie,ie=G>>26,this.words[K+q]=G&67108863;if(ie===0)return this._strip();for(I(ie===-1),ie=0,K=0;K<this.length;K++)G=-(this.words[K]|0)+ie,ie=G>>26,this.words[K]=G&67108863;return this.negative=1,this._strip()},f.prototype._wordDiv=function(u,E){var q=this.length-u.length,H=this.clone(),K=u,G=K.words[K.length-1]|0,ie=this._countBits(G);q=26-ie,q!==0&&(K=K.ushln(q),H.iushln(q),G=K.words[K.length-1]|0);var J=H.length-K.length,B;if(E!=="mod"){B=new f(null),B.length=J+1,B.words=new Array(B.length);for(var ae=0;ae<B.length;ae++)B.words[ae]=0}var Ne=H.clone()._ishlnsubmul(K,1,J);Ne.negative===0&&(H=Ne,B&&(B.words[J]=1));for(var be=J-1;be>=0;be--){var we=(H.words[K.length+be]|0)*67108864+(H.words[K.length+be-1]|0);for(we=Math.min(we/G|0,67108863),H._ishlnsubmul(K,we,be);H.negative!==0;)we--,H.negative=0,H._ishlnsubmul(K,1,be),H.isZero()||(H.negative^=1);B&&(B.words[be]=we)}return B&&B._strip(),H._strip(),E!=="div"&&q!==0&&H.iushrn(q),{div:B||null,mod:H}},f.prototype.divmod=function(u,E,q){if(I(!u.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var H,K,G;return this.negative!==0&&u.negative===0?(G=this.neg().divmod(u,E),E!=="mod"&&(H=G.div.neg()),E!=="div"&&(K=G.mod.neg(),q&&K.negative!==0&&K.iadd(u)),{div:H,mod:K}):this.negative===0&&u.negative!==0?(G=this.divmod(u.neg(),E),E!=="mod"&&(H=G.div.neg()),{div:H,mod:G.mod}):this.negative&u.negative?(G=this.neg().divmod(u.neg(),E),E!=="div"&&(K=G.mod.neg(),q&&K.negative!==0&&K.isub(u)),{div:G.div,mod:K}):u.length>this.length||this.cmp(u)<0?{div:new f(0),mod:this}:u.length===1?E==="div"?{div:this.divn(u.words[0]),mod:null}:E==="mod"?{div:null,mod:new f(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new f(this.modrn(u.words[0]))}:this._wordDiv(u,E)},f.prototype.div=function(u){return this.divmod(u,"div",!1).div},f.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},f.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},f.prototype.divRound=function(u){var E=this.divmod(u);if(E.mod.isZero())return E.div;var q=E.div.negative!==0?E.mod.isub(u):E.mod,H=u.ushrn(1),K=u.andln(1),G=q.cmp(H);return G<0||K===1&&G===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},f.prototype.modrn=function(u){var E=u<0;E&&(u=-u),I(u<=67108863);for(var q=(1<<26)%u,H=0,K=this.length-1;K>=0;K--)H=(q*H+(this.words[K]|0))%u;return E?-H:H},f.prototype.modn=function(u){return this.modrn(u)},f.prototype.idivn=function(u){var E=u<0;E&&(u=-u),I(u<=67108863);for(var q=0,H=this.length-1;H>=0;H--){var K=(this.words[H]|0)+q*67108864;this.words[H]=K/u|0,q=K%u}return this._strip(),E?this.ineg():this},f.prototype.divn=function(u){return this.clone().idivn(u)},f.prototype.egcd=function(u){I(u.negative===0),I(!u.isZero());var E=this,q=u.clone();E.negative!==0?E=E.umod(u):E=E.clone();for(var H=new f(1),K=new f(0),G=new f(0),ie=new f(1),J=0;E.isEven()&&q.isEven();)E.iushrn(1),q.iushrn(1),++J;for(var B=q.clone(),ae=E.clone();!E.isZero();){for(var Ne=0,be=1;!(E.words[0]&be)&&Ne<26;++Ne,be<<=1);if(Ne>0)for(E.iushrn(Ne);Ne-- >0;)(H.isOdd()||K.isOdd())&&(H.iadd(B),K.isub(ae)),H.iushrn(1),K.iushrn(1);for(var we=0,Te=1;!(q.words[0]&Te)&&we<26;++we,Te<<=1);if(we>0)for(q.iushrn(we);we-- >0;)(G.isOdd()||ie.isOdd())&&(G.iadd(B),ie.isub(ae)),G.iushrn(1),ie.iushrn(1);E.cmp(q)>=0?(E.isub(q),H.isub(G),K.isub(ie)):(q.isub(E),G.isub(H),ie.isub(K))}return{a:G,b:ie,gcd:q.iushln(J)}},f.prototype._invmp=function(u){I(u.negative===0),I(!u.isZero());var E=this,q=u.clone();E.negative!==0?E=E.umod(u):E=E.clone();for(var H=new f(1),K=new f(0),G=q.clone();E.cmpn(1)>0&&q.cmpn(1)>0;){for(var ie=0,J=1;!(E.words[0]&J)&&ie<26;++ie,J<<=1);if(ie>0)for(E.iushrn(ie);ie-- >0;)H.isOdd()&&H.iadd(G),H.iushrn(1);for(var B=0,ae=1;!(q.words[0]&ae)&&B<26;++B,ae<<=1);if(B>0)for(q.iushrn(B);B-- >0;)K.isOdd()&&K.iadd(G),K.iushrn(1);E.cmp(q)>=0?(E.isub(q),H.isub(K)):(q.isub(E),K.isub(H))}var Ne;return E.cmpn(1)===0?Ne=H:Ne=K,Ne.cmpn(0)<0&&Ne.iadd(u),Ne},f.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var E=this.clone(),q=u.clone();E.negative=0,q.negative=0;for(var H=0;E.isEven()&&q.isEven();H++)E.iushrn(1),q.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;q.isEven();)q.iushrn(1);var K=E.cmp(q);if(K<0){var G=E;E=q,q=G}else if(K===0||q.cmpn(1)===0)break;E.isub(q)}while(!0);return q.iushln(H)},f.prototype.invm=function(u){return this.egcd(u).a.umod(u)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(u){return this.words[0]&u},f.prototype.bincn=function(u){I(typeof u=="number");var E=u%26,q=(u-E)/26,H=1<<E;if(this.length<=q)return this._expand(q+1),this.words[q]|=H,this;for(var K=H,G=q;K!==0&&G<this.length;G++){var ie=this.words[G]|0;ie+=K,K=ie>>>26,ie&=67108863,this.words[G]=ie}return K!==0&&(this.words[G]=K,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(u){var E=u<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this._strip();var q;if(this.length>1)q=1;else{E&&(u=-u),I(u<=67108863,"Number is too big");var H=this.words[0]|0;q=H===u?0:H<u?-1:1}return this.negative!==0?-q|0:q},f.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var E=this.ucmp(u);return this.negative!==0?-E|0:E},f.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var E=0,q=this.length-1;q>=0;q--){var H=this.words[q]|0,K=u.words[q]|0;if(H!==K){H<K?E=-1:H>K&&(E=1);break}}return E},f.prototype.gtn=function(u){return this.cmpn(u)===1},f.prototype.gt=function(u){return this.cmp(u)===1},f.prototype.gten=function(u){return this.cmpn(u)>=0},f.prototype.gte=function(u){return this.cmp(u)>=0},f.prototype.ltn=function(u){return this.cmpn(u)===-1},f.prototype.lt=function(u){return this.cmp(u)===-1},f.prototype.lten=function(u){return this.cmpn(u)<=0},f.prototype.lte=function(u){return this.cmp(u)<=0},f.prototype.eqn=function(u){return this.cmpn(u)===0},f.prototype.eq=function(u){return this.cmp(u)===0},f.red=function(u){return new O(u)},f.prototype.toRed=function(u){return I(!this.red,"Already a number in reduction context"),I(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},f.prototype.fromRed=function(){return I(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(u){return this.red=u,this},f.prototype.forceRed=function(u){return I(!this.red,"Already a number in reduction context"),this._forceRed(u)},f.prototype.redAdd=function(u){return I(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},f.prototype.redIAdd=function(u){return I(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},f.prototype.redSub=function(u){return I(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},f.prototype.redISub=function(u){return I(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},f.prototype.redShl=function(u){return I(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},f.prototype.redMul=function(u){return I(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},f.prototype.redIMul=function(u){return I(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},f.prototype.redSqr=function(){return I(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return I(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return I(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return I(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return I(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(u){return I(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var y={k256:null,p224:null,p192:null,p25519:null};function z(D,u){this.name=D,this.p=new f(u,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var u=new f(null);return u.words=new Array(Math.ceil(this.n/13)),u},z.prototype.ireduce=function(u){var E=u,q;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),q=E.bitLength();while(q>this.n);var H=q<this.n?-1:E.ucmp(this.p);return H===0?(E.words[0]=0,E.length=1):H>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},z.prototype.split=function(u,E){u.iushrn(this.n,0,E)},z.prototype.imulK=function(u){return u.imul(this.k)};function Q(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}C(Q,z),Q.prototype.split=function(u,E){for(var q=4194303,H=Math.min(u.length,9),K=0;K<H;K++)E.words[K]=u.words[K];if(E.length=H,u.length<=9){u.words[0]=0,u.length=1;return}var G=u.words[9];for(E.words[E.length++]=G&q,K=10;K<u.length;K++){var ie=u.words[K]|0;u.words[K-10]=(ie&q)<<4|G>>>22,G=ie}G>>>=22,u.words[K-10]=G,G===0&&u.length>10?u.length-=10:u.length-=9},Q.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var E=0,q=0;q<u.length;q++){var H=u.words[q]|0;E+=H*977,u.words[q]=E&67108863,E=H*64+(E/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function Z(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}C(Z,z);function X(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}C(X,z);function Y(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}C(Y,z),Y.prototype.imulK=function(u){for(var E=0,q=0;q<u.length;q++){var H=(u.words[q]|0)*19+E,K=H&67108863;H>>>=26,u.words[q]=K,E=H}return E!==0&&(u.words[u.length++]=E),u},f._prime=function(u){if(y[u])return y[u];var E;if(u==="k256")E=new Q;else if(u==="p224")E=new Z;else if(u==="p192")E=new X;else if(u==="p25519")E=new Y;else throw new Error("Unknown prime "+u);return y[u]=E,E};function O(D){if(typeof D=="string"){var u=f._prime(D);this.m=u.p,this.prime=u}else I(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}O.prototype._verify1=function(u){I(u.negative===0,"red works only with positives"),I(u.red,"red works only with red numbers")},O.prototype._verify2=function(u,E){I((u.negative|E.negative)===0,"red works only with positives"),I(u.red&&u.red===E.red,"red works only with red numbers")},O.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(b(u,u.umod(this.m)._forceRed(this)),u)},O.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},O.prototype.add=function(u,E){this._verify2(u,E);var q=u.add(E);return q.cmp(this.m)>=0&&q.isub(this.m),q._forceRed(this)},O.prototype.iadd=function(u,E){this._verify2(u,E);var q=u.iadd(E);return q.cmp(this.m)>=0&&q.isub(this.m),q},O.prototype.sub=function(u,E){this._verify2(u,E);var q=u.sub(E);return q.cmpn(0)<0&&q.iadd(this.m),q._forceRed(this)},O.prototype.isub=function(u,E){this._verify2(u,E);var q=u.isub(E);return q.cmpn(0)<0&&q.iadd(this.m),q},O.prototype.shl=function(u,E){return this._verify1(u),this.imod(u.ushln(E))},O.prototype.imul=function(u,E){return this._verify2(u,E),this.imod(u.imul(E))},O.prototype.mul=function(u,E){return this._verify2(u,E),this.imod(u.mul(E))},O.prototype.isqr=function(u){return this.imul(u,u.clone())},O.prototype.sqr=function(u){return this.mul(u,u)},O.prototype.sqrt=function(u){if(u.isZero())return u.clone();var E=this.m.andln(3);if(I(E%2===1),E===3){var q=this.m.add(new f(1)).iushrn(2);return this.pow(u,q)}for(var H=this.m.subn(1),K=0;!H.isZero()&&H.andln(1)===0;)K++,H.iushrn(1);I(!H.isZero());var G=new f(1).toRed(this),ie=G.redNeg(),J=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new f(2*B*B).toRed(this);this.pow(B,J).cmp(ie)!==0;)B.redIAdd(ie);for(var ae=this.pow(B,H),Ne=this.pow(u,H.addn(1).iushrn(1)),be=this.pow(u,H),we=K;be.cmp(G)!==0;){for(var Te=be,ee=0;Te.cmp(G)!==0;ee++)Te=Te.redSqr();I(ee<we);var ne=this.pow(ae,new f(1).iushln(we-ee-1));Ne=Ne.redMul(ne),ae=ne.redSqr(),be=be.redMul(ae),we=ee}return Ne},O.prototype.invm=function(u){var E=u._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},O.prototype.pow=function(u,E){if(E.isZero())return new f(1).toRed(this);if(E.cmpn(1)===0)return u.clone();var q=4,H=new Array(1<<q);H[0]=new f(1).toRed(this),H[1]=u;for(var K=2;K<H.length;K++)H[K]=this.mul(H[K-1],u);var G=H[0],ie=0,J=0,B=E.bitLength()%26;for(B===0&&(B=26),K=E.length-1;K>=0;K--){for(var ae=E.words[K],Ne=B-1;Ne>=0;Ne--){var be=ae>>Ne&1;if(G!==H[0]&&(G=this.sqr(G)),be===0&&ie===0){J=0;continue}ie<<=1,ie|=be,J++,!(J!==q&&(K!==0||Ne!==0))&&(G=this.mul(G,H[ie]),J=0,ie=0)}B=26}return G},O.prototype.convertTo=function(u){var E=u.umod(this.m);return E===u?E.clone():E},O.prototype.convertFrom=function(u){var E=u.clone();return E.red=null,E},f.mont=function(u){return new $(u)};function $(D){O.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}C($,O),$.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},$.prototype.convertFrom=function(u){var E=this.imod(u.mul(this.rinv));return E.red=null,E},$.prototype.imul=function(u,E){if(u.isZero()||E.isZero())return u.words[0]=0,u.length=1,u;var q=u.imul(E),H=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=q.isub(H).iushrn(this.shift),G=K;return K.cmp(this.m)>=0?G=K.isub(this.m):K.cmpn(0)<0&&(G=K.iadd(this.m)),G._forceRed(this)},$.prototype.mul=function(u,E){if(u.isZero()||E.isZero())return new f(0)._forceRed(this);var q=u.mul(E),H=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=q.isub(H).iushrn(this.shift),G=K;return K.cmp(this.m)>=0?G=K.isub(this.m):K.cmpn(0)<0&&(G=K.iadd(this.m)),G._forceRed(this)},$.prototype.invm=function(u){var E=this.imod(u._invmp(this.m).mul(this.r2));return E._forceRed(this)}}(s,this)},55715:(s,V,M)=>{"use strict";s.exports=M(62951)},20:(s,V,M)=>{"use strict";var A=M(92861).Buffer,L=M(47108),I=M(46737),C=M(56698),f=M(35359),h=M(74847),p=M(62951);Object.keys(p).forEach(function(S){p[S].id=A.from(p[S].id,"hex"),p[S.toLowerCase()]=p[S]});function m(S){I.Writable.call(this);var c=p[S];if(!c)throw new Error("Unknown message digest");this._hashType=c.hash,this._hash=L(c.hash),this._tag=c.id,this._signType=c.sign}C(m,I.Writable),m.prototype._write=function(c,g,d){this._hash.update(c),d()},m.prototype.update=function(c,g){return this._hash.update(typeof c=="string"?A.from(c,g):c),this},m.prototype.sign=function(c,g){this.end();var d=this._hash.digest(),w=f(d,c,this._hashType,this._signType,this._tag);return g?w.toString(g):w};function _(S){I.Writable.call(this);var c=p[S];if(!c)throw new Error("Unknown message digest");this._hash=L(c.hash),this._tag=c.id,this._signType=c.sign}C(_,I.Writable),_.prototype._write=function(c,g,d){this._hash.update(c),d()},_.prototype.update=function(c,g){return this._hash.update(typeof c=="string"?A.from(c,g):c),this},_.prototype.verify=function(c,g,d){var w=typeof g=="string"?A.from(g,d):g;this.end();var k=this._hash.digest();return h(w,k,c,this._signType,this._tag)};function b(S){return new m(S)}function l(S){return new _(S)}s.exports={Sign:b,Verify:l,createSign:b,createVerify:l}},35359:(s,V,M)=>{"use strict";var A=M(92861).Buffer,L=M(83507),I=M(67332),C=M(86729).ec,f=M(26162),h=M(78170),p=M(64589),m=1;function _(R,P,U,F,y){var z=h(P);if(z.curve){if(F!=="ecdsa"&&F!=="ecdsa/rsa")throw new Error("wrong private key type");return b(R,z)}else if(z.type==="dsa"){if(F!=="dsa")throw new Error("wrong private key type");return l(R,z,U)}if(F!=="rsa"&&F!=="ecdsa/rsa")throw new Error("wrong private key type");if(P.padding!==void 0&&P.padding!==m)throw new Error("illegal or unsupported padding mode");R=A.concat([y,R]);for(var Q=z.modulus.byteLength(),Z=[0,1];R.length+Z.length+1<Q;)Z.push(255);Z.push(0);for(var X=-1;++X<R.length;)Z.push(R[X]);var Y=I(Z,z);return Y}function b(R,P){var U=p[P.curve.join(".")];if(!U)throw new Error("unknown curve "+P.curve.join("."));var F=new C(U),y=F.keyFromPrivate(P.privateKey),z=y.sign(R);return A.from(z.toDER())}function l(R,P,U){for(var F=P.params.priv_key,y=P.params.p,z=P.params.q,Q=P.params.g,Z=new f(0),X,Y=g(R,z).mod(z),O=!1,$=c(F,z,R,U);O===!1;)X=w(z,$,U),Z=k(Q,X,y,z),O=X.invm(z).imul(Y.add(F.mul(Z))).mod(z),O.cmpn(0)===0&&(O=!1,Z=new f(0));return S(Z,O)}function S(R,P){R=R.toArray(),P=P.toArray(),R[0]&128&&(R=[0].concat(R)),P[0]&128&&(P=[0].concat(P));var U=R.length+P.length+4,F=[48,U,2,R.length];return F=F.concat(R,[2,P.length],P),A.from(F)}function c(R,P,U,F){if(R=A.from(R.toArray()),R.length<P.byteLength()){var y=A.alloc(P.byteLength()-R.length);R=A.concat([y,R])}var z=U.length,Q=d(U,P),Z=A.alloc(z);Z.fill(1);var X=A.alloc(z);return X=L(F,X).update(Z).update(A.from([0])).update(R).update(Q).digest(),Z=L(F,X).update(Z).digest(),X=L(F,X).update(Z).update(A.from([1])).update(R).update(Q).digest(),Z=L(F,X).update(Z).digest(),{k:X,v:Z}}function g(R,P){var U=new f(R),F=(R.length<<3)-P.bitLength();return F>0&&U.ishrn(F),U}function d(R,P){R=g(R,P),R=R.mod(P);var U=A.from(R.toArray());if(U.length<P.byteLength()){var F=A.alloc(P.byteLength()-U.length);U=A.concat([F,U])}return U}function w(R,P,U){var F,y;do{for(F=A.alloc(0);F.length*8<R.bitLength();)P.v=L(U,P.k).update(P.v).digest(),F=A.concat([F,P.v]);y=g(F,R),P.k=L(U,P.k).update(P.v).update(A.from([0])).digest(),P.v=L(U,P.k).update(P.v).digest()}while(y.cmp(R)!==-1);return y}function k(R,P,U,F){return R.toRed(f.mont(U)).redPow(P).fromRed().mod(F)}s.exports=_,s.exports.getKey=c,s.exports.makeKey=w},74847:(s,V,M)=>{"use strict";var A=M(92861).Buffer,L=M(26162),I=M(86729).ec,C=M(78170),f=M(64589);function h(b,l,S,c,g){var d=C(S);if(d.type==="ec"){if(c!=="ecdsa"&&c!=="ecdsa/rsa")throw new Error("wrong public key type");return p(b,l,d)}else if(d.type==="dsa"){if(c!=="dsa")throw new Error("wrong public key type");return m(b,l,d)}if(c!=="rsa"&&c!=="ecdsa/rsa")throw new Error("wrong public key type");l=A.concat([g,l]);for(var w=d.modulus.byteLength(),k=[1],R=0;l.length+k.length+2<w;)k.push(255),R+=1;k.push(0);for(var P=-1;++P<l.length;)k.push(l[P]);k=A.from(k);var U=L.mont(d.modulus);b=new L(b).toRed(U),b=b.redPow(new L(d.publicExponent)),b=A.from(b.fromRed().toArray());var F=R<8?1:0;for(w=Math.min(b.length,k.length),b.length!==k.length&&(F=1),P=-1;++P<w;)F|=b[P]^k[P];return F===0}function p(b,l,S){var c=f[S.data.algorithm.curve.join(".")];if(!c)throw new Error("unknown curve "+S.data.algorithm.curve.join("."));var g=new I(c),d=S.data.subjectPrivateKey.data;return g.verify(l,b,d)}function m(b,l,S){var c=S.data.p,g=S.data.q,d=S.data.g,w=S.data.pub_key,k=C.signature.decode(b,"der"),R=k.s,P=k.r;_(R,g),_(P,g);var U=L.mont(c),F=R.invm(g),y=d.toRed(U).redPow(new L(l).mul(F).mod(g)).fromRed().mul(w.toRed(U).redPow(P.mul(F).mod(g)).fromRed()).mod(c).mod(g);return y.cmp(P)===0}function _(b,l){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(l)>=0)throw new Error("invalid sig")}s.exports=h},26162:function(s,V,M){s=M.nmd(s),function(A,L){"use strict";function I(D,u){if(!D)throw new Error(u||"Assertion failed")}function C(D,u){D.super_=u;var E=function(){};E.prototype=u.prototype,D.prototype=new E,D.prototype.constructor=D}function f(D,u,E){if(f.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((u==="le"||u==="be")&&(E=u,u=10),this._init(D||0,u||10,E||"be"))}typeof A=="object"?A.exports=f:L.BN=f,f.BN=f,f.wordSize=26;var h;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?h=window.Buffer:h=M(38664).Buffer}catch{}f.isBN=function(u){return u instanceof f?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===f.wordSize&&Array.isArray(u.words)},f.max=function(u,E){return u.cmp(E)>0?u:E},f.min=function(u,E){return u.cmp(E)<0?u:E},f.prototype._init=function(u,E,q){if(typeof u=="number")return this._initNumber(u,E,q);if(typeof u=="object")return this._initArray(u,E,q);E==="hex"&&(E=16),I(E===(E|0)&&E>=2&&E<=36),u=u.toString().replace(/\s+/g,"");var H=0;u[0]==="-"&&(H++,this.negative=1),H<u.length&&(E===16?this._parseHex(u,H,q):(this._parseBase(u,E,H),q==="le"&&this._initArray(this.toArray(),E,q)))},f.prototype._initNumber=function(u,E,q){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(I(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),q==="le"&&this._initArray(this.toArray(),E,q)},f.prototype._initArray=function(u,E,q){if(I(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var K,G,ie=0;if(q==="be")for(H=u.length-1,K=0;H>=0;H-=3)G=u[H]|u[H-1]<<8|u[H-2]<<16,this.words[K]|=G<<ie&67108863,this.words[K+1]=G>>>26-ie&67108863,ie+=24,ie>=26&&(ie-=26,K++);else if(q==="le")for(H=0,K=0;H<u.length;H+=3)G=u[H]|u[H+1]<<8|u[H+2]<<16,this.words[K]|=G<<ie&67108863,this.words[K+1]=G>>>26-ie&67108863,ie+=24,ie>=26&&(ie-=26,K++);return this._strip()};function p(D,u){var E=D.charCodeAt(u);if(E>=48&&E<=57)return E-48;if(E>=65&&E<=70)return E-55;if(E>=97&&E<=102)return E-87;I(!1,"Invalid character in "+D)}function m(D,u,E){var q=p(D,E);return E-1>=u&&(q|=p(D,E-1)<<4),q}f.prototype._parseHex=function(u,E,q){this.length=Math.ceil((u.length-E)/6),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var K=0,G=0,ie;if(q==="be")for(H=u.length-1;H>=E;H-=2)ie=m(u,E,H)<<K,this.words[G]|=ie&67108863,K>=18?(K-=18,G+=1,this.words[G]|=ie>>>26):K+=8;else{var J=u.length-E;for(H=J%2===0?E+1:E;H<u.length;H+=2)ie=m(u,E,H)<<K,this.words[G]|=ie&67108863,K>=18?(K-=18,G+=1,this.words[G]|=ie>>>26):K+=8}this._strip()};function _(D,u,E,q){for(var H=0,K=0,G=Math.min(D.length,E),ie=u;ie<G;ie++){var J=D.charCodeAt(ie)-48;H*=q,J>=49?K=J-49+10:J>=17?K=J-17+10:K=J,I(J>=0&&K<q,"Invalid character"),H+=K}return H}f.prototype._parseBase=function(u,E,q){this.words=[0],this.length=1;for(var H=0,K=1;K<=67108863;K*=E)H++;H--,K=K/E|0;for(var G=u.length-q,ie=G%H,J=Math.min(G,G-ie)+q,B=0,ae=q;ae<J;ae+=H)B=_(u,ae,ae+H,E),this.imuln(K),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B);if(ie!==0){var Ne=1;for(B=_(u,ae,u.length,E),ae=0;ae<ie;ae++)Ne*=E;this.imuln(Ne),this.words[0]+B<67108864?this.words[0]+=B:this._iaddn(B)}this._strip()},f.prototype.copy=function(u){u.words=new Array(this.length);for(var E=0;E<this.length;E++)u.words[E]=this.words[E];u.length=this.length,u.negative=this.negative,u.red=this.red};function b(D,u){D.words=u.words,D.length=u.length,D.negative=u.negative,D.red=u.red}if(f.prototype._move=function(u){b(u,this)},f.prototype.clone=function(){var u=new f(null);return this.copy(u),u},f.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},f.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{f.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{f.prototype.inspect=l}else f.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(u,E){u=u||10,E=E|0||1;var q;if(u===16||u==="hex"){q="";for(var H=0,K=0,G=0;G<this.length;G++){var ie=this.words[G],J=((ie<<H|K)&16777215).toString(16);K=ie>>>24-H&16777215,H+=2,H>=26&&(H-=26,G--),K!==0||G!==this.length-1?q=S[6-J.length]+J+q:q=J+q}for(K!==0&&(q=K.toString(16)+q);q.length%E!==0;)q="0"+q;return this.negative!==0&&(q="-"+q),q}if(u===(u|0)&&u>=2&&u<=36){var B=c[u],ae=g[u];q="";var Ne=this.clone();for(Ne.negative=0;!Ne.isZero();){var be=Ne.modrn(ae).toString(u);Ne=Ne.idivn(ae),Ne.isZero()?q=be+q:q=S[B-be.length]+be+q}for(this.isZero()&&(q="0"+q);q.length%E!==0;)q="0"+q;return this.negative!==0&&(q="-"+q),q}I(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&I(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},f.prototype.toJSON=function(){return this.toString(16,2)},h&&(f.prototype.toBuffer=function(u,E){return this.toArrayLike(h,u,E)}),f.prototype.toArray=function(u,E){return this.toArrayLike(Array,u,E)};var d=function(u,E){return u.allocUnsafe?u.allocUnsafe(E):new u(E)};f.prototype.toArrayLike=function(u,E,q){this._strip();var H=this.byteLength(),K=q||Math.max(1,H);I(H<=K,"byte array longer than desired length"),I(K>0,"Requested array length <= 0");var G=d(u,K),ie=E==="le"?"LE":"BE";return this["_toArrayLike"+ie](G,H),G},f.prototype._toArrayLikeLE=function(u,E){for(var q=0,H=0,K=0,G=0;K<this.length;K++){var ie=this.words[K]<<G|H;u[q++]=ie&255,q<u.length&&(u[q++]=ie>>8&255),q<u.length&&(u[q++]=ie>>16&255),G===6?(q<u.length&&(u[q++]=ie>>24&255),H=0,G=0):(H=ie>>>24,G+=2)}if(q<u.length)for(u[q++]=H;q<u.length;)u[q++]=0},f.prototype._toArrayLikeBE=function(u,E){for(var q=u.length-1,H=0,K=0,G=0;K<this.length;K++){var ie=this.words[K]<<G|H;u[q--]=ie&255,q>=0&&(u[q--]=ie>>8&255),q>=0&&(u[q--]=ie>>16&255),G===6?(q>=0&&(u[q--]=ie>>24&255),H=0,G=0):(H=ie>>>24,G+=2)}if(q>=0)for(u[q--]=H;q>=0;)u[q--]=0},Math.clz32?f.prototype._countBits=function(u){return 32-Math.clz32(u)}:f.prototype._countBits=function(u){var E=u,q=0;return E>=4096&&(q+=13,E>>>=13),E>=64&&(q+=7,E>>>=7),E>=8&&(q+=4,E>>>=4),E>=2&&(q+=2,E>>>=2),q+E},f.prototype._zeroBits=function(u){if(u===0)return 26;var E=u,q=0;return E&8191||(q+=13,E>>>=13),E&127||(q+=7,E>>>=7),E&15||(q+=4,E>>>=4),E&3||(q+=2,E>>>=2),E&1||q++,q},f.prototype.bitLength=function(){var u=this.words[this.length-1],E=this._countBits(u);return(this.length-1)*26+E};function w(D){for(var u=new Array(D.bitLength()),E=0;E<u.length;E++){var q=E/26|0,H=E%26;u[E]=D.words[q]>>>H&1}return u}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,E=0;E<this.length;E++){var q=this._zeroBits(this.words[E]);if(u+=q,q!==26)break}return u},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},f.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var E=0;E<u.length;E++)this.words[E]=this.words[E]|u.words[E];return this._strip()},f.prototype.ior=function(u){return I((this.negative|u.negative)===0),this.iuor(u)},f.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},f.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},f.prototype.iuand=function(u){var E;this.length>u.length?E=u:E=this;for(var q=0;q<E.length;q++)this.words[q]=this.words[q]&u.words[q];return this.length=E.length,this._strip()},f.prototype.iand=function(u){return I((this.negative|u.negative)===0),this.iuand(u)},f.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},f.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},f.prototype.iuxor=function(u){var E,q;this.length>u.length?(E=this,q=u):(E=u,q=this);for(var H=0;H<q.length;H++)this.words[H]=E.words[H]^q.words[H];if(this!==E)for(;H<E.length;H++)this.words[H]=E.words[H];return this.length=E.length,this._strip()},f.prototype.ixor=function(u){return I((this.negative|u.negative)===0),this.iuxor(u)},f.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},f.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},f.prototype.inotn=function(u){I(typeof u=="number"&&u>=0);var E=Math.ceil(u/26)|0,q=u%26;this._expand(E),q>0&&E--;for(var H=0;H<E;H++)this.words[H]=~this.words[H]&67108863;return q>0&&(this.words[H]=~this.words[H]&67108863>>26-q),this._strip()},f.prototype.notn=function(u){return this.clone().inotn(u)},f.prototype.setn=function(u,E){I(typeof u=="number"&&u>=0);var q=u/26|0,H=u%26;return this._expand(q+1),E?this.words[q]=this.words[q]|1<<H:this.words[q]=this.words[q]&~(1<<H),this._strip()},f.prototype.iadd=function(u){var E;if(this.negative!==0&&u.negative===0)return this.negative=0,E=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,E=this.isub(u),u.negative=1,E._normSign();var q,H;this.length>u.length?(q=this,H=u):(q=u,H=this);for(var K=0,G=0;G<H.length;G++)E=(q.words[G]|0)+(H.words[G]|0)+K,this.words[G]=E&67108863,K=E>>>26;for(;K!==0&&G<q.length;G++)E=(q.words[G]|0)+K,this.words[G]=E&67108863,K=E>>>26;if(this.length=q.length,K!==0)this.words[this.length]=K,this.length++;else if(q!==this)for(;G<q.length;G++)this.words[G]=q.words[G];return this},f.prototype.add=function(u){var E;return u.negative!==0&&this.negative===0?(u.negative=0,E=this.sub(u),u.negative^=1,E):u.negative===0&&this.negative!==0?(this.negative=0,E=u.sub(this),this.negative=1,E):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},f.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var E=this.iadd(u);return u.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var q=this.cmp(u);if(q===0)return this.negative=0,this.length=1,this.words[0]=0,this;var H,K;q>0?(H=this,K=u):(H=u,K=this);for(var G=0,ie=0;ie<K.length;ie++)E=(H.words[ie]|0)-(K.words[ie]|0)+G,G=E>>26,this.words[ie]=E&67108863;for(;G!==0&&ie<H.length;ie++)E=(H.words[ie]|0)+G,G=E>>26,this.words[ie]=E&67108863;if(G===0&&ie<H.length&&H!==this)for(;ie<H.length;ie++)this.words[ie]=H.words[ie];return this.length=Math.max(this.length,ie),H!==this&&(this.negative=1),this._strip()},f.prototype.sub=function(u){return this.clone().isub(u)};function k(D,u,E){E.negative=u.negative^D.negative;var q=D.length+u.length|0;E.length=q,q=q-1|0;var H=D.words[0]|0,K=u.words[0]|0,G=H*K,ie=G&67108863,J=G/67108864|0;E.words[0]=ie;for(var B=1;B<q;B++){for(var ae=J>>>26,Ne=J&67108863,be=Math.min(B,u.length-1),we=Math.max(0,B-D.length+1);we<=be;we++){var Te=B-we|0;H=D.words[Te]|0,K=u.words[we]|0,G=H*K+Ne,ae+=G/67108864|0,Ne=G&67108863}E.words[B]=Ne|0,J=ae|0}return J!==0?E.words[B]=J|0:E.length--,E._strip()}var R=function(u,E,q){var H=u.words,K=E.words,G=q.words,ie=0,J,B,ae,Ne=H[0]|0,be=Ne&8191,we=Ne>>>13,Te=H[1]|0,ee=Te&8191,ne=Te>>>13,me=H[2]|0,ge=me&8191,_e=me>>>13,j=H[3]|0,N=j&8191,se=j>>>13,de=H[4]|0,ue=de&8191,le=de>>>13,pe=H[5]|0,Ae=pe&8191,Fe=pe>>>13,Be=H[6]|0,Ue=Be&8191,He=Be>>>13,Ye=H[7]|0,he=Ye&8191,re=Ye>>>13,ce=H[8]|0,ke=ce&8191,Ie=ce>>>13,Qe=H[9]|0,Oe=Qe&8191,Ke=Qe>>>13,Ot=K[0]|0,st=Ot&8191,lt=Ot>>>13,bt=K[1]|0,vt=bt&8191,yt=bt>>>13,ci=K[2]|0,wt=ci&8191,Tt=ci>>>13,Ii=K[3]|0,It=Ii&8191,zt=Ii>>>13,vn=K[4]|0,Zt=vn&8191,Ct=vn>>>13,ei=K[5]|0,Wt=ei&8191,ti=ei>>>13,Qn=K[6]|0,xe=Qn&8191,Je=Qn>>>13,tt=K[7]|0,ft=tt&8191,gt=tt>>>13,si=K[8]|0,Rt=si&8191,Bt=si>>>13,xt=K[9]|0,pt=xt&8191,St=xt>>>13;q.negative=u.negative^E.negative,q.length=19,J=Math.imul(be,st),B=Math.imul(be,lt),B=B+Math.imul(we,st)|0,ae=Math.imul(we,lt);var Pt=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,J=Math.imul(ee,st),B=Math.imul(ee,lt),B=B+Math.imul(ne,st)|0,ae=Math.imul(ne,lt),J=J+Math.imul(be,vt)|0,B=B+Math.imul(be,yt)|0,B=B+Math.imul(we,vt)|0,ae=ae+Math.imul(we,yt)|0;var di=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(di>>>26)|0,di&=67108863,J=Math.imul(ge,st),B=Math.imul(ge,lt),B=B+Math.imul(_e,st)|0,ae=Math.imul(_e,lt),J=J+Math.imul(ee,vt)|0,B=B+Math.imul(ee,yt)|0,B=B+Math.imul(ne,vt)|0,ae=ae+Math.imul(ne,yt)|0,J=J+Math.imul(be,wt)|0,B=B+Math.imul(be,Tt)|0,B=B+Math.imul(we,wt)|0,ae=ae+Math.imul(we,Tt)|0;var ni=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(ni>>>26)|0,ni&=67108863,J=Math.imul(N,st),B=Math.imul(N,lt),B=B+Math.imul(se,st)|0,ae=Math.imul(se,lt),J=J+Math.imul(ge,vt)|0,B=B+Math.imul(ge,yt)|0,B=B+Math.imul(_e,vt)|0,ae=ae+Math.imul(_e,yt)|0,J=J+Math.imul(ee,wt)|0,B=B+Math.imul(ee,Tt)|0,B=B+Math.imul(ne,wt)|0,ae=ae+Math.imul(ne,Tt)|0,J=J+Math.imul(be,It)|0,B=B+Math.imul(be,zt)|0,B=B+Math.imul(we,It)|0,ae=ae+Math.imul(we,zt)|0;var Ut=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,J=Math.imul(ue,st),B=Math.imul(ue,lt),B=B+Math.imul(le,st)|0,ae=Math.imul(le,lt),J=J+Math.imul(N,vt)|0,B=B+Math.imul(N,yt)|0,B=B+Math.imul(se,vt)|0,ae=ae+Math.imul(se,yt)|0,J=J+Math.imul(ge,wt)|0,B=B+Math.imul(ge,Tt)|0,B=B+Math.imul(_e,wt)|0,ae=ae+Math.imul(_e,Tt)|0,J=J+Math.imul(ee,It)|0,B=B+Math.imul(ee,zt)|0,B=B+Math.imul(ne,It)|0,ae=ae+Math.imul(ne,zt)|0,J=J+Math.imul(be,Zt)|0,B=B+Math.imul(be,Ct)|0,B=B+Math.imul(we,Zt)|0,ae=ae+Math.imul(we,Ct)|0;var Si=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Si>>>26)|0,Si&=67108863,J=Math.imul(Ae,st),B=Math.imul(Ae,lt),B=B+Math.imul(Fe,st)|0,ae=Math.imul(Fe,lt),J=J+Math.imul(ue,vt)|0,B=B+Math.imul(ue,yt)|0,B=B+Math.imul(le,vt)|0,ae=ae+Math.imul(le,yt)|0,J=J+Math.imul(N,wt)|0,B=B+Math.imul(N,Tt)|0,B=B+Math.imul(se,wt)|0,ae=ae+Math.imul(se,Tt)|0,J=J+Math.imul(ge,It)|0,B=B+Math.imul(ge,zt)|0,B=B+Math.imul(_e,It)|0,ae=ae+Math.imul(_e,zt)|0,J=J+Math.imul(ee,Zt)|0,B=B+Math.imul(ee,Ct)|0,B=B+Math.imul(ne,Zt)|0,ae=ae+Math.imul(ne,Ct)|0,J=J+Math.imul(be,Wt)|0,B=B+Math.imul(be,ti)|0,B=B+Math.imul(we,Wt)|0,ae=ae+Math.imul(we,ti)|0;var fi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(fi>>>26)|0,fi&=67108863,J=Math.imul(Ue,st),B=Math.imul(Ue,lt),B=B+Math.imul(He,st)|0,ae=Math.imul(He,lt),J=J+Math.imul(Ae,vt)|0,B=B+Math.imul(Ae,yt)|0,B=B+Math.imul(Fe,vt)|0,ae=ae+Math.imul(Fe,yt)|0,J=J+Math.imul(ue,wt)|0,B=B+Math.imul(ue,Tt)|0,B=B+Math.imul(le,wt)|0,ae=ae+Math.imul(le,Tt)|0,J=J+Math.imul(N,It)|0,B=B+Math.imul(N,zt)|0,B=B+Math.imul(se,It)|0,ae=ae+Math.imul(se,zt)|0,J=J+Math.imul(ge,Zt)|0,B=B+Math.imul(ge,Ct)|0,B=B+Math.imul(_e,Zt)|0,ae=ae+Math.imul(_e,Ct)|0,J=J+Math.imul(ee,Wt)|0,B=B+Math.imul(ee,ti)|0,B=B+Math.imul(ne,Wt)|0,ae=ae+Math.imul(ne,ti)|0,J=J+Math.imul(be,xe)|0,B=B+Math.imul(be,Je)|0,B=B+Math.imul(we,xe)|0,ae=ae+Math.imul(we,Je)|0;var ai=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(ai>>>26)|0,ai&=67108863,J=Math.imul(he,st),B=Math.imul(he,lt),B=B+Math.imul(re,st)|0,ae=Math.imul(re,lt),J=J+Math.imul(Ue,vt)|0,B=B+Math.imul(Ue,yt)|0,B=B+Math.imul(He,vt)|0,ae=ae+Math.imul(He,yt)|0,J=J+Math.imul(Ae,wt)|0,B=B+Math.imul(Ae,Tt)|0,B=B+Math.imul(Fe,wt)|0,ae=ae+Math.imul(Fe,Tt)|0,J=J+Math.imul(ue,It)|0,B=B+Math.imul(ue,zt)|0,B=B+Math.imul(le,It)|0,ae=ae+Math.imul(le,zt)|0,J=J+Math.imul(N,Zt)|0,B=B+Math.imul(N,Ct)|0,B=B+Math.imul(se,Zt)|0,ae=ae+Math.imul(se,Ct)|0,J=J+Math.imul(ge,Wt)|0,B=B+Math.imul(ge,ti)|0,B=B+Math.imul(_e,Wt)|0,ae=ae+Math.imul(_e,ti)|0,J=J+Math.imul(ee,xe)|0,B=B+Math.imul(ee,Je)|0,B=B+Math.imul(ne,xe)|0,ae=ae+Math.imul(ne,Je)|0,J=J+Math.imul(be,ft)|0,B=B+Math.imul(be,gt)|0,B=B+Math.imul(we,ft)|0,ae=ae+Math.imul(we,gt)|0;var Di=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Di>>>26)|0,Di&=67108863,J=Math.imul(ke,st),B=Math.imul(ke,lt),B=B+Math.imul(Ie,st)|0,ae=Math.imul(Ie,lt),J=J+Math.imul(he,vt)|0,B=B+Math.imul(he,yt)|0,B=B+Math.imul(re,vt)|0,ae=ae+Math.imul(re,yt)|0,J=J+Math.imul(Ue,wt)|0,B=B+Math.imul(Ue,Tt)|0,B=B+Math.imul(He,wt)|0,ae=ae+Math.imul(He,Tt)|0,J=J+Math.imul(Ae,It)|0,B=B+Math.imul(Ae,zt)|0,B=B+Math.imul(Fe,It)|0,ae=ae+Math.imul(Fe,zt)|0,J=J+Math.imul(ue,Zt)|0,B=B+Math.imul(ue,Ct)|0,B=B+Math.imul(le,Zt)|0,ae=ae+Math.imul(le,Ct)|0,J=J+Math.imul(N,Wt)|0,B=B+Math.imul(N,ti)|0,B=B+Math.imul(se,Wt)|0,ae=ae+Math.imul(se,ti)|0,J=J+Math.imul(ge,xe)|0,B=B+Math.imul(ge,Je)|0,B=B+Math.imul(_e,xe)|0,ae=ae+Math.imul(_e,Je)|0,J=J+Math.imul(ee,ft)|0,B=B+Math.imul(ee,gt)|0,B=B+Math.imul(ne,ft)|0,ae=ae+Math.imul(ne,gt)|0,J=J+Math.imul(be,Rt)|0,B=B+Math.imul(be,Bt)|0,B=B+Math.imul(we,Rt)|0,ae=ae+Math.imul(we,Bt)|0;var Qi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,J=Math.imul(Oe,st),B=Math.imul(Oe,lt),B=B+Math.imul(Ke,st)|0,ae=Math.imul(Ke,lt),J=J+Math.imul(ke,vt)|0,B=B+Math.imul(ke,yt)|0,B=B+Math.imul(Ie,vt)|0,ae=ae+Math.imul(Ie,yt)|0,J=J+Math.imul(he,wt)|0,B=B+Math.imul(he,Tt)|0,B=B+Math.imul(re,wt)|0,ae=ae+Math.imul(re,Tt)|0,J=J+Math.imul(Ue,It)|0,B=B+Math.imul(Ue,zt)|0,B=B+Math.imul(He,It)|0,ae=ae+Math.imul(He,zt)|0,J=J+Math.imul(Ae,Zt)|0,B=B+Math.imul(Ae,Ct)|0,B=B+Math.imul(Fe,Zt)|0,ae=ae+Math.imul(Fe,Ct)|0,J=J+Math.imul(ue,Wt)|0,B=B+Math.imul(ue,ti)|0,B=B+Math.imul(le,Wt)|0,ae=ae+Math.imul(le,ti)|0,J=J+Math.imul(N,xe)|0,B=B+Math.imul(N,Je)|0,B=B+Math.imul(se,xe)|0,ae=ae+Math.imul(se,Je)|0,J=J+Math.imul(ge,ft)|0,B=B+Math.imul(ge,gt)|0,B=B+Math.imul(_e,ft)|0,ae=ae+Math.imul(_e,gt)|0,J=J+Math.imul(ee,Rt)|0,B=B+Math.imul(ee,Bt)|0,B=B+Math.imul(ne,Rt)|0,ae=ae+Math.imul(ne,Bt)|0,J=J+Math.imul(be,pt)|0,B=B+Math.imul(be,St)|0,B=B+Math.imul(we,pt)|0,ae=ae+Math.imul(we,St)|0;var Yi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Yi>>>26)|0,Yi&=67108863,J=Math.imul(Oe,vt),B=Math.imul(Oe,yt),B=B+Math.imul(Ke,vt)|0,ae=Math.imul(Ke,yt),J=J+Math.imul(ke,wt)|0,B=B+Math.imul(ke,Tt)|0,B=B+Math.imul(Ie,wt)|0,ae=ae+Math.imul(Ie,Tt)|0,J=J+Math.imul(he,It)|0,B=B+Math.imul(he,zt)|0,B=B+Math.imul(re,It)|0,ae=ae+Math.imul(re,zt)|0,J=J+Math.imul(Ue,Zt)|0,B=B+Math.imul(Ue,Ct)|0,B=B+Math.imul(He,Zt)|0,ae=ae+Math.imul(He,Ct)|0,J=J+Math.imul(Ae,Wt)|0,B=B+Math.imul(Ae,ti)|0,B=B+Math.imul(Fe,Wt)|0,ae=ae+Math.imul(Fe,ti)|0,J=J+Math.imul(ue,xe)|0,B=B+Math.imul(ue,Je)|0,B=B+Math.imul(le,xe)|0,ae=ae+Math.imul(le,Je)|0,J=J+Math.imul(N,ft)|0,B=B+Math.imul(N,gt)|0,B=B+Math.imul(se,ft)|0,ae=ae+Math.imul(se,gt)|0,J=J+Math.imul(ge,Rt)|0,B=B+Math.imul(ge,Bt)|0,B=B+Math.imul(_e,Rt)|0,ae=ae+Math.imul(_e,Bt)|0,J=J+Math.imul(ee,pt)|0,B=B+Math.imul(ee,St)|0,B=B+Math.imul(ne,pt)|0,ae=ae+Math.imul(ne,St)|0;var Hi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,J=Math.imul(Oe,wt),B=Math.imul(Oe,Tt),B=B+Math.imul(Ke,wt)|0,ae=Math.imul(Ke,Tt),J=J+Math.imul(ke,It)|0,B=B+Math.imul(ke,zt)|0,B=B+Math.imul(Ie,It)|0,ae=ae+Math.imul(Ie,zt)|0,J=J+Math.imul(he,Zt)|0,B=B+Math.imul(he,Ct)|0,B=B+Math.imul(re,Zt)|0,ae=ae+Math.imul(re,Ct)|0,J=J+Math.imul(Ue,Wt)|0,B=B+Math.imul(Ue,ti)|0,B=B+Math.imul(He,Wt)|0,ae=ae+Math.imul(He,ti)|0,J=J+Math.imul(Ae,xe)|0,B=B+Math.imul(Ae,Je)|0,B=B+Math.imul(Fe,xe)|0,ae=ae+Math.imul(Fe,Je)|0,J=J+Math.imul(ue,ft)|0,B=B+Math.imul(ue,gt)|0,B=B+Math.imul(le,ft)|0,ae=ae+Math.imul(le,gt)|0,J=J+Math.imul(N,Rt)|0,B=B+Math.imul(N,Bt)|0,B=B+Math.imul(se,Rt)|0,ae=ae+Math.imul(se,Bt)|0,J=J+Math.imul(ge,pt)|0,B=B+Math.imul(ge,St)|0,B=B+Math.imul(_e,pt)|0,ae=ae+Math.imul(_e,St)|0;var Gi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Gi>>>26)|0,Gi&=67108863,J=Math.imul(Oe,It),B=Math.imul(Oe,zt),B=B+Math.imul(Ke,It)|0,ae=Math.imul(Ke,zt),J=J+Math.imul(ke,Zt)|0,B=B+Math.imul(ke,Ct)|0,B=B+Math.imul(Ie,Zt)|0,ae=ae+Math.imul(Ie,Ct)|0,J=J+Math.imul(he,Wt)|0,B=B+Math.imul(he,ti)|0,B=B+Math.imul(re,Wt)|0,ae=ae+Math.imul(re,ti)|0,J=J+Math.imul(Ue,xe)|0,B=B+Math.imul(Ue,Je)|0,B=B+Math.imul(He,xe)|0,ae=ae+Math.imul(He,Je)|0,J=J+Math.imul(Ae,ft)|0,B=B+Math.imul(Ae,gt)|0,B=B+Math.imul(Fe,ft)|0,ae=ae+Math.imul(Fe,gt)|0,J=J+Math.imul(ue,Rt)|0,B=B+Math.imul(ue,Bt)|0,B=B+Math.imul(le,Rt)|0,ae=ae+Math.imul(le,Bt)|0,J=J+Math.imul(N,pt)|0,B=B+Math.imul(N,St)|0,B=B+Math.imul(se,pt)|0,ae=ae+Math.imul(se,St)|0;var Kt=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,J=Math.imul(Oe,Zt),B=Math.imul(Oe,Ct),B=B+Math.imul(Ke,Zt)|0,ae=Math.imul(Ke,Ct),J=J+Math.imul(ke,Wt)|0,B=B+Math.imul(ke,ti)|0,B=B+Math.imul(Ie,Wt)|0,ae=ae+Math.imul(Ie,ti)|0,J=J+Math.imul(he,xe)|0,B=B+Math.imul(he,Je)|0,B=B+Math.imul(re,xe)|0,ae=ae+Math.imul(re,Je)|0,J=J+Math.imul(Ue,ft)|0,B=B+Math.imul(Ue,gt)|0,B=B+Math.imul(He,ft)|0,ae=ae+Math.imul(He,gt)|0,J=J+Math.imul(Ae,Rt)|0,B=B+Math.imul(Ae,Bt)|0,B=B+Math.imul(Fe,Rt)|0,ae=ae+Math.imul(Fe,Bt)|0,J=J+Math.imul(ue,pt)|0,B=B+Math.imul(ue,St)|0,B=B+Math.imul(le,pt)|0,ae=ae+Math.imul(le,St)|0;var oi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(oi>>>26)|0,oi&=67108863,J=Math.imul(Oe,Wt),B=Math.imul(Oe,ti),B=B+Math.imul(Ke,Wt)|0,ae=Math.imul(Ke,ti),J=J+Math.imul(ke,xe)|0,B=B+Math.imul(ke,Je)|0,B=B+Math.imul(Ie,xe)|0,ae=ae+Math.imul(Ie,Je)|0,J=J+Math.imul(he,ft)|0,B=B+Math.imul(he,gt)|0,B=B+Math.imul(re,ft)|0,ae=ae+Math.imul(re,gt)|0,J=J+Math.imul(Ue,Rt)|0,B=B+Math.imul(Ue,Bt)|0,B=B+Math.imul(He,Rt)|0,ae=ae+Math.imul(He,Bt)|0,J=J+Math.imul(Ae,pt)|0,B=B+Math.imul(Ae,St)|0,B=B+Math.imul(Fe,pt)|0,ae=ae+Math.imul(Fe,St)|0;var wi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(wi>>>26)|0,wi&=67108863,J=Math.imul(Oe,xe),B=Math.imul(Oe,Je),B=B+Math.imul(Ke,xe)|0,ae=Math.imul(Ke,Je),J=J+Math.imul(ke,ft)|0,B=B+Math.imul(ke,gt)|0,B=B+Math.imul(Ie,ft)|0,ae=ae+Math.imul(Ie,gt)|0,J=J+Math.imul(he,Rt)|0,B=B+Math.imul(he,Bt)|0,B=B+Math.imul(re,Rt)|0,ae=ae+Math.imul(re,Bt)|0,J=J+Math.imul(Ue,pt)|0,B=B+Math.imul(Ue,St)|0,B=B+Math.imul(He,pt)|0,ae=ae+Math.imul(He,St)|0;var qi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(qi>>>26)|0,qi&=67108863,J=Math.imul(Oe,ft),B=Math.imul(Oe,gt),B=B+Math.imul(Ke,ft)|0,ae=Math.imul(Ke,gt),J=J+Math.imul(ke,Rt)|0,B=B+Math.imul(ke,Bt)|0,B=B+Math.imul(Ie,Rt)|0,ae=ae+Math.imul(Ie,Bt)|0,J=J+Math.imul(he,pt)|0,B=B+Math.imul(he,St)|0,B=B+Math.imul(re,pt)|0,ae=ae+Math.imul(re,St)|0;var hi=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(hi>>>26)|0,hi&=67108863,J=Math.imul(Oe,Rt),B=Math.imul(Oe,Bt),B=B+Math.imul(Ke,Rt)|0,ae=Math.imul(Ke,Bt),J=J+Math.imul(ke,pt)|0,B=B+Math.imul(ke,St)|0,B=B+Math.imul(Ie,pt)|0,ae=ae+Math.imul(Ie,St)|0;var Ri=(ie+J|0)+((B&8191)<<13)|0;ie=(ae+(B>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,J=Math.imul(Oe,pt),B=Math.imul(Oe,St),B=B+Math.imul(Ke,pt)|0,ae=Math.imul(Ke,St);var Vi=(ie+J|0)+((B&8191)<<13)|0;return ie=(ae+(B>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,G[0]=Pt,G[1]=di,G[2]=ni,G[3]=Ut,G[4]=Si,G[5]=fi,G[6]=ai,G[7]=Di,G[8]=Qi,G[9]=Yi,G[10]=Hi,G[11]=Gi,G[12]=Kt,G[13]=oi,G[14]=wi,G[15]=qi,G[16]=hi,G[17]=Ri,G[18]=Vi,ie!==0&&(G[19]=ie,q.length++),q};Math.imul||(R=k);function P(D,u,E){E.negative=u.negative^D.negative,E.length=D.length+u.length;for(var q=0,H=0,K=0;K<E.length-1;K++){var G=H;H=0;for(var ie=q&67108863,J=Math.min(K,u.length-1),B=Math.max(0,K-D.length+1);B<=J;B++){var ae=K-B,Ne=D.words[ae]|0,be=u.words[B]|0,we=Ne*be,Te=we&67108863;G=G+(we/67108864|0)|0,Te=Te+ie|0,ie=Te&67108863,G=G+(Te>>>26)|0,H+=G>>>26,G&=67108863}E.words[K]=ie,q=G,G=H}return q!==0?E.words[K]=q:E.length--,E._strip()}function U(D,u,E){return P(D,u,E)}f.prototype.mulTo=function(u,E){var q,H=this.length+u.length;return this.length===10&&u.length===10?q=R(this,u,E):H<63?q=k(this,u,E):H<1024?q=P(this,u,E):q=U(this,u,E),q};function F(D,u){this.x=D,this.y=u}F.prototype.makeRBT=function(u){for(var E=new Array(u),q=f.prototype._countBits(u)-1,H=0;H<u;H++)E[H]=this.revBin(H,q,u);return E},F.prototype.revBin=function(u,E,q){if(u===0||u===q-1)return u;for(var H=0,K=0;K<E;K++)H|=(u&1)<<E-K-1,u>>=1;return H},F.prototype.permute=function(u,E,q,H,K,G){for(var ie=0;ie<G;ie++)H[ie]=E[u[ie]],K[ie]=q[u[ie]]},F.prototype.transform=function(u,E,q,H,K,G){this.permute(G,u,E,q,H,K);for(var ie=1;ie<K;ie<<=1)for(var J=ie<<1,B=Math.cos(2*Math.PI/J),ae=Math.sin(2*Math.PI/J),Ne=0;Ne<K;Ne+=J)for(var be=B,we=ae,Te=0;Te<ie;Te++){var ee=q[Ne+Te],ne=H[Ne+Te],me=q[Ne+Te+ie],ge=H[Ne+Te+ie],_e=be*me-we*ge;ge=be*ge+we*me,me=_e,q[Ne+Te]=ee+me,H[Ne+Te]=ne+ge,q[Ne+Te+ie]=ee-me,H[Ne+Te+ie]=ne-ge,Te!==J&&(_e=B*be-ae*we,we=B*we+ae*be,be=_e)}},F.prototype.guessLen13b=function(u,E){var q=Math.max(E,u)|1,H=q&1,K=0;for(q=q/2|0;q;q=q>>>1)K++;return 1<<K+1+H},F.prototype.conjugate=function(u,E,q){if(!(q<=1))for(var H=0;H<q/2;H++){var K=u[H];u[H]=u[q-H-1],u[q-H-1]=K,K=E[H],E[H]=-E[q-H-1],E[q-H-1]=-K}},F.prototype.normalize13b=function(u,E){for(var q=0,H=0;H<E/2;H++){var K=Math.round(u[2*H+1]/E)*8192+Math.round(u[2*H]/E)+q;u[H]=K&67108863,K<67108864?q=0:q=K/67108864|0}return u},F.prototype.convert13b=function(u,E,q,H){for(var K=0,G=0;G<E;G++)K=K+(u[G]|0),q[2*G]=K&8191,K=K>>>13,q[2*G+1]=K&8191,K=K>>>13;for(G=2*E;G<H;++G)q[G]=0;I(K===0),I((K&-8192)===0)},F.prototype.stub=function(u){for(var E=new Array(u),q=0;q<u;q++)E[q]=0;return E},F.prototype.mulp=function(u,E,q){var H=2*this.guessLen13b(u.length,E.length),K=this.makeRBT(H),G=this.stub(H),ie=new Array(H),J=new Array(H),B=new Array(H),ae=new Array(H),Ne=new Array(H),be=new Array(H),we=q.words;we.length=H,this.convert13b(u.words,u.length,ie,H),this.convert13b(E.words,E.length,ae,H),this.transform(ie,G,J,B,H,K),this.transform(ae,G,Ne,be,H,K);for(var Te=0;Te<H;Te++){var ee=J[Te]*Ne[Te]-B[Te]*be[Te];B[Te]=J[Te]*be[Te]+B[Te]*Ne[Te],J[Te]=ee}return this.conjugate(J,B,H),this.transform(J,B,we,G,H,K),this.conjugate(we,G,H),this.normalize13b(we,H),q.negative=u.negative^E.negative,q.length=u.length+E.length,q._strip()},f.prototype.mul=function(u){var E=new f(null);return E.words=new Array(this.length+u.length),this.mulTo(u,E)},f.prototype.mulf=function(u){var E=new f(null);return E.words=new Array(this.length+u.length),U(this,u,E)},f.prototype.imul=function(u){return this.clone().mulTo(u,this)},f.prototype.imuln=function(u){var E=u<0;E&&(u=-u),I(typeof u=="number"),I(u<67108864);for(var q=0,H=0;H<this.length;H++){var K=(this.words[H]|0)*u,G=(K&67108863)+(q&67108863);q>>=26,q+=K/67108864|0,q+=G>>>26,this.words[H]=G&67108863}return q!==0&&(this.words[H]=q,this.length++),E?this.ineg():this},f.prototype.muln=function(u){return this.clone().imuln(u)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(u){var E=w(u);if(E.length===0)return new f(1);for(var q=this,H=0;H<E.length&&E[H]===0;H++,q=q.sqr());if(++H<E.length)for(var K=q.sqr();H<E.length;H++,K=K.sqr())E[H]!==0&&(q=q.mul(K));return q},f.prototype.iushln=function(u){I(typeof u=="number"&&u>=0);var E=u%26,q=(u-E)/26,H=67108863>>>26-E<<26-E,K;if(E!==0){var G=0;for(K=0;K<this.length;K++){var ie=this.words[K]&H,J=(this.words[K]|0)-ie<<E;this.words[K]=J|G,G=ie>>>26-E}G&&(this.words[K]=G,this.length++)}if(q!==0){for(K=this.length-1;K>=0;K--)this.words[K+q]=this.words[K];for(K=0;K<q;K++)this.words[K]=0;this.length+=q}return this._strip()},f.prototype.ishln=function(u){return I(this.negative===0),this.iushln(u)},f.prototype.iushrn=function(u,E,q){I(typeof u=="number"&&u>=0);var H;E?H=(E-E%26)/26:H=0;var K=u%26,G=Math.min((u-K)/26,this.length),ie=67108863^67108863>>>K<<K,J=q;if(H-=G,H=Math.max(0,H),J){for(var B=0;B<G;B++)J.words[B]=this.words[B];J.length=G}if(G!==0)if(this.length>G)for(this.length-=G,B=0;B<this.length;B++)this.words[B]=this.words[B+G];else this.words[0]=0,this.length=1;var ae=0;for(B=this.length-1;B>=0&&(ae!==0||B>=H);B--){var Ne=this.words[B]|0;this.words[B]=ae<<26-K|Ne>>>K,ae=Ne&ie}return J&&ae!==0&&(J.words[J.length++]=ae),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},f.prototype.ishrn=function(u,E,q){return I(this.negative===0),this.iushrn(u,E,q)},f.prototype.shln=function(u){return this.clone().ishln(u)},f.prototype.ushln=function(u){return this.clone().iushln(u)},f.prototype.shrn=function(u){return this.clone().ishrn(u)},f.prototype.ushrn=function(u){return this.clone().iushrn(u)},f.prototype.testn=function(u){I(typeof u=="number"&&u>=0);var E=u%26,q=(u-E)/26,H=1<<E;if(this.length<=q)return!1;var K=this.words[q];return!!(K&H)},f.prototype.imaskn=function(u){I(typeof u=="number"&&u>=0);var E=u%26,q=(u-E)/26;if(I(this.negative===0,"imaskn works only with positive numbers"),this.length<=q)return this;if(E!==0&&q++,this.length=Math.min(q,this.length),E!==0){var H=67108863^67108863>>>E<<E;this.words[this.length-1]&=H}return this._strip()},f.prototype.maskn=function(u){return this.clone().imaskn(u)},f.prototype.iaddn=function(u){return I(typeof u=="number"),I(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},f.prototype._iaddn=function(u){this.words[0]+=u;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},f.prototype.isubn=function(u){if(I(typeof u=="number"),I(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},f.prototype.addn=function(u){return this.clone().iaddn(u)},f.prototype.subn=function(u){return this.clone().isubn(u)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(u,E,q){var H=u.length+q,K;this._expand(H);var G,ie=0;for(K=0;K<u.length;K++){G=(this.words[K+q]|0)+ie;var J=(u.words[K]|0)*E;G-=J&67108863,ie=(G>>26)-(J/67108864|0),this.words[K+q]=G&67108863}for(;K<this.length-q;K++)G=(this.words[K+q]|0)+ie,ie=G>>26,this.words[K+q]=G&67108863;if(ie===0)return this._strip();for(I(ie===-1),ie=0,K=0;K<this.length;K++)G=-(this.words[K]|0)+ie,ie=G>>26,this.words[K]=G&67108863;return this.negative=1,this._strip()},f.prototype._wordDiv=function(u,E){var q=this.length-u.length,H=this.clone(),K=u,G=K.words[K.length-1]|0,ie=this._countBits(G);q=26-ie,q!==0&&(K=K.ushln(q),H.iushln(q),G=K.words[K.length-1]|0);var J=H.length-K.length,B;if(E!=="mod"){B=new f(null),B.length=J+1,B.words=new Array(B.length);for(var ae=0;ae<B.length;ae++)B.words[ae]=0}var Ne=H.clone()._ishlnsubmul(K,1,J);Ne.negative===0&&(H=Ne,B&&(B.words[J]=1));for(var be=J-1;be>=0;be--){var we=(H.words[K.length+be]|0)*67108864+(H.words[K.length+be-1]|0);for(we=Math.min(we/G|0,67108863),H._ishlnsubmul(K,we,be);H.negative!==0;)we--,H.negative=0,H._ishlnsubmul(K,1,be),H.isZero()||(H.negative^=1);B&&(B.words[be]=we)}return B&&B._strip(),H._strip(),E!=="div"&&q!==0&&H.iushrn(q),{div:B||null,mod:H}},f.prototype.divmod=function(u,E,q){if(I(!u.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var H,K,G;return this.negative!==0&&u.negative===0?(G=this.neg().divmod(u,E),E!=="mod"&&(H=G.div.neg()),E!=="div"&&(K=G.mod.neg(),q&&K.negative!==0&&K.iadd(u)),{div:H,mod:K}):this.negative===0&&u.negative!==0?(G=this.divmod(u.neg(),E),E!=="mod"&&(H=G.div.neg()),{div:H,mod:G.mod}):this.negative&u.negative?(G=this.neg().divmod(u.neg(),E),E!=="div"&&(K=G.mod.neg(),q&&K.negative!==0&&K.isub(u)),{div:G.div,mod:K}):u.length>this.length||this.cmp(u)<0?{div:new f(0),mod:this}:u.length===1?E==="div"?{div:this.divn(u.words[0]),mod:null}:E==="mod"?{div:null,mod:new f(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new f(this.modrn(u.words[0]))}:this._wordDiv(u,E)},f.prototype.div=function(u){return this.divmod(u,"div",!1).div},f.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},f.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},f.prototype.divRound=function(u){var E=this.divmod(u);if(E.mod.isZero())return E.div;var q=E.div.negative!==0?E.mod.isub(u):E.mod,H=u.ushrn(1),K=u.andln(1),G=q.cmp(H);return G<0||K===1&&G===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},f.prototype.modrn=function(u){var E=u<0;E&&(u=-u),I(u<=67108863);for(var q=(1<<26)%u,H=0,K=this.length-1;K>=0;K--)H=(q*H+(this.words[K]|0))%u;return E?-H:H},f.prototype.modn=function(u){return this.modrn(u)},f.prototype.idivn=function(u){var E=u<0;E&&(u=-u),I(u<=67108863);for(var q=0,H=this.length-1;H>=0;H--){var K=(this.words[H]|0)+q*67108864;this.words[H]=K/u|0,q=K%u}return this._strip(),E?this.ineg():this},f.prototype.divn=function(u){return this.clone().idivn(u)},f.prototype.egcd=function(u){I(u.negative===0),I(!u.isZero());var E=this,q=u.clone();E.negative!==0?E=E.umod(u):E=E.clone();for(var H=new f(1),K=new f(0),G=new f(0),ie=new f(1),J=0;E.isEven()&&q.isEven();)E.iushrn(1),q.iushrn(1),++J;for(var B=q.clone(),ae=E.clone();!E.isZero();){for(var Ne=0,be=1;!(E.words[0]&be)&&Ne<26;++Ne,be<<=1);if(Ne>0)for(E.iushrn(Ne);Ne-- >0;)(H.isOdd()||K.isOdd())&&(H.iadd(B),K.isub(ae)),H.iushrn(1),K.iushrn(1);for(var we=0,Te=1;!(q.words[0]&Te)&&we<26;++we,Te<<=1);if(we>0)for(q.iushrn(we);we-- >0;)(G.isOdd()||ie.isOdd())&&(G.iadd(B),ie.isub(ae)),G.iushrn(1),ie.iushrn(1);E.cmp(q)>=0?(E.isub(q),H.isub(G),K.isub(ie)):(q.isub(E),G.isub(H),ie.isub(K))}return{a:G,b:ie,gcd:q.iushln(J)}},f.prototype._invmp=function(u){I(u.negative===0),I(!u.isZero());var E=this,q=u.clone();E.negative!==0?E=E.umod(u):E=E.clone();for(var H=new f(1),K=new f(0),G=q.clone();E.cmpn(1)>0&&q.cmpn(1)>0;){for(var ie=0,J=1;!(E.words[0]&J)&&ie<26;++ie,J<<=1);if(ie>0)for(E.iushrn(ie);ie-- >0;)H.isOdd()&&H.iadd(G),H.iushrn(1);for(var B=0,ae=1;!(q.words[0]&ae)&&B<26;++B,ae<<=1);if(B>0)for(q.iushrn(B);B-- >0;)K.isOdd()&&K.iadd(G),K.iushrn(1);E.cmp(q)>=0?(E.isub(q),H.isub(K)):(q.isub(E),K.isub(H))}var Ne;return E.cmpn(1)===0?Ne=H:Ne=K,Ne.cmpn(0)<0&&Ne.iadd(u),Ne},f.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var E=this.clone(),q=u.clone();E.negative=0,q.negative=0;for(var H=0;E.isEven()&&q.isEven();H++)E.iushrn(1),q.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;q.isEven();)q.iushrn(1);var K=E.cmp(q);if(K<0){var G=E;E=q,q=G}else if(K===0||q.cmpn(1)===0)break;E.isub(q)}while(!0);return q.iushln(H)},f.prototype.invm=function(u){return this.egcd(u).a.umod(u)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(u){return this.words[0]&u},f.prototype.bincn=function(u){I(typeof u=="number");var E=u%26,q=(u-E)/26,H=1<<E;if(this.length<=q)return this._expand(q+1),this.words[q]|=H,this;for(var K=H,G=q;K!==0&&G<this.length;G++){var ie=this.words[G]|0;ie+=K,K=ie>>>26,ie&=67108863,this.words[G]=ie}return K!==0&&(this.words[G]=K,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(u){var E=u<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this._strip();var q;if(this.length>1)q=1;else{E&&(u=-u),I(u<=67108863,"Number is too big");var H=this.words[0]|0;q=H===u?0:H<u?-1:1}return this.negative!==0?-q|0:q},f.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var E=this.ucmp(u);return this.negative!==0?-E|0:E},f.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var E=0,q=this.length-1;q>=0;q--){var H=this.words[q]|0,K=u.words[q]|0;if(H!==K){H<K?E=-1:H>K&&(E=1);break}}return E},f.prototype.gtn=function(u){return this.cmpn(u)===1},f.prototype.gt=function(u){return this.cmp(u)===1},f.prototype.gten=function(u){return this.cmpn(u)>=0},f.prototype.gte=function(u){return this.cmp(u)>=0},f.prototype.ltn=function(u){return this.cmpn(u)===-1},f.prototype.lt=function(u){return this.cmp(u)===-1},f.prototype.lten=function(u){return this.cmpn(u)<=0},f.prototype.lte=function(u){return this.cmp(u)<=0},f.prototype.eqn=function(u){return this.cmpn(u)===0},f.prototype.eq=function(u){return this.cmp(u)===0},f.red=function(u){return new O(u)},f.prototype.toRed=function(u){return I(!this.red,"Already a number in reduction context"),I(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},f.prototype.fromRed=function(){return I(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(u){return this.red=u,this},f.prototype.forceRed=function(u){return I(!this.red,"Already a number in reduction context"),this._forceRed(u)},f.prototype.redAdd=function(u){return I(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},f.prototype.redIAdd=function(u){return I(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},f.prototype.redSub=function(u){return I(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},f.prototype.redISub=function(u){return I(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},f.prototype.redShl=function(u){return I(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},f.prototype.redMul=function(u){return I(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},f.prototype.redIMul=function(u){return I(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},f.prototype.redSqr=function(){return I(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return I(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return I(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return I(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return I(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(u){return I(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var y={k256:null,p224:null,p192:null,p25519:null};function z(D,u){this.name=D,this.p=new f(u,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var u=new f(null);return u.words=new Array(Math.ceil(this.n/13)),u},z.prototype.ireduce=function(u){var E=u,q;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),q=E.bitLength();while(q>this.n);var H=q<this.n?-1:E.ucmp(this.p);return H===0?(E.words[0]=0,E.length=1):H>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},z.prototype.split=function(u,E){u.iushrn(this.n,0,E)},z.prototype.imulK=function(u){return u.imul(this.k)};function Q(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}C(Q,z),Q.prototype.split=function(u,E){for(var q=4194303,H=Math.min(u.length,9),K=0;K<H;K++)E.words[K]=u.words[K];if(E.length=H,u.length<=9){u.words[0]=0,u.length=1;return}var G=u.words[9];for(E.words[E.length++]=G&q,K=10;K<u.length;K++){var ie=u.words[K]|0;u.words[K-10]=(ie&q)<<4|G>>>22,G=ie}G>>>=22,u.words[K-10]=G,G===0&&u.length>10?u.length-=10:u.length-=9},Q.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var E=0,q=0;q<u.length;q++){var H=u.words[q]|0;E+=H*977,u.words[q]=E&67108863,E=H*64+(E/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function Z(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}C(Z,z);function X(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}C(X,z);function Y(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}C(Y,z),Y.prototype.imulK=function(u){for(var E=0,q=0;q<u.length;q++){var H=(u.words[q]|0)*19+E,K=H&67108863;H>>>=26,u.words[q]=K,E=H}return E!==0&&(u.words[u.length++]=E),u},f._prime=function(u){if(y[u])return y[u];var E;if(u==="k256")E=new Q;else if(u==="p224")E=new Z;else if(u==="p192")E=new X;else if(u==="p25519")E=new Y;else throw new Error("Unknown prime "+u);return y[u]=E,E};function O(D){if(typeof D=="string"){var u=f._prime(D);this.m=u.p,this.prime=u}else I(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}O.prototype._verify1=function(u){I(u.negative===0,"red works only with positives"),I(u.red,"red works only with red numbers")},O.prototype._verify2=function(u,E){I((u.negative|E.negative)===0,"red works only with positives"),I(u.red&&u.red===E.red,"red works only with red numbers")},O.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(b(u,u.umod(this.m)._forceRed(this)),u)},O.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},O.prototype.add=function(u,E){this._verify2(u,E);var q=u.add(E);return q.cmp(this.m)>=0&&q.isub(this.m),q._forceRed(this)},O.prototype.iadd=function(u,E){this._verify2(u,E);var q=u.iadd(E);return q.cmp(this.m)>=0&&q.isub(this.m),q},O.prototype.sub=function(u,E){this._verify2(u,E);var q=u.sub(E);return q.cmpn(0)<0&&q.iadd(this.m),q._forceRed(this)},O.prototype.isub=function(u,E){this._verify2(u,E);var q=u.isub(E);return q.cmpn(0)<0&&q.iadd(this.m),q},O.prototype.shl=function(u,E){return this._verify1(u),this.imod(u.ushln(E))},O.prototype.imul=function(u,E){return this._verify2(u,E),this.imod(u.imul(E))},O.prototype.mul=function(u,E){return this._verify2(u,E),this.imod(u.mul(E))},O.prototype.isqr=function(u){return this.imul(u,u.clone())},O.prototype.sqr=function(u){return this.mul(u,u)},O.prototype.sqrt=function(u){if(u.isZero())return u.clone();var E=this.m.andln(3);if(I(E%2===1),E===3){var q=this.m.add(new f(1)).iushrn(2);return this.pow(u,q)}for(var H=this.m.subn(1),K=0;!H.isZero()&&H.andln(1)===0;)K++,H.iushrn(1);I(!H.isZero());var G=new f(1).toRed(this),ie=G.redNeg(),J=this.m.subn(1).iushrn(1),B=this.m.bitLength();for(B=new f(2*B*B).toRed(this);this.pow(B,J).cmp(ie)!==0;)B.redIAdd(ie);for(var ae=this.pow(B,H),Ne=this.pow(u,H.addn(1).iushrn(1)),be=this.pow(u,H),we=K;be.cmp(G)!==0;){for(var Te=be,ee=0;Te.cmp(G)!==0;ee++)Te=Te.redSqr();I(ee<we);var ne=this.pow(ae,new f(1).iushln(we-ee-1));Ne=Ne.redMul(ne),ae=ne.redSqr(),be=be.redMul(ae),we=ee}return Ne},O.prototype.invm=function(u){var E=u._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},O.prototype.pow=function(u,E){if(E.isZero())return new f(1).toRed(this);if(E.cmpn(1)===0)return u.clone();var q=4,H=new Array(1<<q);H[0]=new f(1).toRed(this),H[1]=u;for(var K=2;K<H.length;K++)H[K]=this.mul(H[K-1],u);var G=H[0],ie=0,J=0,B=E.bitLength()%26;for(B===0&&(B=26),K=E.length-1;K>=0;K--){for(var ae=E.words[K],Ne=B-1;Ne>=0;Ne--){var be=ae>>Ne&1;if(G!==H[0]&&(G=this.sqr(G)),be===0&&ie===0){J=0;continue}ie<<=1,ie|=be,J++,!(J!==q&&(K!==0||Ne!==0))&&(G=this.mul(G,H[ie]),J=0,ie=0)}B=26}return G},O.prototype.convertTo=function(u){var E=u.umod(this.m);return E===u?E.clone():E},O.prototype.convertFrom=function(u){var E=u.clone();return E.red=null,E},f.mont=function(u){return new $(u)};function $(D){O.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}C($,O),$.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},$.prototype.convertFrom=function(u){var E=this.imod(u.mul(this.rinv));return E.red=null,E},$.prototype.imul=function(u,E){if(u.isZero()||E.isZero())return u.words[0]=0,u.length=1,u;var q=u.imul(E),H=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=q.isub(H).iushrn(this.shift),G=K;return K.cmp(this.m)>=0?G=K.isub(this.m):K.cmpn(0)<0&&(G=K.iadd(this.m)),G._forceRed(this)},$.prototype.mul=function(u,E){if(u.isZero()||E.isZero())return new f(0)._forceRed(this);var q=u.mul(E),H=q.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=q.isub(H).iushrn(this.shift),G=K;return K.cmp(this.m)>=0?G=K.isub(this.m):K.cmpn(0)<0&&(G=K.iadd(this.m)),G._forceRed(this)},$.prototype.invm=function(u){var E=this.imod(u._invmp(this.m).mul(this.r2));return E._forceRed(this)}}(s,this)},2686:s=>{"use strict";function V(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var M={};function A(h,p,m){m||(m=Error);function _(l,S,c){return typeof p=="string"?p:p(l,S,c)}var b=function(l){V(S,l);function S(c,g,d){return l.call(this,_(c,g,d))||this}return S}(m);b.prototype.name=m.name,b.prototype.code=h,M[h]=b}function L(h,p){if(Array.isArray(h)){var m=h.length;return h=h.map(function(_){return String(_)}),m>2?"one of ".concat(p," ").concat(h.slice(0,m-1).join(", "),", or ")+h[m-1]:m===2?"one of ".concat(p," ").concat(h[0]," or ").concat(h[1]):"of ".concat(p," ").concat(h[0])}else return"of ".concat(p," ").concat(String(h))}function I(h,p,m){return h.substr(!m||m<0?0:+m,p.length)===p}function C(h,p,m){return(m===void 0||m>h.length)&&(m=h.length),h.substring(m-p.length,m)===p}function f(h,p,m){return typeof m!="number"&&(m=0),m+p.length>h.length?!1:h.indexOf(p,m)!==-1}A("ERR_INVALID_OPT_VALUE",function(h,p){return'The value "'+p+'" is invalid for option "'+h+'"'},TypeError),A("ERR_INVALID_ARG_TYPE",function(h,p,m){var _;typeof p=="string"&&I(p,"not ")?(_="must not be",p=p.replace(/^not /,"")):_="must be";var b;if(C(h," argument"))b="The ".concat(h," ").concat(_," ").concat(L(p,"type"));else{var l=f(h,".")?"property":"argument";b='The "'.concat(h,'" ').concat(l," ").concat(_," ").concat(L(p,"type"))}return b+=". Received type ".concat(typeof m),b},TypeError),A("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),A("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),A("ERR_STREAM_PREMATURE_CLOSE","Premature close"),A("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),A("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),A("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),A("ERR_STREAM_WRITE_AFTER_END","write after end"),A("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),A("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),A("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=M},26248:(s,V,M)=>{"use strict";var A=M(65606),L=Object.keys||function(l){var S=[];for(var c in l)S.push(c);return S};s.exports=m;var I=M(30206),C=M(7314);M(56698)(m,I);for(var f=L(C.prototype),h=0;h<f.length;h++){var p=f[h];m.prototype[p]||(m.prototype[p]=C.prototype[p])}function m(l){if(!(this instanceof m))return new m(l);I.call(this,l),C.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(m.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(m.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||A.nextTick(b,this)}function b(l){l.end()}Object.defineProperty(m.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(S){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=S,this._writableState.destroyed=S)}})},75242:(s,V,M)=>{"use strict";s.exports=L;var A=M(81816);M(56698)(L,A);function L(I){if(!(this instanceof L))return new L(I);A.call(this,I)}L.prototype._transform=function(I,C,f){f(null,I)}},30206:(s,V,M)=>{"use strict";var A=M(65606);s.exports=O;var L;O.ReadableState=Y;var I=M(37007).EventEmitter,C=function(N,se){return N.listeners(se).length},f=M(5567),h=M(48287).Buffer,p=(typeof M.g!="undefined"?M.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function m(j){return h.from(j)}function _(j){return h.isBuffer(j)||j instanceof p}var b=M(92668),l;b&&b.debuglog?l=b.debuglog("stream"):l=function(){};var S=M(72851),c=M(36278),g=M(57385),d=g.getHighWaterMark,w=M(2686).F,k=w.ERR_INVALID_ARG_TYPE,R=w.ERR_STREAM_PUSH_AFTER_EOF,P=w.ERR_METHOD_NOT_IMPLEMENTED,U=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,F,y,z;M(56698)(O,f);var Q=c.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function X(j,N,se){if(typeof j.prependListener=="function")return j.prependListener(N,se);!j._events||!j._events[N]?j.on(N,se):Array.isArray(j._events[N])?j._events[N].unshift(se):j._events[N]=[se,j._events[N]]}function Y(j,N,se){L=L||M(26248),j=j||{},typeof se!="boolean"&&(se=N instanceof L),this.objectMode=!!j.objectMode,se&&(this.objectMode=this.objectMode||!!j.readableObjectMode),this.highWaterMark=d(this,j,"readableHighWaterMark",se),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(F||(F=M(83141).I),this.decoder=new F(j.encoding),this.encoding=j.encoding)}function O(j){if(L=L||M(26248),!(this instanceof O))return new O(j);var N=this instanceof L;this._readableState=new Y(j,this,N),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),f.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(j,N){N(j)},O.prototype.push=function(j,N){var se=this._readableState,de;return se.objectMode?de=!0:typeof j=="string"&&(N=N||se.defaultEncoding,N!==se.encoding&&(j=h.from(j,N),N=""),de=!0),$(this,j,N,!1,de)},O.prototype.unshift=function(j){return $(this,j,null,!0,!1)};function $(j,N,se,de,ue){l("readableAddChunk",N);var le=j._readableState;if(N===null)le.reading=!1,K(j,le);else{var pe;if(ue||(pe=u(le,N)),pe)Q(j,pe);else if(le.objectMode||N&&N.length>0)if(typeof N!="string"&&!le.objectMode&&Object.getPrototypeOf(N)!==h.prototype&&(N=m(N)),de)le.endEmitted?Q(j,new U):D(j,le,N,!0);else if(le.ended)Q(j,new R);else{if(le.destroyed)return!1;le.reading=!1,le.decoder&&!se?(N=le.decoder.write(N),le.objectMode||N.length!==0?D(j,le,N,!1):J(j,le)):D(j,le,N,!1)}else de||(le.reading=!1,J(j,le))}return!le.ended&&(le.length<le.highWaterMark||le.length===0)}function D(j,N,se,de){N.flowing&&N.length===0&&!N.sync?(N.awaitDrain=0,j.emit("data",se)):(N.length+=N.objectMode?1:se.length,de?N.buffer.unshift(se):N.buffer.push(se),N.needReadable&&G(j)),J(j,N)}function u(j,N){var se;return!_(N)&&typeof N!="string"&&N!==void 0&&!j.objectMode&&(se=new k("chunk",["string","Buffer","Uint8Array"],N)),se}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(j){F||(F=M(83141).I);var N=new F(j);this._readableState.decoder=N,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,de="";se!==null;)de+=N.write(se.data),se=se.next;return this._readableState.buffer.clear(),de!==""&&this._readableState.buffer.push(de),this._readableState.length=de.length,this};var E=1073741824;function q(j){return j>=E?j=E:(j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++),j}function H(j,N){return j<=0||N.length===0&&N.ended?0:N.objectMode?1:j!==j?N.flowing&&N.length?N.buffer.head.data.length:N.length:(j>N.highWaterMark&&(N.highWaterMark=q(j)),j<=N.length?j:N.ended?N.length:(N.needReadable=!0,0))}O.prototype.read=function(j){l("read",j),j=parseInt(j,10);var N=this._readableState,se=j;if(j!==0&&(N.emittedReadable=!1),j===0&&N.needReadable&&((N.highWaterMark!==0?N.length>=N.highWaterMark:N.length>0)||N.ended))return l("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?me(this):G(this),null;if(j=H(j,N),j===0&&N.ended)return N.length===0&&me(this),null;var de=N.needReadable;l("need readable",de),(N.length===0||N.length-j<N.highWaterMark)&&(de=!0,l("length less than watermark",de)),N.ended||N.reading?(de=!1,l("reading or ended",de)):de&&(l("do read"),N.reading=!0,N.sync=!0,N.length===0&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(j=H(se,N)));var ue;return j>0?ue=ne(j,N):ue=null,ue===null?(N.needReadable=N.length<=N.highWaterMark,j=0):(N.length-=j,N.awaitDrain=0),N.length===0&&(N.ended||(N.needReadable=!0),se!==j&&N.ended&&me(this)),ue!==null&&this.emit("data",ue),ue};function K(j,N){if(l("onEofChunk"),!N.ended){if(N.decoder){var se=N.decoder.end();se&&se.length&&(N.buffer.push(se),N.length+=N.objectMode?1:se.length)}N.ended=!0,N.sync?G(j):(N.needReadable=!1,N.emittedReadable||(N.emittedReadable=!0,ie(j)))}}function G(j){var N=j._readableState;l("emitReadable",N.needReadable,N.emittedReadable),N.needReadable=!1,N.emittedReadable||(l("emitReadable",N.flowing),N.emittedReadable=!0,A.nextTick(ie,j))}function ie(j){var N=j._readableState;l("emitReadable_",N.destroyed,N.length,N.ended),!N.destroyed&&(N.length||N.ended)&&(j.emit("readable"),N.emittedReadable=!1),N.needReadable=!N.flowing&&!N.ended&&N.length<=N.highWaterMark,ee(j)}function J(j,N){N.readingMore||(N.readingMore=!0,A.nextTick(B,j,N))}function B(j,N){for(;!N.reading&&!N.ended&&(N.length<N.highWaterMark||N.flowing&&N.length===0);){var se=N.length;if(l("maybeReadMore read 0"),j.read(0),se===N.length)break}N.readingMore=!1}O.prototype._read=function(j){Q(this,new P("_read()"))},O.prototype.pipe=function(j,N){var se=this,de=this._readableState;switch(de.pipesCount){case 0:de.pipes=j;break;case 1:de.pipes=[de.pipes,j];break;default:de.pipes.push(j);break}de.pipesCount+=1,l("pipe count=%d opts=%j",de.pipesCount,N);var ue=(!N||N.end!==!1)&&j!==A.stdout&&j!==A.stderr,le=ue?Ae:ce;de.endEmitted?A.nextTick(le):se.once("end",le),j.on("unpipe",pe);function pe(ke,Ie){l("onunpipe"),ke===se&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,Ue())}function Ae(){l("onend"),j.end()}var Fe=ae(se);j.on("drain",Fe);var Be=!1;function Ue(){l("cleanup"),j.removeListener("close",he),j.removeListener("finish",re),j.removeListener("drain",Fe),j.removeListener("error",Ye),j.removeListener("unpipe",pe),se.removeListener("end",Ae),se.removeListener("end",ce),se.removeListener("data",He),Be=!0,de.awaitDrain&&(!j._writableState||j._writableState.needDrain)&&Fe()}se.on("data",He);function He(ke){l("ondata");var Ie=j.write(ke);l("dest.write",Ie),Ie===!1&&((de.pipesCount===1&&de.pipes===j||de.pipesCount>1&&_e(de.pipes,j)!==-1)&&!Be&&(l("false write response, pause",de.awaitDrain),de.awaitDrain++),se.pause())}function Ye(ke){l("onerror",ke),ce(),j.removeListener("error",Ye),C(j,"error")===0&&Q(j,ke)}X(j,"error",Ye);function he(){j.removeListener("finish",re),ce()}j.once("close",he);function re(){l("onfinish"),j.removeListener("close",he),ce()}j.once("finish",re);function ce(){l("unpipe"),se.unpipe(j)}return j.emit("pipe",se),de.flowing||(l("pipe resume"),se.resume()),j};function ae(j){return function(){var se=j._readableState;l("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&C(j,"data")&&(se.flowing=!0,ee(j))}}O.prototype.unpipe=function(j){var N=this._readableState,se={hasUnpiped:!1};if(N.pipesCount===0)return this;if(N.pipesCount===1)return j&&j!==N.pipes?this:(j||(j=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,j&&j.emit("unpipe",this,se),this);if(!j){var de=N.pipes,ue=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var le=0;le<ue;le++)de[le].emit("unpipe",this,{hasUnpiped:!1});return this}var pe=_e(N.pipes,j);return pe===-1?this:(N.pipes.splice(pe,1),N.pipesCount-=1,N.pipesCount===1&&(N.pipes=N.pipes[0]),j.emit("unpipe",this,se),this)},O.prototype.on=function(j,N){var se=f.prototype.on.call(this,j,N),de=this._readableState;return j==="data"?(de.readableListening=this.listenerCount("readable")>0,de.flowing!==!1&&this.resume()):j==="readable"&&!de.endEmitted&&!de.readableListening&&(de.readableListening=de.needReadable=!0,de.flowing=!1,de.emittedReadable=!1,l("on readable",de.length,de.reading),de.length?G(this):de.reading||A.nextTick(be,this)),se},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(j,N){var se=f.prototype.removeListener.call(this,j,N);return j==="readable"&&A.nextTick(Ne,this),se},O.prototype.removeAllListeners=function(j){var N=f.prototype.removeAllListeners.apply(this,arguments);return(j==="readable"||j===void 0)&&A.nextTick(Ne,this),N};function Ne(j){var N=j._readableState;N.readableListening=j.listenerCount("readable")>0,N.resumeScheduled&&!N.paused?N.flowing=!0:j.listenerCount("data")>0&&j.resume()}function be(j){l("readable nexttick read 0"),j.read(0)}O.prototype.resume=function(){var j=this._readableState;return j.flowing||(l("resume"),j.flowing=!j.readableListening,we(this,j)),j.paused=!1,this};function we(j,N){N.resumeScheduled||(N.resumeScheduled=!0,A.nextTick(Te,j,N))}function Te(j,N){l("resume",N.reading),N.reading||j.read(0),N.resumeScheduled=!1,j.emit("resume"),ee(j),N.flowing&&!N.reading&&j.read(0)}O.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ee(j){var N=j._readableState;for(l("flow",N.flowing);N.flowing&&j.read()!==null;);}O.prototype.wrap=function(j){var N=this,se=this._readableState,de=!1;j.on("end",function(){if(l("wrapped end"),se.decoder&&!se.ended){var pe=se.decoder.end();pe&&pe.length&&N.push(pe)}N.push(null)}),j.on("data",function(pe){if(l("wrapped data"),se.decoder&&(pe=se.decoder.write(pe)),!(se.objectMode&&pe==null)&&!(!se.objectMode&&(!pe||!pe.length))){var Ae=N.push(pe);Ae||(de=!0,j.pause())}});for(var ue in j)this[ue]===void 0&&typeof j[ue]=="function"&&(this[ue]=function(Ae){return function(){return j[Ae].apply(j,arguments)}}(ue));for(var le=0;le<Z.length;le++)j.on(Z[le],this.emit.bind(this,Z[le]));return this._read=function(pe){l("wrapped _read",pe),de&&(de=!1,j.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=M(72485)),y(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(N){this._readableState&&(this._readableState.flowing=N)}}),O._fromList=ne,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ne(j,N){if(N.length===0)return null;var se;return N.objectMode?se=N.buffer.shift():!j||j>=N.length?(N.decoder?se=N.buffer.join(""):N.buffer.length===1?se=N.buffer.first():se=N.buffer.concat(N.length),N.buffer.clear()):se=N.buffer.consume(j,N.decoder),se}function me(j){var N=j._readableState;l("endReadable",N.endEmitted),N.endEmitted||(N.ended=!0,A.nextTick(ge,N,j))}function ge(j,N){if(l("endReadableNT",j.endEmitted,j.length),!j.endEmitted&&j.length===0&&(j.endEmitted=!0,N.readable=!1,N.emit("end"),j.autoDestroy)){var se=N._writableState;(!se||se.autoDestroy&&se.finished)&&N.destroy()}}typeof Symbol=="function"&&(O.from=function(j,N){return z===void 0&&(z=M(28591)),z(O,j,N)});function _e(j,N){for(var se=0,de=j.length;se<de;se++)if(j[se]===N)return se;return-1}},81816:(s,V,M)=>{"use strict";s.exports=m;var A=M(2686).F,L=A.ERR_METHOD_NOT_IMPLEMENTED,I=A.ERR_MULTIPLE_CALLBACK,C=A.ERR_TRANSFORM_ALREADY_TRANSFORMING,f=A.ERR_TRANSFORM_WITH_LENGTH_0,h=M(26248);M(56698)(m,h);function p(l,S){var c=this._transformState;c.transforming=!1;var g=c.writecb;if(g===null)return this.emit("error",new I);c.writechunk=null,c.writecb=null,S!=null&&this.push(S),g(l);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}function m(l){if(!(this instanceof m))return new m(l);h.call(this,l),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",_)}function _(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(S,c){b(l,S,c)}):b(this,null,null)}m.prototype.push=function(l,S){return this._transformState.needTransform=!1,h.prototype.push.call(this,l,S)},m.prototype._transform=function(l,S,c){c(new L("_transform()"))},m.prototype._write=function(l,S,c){var g=this._transformState;if(g.writecb=c,g.writechunk=l,g.writeencoding=S,!g.transforming){var d=this._readableState;(g.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}},m.prototype._read=function(l){var S=this._transformState;S.writechunk!==null&&!S.transforming?(S.transforming=!0,this._transform(S.writechunk,S.writeencoding,S.afterTransform)):S.needTransform=!0},m.prototype._destroy=function(l,S){h.prototype._destroy.call(this,l,function(c){S(c)})};function b(l,S,c){if(S)return l.emit("error",S);if(c!=null&&l.push(c),l._writableState.length)throw new f;if(l._transformState.transforming)throw new C;return l.push(null)}},7314:(s,V,M)=>{"use strict";var A=M(65606);s.exports=Y;function L(ee,ne,me){this.chunk=ee,this.encoding=ne,this.callback=me,this.next=null}function I(ee){var ne=this;this.next=null,this.entry=null,this.finish=function(){Te(ne,ee)}}var C;Y.WritableState=Z;var f={deprecate:M(94643)},h=M(5567),p=M(48287).Buffer,m=(typeof M.g!="undefined"?M.g:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function _(ee){return p.from(ee)}function b(ee){return p.isBuffer(ee)||ee instanceof m}var l=M(36278),S=M(57385),c=S.getHighWaterMark,g=M(2686).F,d=g.ERR_INVALID_ARG_TYPE,w=g.ERR_METHOD_NOT_IMPLEMENTED,k=g.ERR_MULTIPLE_CALLBACK,R=g.ERR_STREAM_CANNOT_PIPE,P=g.ERR_STREAM_DESTROYED,U=g.ERR_STREAM_NULL_VALUES,F=g.ERR_STREAM_WRITE_AFTER_END,y=g.ERR_UNKNOWN_ENCODING,z=l.errorOrDestroy;M(56698)(Y,h);function Q(){}function Z(ee,ne,me){C=C||M(26248),ee=ee||{},typeof me!="boolean"&&(me=ne instanceof C),this.objectMode=!!ee.objectMode,me&&(this.objectMode=this.objectMode||!!ee.writableObjectMode),this.highWaterMark=c(this,ee,"writableHighWaterMark",me),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ge=ee.decodeStrings===!1;this.decodeStrings=!ge,this.defaultEncoding=ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){K(ne,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ee.emitClose!==!1,this.autoDestroy=!!ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new I(this)}Z.prototype.getBuffer=function(){for(var ne=this.bufferedRequest,me=[];ne;)me.push(ne),ne=ne.next;return me},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var X;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(X=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(ne){return X.call(this,ne)?!0:this!==Y?!1:ne&&ne._writableState instanceof Z}})):X=function(ne){return ne instanceof this};function Y(ee){C=C||M(26248);var ne=this instanceof C;if(!ne&&!X.call(Y,this))return new Y(ee);this._writableState=new Z(ee,this,ne),this.writable=!0,ee&&(typeof ee.write=="function"&&(this._write=ee.write),typeof ee.writev=="function"&&(this._writev=ee.writev),typeof ee.destroy=="function"&&(this._destroy=ee.destroy),typeof ee.final=="function"&&(this._final=ee.final)),h.call(this)}Y.prototype.pipe=function(){z(this,new R)};function O(ee,ne){var me=new F;z(ee,me),A.nextTick(ne,me)}function $(ee,ne,me,ge){var _e;return me===null?_e=new U:typeof me!="string"&&!ne.objectMode&&(_e=new d("chunk",["string","Buffer"],me)),_e?(z(ee,_e),A.nextTick(ge,_e),!1):!0}Y.prototype.write=function(ee,ne,me){var ge=this._writableState,_e=!1,j=!ge.objectMode&&b(ee);return j&&!p.isBuffer(ee)&&(ee=_(ee)),typeof ne=="function"&&(me=ne,ne=null),j?ne="buffer":ne||(ne=ge.defaultEncoding),typeof me!="function"&&(me=Q),ge.ending?O(this,me):(j||$(this,ge,ee,me))&&(ge.pendingcb++,_e=u(this,ge,j,ee,ne,me)),_e},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var ee=this._writableState;ee.corked&&(ee.corked--,!ee.writing&&!ee.corked&&!ee.bufferProcessing&&ee.bufferedRequest&&J(this,ee))},Y.prototype.setDefaultEncoding=function(ne){if(typeof ne=="string"&&(ne=ne.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ne+"").toLowerCase())>-1))throw new y(ne);return this._writableState.defaultEncoding=ne,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function D(ee,ne,me){return!ee.objectMode&&ee.decodeStrings!==!1&&typeof ne=="string"&&(ne=p.from(ne,me)),ne}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function u(ee,ne,me,ge,_e,j){if(!me){var N=D(ne,ge,_e);ge!==N&&(me=!0,_e="buffer",ge=N)}var se=ne.objectMode?1:ge.length;ne.length+=se;var de=ne.length<ne.highWaterMark;if(de||(ne.needDrain=!0),ne.writing||ne.corked){var ue=ne.lastBufferedRequest;ne.lastBufferedRequest={chunk:ge,encoding:_e,isBuf:me,callback:j,next:null},ue?ue.next=ne.lastBufferedRequest:ne.bufferedRequest=ne.lastBufferedRequest,ne.bufferedRequestCount+=1}else E(ee,ne,!1,se,ge,_e,j);return de}function E(ee,ne,me,ge,_e,j,N){ne.writelen=ge,ne.writecb=N,ne.writing=!0,ne.sync=!0,ne.destroyed?ne.onwrite(new P("write")):me?ee._writev(_e,ne.onwrite):ee._write(_e,j,ne.onwrite),ne.sync=!1}function q(ee,ne,me,ge,_e){--ne.pendingcb,me?(A.nextTick(_e,ge),A.nextTick(be,ee,ne),ee._writableState.errorEmitted=!0,z(ee,ge)):(_e(ge),ee._writableState.errorEmitted=!0,z(ee,ge),be(ee,ne))}function H(ee){ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0}function K(ee,ne){var me=ee._writableState,ge=me.sync,_e=me.writecb;if(typeof _e!="function")throw new k;if(H(me),ne)q(ee,me,ge,ne,_e);else{var j=B(me)||ee.destroyed;!j&&!me.corked&&!me.bufferProcessing&&me.bufferedRequest&&J(ee,me),ge?A.nextTick(G,ee,me,j,_e):G(ee,me,j,_e)}}function G(ee,ne,me,ge){me||ie(ee,ne),ne.pendingcb--,ge(),be(ee,ne)}function ie(ee,ne){ne.length===0&&ne.needDrain&&(ne.needDrain=!1,ee.emit("drain"))}function J(ee,ne){ne.bufferProcessing=!0;var me=ne.bufferedRequest;if(ee._writev&&me&&me.next){var ge=ne.bufferedRequestCount,_e=new Array(ge),j=ne.corkedRequestsFree;j.entry=me;for(var N=0,se=!0;me;)_e[N]=me,me.isBuf||(se=!1),me=me.next,N+=1;_e.allBuffers=se,E(ee,ne,!0,ne.length,_e,"",j.finish),ne.pendingcb++,ne.lastBufferedRequest=null,j.next?(ne.corkedRequestsFree=j.next,j.next=null):ne.corkedRequestsFree=new I(ne),ne.bufferedRequestCount=0}else{for(;me;){var de=me.chunk,ue=me.encoding,le=me.callback,pe=ne.objectMode?1:de.length;if(E(ee,ne,!1,pe,de,ue,le),me=me.next,ne.bufferedRequestCount--,ne.writing)break}me===null&&(ne.lastBufferedRequest=null)}ne.bufferedRequest=me,ne.bufferProcessing=!1}Y.prototype._write=function(ee,ne,me){me(new w("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(ee,ne,me){var ge=this._writableState;return typeof ee=="function"?(me=ee,ee=null,ne=null):typeof ne=="function"&&(me=ne,ne=null),ee!=null&&this.write(ee,ne),ge.corked&&(ge.corked=1,this.uncork()),ge.ending||we(this,ge,me),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(ee){return ee.ending&&ee.length===0&&ee.bufferedRequest===null&&!ee.finished&&!ee.writing}function ae(ee,ne){ee._final(function(me){ne.pendingcb--,me&&z(ee,me),ne.prefinished=!0,ee.emit("prefinish"),be(ee,ne)})}function Ne(ee,ne){!ne.prefinished&&!ne.finalCalled&&(typeof ee._final=="function"&&!ne.destroyed?(ne.pendingcb++,ne.finalCalled=!0,A.nextTick(ae,ee,ne)):(ne.prefinished=!0,ee.emit("prefinish")))}function be(ee,ne){var me=B(ne);if(me&&(Ne(ee,ne),ne.pendingcb===0&&(ne.finished=!0,ee.emit("finish"),ne.autoDestroy))){var ge=ee._readableState;(!ge||ge.autoDestroy&&ge.endEmitted)&&ee.destroy()}return me}function we(ee,ne,me){ne.ending=!0,be(ee,ne),me&&(ne.finished?A.nextTick(me):ee.once("finish",me)),ne.ended=!0,ee.writable=!1}function Te(ee,ne,me){var ge=ee.entry;for(ee.entry=null;ge;){var _e=ge.callback;ne.pendingcb--,_e(me),ge=ge.next}ne.corkedRequestsFree.next=ee}Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ne){this._writableState&&(this._writableState.destroyed=ne)}}),Y.prototype.destroy=l.destroy,Y.prototype._undestroy=l.undestroy,Y.prototype._destroy=function(ee,ne){ne(ee)}},72485:(s,V,M)=>{"use strict";var A=M(65606),L;function I(F,y,z){return y=C(y),y in F?Object.defineProperty(F,y,{value:z,enumerable:!0,configurable:!0,writable:!0}):F[y]=z,F}function C(F){var y=f(F,"string");return typeof y=="symbol"?y:String(y)}function f(F,y){if(typeof F!="object"||F===null)return F;var z=F[Symbol.toPrimitive];if(z!==void 0){var Q=z.call(F,y||"default");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(F)}var h=M(23532),p=Symbol("lastResolve"),m=Symbol("lastReject"),_=Symbol("error"),b=Symbol("ended"),l=Symbol("lastPromise"),S=Symbol("handlePromise"),c=Symbol("stream");function g(F,y){return{value:F,done:y}}function d(F){var y=F[p];if(y!==null){var z=F[c].read();z!==null&&(F[l]=null,F[p]=null,F[m]=null,y(g(z,!1)))}}function w(F){A.nextTick(d,F)}function k(F,y){return function(z,Q){F.then(function(){if(y[b]){z(g(void 0,!0));return}y[S](z,Q)},Q)}}var R=Object.getPrototypeOf(function(){}),P=Object.setPrototypeOf((L={get stream(){return this[c]},next:function(){var y=this,z=this[_];if(z!==null)return Promise.reject(z);if(this[b])return Promise.resolve(g(void 0,!0));if(this[c].destroyed)return new Promise(function(Y,O){A.nextTick(function(){y[_]?O(y[_]):Y(g(void 0,!0))})});var Q=this[l],Z;if(Q)Z=new Promise(k(Q,this));else{var X=this[c].read();if(X!==null)return Promise.resolve(g(X,!1));Z=new Promise(this[S])}return this[l]=Z,Z}},I(L,Symbol.asyncIterator,function(){return this}),I(L,"return",function(){var y=this;return new Promise(function(z,Q){y[c].destroy(null,function(Z){if(Z){Q(Z);return}z(g(void 0,!0))})})}),L),R),U=function(y){var z,Q=Object.create(P,(z={},I(z,c,{value:y,writable:!0}),I(z,p,{value:null,writable:!0}),I(z,m,{value:null,writable:!0}),I(z,_,{value:null,writable:!0}),I(z,b,{value:y._readableState.endEmitted,writable:!0}),I(z,S,{value:function(X,Y){var O=Q[c].read();O?(Q[l]=null,Q[p]=null,Q[m]=null,X(g(O,!1))):(Q[p]=X,Q[m]=Y)},writable:!0}),z));return Q[l]=null,h(y,function(Z){if(Z&&Z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var X=Q[m];X!==null&&(Q[l]=null,Q[p]=null,Q[m]=null,X(Z)),Q[_]=Z;return}var Y=Q[p];Y!==null&&(Q[l]=null,Q[p]=null,Q[m]=null,Y(g(void 0,!0))),Q[b]=!0}),y.on("readable",w.bind(null,Q)),Q};s.exports=U},72851:(s,V,M)=>{"use strict";function A(d,w){var k=Object.keys(d);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(d);w&&(R=R.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable})),k.push.apply(k,R)}return k}function L(d){for(var w=1;w<arguments.length;w++){var k=arguments[w]!=null?arguments[w]:{};w%2?A(Object(k),!0).forEach(function(R){I(d,R,k[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(k)):A(Object(k)).forEach(function(R){Object.defineProperty(d,R,Object.getOwnPropertyDescriptor(k,R))})}return d}function I(d,w,k){return w=p(w),w in d?Object.defineProperty(d,w,{value:k,enumerable:!0,configurable:!0,writable:!0}):d[w]=k,d}function C(d,w){if(!(d instanceof w))throw new TypeError("Cannot call a class as a function")}function f(d,w){for(var k=0;k<w.length;k++){var R=w[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(d,p(R.key),R)}}function h(d,w,k){return w&&f(d.prototype,w),k&&f(d,k),Object.defineProperty(d,"prototype",{writable:!1}),d}function p(d){var w=m(d,"string");return typeof w=="symbol"?w:String(w)}function m(d,w){if(typeof d!="object"||d===null)return d;var k=d[Symbol.toPrimitive];if(k!==void 0){var R=k.call(d,w||"default");if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(d)}var _=M(48287),b=_.Buffer,l=M(21638),S=l.inspect,c=S&&S.custom||"inspect";function g(d,w,k){b.prototype.copy.call(d,w,k)}s.exports=function(){function d(){C(this,d),this.head=null,this.tail=null,this.length=0}return h(d,[{key:"push",value:function(k){var R={data:k,next:null};this.length>0?this.tail.next=R:this.head=R,this.tail=R,++this.length}},{key:"unshift",value:function(k){var R={data:k,next:this.head};this.length===0&&(this.tail=R),this.head=R,++this.length}},{key:"shift",value:function(){if(this.length!==0){var k=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,k}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(k){if(this.length===0)return"";for(var R=this.head,P=""+R.data;R=R.next;)P+=k+R.data;return P}},{key:"concat",value:function(k){if(this.length===0)return b.alloc(0);for(var R=b.allocUnsafe(k>>>0),P=this.head,U=0;P;)g(P.data,R,U),U+=P.data.length,P=P.next;return R}},{key:"consume",value:function(k,R){var P;return k<this.head.data.length?(P=this.head.data.slice(0,k),this.head.data=this.head.data.slice(k)):k===this.head.data.length?P=this.shift():P=R?this._getString(k):this._getBuffer(k),P}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(k){var R=this.head,P=1,U=R.data;for(k-=U.length;R=R.next;){var F=R.data,y=k>F.length?F.length:k;if(y===F.length?U+=F:U+=F.slice(0,k),k-=y,k===0){y===F.length?(++P,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=F.slice(y));break}++P}return this.length-=P,U}},{key:"_getBuffer",value:function(k){var R=b.allocUnsafe(k),P=this.head,U=1;for(P.data.copy(R),k-=P.data.length;P=P.next;){var F=P.data,y=k>F.length?F.length:k;if(F.copy(R,R.length-k,0,y),k-=y,k===0){y===F.length?(++U,P.next?this.head=P.next:this.head=this.tail=null):(this.head=P,P.data=F.slice(y));break}++U}return this.length-=U,R}},{key:c,value:function(k,R){return S(this,L(L({},R),{},{depth:0,customInspect:!1}))}}]),d}()},36278:(s,V,M)=>{"use strict";var A=M(65606);function L(m,_){var b=this,l=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return l||S?(_?_(m):m&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,A.nextTick(h,this,m)):A.nextTick(h,this,m)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(m||null,function(c){!_&&c?b._writableState?b._writableState.errorEmitted?A.nextTick(C,b):(b._writableState.errorEmitted=!0,A.nextTick(I,b,c)):A.nextTick(I,b,c):_?(A.nextTick(C,b),_(c)):A.nextTick(C,b)}),this)}function I(m,_){h(m,_),C(m)}function C(m){m._writableState&&!m._writableState.emitClose||m._readableState&&!m._readableState.emitClose||m.emit("close")}function f(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(m,_){m.emit("error",_)}function p(m,_){var b=m._readableState,l=m._writableState;b&&b.autoDestroy||l&&l.autoDestroy?m.destroy(_):m.emit("error",_)}s.exports={destroy:L,undestroy:f,errorOrDestroy:p}},23532:(s,V,M)=>{"use strict";var A=M(2686).F.ERR_STREAM_PREMATURE_CLOSE;function L(h){var p=!1;return function(){if(!p){p=!0;for(var m=arguments.length,_=new Array(m),b=0;b<m;b++)_[b]=arguments[b];h.apply(this,_)}}}function I(){}function C(h){return h.setHeader&&typeof h.abort=="function"}function f(h,p,m){if(typeof p=="function")return f(h,null,p);p||(p={}),m=L(m||I);var _=p.readable||p.readable!==!1&&h.readable,b=p.writable||p.writable!==!1&&h.writable,l=function(){h.writable||c()},S=h._writableState&&h._writableState.finished,c=function(){b=!1,S=!0,_||m.call(h)},g=h._readableState&&h._readableState.endEmitted,d=function(){_=!1,g=!0,b||m.call(h)},w=function(U){m.call(h,U)},k=function(){var U;if(_&&!g)return(!h._readableState||!h._readableState.ended)&&(U=new A),m.call(h,U);if(b&&!S)return(!h._writableState||!h._writableState.ended)&&(U=new A),m.call(h,U)},R=function(){h.req.on("finish",c)};return C(h)?(h.on("complete",c),h.on("abort",k),h.req?R():h.on("request",R)):b&&!h._writableState&&(h.on("end",l),h.on("close",l)),h.on("end",d),h.on("finish",c),p.error!==!1&&h.on("error",w),h.on("close",k),function(){h.removeListener("complete",c),h.removeListener("abort",k),h.removeListener("request",R),h.req&&h.req.removeListener("finish",c),h.removeListener("end",l),h.removeListener("close",l),h.removeListener("finish",c),h.removeListener("end",d),h.removeListener("error",w),h.removeListener("close",k)}}s.exports=f},28591:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},43440:(s,V,M)=>{"use strict";var A;function L(c){var g=!1;return function(){g||(g=!0,c.apply(void 0,arguments))}}var I=M(2686).F,C=I.ERR_MISSING_ARGS,f=I.ERR_STREAM_DESTROYED;function h(c){if(c)throw c}function p(c){return c.setHeader&&typeof c.abort=="function"}function m(c,g,d,w){w=L(w);var k=!1;c.on("close",function(){k=!0}),A===void 0&&(A=M(23532)),A(c,{readable:g,writable:d},function(P){if(P)return w(P);k=!0,w()});var R=!1;return function(P){if(!k&&!R){if(R=!0,p(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();w(P||new f("pipe"))}}}function _(c){c()}function b(c,g){return c.pipe(g)}function l(c){return!c.length||typeof c[c.length-1]!="function"?h:c.pop()}function S(){for(var c=arguments.length,g=new Array(c),d=0;d<c;d++)g[d]=arguments[d];var w=l(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new C("streams");var k,R=g.map(function(P,U){var F=U<g.length-1,y=U>0;return m(P,F,y,function(z){k||(k=z),z&&R.forEach(_),!F&&(R.forEach(_),w(k))})});return g.reduce(b)}s.exports=S},57385:(s,V,M)=>{"use strict";var A=M(2686).F.ERR_INVALID_OPT_VALUE;function L(C,f,h){return C.highWaterMark!=null?C.highWaterMark:f?C[h]:null}function I(C,f,h,p){var m=L(f,p,h);if(m!=null){if(!(isFinite(m)&&Math.floor(m)===m)||m<0){var _=p?h:"highWaterMark";throw new A(_,m)}return Math.floor(m)}return C.objectMode?16:16384}s.exports={getHighWaterMark:I}},5567:(s,V,M)=>{s.exports=M(37007).EventEmitter},46737:(s,V,M)=>{V=s.exports=M(30206),V.Stream=V,V.Readable=V,V.Writable=M(7314),V.Duplex=M(26248),V.Transform=M(81816),V.PassThrough=M(75242),V.finished=M(23532),V.pipeline=M(43440)},30295:(s,V,M)=>{var A=M(48287).Buffer;s.exports=function(I,C){for(var f=Math.min(I.length,C.length),h=new A(f),p=0;p<f;++p)h[p]=I[p]^C[p];return h}},48287:(s,V,M)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const A=M(67526),L=M(251),I=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;V.Buffer=p,V.SlowBuffer=R,V.INSPECT_MAX_BYTES=50;const C=2147483647;V.kMaxLength=C,p.TYPED_ARRAY_SUPPORT=f(),!p.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{const he=new Uint8Array(1),re={foo:function(){return 42}};return Object.setPrototypeOf(re,Uint8Array.prototype),Object.setPrototypeOf(he,re),he.foo()===42}catch{return!1}}Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}});function h(he){if(he>C)throw new RangeError('The value "'+he+'" is invalid for option "size"');const re=new Uint8Array(he);return Object.setPrototypeOf(re,p.prototype),re}function p(he,re,ce){if(typeof he=="number"){if(typeof re=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(he)}return m(he,re,ce)}p.poolSize=8192;function m(he,re,ce){if(typeof he=="string")return S(he,re);if(ArrayBuffer.isView(he))return g(he);if(he==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof he);if(Fe(he,ArrayBuffer)||he&&Fe(he.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Fe(he,SharedArrayBuffer)||he&&Fe(he.buffer,SharedArrayBuffer)))return d(he,re,ce);if(typeof he=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ke=he.valueOf&&he.valueOf();if(ke!=null&&ke!==he)return p.from(ke,re,ce);const Ie=w(he);if(Ie)return Ie;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof he[Symbol.toPrimitive]=="function")return p.from(he[Symbol.toPrimitive]("string"),re,ce);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof he)}p.from=function(he,re,ce){return m(he,re,ce)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array);function _(he){if(typeof he!="number")throw new TypeError('"size" argument must be of type number');if(he<0)throw new RangeError('The value "'+he+'" is invalid for option "size"')}function b(he,re,ce){return _(he),he<=0?h(he):re!==void 0?typeof ce=="string"?h(he).fill(re,ce):h(he).fill(re):h(he)}p.alloc=function(he,re,ce){return b(he,re,ce)};function l(he){return _(he),h(he<0?0:k(he)|0)}p.allocUnsafe=function(he){return l(he)},p.allocUnsafeSlow=function(he){return l(he)};function S(he,re){if((typeof re!="string"||re==="")&&(re="utf8"),!p.isEncoding(re))throw new TypeError("Unknown encoding: "+re);const ce=P(he,re)|0;let ke=h(ce);const Ie=ke.write(he,re);return Ie!==ce&&(ke=ke.slice(0,Ie)),ke}function c(he){const re=he.length<0?0:k(he.length)|0,ce=h(re);for(let ke=0;ke<re;ke+=1)ce[ke]=he[ke]&255;return ce}function g(he){if(Fe(he,Uint8Array)){const re=new Uint8Array(he);return d(re.buffer,re.byteOffset,re.byteLength)}return c(he)}function d(he,re,ce){if(re<0||he.byteLength<re)throw new RangeError('"offset" is outside of buffer bounds');if(he.byteLength<re+(ce||0))throw new RangeError('"length" is outside of buffer bounds');let ke;return re===void 0&&ce===void 0?ke=new Uint8Array(he):ce===void 0?ke=new Uint8Array(he,re):ke=new Uint8Array(he,re,ce),Object.setPrototypeOf(ke,p.prototype),ke}function w(he){if(p.isBuffer(he)){const re=k(he.length)|0,ce=h(re);return ce.length===0||he.copy(ce,0,0,re),ce}if(he.length!==void 0)return typeof he.length!="number"||Be(he.length)?h(0):c(he);if(he.type==="Buffer"&&Array.isArray(he.data))return c(he.data)}function k(he){if(he>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return he|0}function R(he){return+he!=he&&(he=0),p.alloc(+he)}p.isBuffer=function(re){return re!=null&&re._isBuffer===!0&&re!==p.prototype},p.compare=function(re,ce){if(Fe(re,Uint8Array)&&(re=p.from(re,re.offset,re.byteLength)),Fe(ce,Uint8Array)&&(ce=p.from(ce,ce.offset,ce.byteLength)),!p.isBuffer(re)||!p.isBuffer(ce))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(re===ce)return 0;let ke=re.length,Ie=ce.length;for(let Qe=0,Oe=Math.min(ke,Ie);Qe<Oe;++Qe)if(re[Qe]!==ce[Qe]){ke=re[Qe],Ie=ce[Qe];break}return ke<Ie?-1:Ie<ke?1:0},p.isEncoding=function(re){switch(String(re).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(re,ce){if(!Array.isArray(re))throw new TypeError('"list" argument must be an Array of Buffers');if(re.length===0)return p.alloc(0);let ke;if(ce===void 0)for(ce=0,ke=0;ke<re.length;++ke)ce+=re[ke].length;const Ie=p.allocUnsafe(ce);let Qe=0;for(ke=0;ke<re.length;++ke){let Oe=re[ke];if(Fe(Oe,Uint8Array))Qe+Oe.length>Ie.length?(p.isBuffer(Oe)||(Oe=p.from(Oe)),Oe.copy(Ie,Qe)):Uint8Array.prototype.set.call(Ie,Oe,Qe);else if(p.isBuffer(Oe))Oe.copy(Ie,Qe);else throw new TypeError('"list" argument must be an Array of Buffers');Qe+=Oe.length}return Ie};function P(he,re){if(p.isBuffer(he))return he.length;if(ArrayBuffer.isView(he)||Fe(he,ArrayBuffer))return he.byteLength;if(typeof he!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof he);const ce=he.length,ke=arguments.length>2&&arguments[2]===!0;if(!ke&&ce===0)return 0;let Ie=!1;for(;;)switch(re){case"ascii":case"latin1":case"binary":return ce;case"utf8":case"utf-8":return de(he).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce*2;case"hex":return ce>>>1;case"base64":return pe(he).length;default:if(Ie)return ke?-1:de(he).length;re=(""+re).toLowerCase(),Ie=!0}}p.byteLength=P;function U(he,re,ce){let ke=!1;if((re===void 0||re<0)&&(re=0),re>this.length||((ce===void 0||ce>this.length)&&(ce=this.length),ce<=0)||(ce>>>=0,re>>>=0,ce<=re))return"";for(he||(he="utf8");;)switch(he){case"hex":return K(this,re,ce);case"utf8":case"utf-8":return D(this,re,ce);case"ascii":return q(this,re,ce);case"latin1":case"binary":return H(this,re,ce);case"base64":return $(this,re,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,re,ce);default:if(ke)throw new TypeError("Unknown encoding: "+he);he=(he+"").toLowerCase(),ke=!0}}p.prototype._isBuffer=!0;function F(he,re,ce){const ke=he[re];he[re]=he[ce],he[ce]=ke}p.prototype.swap16=function(){const re=this.length;if(re%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ce=0;ce<re;ce+=2)F(this,ce,ce+1);return this},p.prototype.swap32=function(){const re=this.length;if(re%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ce=0;ce<re;ce+=4)F(this,ce,ce+3),F(this,ce+1,ce+2);return this},p.prototype.swap64=function(){const re=this.length;if(re%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ce=0;ce<re;ce+=8)F(this,ce,ce+7),F(this,ce+1,ce+6),F(this,ce+2,ce+5),F(this,ce+3,ce+4);return this},p.prototype.toString=function(){const re=this.length;return re===0?"":arguments.length===0?D(this,0,re):U.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(re){if(!p.isBuffer(re))throw new TypeError("Argument must be a Buffer");return this===re?!0:p.compare(this,re)===0},p.prototype.inspect=function(){let re="";const ce=V.INSPECT_MAX_BYTES;return re=this.toString("hex",0,ce).replace(/(.{2})/g,"$1 ").trim(),this.length>ce&&(re+=" ... "),"<Buffer "+re+">"},I&&(p.prototype[I]=p.prototype.inspect),p.prototype.compare=function(re,ce,ke,Ie,Qe){if(Fe(re,Uint8Array)&&(re=p.from(re,re.offset,re.byteLength)),!p.isBuffer(re))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof re);if(ce===void 0&&(ce=0),ke===void 0&&(ke=re?re.length:0),Ie===void 0&&(Ie=0),Qe===void 0&&(Qe=this.length),ce<0||ke>re.length||Ie<0||Qe>this.length)throw new RangeError("out of range index");if(Ie>=Qe&&ce>=ke)return 0;if(Ie>=Qe)return-1;if(ce>=ke)return 1;if(ce>>>=0,ke>>>=0,Ie>>>=0,Qe>>>=0,this===re)return 0;let Oe=Qe-Ie,Ke=ke-ce;const Ot=Math.min(Oe,Ke),st=this.slice(Ie,Qe),lt=re.slice(ce,ke);for(let bt=0;bt<Ot;++bt)if(st[bt]!==lt[bt]){Oe=st[bt],Ke=lt[bt];break}return Oe<Ke?-1:Ke<Oe?1:0};function y(he,re,ce,ke,Ie){if(he.length===0)return-1;if(typeof ce=="string"?(ke=ce,ce=0):ce>2147483647?ce=2147483647:ce<-2147483648&&(ce=-2147483648),ce=+ce,Be(ce)&&(ce=Ie?0:he.length-1),ce<0&&(ce=he.length+ce),ce>=he.length){if(Ie)return-1;ce=he.length-1}else if(ce<0)if(Ie)ce=0;else return-1;if(typeof re=="string"&&(re=p.from(re,ke)),p.isBuffer(re))return re.length===0?-1:z(he,re,ce,ke,Ie);if(typeof re=="number")return re=re&255,typeof Uint8Array.prototype.indexOf=="function"?Ie?Uint8Array.prototype.indexOf.call(he,re,ce):Uint8Array.prototype.lastIndexOf.call(he,re,ce):z(he,[re],ce,ke,Ie);throw new TypeError("val must be string, number or Buffer")}function z(he,re,ce,ke,Ie){let Qe=1,Oe=he.length,Ke=re.length;if(ke!==void 0&&(ke=String(ke).toLowerCase(),ke==="ucs2"||ke==="ucs-2"||ke==="utf16le"||ke==="utf-16le")){if(he.length<2||re.length<2)return-1;Qe=2,Oe/=2,Ke/=2,ce/=2}function Ot(lt,bt){return Qe===1?lt[bt]:lt.readUInt16BE(bt*Qe)}let st;if(Ie){let lt=-1;for(st=ce;st<Oe;st++)if(Ot(he,st)===Ot(re,lt===-1?0:st-lt)){if(lt===-1&&(lt=st),st-lt+1===Ke)return lt*Qe}else lt!==-1&&(st-=st-lt),lt=-1}else for(ce+Ke>Oe&&(ce=Oe-Ke),st=ce;st>=0;st--){let lt=!0;for(let bt=0;bt<Ke;bt++)if(Ot(he,st+bt)!==Ot(re,bt)){lt=!1;break}if(lt)return st}return-1}p.prototype.includes=function(re,ce,ke){return this.indexOf(re,ce,ke)!==-1},p.prototype.indexOf=function(re,ce,ke){return y(this,re,ce,ke,!0)},p.prototype.lastIndexOf=function(re,ce,ke){return y(this,re,ce,ke,!1)};function Q(he,re,ce,ke){ce=Number(ce)||0;const Ie=he.length-ce;ke?(ke=Number(ke),ke>Ie&&(ke=Ie)):ke=Ie;const Qe=re.length;ke>Qe/2&&(ke=Qe/2);let Oe;for(Oe=0;Oe<ke;++Oe){const Ke=parseInt(re.substr(Oe*2,2),16);if(Be(Ke))return Oe;he[ce+Oe]=Ke}return Oe}function Z(he,re,ce,ke){return Ae(de(re,he.length-ce),he,ce,ke)}function X(he,re,ce,ke){return Ae(ue(re),he,ce,ke)}function Y(he,re,ce,ke){return Ae(pe(re),he,ce,ke)}function O(he,re,ce,ke){return Ae(le(re,he.length-ce),he,ce,ke)}p.prototype.write=function(re,ce,ke,Ie){if(ce===void 0)Ie="utf8",ke=this.length,ce=0;else if(ke===void 0&&typeof ce=="string")Ie=ce,ke=this.length,ce=0;else if(isFinite(ce))ce=ce>>>0,isFinite(ke)?(ke=ke>>>0,Ie===void 0&&(Ie="utf8")):(Ie=ke,ke=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Qe=this.length-ce;if((ke===void 0||ke>Qe)&&(ke=Qe),re.length>0&&(ke<0||ce<0)||ce>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ie||(Ie="utf8");let Oe=!1;for(;;)switch(Ie){case"hex":return Q(this,re,ce,ke);case"utf8":case"utf-8":return Z(this,re,ce,ke);case"ascii":case"latin1":case"binary":return X(this,re,ce,ke);case"base64":return Y(this,re,ce,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,re,ce,ke);default:if(Oe)throw new TypeError("Unknown encoding: "+Ie);Ie=(""+Ie).toLowerCase(),Oe=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(he,re,ce){return re===0&&ce===he.length?A.fromByteArray(he):A.fromByteArray(he.slice(re,ce))}function D(he,re,ce){ce=Math.min(he.length,ce);const ke=[];let Ie=re;for(;Ie<ce;){const Qe=he[Ie];let Oe=null,Ke=Qe>239?4:Qe>223?3:Qe>191?2:1;if(Ie+Ke<=ce){let Ot,st,lt,bt;switch(Ke){case 1:Qe<128&&(Oe=Qe);break;case 2:Ot=he[Ie+1],(Ot&192)===128&&(bt=(Qe&31)<<6|Ot&63,bt>127&&(Oe=bt));break;case 3:Ot=he[Ie+1],st=he[Ie+2],(Ot&192)===128&&(st&192)===128&&(bt=(Qe&15)<<12|(Ot&63)<<6|st&63,bt>2047&&(bt<55296||bt>57343)&&(Oe=bt));break;case 4:Ot=he[Ie+1],st=he[Ie+2],lt=he[Ie+3],(Ot&192)===128&&(st&192)===128&&(lt&192)===128&&(bt=(Qe&15)<<18|(Ot&63)<<12|(st&63)<<6|lt&63,bt>65535&&bt<1114112&&(Oe=bt))}}Oe===null?(Oe=65533,Ke=1):Oe>65535&&(Oe-=65536,ke.push(Oe>>>10&1023|55296),Oe=56320|Oe&1023),ke.push(Oe),Ie+=Ke}return E(ke)}const u=4096;function E(he){const re=he.length;if(re<=u)return String.fromCharCode.apply(String,he);let ce="",ke=0;for(;ke<re;)ce+=String.fromCharCode.apply(String,he.slice(ke,ke+=u));return ce}function q(he,re,ce){let ke="";ce=Math.min(he.length,ce);for(let Ie=re;Ie<ce;++Ie)ke+=String.fromCharCode(he[Ie]&127);return ke}function H(he,re,ce){let ke="";ce=Math.min(he.length,ce);for(let Ie=re;Ie<ce;++Ie)ke+=String.fromCharCode(he[Ie]);return ke}function K(he,re,ce){const ke=he.length;(!re||re<0)&&(re=0),(!ce||ce<0||ce>ke)&&(ce=ke);let Ie="";for(let Qe=re;Qe<ce;++Qe)Ie+=Ue[he[Qe]];return Ie}function G(he,re,ce){const ke=he.slice(re,ce);let Ie="";for(let Qe=0;Qe<ke.length-1;Qe+=2)Ie+=String.fromCharCode(ke[Qe]+ke[Qe+1]*256);return Ie}p.prototype.slice=function(re,ce){const ke=this.length;re=~~re,ce=ce===void 0?ke:~~ce,re<0?(re+=ke,re<0&&(re=0)):re>ke&&(re=ke),ce<0?(ce+=ke,ce<0&&(ce=0)):ce>ke&&(ce=ke),ce<re&&(ce=re);const Ie=this.subarray(re,ce);return Object.setPrototypeOf(Ie,p.prototype),Ie};function ie(he,re,ce){if(he%1!==0||he<0)throw new RangeError("offset is not uint");if(he+re>ce)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUintLE=p.prototype.readUIntLE=function(re,ce,ke){re=re>>>0,ce=ce>>>0,ke||ie(re,ce,this.length);let Ie=this[re],Qe=1,Oe=0;for(;++Oe<ce&&(Qe*=256);)Ie+=this[re+Oe]*Qe;return Ie},p.prototype.readUintBE=p.prototype.readUIntBE=function(re,ce,ke){re=re>>>0,ce=ce>>>0,ke||ie(re,ce,this.length);let Ie=this[re+--ce],Qe=1;for(;ce>0&&(Qe*=256);)Ie+=this[re+--ce]*Qe;return Ie},p.prototype.readUint8=p.prototype.readUInt8=function(re,ce){return re=re>>>0,ce||ie(re,1,this.length),this[re]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(re,ce){return re=re>>>0,ce||ie(re,2,this.length),this[re]|this[re+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(re,ce){return re=re>>>0,ce||ie(re,2,this.length),this[re]<<8|this[re+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(re,ce){return re=re>>>0,ce||ie(re,4,this.length),(this[re]|this[re+1]<<8|this[re+2]<<16)+this[re+3]*16777216},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(re,ce){return re=re>>>0,ce||ie(re,4,this.length),this[re]*16777216+(this[re+1]<<16|this[re+2]<<8|this[re+3])},p.prototype.readBigUInt64LE=He(function(re){re=re>>>0,_e(re,"offset");const ce=this[re],ke=this[re+7];(ce===void 0||ke===void 0)&&j(re,this.length-8);const Ie=ce+this[++re]*2**8+this[++re]*2**16+this[++re]*2**24,Qe=this[++re]+this[++re]*2**8+this[++re]*2**16+ke*2**24;return BigInt(Ie)+(BigInt(Qe)<<BigInt(32))}),p.prototype.readBigUInt64BE=He(function(re){re=re>>>0,_e(re,"offset");const ce=this[re],ke=this[re+7];(ce===void 0||ke===void 0)&&j(re,this.length-8);const Ie=ce*2**24+this[++re]*2**16+this[++re]*2**8+this[++re],Qe=this[++re]*2**24+this[++re]*2**16+this[++re]*2**8+ke;return(BigInt(Ie)<<BigInt(32))+BigInt(Qe)}),p.prototype.readIntLE=function(re,ce,ke){re=re>>>0,ce=ce>>>0,ke||ie(re,ce,this.length);let Ie=this[re],Qe=1,Oe=0;for(;++Oe<ce&&(Qe*=256);)Ie+=this[re+Oe]*Qe;return Qe*=128,Ie>=Qe&&(Ie-=Math.pow(2,8*ce)),Ie},p.prototype.readIntBE=function(re,ce,ke){re=re>>>0,ce=ce>>>0,ke||ie(re,ce,this.length);let Ie=ce,Qe=1,Oe=this[re+--Ie];for(;Ie>0&&(Qe*=256);)Oe+=this[re+--Ie]*Qe;return Qe*=128,Oe>=Qe&&(Oe-=Math.pow(2,8*ce)),Oe},p.prototype.readInt8=function(re,ce){return re=re>>>0,ce||ie(re,1,this.length),this[re]&128?(255-this[re]+1)*-1:this[re]},p.prototype.readInt16LE=function(re,ce){re=re>>>0,ce||ie(re,2,this.length);const ke=this[re]|this[re+1]<<8;return ke&32768?ke|4294901760:ke},p.prototype.readInt16BE=function(re,ce){re=re>>>0,ce||ie(re,2,this.length);const ke=this[re+1]|this[re]<<8;return ke&32768?ke|4294901760:ke},p.prototype.readInt32LE=function(re,ce){return re=re>>>0,ce||ie(re,4,this.length),this[re]|this[re+1]<<8|this[re+2]<<16|this[re+3]<<24},p.prototype.readInt32BE=function(re,ce){return re=re>>>0,ce||ie(re,4,this.length),this[re]<<24|this[re+1]<<16|this[re+2]<<8|this[re+3]},p.prototype.readBigInt64LE=He(function(re){re=re>>>0,_e(re,"offset");const ce=this[re],ke=this[re+7];(ce===void 0||ke===void 0)&&j(re,this.length-8);const Ie=this[re+4]+this[re+5]*2**8+this[re+6]*2**16+(ke<<24);return(BigInt(Ie)<<BigInt(32))+BigInt(ce+this[++re]*256+this[++re]*65536+this[++re]*16777216)}),p.prototype.readBigInt64BE=He(function(re){re=re>>>0,_e(re,"offset");const ce=this[re],ke=this[re+7];(ce===void 0||ke===void 0)&&j(re,this.length-8);const Ie=(ce<<24)+this[++re]*2**16+this[++re]*2**8+this[++re];return(BigInt(Ie)<<BigInt(32))+BigInt(this[++re]*16777216+this[++re]*65536+this[++re]*256+ke)}),p.prototype.readFloatLE=function(re,ce){return re=re>>>0,ce||ie(re,4,this.length),L.read(this,re,!0,23,4)},p.prototype.readFloatBE=function(re,ce){return re=re>>>0,ce||ie(re,4,this.length),L.read(this,re,!1,23,4)},p.prototype.readDoubleLE=function(re,ce){return re=re>>>0,ce||ie(re,8,this.length),L.read(this,re,!0,52,8)},p.prototype.readDoubleBE=function(re,ce){return re=re>>>0,ce||ie(re,8,this.length),L.read(this,re,!1,52,8)};function J(he,re,ce,ke,Ie,Qe){if(!p.isBuffer(he))throw new TypeError('"buffer" argument must be a Buffer instance');if(re>Ie||re<Qe)throw new RangeError('"value" argument is out of bounds');if(ce+ke>he.length)throw new RangeError("Index out of range")}p.prototype.writeUintLE=p.prototype.writeUIntLE=function(re,ce,ke,Ie){if(re=+re,ce=ce>>>0,ke=ke>>>0,!Ie){const Ke=Math.pow(2,8*ke)-1;J(this,re,ce,ke,Ke,0)}let Qe=1,Oe=0;for(this[ce]=re&255;++Oe<ke&&(Qe*=256);)this[ce+Oe]=re/Qe&255;return ce+ke},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(re,ce,ke,Ie){if(re=+re,ce=ce>>>0,ke=ke>>>0,!Ie){const Ke=Math.pow(2,8*ke)-1;J(this,re,ce,ke,Ke,0)}let Qe=ke-1,Oe=1;for(this[ce+Qe]=re&255;--Qe>=0&&(Oe*=256);)this[ce+Qe]=re/Oe&255;return ce+ke},p.prototype.writeUint8=p.prototype.writeUInt8=function(re,ce,ke){return re=+re,ce=ce>>>0,ke||J(this,re,ce,1,255,0),this[ce]=re&255,ce+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(re,ce,ke){return re=+re,ce=ce>>>0,ke||J(this,re,ce,2,65535,0),this[ce]=re&255,this[ce+1]=re>>>8,ce+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(re,ce,ke){return re=+re,ce=ce>>>0,ke||J(this,re,ce,2,65535,0),this[ce]=re>>>8,this[ce+1]=re&255,ce+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(re,ce,ke){return re=+re,ce=ce>>>0,ke||J(this,re,ce,4,4294967295,0),this[ce+3]=re>>>24,this[ce+2]=re>>>16,this[ce+1]=re>>>8,this[ce]=re&255,ce+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(re,ce,ke){return re=+re,ce=ce>>>0,ke||J(this,re,ce,4,4294967295,0),this[ce]=re>>>24,this[ce+1]=re>>>16,this[ce+2]=re>>>8,this[ce+3]=re&255,ce+4};function B(he,re,ce,ke,Ie){ge(re,ke,Ie,he,ce,7);let Qe=Number(re&BigInt(4294967295));he[ce++]=Qe,Qe=Qe>>8,he[ce++]=Qe,Qe=Qe>>8,he[ce++]=Qe,Qe=Qe>>8,he[ce++]=Qe;let Oe=Number(re>>BigInt(32)&BigInt(4294967295));return he[ce++]=Oe,Oe=Oe>>8,he[ce++]=Oe,Oe=Oe>>8,he[ce++]=Oe,Oe=Oe>>8,he[ce++]=Oe,ce}function ae(he,re,ce,ke,Ie){ge(re,ke,Ie,he,ce,7);let Qe=Number(re&BigInt(4294967295));he[ce+7]=Qe,Qe=Qe>>8,he[ce+6]=Qe,Qe=Qe>>8,he[ce+5]=Qe,Qe=Qe>>8,he[ce+4]=Qe;let Oe=Number(re>>BigInt(32)&BigInt(4294967295));return he[ce+3]=Oe,Oe=Oe>>8,he[ce+2]=Oe,Oe=Oe>>8,he[ce+1]=Oe,Oe=Oe>>8,he[ce]=Oe,ce+8}p.prototype.writeBigUInt64LE=He(function(re,ce=0){return B(this,re,ce,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=He(function(re,ce=0){return ae(this,re,ce,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(re,ce,ke,Ie){if(re=+re,ce=ce>>>0,!Ie){const Ot=Math.pow(2,8*ke-1);J(this,re,ce,ke,Ot-1,-Ot)}let Qe=0,Oe=1,Ke=0;for(this[ce]=re&255;++Qe<ke&&(Oe*=256);)re<0&&Ke===0&&this[ce+Qe-1]!==0&&(Ke=1),this[ce+Qe]=(re/Oe>>0)-Ke&255;return ce+ke},p.prototype.writeIntBE=function(re,ce,ke,Ie){if(re=+re,ce=ce>>>0,!Ie){const Ot=Math.pow(2,8*ke-1);J(this,re,ce,ke,Ot-1,-Ot)}let Qe=ke-1,Oe=1,Ke=0;for(this[ce+Qe]=re&255;--Qe>=0&&(Oe*=256);)re<0&&Ke===0&&this[ce+Qe+1]!==0&&(Ke=1),this[ce+Qe]=(re/Oe>>0)-Ke&255;return ce+ke},p.prototype.writeInt8=function(re,ce,ke){return re=+re,ce=ce>>>0,ke||J(this,re,ce,1,127,-128),re<0&&(re=255+re+1),this[ce]=re&255,ce+1},p.prototype.writeInt16LE=function(re,ce,ke){return re=+re,ce=ce>>>0,ke||J(this,re,ce,2,32767,-32768),this[ce]=re&255,this[ce+1]=re>>>8,ce+2},p.prototype.writeInt16BE=function(re,ce,ke){return re=+re,ce=ce>>>0,ke||J(this,re,ce,2,32767,-32768),this[ce]=re>>>8,this[ce+1]=re&255,ce+2},p.prototype.writeInt32LE=function(re,ce,ke){return re=+re,ce=ce>>>0,ke||J(this,re,ce,4,2147483647,-2147483648),this[ce]=re&255,this[ce+1]=re>>>8,this[ce+2]=re>>>16,this[ce+3]=re>>>24,ce+4},p.prototype.writeInt32BE=function(re,ce,ke){return re=+re,ce=ce>>>0,ke||J(this,re,ce,4,2147483647,-2147483648),re<0&&(re=4294967295+re+1),this[ce]=re>>>24,this[ce+1]=re>>>16,this[ce+2]=re>>>8,this[ce+3]=re&255,ce+4},p.prototype.writeBigInt64LE=He(function(re,ce=0){return B(this,re,ce,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=He(function(re,ce=0){return ae(this,re,ce,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ne(he,re,ce,ke,Ie,Qe){if(ce+ke>he.length)throw new RangeError("Index out of range");if(ce<0)throw new RangeError("Index out of range")}function be(he,re,ce,ke,Ie){return re=+re,ce=ce>>>0,Ie||Ne(he,re,ce,4,34028234663852886e22,-34028234663852886e22),L.write(he,re,ce,ke,23,4),ce+4}p.prototype.writeFloatLE=function(re,ce,ke){return be(this,re,ce,!0,ke)},p.prototype.writeFloatBE=function(re,ce,ke){return be(this,re,ce,!1,ke)};function we(he,re,ce,ke,Ie){return re=+re,ce=ce>>>0,Ie||Ne(he,re,ce,8,17976931348623157e292,-17976931348623157e292),L.write(he,re,ce,ke,52,8),ce+8}p.prototype.writeDoubleLE=function(re,ce,ke){return we(this,re,ce,!0,ke)},p.prototype.writeDoubleBE=function(re,ce,ke){return we(this,re,ce,!1,ke)},p.prototype.copy=function(re,ce,ke,Ie){if(!p.isBuffer(re))throw new TypeError("argument should be a Buffer");if(ke||(ke=0),!Ie&&Ie!==0&&(Ie=this.length),ce>=re.length&&(ce=re.length),ce||(ce=0),Ie>0&&Ie<ke&&(Ie=ke),Ie===ke||re.length===0||this.length===0)return 0;if(ce<0)throw new RangeError("targetStart out of bounds");if(ke<0||ke>=this.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("sourceEnd out of bounds");Ie>this.length&&(Ie=this.length),re.length-ce<Ie-ke&&(Ie=re.length-ce+ke);const Qe=Ie-ke;return this===re&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(ce,ke,Ie):Uint8Array.prototype.set.call(re,this.subarray(ke,Ie),ce),Qe},p.prototype.fill=function(re,ce,ke,Ie){if(typeof re=="string"){if(typeof ce=="string"?(Ie=ce,ce=0,ke=this.length):typeof ke=="string"&&(Ie=ke,ke=this.length),Ie!==void 0&&typeof Ie!="string")throw new TypeError("encoding must be a string");if(typeof Ie=="string"&&!p.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);if(re.length===1){const Oe=re.charCodeAt(0);(Ie==="utf8"&&Oe<128||Ie==="latin1")&&(re=Oe)}}else typeof re=="number"?re=re&255:typeof re=="boolean"&&(re=Number(re));if(ce<0||this.length<ce||this.length<ke)throw new RangeError("Out of range index");if(ke<=ce)return this;ce=ce>>>0,ke=ke===void 0?this.length:ke>>>0,re||(re=0);let Qe;if(typeof re=="number")for(Qe=ce;Qe<ke;++Qe)this[Qe]=re;else{const Oe=p.isBuffer(re)?re:p.from(re,Ie),Ke=Oe.length;if(Ke===0)throw new TypeError('The value "'+re+'" is invalid for argument "value"');for(Qe=0;Qe<ke-ce;++Qe)this[Qe+ce]=Oe[Qe%Ke]}return this};const Te={};function ee(he,re,ce){Te[he]=class extends ce{constructor(){super(),Object.defineProperty(this,"message",{value:re.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${he}]`,this.stack,delete this.name}get code(){return he}set code(Ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ie,writable:!0})}toString(){return`${this.name} [${he}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(he){return he?`${he} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(he,re){return`The "${he}" argument must be of type number. Received type ${typeof re}`},TypeError),ee("ERR_OUT_OF_RANGE",function(he,re,ce){let ke=`The value of "${he}" is out of range.`,Ie=ce;return Number.isInteger(ce)&&Math.abs(ce)>4294967296?Ie=ne(String(ce)):typeof ce=="bigint"&&(Ie=String(ce),(ce>BigInt(2)**BigInt(32)||ce<-(BigInt(2)**BigInt(32)))&&(Ie=ne(Ie)),Ie+="n"),ke+=` It must be ${re}. Received ${Ie}`,ke},RangeError);function ne(he){let re="",ce=he.length;const ke=he[0]==="-"?1:0;for(;ce>=ke+4;ce-=3)re=`_${he.slice(ce-3,ce)}${re}`;return`${he.slice(0,ce)}${re}`}function me(he,re,ce){_e(re,"offset"),(he[re]===void 0||he[re+ce]===void 0)&&j(re,he.length-(ce+1))}function ge(he,re,ce,ke,Ie,Qe){if(he>ce||he<re){const Oe=typeof re=="bigint"?"n":"";let Ke;throw Qe>3?re===0||re===BigInt(0)?Ke=`>= 0${Oe} and < 2${Oe} ** ${(Qe+1)*8}${Oe}`:Ke=`>= -(2${Oe} ** ${(Qe+1)*8-1}${Oe}) and < 2 ** ${(Qe+1)*8-1}${Oe}`:Ke=`>= ${re}${Oe} and <= ${ce}${Oe}`,new Te.ERR_OUT_OF_RANGE("value",Ke,he)}me(ke,Ie,Qe)}function _e(he,re){if(typeof he!="number")throw new Te.ERR_INVALID_ARG_TYPE(re,"number",he)}function j(he,re,ce){throw Math.floor(he)!==he?(_e(he,ce),new Te.ERR_OUT_OF_RANGE(ce||"offset","an integer",he)):re<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE(ce||"offset",`>= ${ce?1:0} and <= ${re}`,he)}const N=/[^+/0-9A-Za-z-_]/g;function se(he){if(he=he.split("=")[0],he=he.trim().replace(N,""),he.length<2)return"";for(;he.length%4!==0;)he=he+"=";return he}function de(he,re){re=re||1/0;let ce;const ke=he.length;let Ie=null;const Qe=[];for(let Oe=0;Oe<ke;++Oe){if(ce=he.charCodeAt(Oe),ce>55295&&ce<57344){if(!Ie){if(ce>56319){(re-=3)>-1&&Qe.push(239,191,189);continue}else if(Oe+1===ke){(re-=3)>-1&&Qe.push(239,191,189);continue}Ie=ce;continue}if(ce<56320){(re-=3)>-1&&Qe.push(239,191,189),Ie=ce;continue}ce=(Ie-55296<<10|ce-56320)+65536}else Ie&&(re-=3)>-1&&Qe.push(239,191,189);if(Ie=null,ce<128){if((re-=1)<0)break;Qe.push(ce)}else if(ce<2048){if((re-=2)<0)break;Qe.push(ce>>6|192,ce&63|128)}else if(ce<65536){if((re-=3)<0)break;Qe.push(ce>>12|224,ce>>6&63|128,ce&63|128)}else if(ce<1114112){if((re-=4)<0)break;Qe.push(ce>>18|240,ce>>12&63|128,ce>>6&63|128,ce&63|128)}else throw new Error("Invalid code point")}return Qe}function ue(he){const re=[];for(let ce=0;ce<he.length;++ce)re.push(he.charCodeAt(ce)&255);return re}function le(he,re){let ce,ke,Ie;const Qe=[];for(let Oe=0;Oe<he.length&&!((re-=2)<0);++Oe)ce=he.charCodeAt(Oe),ke=ce>>8,Ie=ce%256,Qe.push(Ie),Qe.push(ke);return Qe}function pe(he){return A.toByteArray(se(he))}function Ae(he,re,ce,ke){let Ie;for(Ie=0;Ie<ke&&!(Ie+ce>=re.length||Ie>=he.length);++Ie)re[Ie+ce]=he[Ie];return Ie}function Fe(he,re){return he instanceof re||he!=null&&he.constructor!=null&&he.constructor.name!=null&&he.constructor.name===re.name}function Be(he){return he!==he}const Ue=function(){const he="0123456789abcdef",re=new Array(256);for(let ce=0;ce<16;++ce){const ke=ce*16;for(let Ie=0;Ie<16;++Ie)re[ke+Ie]=he[ce]+he[Ie]}return re}();function He(he){return typeof BigInt=="undefined"?Ye:he}function Ye(){throw new Error("BigInt not supported")}},86866:s=>{s.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},13144:(s,V,M)=>{"use strict";var A=M(84742),L=M(11002),I=M(10076),C=M(47119);s.exports=C||A.call(I,L)},12205:(s,V,M)=>{"use strict";var A=M(84742),L=M(11002),I=M(13144);s.exports=function(){return I(A,L,arguments)}},11002:s=>{"use strict";s.exports=Function.prototype.apply},10076:s=>{"use strict";s.exports=Function.prototype.call},73126:(s,V,M)=>{"use strict";var A=M(84742),L=M(69675),I=M(10076),C=M(13144);s.exports=function(h){if(h.length<1||typeof h[0]!="function")throw new L("a function is required");return C(A,I,h)}},80702:s=>{"use strict";var V="Function.prototype.bind called on incompatible ",M=Object.prototype.toString,A=Math.max,L="[object Function]",I=function(p,m){for(var _=[],b=0;b<p.length;b+=1)_[b]=p[b];for(var l=0;l<m.length;l+=1)_[l+p.length]=m[l];return _},C=function(p,m){for(var _=[],b=m||0,l=0;b<p.length;b+=1,l+=1)_[l]=p[b];return _},f=function(h,p){for(var m="",_=0;_<h.length;_+=1)m+=h[_],_+1<h.length&&(m+=p);return m};s.exports=function(p){var m=this;if(typeof m!="function"||M.apply(m)!==L)throw new TypeError(V+m);for(var _=C(arguments,1),b,l=function(){if(this instanceof b){var w=m.apply(this,I(_,arguments));return Object(w)===w?w:this}return m.apply(p,I(_,arguments))},S=A(0,m.length-_.length),c=[],g=0;g<S;g++)c[g]="$"+g;if(b=Function("binder","return function ("+f(c,",")+"){ return binder.apply(this,arguments); }")(l),m.prototype){var d=function(){};d.prototype=m.prototype,b.prototype=new d,d.prototype=null}return b}},84742:(s,V,M)=>{"use strict";var A=M(80702);s.exports=Function.prototype.bind||A},47119:s=>{"use strict";s.exports=typeof Reflect!="undefined"&&Reflect&&Reflect.apply},36556:(s,V,M)=>{"use strict";var A=M(70453),L=M(73126),I=L([A("%String.prototype.indexOf%")]);s.exports=function(f,h){var p=A(f,!!h);return typeof p=="function"&&I(f,".prototype.")>-1?L([p]):p}},56168:(s,V,M)=>{"use strict";var A=M(92861).Buffer,L=M(88310).Transform,I=M(83141).I,C=M(56698);function f(_){L.call(this),this.hashMode=typeof _=="string",this.hashMode?this[_]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}C(f,L);var h=typeof Uint8Array!="undefined",p=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&ArrayBuffer.isView&&(A.prototype instanceof Uint8Array||A.TYPED_ARRAY_SUPPORT);function m(_,b){if(_ instanceof A)return _;if(typeof _=="string")return A.from(_,b);if(p&&ArrayBuffer.isView(_)){if(_.byteLength===0)return A.alloc(0);var l=A.from(_.buffer,_.byteOffset,_.byteLength);if(l.byteLength===_.byteLength)return l}if(h&&_ instanceof Uint8Array||A.isBuffer(_)&&_.constructor&&typeof _.constructor.isBuffer=="function"&&_.constructor.isBuffer(_))return A.from(_);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}f.prototype.update=function(_,b,l){var S=m(_,b),c=this._update(S);return this.hashMode?this:(l&&(c=this._toString(c,l)),c)},f.prototype.setAutoPadding=function(){},f.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},f.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},f.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},f.prototype._transform=function(_,b,l){var S;try{this.hashMode?this._update(_):this.push(this._update(_))}catch(c){S=c}finally{l(S)}},f.prototype._flush=function(_){var b;try{this.push(this.__final())}catch(l){b=l}_(b)},f.prototype._finalOrDigest=function(_){var b=this.__final()||A.alloc(0);return _&&(b=this._toString(b,_,!0)),b},f.prototype._toString=function(_,b,l){if(this._decoder||(this._decoder=new I(b),this._encoding=b),this._encoding!==b)throw new Error("can\u2019t switch encodings");var S=this._decoder.write(_);return l&&(S+=this._decoder.end()),S},s.exports=f},61324:(s,V,M)=>{var A=M(48287).Buffer,L=M(86729),I=M(39404);s.exports=function(m){return new f(m)};var C={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};C.p224=C.secp224r1,C.p256=C.secp256r1=C.prime256v1,C.p192=C.secp192r1=C.prime192v1,C.p384=C.secp384r1,C.p521=C.secp521r1;function f(p){this.curveType=C[p],this.curveType||(this.curveType={name:p}),this.curve=new L.ec(this.curveType.name),this.keys=void 0}f.prototype.generateKeys=function(p,m){return this.keys=this.curve.genKeyPair(),this.getPublicKey(p,m)},f.prototype.computeSecret=function(p,m,_){m=m||"utf8",A.isBuffer(p)||(p=new A(p,m));var b=this.curve.keyFromPublic(p).getPublic(),l=b.mul(this.keys.getPrivate()).getX();return h(l,_,this.curveType.byteLength)},f.prototype.getPublicKey=function(p,m){var _=this.keys.getPublic(m==="compressed",!0);return m==="hybrid"&&(_[_.length-1]%2?_[0]=7:_[0]=6),h(_,p)},f.prototype.getPrivateKey=function(p){return h(this.keys.getPrivate(),p)},f.prototype.setPublicKey=function(p,m){return m=m||"utf8",A.isBuffer(p)||(p=new A(p,m)),this.keys._importPublic(p),this},f.prototype.setPrivateKey=function(p,m){m=m||"utf8",A.isBuffer(p)||(p=new A(p,m));var _=new I(p);return _=_.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(_),this};function h(p,m,_){Array.isArray(p)||(p=p.toArray());var b=new A(p);if(_&&b.length<_){var l=new A(_-b.length);l.fill(0),b=A.concat([l,b])}return m?b.toString(m):b}},47108:(s,V,M)=>{"use strict";var A=M(56698),L=M(88276),I=M(66011),C=M(62802),f=M(56168);function h(p){f.call(this,"digest"),this._hash=p}A(h,f),h.prototype._update=function(p){this._hash.update(p)},h.prototype._final=function(){return this._hash.digest()},s.exports=function(m){return m=m.toLowerCase(),m==="md5"?new L:m==="rmd160"||m==="ripemd160"?new I:new h(C(m))}},20320:(s,V,M)=>{var A=M(88276);s.exports=function(L){return new A().update(L).digest()}},83507:(s,V,M)=>{"use strict";var A=M(56698),L=M(41800),I=M(56168),C=M(92861).Buffer,f=M(20320),h=M(66011),p=M(62802),m=C.alloc(128);function _(b,l){I.call(this,"digest"),typeof l=="string"&&(l=C.from(l));var S=b==="sha512"||b==="sha384"?128:64;if(this._alg=b,this._key=l,l.length>S){var c=b==="rmd160"?new h:p(b);l=c.update(l).digest()}else l.length<S&&(l=C.concat([l,m],S));for(var g=this._ipad=C.allocUnsafe(S),d=this._opad=C.allocUnsafe(S),w=0;w<S;w++)g[w]=l[w]^54,d[w]=l[w]^92;this._hash=b==="rmd160"?new h:p(b),this._hash.update(g)}A(_,I),_.prototype._update=function(b){this._hash.update(b)},_.prototype._final=function(){var b=this._hash.digest(),l=this._alg==="rmd160"?new h:p(this._alg);return l.update(this._opad).update(b).digest()},s.exports=function(l,S){return l=l.toLowerCase(),l==="rmd160"||l==="ripemd160"?new _("rmd160",S):l==="md5"?new L(f,S):new _(l,S)}},41800:(s,V,M)=>{"use strict";var A=M(56698),L=M(92861).Buffer,I=M(56168),C=L.alloc(128),f=64;function h(p,m){I.call(this,"digest"),typeof m=="string"&&(m=L.from(m)),this._alg=p,this._key=m,m.length>f?m=p(m):m.length<f&&(m=L.concat([m,C],f));for(var _=this._ipad=L.allocUnsafe(f),b=this._opad=L.allocUnsafe(f),l=0;l<f;l++)_[l]=m[l]^54,b[l]=m[l]^92;this._hash=[_]}A(h,I),h.prototype._update=function(p){this._hash.push(p)},h.prototype._final=function(){var p=this._alg(L.concat(this._hash));return this._alg(L.concat([this._opad,p]))},s.exports=h},74945:function(s,V){var M=typeof self!="undefined"?self:this,A=function(){function I(){this.fetch=!1,this.DOMException=M.DOMException}return I.prototype=M,new I}();(function(I){var C=function(f){var h={searchParams:"URLSearchParams"in I,iterable:"Symbol"in I&&"iterator"in Symbol,blob:"FileReader"in I&&"Blob"in I&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in I,arrayBuffer:"ArrayBuffer"in I};function p($){return $&&DataView.prototype.isPrototypeOf($)}if(h.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function($){return $&&m.indexOf(Object.prototype.toString.call($))>-1};function b($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test($))throw new TypeError("Invalid character in header field name");return $.toLowerCase()}function l($){return typeof $!="string"&&($=String($)),$}function S($){var D={next:function(){var u=$.shift();return{done:u===void 0,value:u}}};return h.iterable&&(D[Symbol.iterator]=function(){return D}),D}function c($){this.map={},$ instanceof c?$.forEach(function(D,u){this.append(u,D)},this):Array.isArray($)?$.forEach(function(D){this.append(D[0],D[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(D){this.append(D,$[D])},this)}c.prototype.append=function($,D){$=b($),D=l(D);var u=this.map[$];this.map[$]=u?u+", "+D:D},c.prototype.delete=function($){delete this.map[b($)]},c.prototype.get=function($){return $=b($),this.has($)?this.map[$]:null},c.prototype.has=function($){return this.map.hasOwnProperty(b($))},c.prototype.set=function($,D){this.map[b($)]=l(D)},c.prototype.forEach=function($,D){for(var u in this.map)this.map.hasOwnProperty(u)&&$.call(D,this.map[u],u,this)},c.prototype.keys=function(){var $=[];return this.forEach(function(D,u){$.push(u)}),S($)},c.prototype.values=function(){var $=[];return this.forEach(function(D){$.push(D)}),S($)},c.prototype.entries=function(){var $=[];return this.forEach(function(D,u){$.push([u,D])}),S($)},h.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);function g($){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}function d($){return new Promise(function(D,u){$.onload=function(){D($.result)},$.onerror=function(){u($.error)}})}function w($){var D=new FileReader,u=d(D);return D.readAsArrayBuffer($),u}function k($){var D=new FileReader,u=d(D);return D.readAsText($),u}function R($){for(var D=new Uint8Array($),u=new Array(D.length),E=0;E<D.length;E++)u[E]=String.fromCharCode(D[E]);return u.join("")}function P($){if($.slice)return $.slice(0);var D=new Uint8Array($.byteLength);return D.set(new Uint8Array($)),D.buffer}function U(){return this.bodyUsed=!1,this._initBody=function($){this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:h.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:h.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:h.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():h.arrayBuffer&&h.blob&&p($)?(this._bodyArrayBuffer=P($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||_($))?this._bodyArrayBuffer=P($):this._bodyText=$=Object.prototype.toString.call($):this._bodyText="",this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var $=g(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var $=g(this);if($)return $;if(this._bodyBlob)return k(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(Q)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y($){var D=$.toUpperCase();return F.indexOf(D)>-1?D:$}function z($,D){D=D||{};var u=D.body;if($ instanceof z){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,D.headers||(this.headers=new c($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!u&&$._bodyInit!=null&&(u=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=D.credentials||this.credentials||"same-origin",(D.headers||!this.headers)&&(this.headers=new c(D.headers)),this.method=y(D.method||this.method||"GET"),this.mode=D.mode||this.mode||null,this.signal=D.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&u)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(u)}z.prototype.clone=function(){return new z(this,{body:this._bodyInit})};function Q($){var D=new FormData;return $.trim().split("&").forEach(function(u){if(u){var E=u.split("="),q=E.shift().replace(/\+/g," "),H=E.join("=").replace(/\+/g," ");D.append(decodeURIComponent(q),decodeURIComponent(H))}}),D}function Z($){var D=new c,u=$.replace(/\r?\n[\t ]+/g," ");return u.split(/\r?\n/).forEach(function(E){var q=E.split(":"),H=q.shift().trim();if(H){var K=q.join(":").trim();D.append(H,K)}}),D}U.call(z.prototype);function X($,D){D||(D={}),this.type="default",this.status=D.status===void 0?200:D.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in D?D.statusText:"OK",this.headers=new c(D.headers),this.url=D.url||"",this._initBody($)}U.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},X.error=function(){var $=new X(null,{status:0,statusText:""});return $.type="error",$};var Y=[301,302,303,307,308];X.redirect=function($,D){if(Y.indexOf(D)===-1)throw new RangeError("Invalid status code");return new X(null,{status:D,headers:{location:$}})},f.DOMException=I.DOMException;try{new f.DOMException}catch{f.DOMException=function(D,u){this.message=D,this.name=u;var E=Error(D);this.stack=E.stack},f.DOMException.prototype=Object.create(Error.prototype),f.DOMException.prototype.constructor=f.DOMException}function O($,D){return new Promise(function(u,E){var q=new z($,D);if(q.signal&&q.signal.aborted)return E(new f.DOMException("Aborted","AbortError"));var H=new XMLHttpRequest;function K(){H.abort()}H.onload=function(){var G={status:H.status,statusText:H.statusText,headers:Z(H.getAllResponseHeaders()||"")};G.url="responseURL"in H?H.responseURL:G.headers.get("X-Request-URL");var ie="response"in H?H.response:H.responseText;u(new X(ie,G))},H.onerror=function(){E(new TypeError("Network request failed"))},H.ontimeout=function(){E(new TypeError("Network request failed"))},H.onabort=function(){E(new f.DOMException("Aborted","AbortError"))},H.open(q.method,q.url,!0),q.credentials==="include"?H.withCredentials=!0:q.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&h.blob&&(H.responseType="blob"),q.headers.forEach(function(G,ie){H.setRequestHeader(ie,G)}),q.signal&&(q.signal.addEventListener("abort",K),H.onreadystatechange=function(){H.readyState===4&&q.signal.removeEventListener("abort",K)}),H.send(typeof q._bodyInit=="undefined"?null:q._bodyInit)})}return O.polyfill=!0,I.fetch||(I.fetch=O,I.Headers=c,I.Request=z,I.Response=X),f.Headers=c,f.Request=z,f.Response=X,f.fetch=O,Object.defineProperty(f,"__esModule",{value:!0}),f}({})})(A),A.fetch.ponyfill=!0,delete A.fetch.polyfill;var L=A;V=L.fetch,V.default=L.fetch,V.fetch=L.fetch,V.Headers=L.Headers,V.Request=L.Request,V.Response=L.Response,s.exports=V},91565:(s,V,M)=>{"use strict";var A;A=A=A=M(53209),V.n1=M(47108),A=M(83507);var L=M(55715),I=Object.keys(L),C=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(I);A=function(){return C};var f=M(78396);A=f.pbkdf2,A=f.pbkdf2Sync;var h=M(30125);A=h.Cipher,A=h.createCipher,A=h.Cipheriv,A=h.createCipheriv,A=h.Decipher,A=h.createDecipher,A=h.Decipheriv,A=h.createDecipheriv,A=h.getCiphers,A=h.listCiphers;var p=M(15380);A=p.DiffieHellmanGroup,A=p.createDiffieHellmanGroup,A=p.getDiffieHellman,A=p.createDiffieHellman,A=p.DiffieHellman;var m=M(20);A=m.createSign,A=m.Sign,A=m.createVerify,A=m.Verify,M(61324);var _=M(97168);A=_.publicEncrypt,A=_.privateEncrypt,A=_.publicDecrypt,A=_.privateDecrypt;var b=M(76983);A=b.randomFill,A=b.randomFillSync,A=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},A={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},74353:function(s){(function(V,M){s.exports=M()})(this,function(){"use strict";var V="millisecond",M="second",A="minute",L="hour",I="day",C="week",f="month",h="quarter",p="year",m="date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},S=function(y,z,Q){var Z=String(y);return!Z||Z.length>=z?y:""+Array(z+1-Z.length).join(Q)+y},c={s:S,z:function(y){var z=-y.utcOffset(),Q=Math.abs(z),Z=Math.floor(Q/60),X=Q%60;return(z<=0?"+":"-")+S(Z,2,"0")+":"+S(X,2,"0")},m:function y(z,Q){if(z.date()<Q.date())return-y(Q,z);var Z=12*(Q.year()-z.year())+(Q.month()-z.month()),X=z.clone().add(Z,f),Y=Q-X<0,O=z.clone().add(Z+(Y?-1:1),f);return+(-(Z+(Q-X)/(Y?X-O:O-X))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:f,y:p,w:C,d:I,D:m,h:L,m:A,s:M,ms:V,Q:h}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},g="en",d={};d[g]=l;var w=function(y){return y instanceof U},k=function(y,z,Q){var Z;if(!y)return g;if(typeof y=="string")d[y]&&(Z=y),z&&(d[y]=z,Z=y);else{var X=y.name;d[X]=y,Z=X}return!Q&&Z&&(g=Z),Z||!Q&&g},R=function(y,z){if(w(y))return y.clone();var Q=typeof z=="object"?z:{};return Q.date=y,Q.args=arguments,new U(Q)},P=c;P.l=k,P.i=w,P.w=function(y,z){return R(y,{locale:z.$L,utc:z.$u,x:z.$x,$offset:z.$offset})};var U=function(){function y(Q){this.$L=k(Q.locale,null,!0),this.parse(Q)}var z=y.prototype;return z.parse=function(Q){this.$d=function(Z){var X=Z.date,Y=Z.utc;if(X===null)return new Date(NaN);if(P.u(X))return new Date;if(X instanceof Date)return new Date(X);if(typeof X=="string"&&!/Z$/i.test(X)){var O=X.match(_);if(O){var $=O[2]-1||0,D=(O[7]||"0").substring(0,3);return Y?new Date(Date.UTC(O[1],$,O[3]||1,O[4]||0,O[5]||0,O[6]||0,D)):new Date(O[1],$,O[3]||1,O[4]||0,O[5]||0,O[6]||0,D)}}return new Date(X)}(Q),this.$x=Q.x||{},this.init()},z.init=function(){var Q=this.$d;this.$y=Q.getFullYear(),this.$M=Q.getMonth(),this.$D=Q.getDate(),this.$W=Q.getDay(),this.$H=Q.getHours(),this.$m=Q.getMinutes(),this.$s=Q.getSeconds(),this.$ms=Q.getMilliseconds()},z.$utils=function(){return P},z.isValid=function(){return this.$d.toString()!=="Invalid Date"},z.isSame=function(Q,Z){var X=R(Q);return this.startOf(Z)<=X&&X<=this.endOf(Z)},z.isAfter=function(Q,Z){return R(Q)<this.startOf(Z)},z.isBefore=function(Q,Z){return this.endOf(Z)<R(Q)},z.$g=function(Q,Z,X){return P.u(Q)?this[Z]:this.set(X,Q)},z.unix=function(){return Math.floor(this.valueOf()/1e3)},z.valueOf=function(){return this.$d.getTime()},z.startOf=function(Q,Z){var X=this,Y=!!P.u(Z)||Z,O=P.p(Q),$=function(ie,J){var B=P.w(X.$u?Date.UTC(X.$y,J,ie):new Date(X.$y,J,ie),X);return Y?B:B.endOf(I)},D=function(ie,J){return P.w(X.toDate()[ie].apply(X.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(J)),X)},u=this.$W,E=this.$M,q=this.$D,H="set"+(this.$u?"UTC":"");switch(O){case p:return Y?$(1,0):$(31,11);case f:return Y?$(1,E):$(0,E+1);case C:var K=this.$locale().weekStart||0,G=(u<K?u+7:u)-K;return $(Y?q-G:q+(6-G),E);case I:case m:return D(H+"Hours",0);case L:return D(H+"Minutes",1);case A:return D(H+"Seconds",2);case M:return D(H+"Milliseconds",3);default:return this.clone()}},z.endOf=function(Q){return this.startOf(Q,!1)},z.$set=function(Q,Z){var X,Y=P.p(Q),O="set"+(this.$u?"UTC":""),$=(X={},X[I]=O+"Date",X[m]=O+"Date",X[f]=O+"Month",X[p]=O+"FullYear",X[L]=O+"Hours",X[A]=O+"Minutes",X[M]=O+"Seconds",X[V]=O+"Milliseconds",X)[Y],D=Y===I?this.$D+(Z-this.$W):Z;if(Y===f||Y===p){var u=this.clone().set(m,1);u.$d[$](D),u.init(),this.$d=u.set(m,Math.min(this.$D,u.daysInMonth())).$d}else $&&this.$d[$](D);return this.init(),this},z.set=function(Q,Z){return this.clone().$set(Q,Z)},z.get=function(Q){return this[P.p(Q)]()},z.add=function(Q,Z){var X,Y=this;Q=Number(Q);var O=P.p(Z),$=function(E){var q=R(Y);return P.w(q.date(q.date()+Math.round(E*Q)),Y)};if(O===f)return this.set(f,this.$M+Q);if(O===p)return this.set(p,this.$y+Q);if(O===I)return $(1);if(O===C)return $(7);var D=(X={},X[A]=6e4,X[L]=36e5,X[M]=1e3,X)[O]||1,u=this.$d.getTime()+Q*D;return P.w(u,this)},z.subtract=function(Q,Z){return this.add(-1*Q,Z)},z.format=function(Q){var Z=this;if(!this.isValid())return"Invalid Date";var X=Q||"YYYY-MM-DDTHH:mm:ssZ",Y=P.z(this),O=this.$locale(),$=this.$H,D=this.$m,u=this.$M,E=O.weekdays,q=O.months,H=function(J,B,ae,Ne){return J&&(J[B]||J(Z,X))||ae[B].substr(0,Ne)},K=function(J){return P.s($%12||12,J,"0")},G=O.meridiem||function(J,B,ae){var Ne=J<12?"AM":"PM";return ae?Ne.toLowerCase():Ne},ie={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:P.s(u+1,2,"0"),MMM:H(O.monthsShort,u,q,3),MMMM:H(q,u),D:this.$D,DD:P.s(this.$D,2,"0"),d:String(this.$W),dd:H(O.weekdaysMin,this.$W,E,2),ddd:H(O.weekdaysShort,this.$W,E,3),dddd:E[this.$W],H:String($),HH:P.s($,2,"0"),h:K(1),hh:K(2),a:G($,D,!0),A:G($,D,!1),m:String(D),mm:P.s(D,2,"0"),s:String(this.$s),ss:P.s(this.$s,2,"0"),SSS:P.s(this.$ms,3,"0"),Z:Y};return X.replace(b,function(J,B){return B||ie[J]||Y.replace(":","")})},z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},z.diff=function(Q,Z,X){var Y,O=P.p(Z),$=R(Q),D=6e4*($.utcOffset()-this.utcOffset()),u=this-$,E=P.m(this,$);return E=(Y={},Y[p]=E/12,Y[f]=E,Y[h]=E/3,Y[C]=(u-D)/6048e5,Y[I]=(u-D)/864e5,Y[L]=u/36e5,Y[A]=u/6e4,Y[M]=u/1e3,Y)[O]||u,X?E:P.a(E)},z.daysInMonth=function(){return this.endOf(f).$D},z.$locale=function(){return d[this.$L]},z.locale=function(Q,Z){if(!Q)return this.$L;var X=this.clone(),Y=k(Q,Z,!0);return Y&&(X.$L=Y),X},z.clone=function(){return P.w(this.$d,this)},z.toDate=function(){return new Date(this.valueOf())},z.toJSON=function(){return this.isValid()?this.toISOString():null},z.toISOString=function(){return this.$d.toISOString()},z.toString=function(){return this.$d.toUTCString()},y}(),F=U.prototype;return R.prototype=F,[["$ms",V],["$s",M],["$m",A],["$H",L],["$W",I],["$M",f],["$y",p],["$D",m]].forEach(function(y){F[y[1]]=function(z){return this.$g(z,y[0],y[1])}}),R.extend=function(y,z){return y.$i||(y(z,U,R),y.$i=!0),R},R.locale=k,R.isDayjs=w,R.unix=function(y){return R(1e3*y)},R.en=d[g],R.Ls=d,R.p={},R})},6279:function(s){(function(V,M){s.exports=M()})(this,function(){"use strict";return function(V,M,A){V=V||{};var L=M.prototype,I={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function C(h,p,m,_){return L.fromToBase(h,p,m,_)}A.en.relativeTime=I,L.fromToBase=function(h,p,m,_,b){for(var l,S,c,g=m.$locale().relativeTime||I,d=V.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],w=d.length,k=0;k<w;k+=1){var R=d[k];R.d&&(l=_?A(h).diff(m,R.d,!0):m.diff(h,R.d,!0));var P=(V.rounding||Math.round)(Math.abs(l));if(c=l>0,P<=R.r||!R.r){P<=1&&k>0&&(R=d[k-1]);var U=g[R.l];b&&(P=b(""+P)),S=typeof U=="string"?U.replace("%d",P):U(P,p,R.l,c);break}}if(p)return S;var F=c?g.future:g.past;return typeof F=="function"?F(S):F.replace("%s",S)},L.to=function(h,p){return C(h,p,this,!0)},L.from=function(h,p){return C(h,p,this)};var f=function(h){return h.$u?A.utc():A()};L.toNow=function(h){return this.to(f(this),h)},L.fromNow=function(h){return this.from(f(this),h)}}})},53581:function(s){(function(V,M){s.exports=M()})(this,function(){"use strict";return function(V,M,A){A.updateLocale=function(L,I){var C=A.Ls[L];if(C)return(I?Object.keys(I):[]).forEach(function(f){C[f]=I[f]}),C}}})},30041:(s,V,M)=>{"use strict";var A=M(30655),L=M(58068),I=M(69675),C=M(75795);s.exports=function(h,p,m){if(!h||typeof h!="object"&&typeof h!="function")throw new I("`obj` must be an object or a function`");if(typeof p!="string"&&typeof p!="symbol")throw new I("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new I("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new I("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new I("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new I("`loose`, if provided, must be a boolean");var _=arguments.length>3?arguments[3]:null,b=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,S=arguments.length>6?arguments[6]:!1,c=!!C&&C(h,p);if(A)A(h,p,{configurable:l===null&&c?c.configurable:!l,enumerable:_===null&&c?c.enumerable:!_,value:m,writable:b===null&&c?c.writable:!b});else if(S||!_&&!b&&!l)h[p]=m;else throw new L("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},29560:(s,V,M)=>{"use strict";V.utils=M(87626),V.Cipher=M(82808),V.DES=M(82211),V.CBC=M(3389),V.EDE=M(65279)},3389:(s,V,M)=>{"use strict";var A=M(43349),L=M(56698),I={};function C(h){A.equal(h.length,8,"Invalid IV length"),this.iv=new Array(8);for(var p=0;p<this.iv.length;p++)this.iv[p]=h[p]}function f(h){function p(l){h.call(this,l),this._cbcInit()}L(p,h);for(var m=Object.keys(I),_=0;_<m.length;_++){var b=m[_];p.prototype[b]=I[b]}return p.create=function(S){return new p(S)},p}V.instantiate=f,I._cbcInit=function(){var p=new C(this.options.iv);this._cbcState=p},I._update=function(p,m,_,b){var l=this._cbcState,S=this.constructor.super_.prototype,c=l.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)c[g]^=p[m+g];S._update.call(this,c,0,_,b);for(var g=0;g<this.blockSize;g++)c[g]=_[b+g]}else{S._update.call(this,p,m,_,b);for(var g=0;g<this.blockSize;g++)_[b+g]^=c[g];for(var g=0;g<this.blockSize;g++)c[g]=p[m+g]}}},82808:(s,V,M)=>{"use strict";var A=M(43349);function L(I){this.options=I,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}s.exports=L,L.prototype._init=function(){},L.prototype.update=function(C){return C.length===0?[]:this.type==="decrypt"?this._updateDecrypt(C):this._updateEncrypt(C)},L.prototype._buffer=function(C,f){for(var h=Math.min(this.buffer.length-this.bufferOff,C.length-f),p=0;p<h;p++)this.buffer[this.bufferOff+p]=C[f+p];return this.bufferOff+=h,h},L.prototype._flushBuffer=function(C,f){return this._update(this.buffer,0,C,f),this.bufferOff=0,this.blockSize},L.prototype._updateEncrypt=function(C){var f=0,h=0,p=(this.bufferOff+C.length)/this.blockSize|0,m=new Array(p*this.blockSize);this.bufferOff!==0&&(f+=this._buffer(C,f),this.bufferOff===this.buffer.length&&(h+=this._flushBuffer(m,h)));for(var _=C.length-(C.length-f)%this.blockSize;f<_;f+=this.blockSize)this._update(C,f,m,h),h+=this.blockSize;for(;f<C.length;f++,this.bufferOff++)this.buffer[this.bufferOff]=C[f];return m},L.prototype._updateDecrypt=function(C){for(var f=0,h=0,p=Math.ceil((this.bufferOff+C.length)/this.blockSize)-1,m=new Array(p*this.blockSize);p>0;p--)f+=this._buffer(C,f),h+=this._flushBuffer(m,h);return f+=this._buffer(C,f),m},L.prototype.final=function(C){var f;C&&(f=this.update(C));var h;return this.type==="encrypt"?h=this._finalEncrypt():h=this._finalDecrypt(),f?f.concat(h):h},L.prototype._pad=function(C,f){if(f===0)return!1;for(;f<C.length;)C[f++]=0;return!0},L.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var C=new Array(this.blockSize);return this._update(this.buffer,0,C,0),C},L.prototype._unpad=function(C){return C},L.prototype._finalDecrypt=function(){A.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var C=new Array(this.blockSize);return this._flushBuffer(C,0),this._unpad(C)}},82211:(s,V,M)=>{"use strict";var A=M(43349),L=M(56698),I=M(87626),C=M(82808);function f(){this.tmp=new Array(2),this.keys=null}function h(m){C.call(this,m);var _=new f;this._desState=_,this.deriveKeys(_,m.key)}L(h,C),s.exports=h,h.create=function(_){return new h(_)};var p=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];h.prototype.deriveKeys=function(_,b){_.keys=new Array(32),A.equal(b.length,this.blockSize,"Invalid key length");var l=I.readUInt32BE(b,0),S=I.readUInt32BE(b,4);I.pc1(l,S,_.tmp,0),l=_.tmp[0],S=_.tmp[1];for(var c=0;c<_.keys.length;c+=2){var g=p[c>>>1];l=I.r28shl(l,g),S=I.r28shl(S,g),I.pc2(l,S,_.keys,c)}},h.prototype._update=function(_,b,l,S){var c=this._desState,g=I.readUInt32BE(_,b),d=I.readUInt32BE(_,b+4);I.ip(g,d,c.tmp,0),g=c.tmp[0],d=c.tmp[1],this.type==="encrypt"?this._encrypt(c,g,d,c.tmp,0):this._decrypt(c,g,d,c.tmp,0),g=c.tmp[0],d=c.tmp[1],I.writeUInt32BE(l,g,S),I.writeUInt32BE(l,d,S+4)},h.prototype._pad=function(_,b){for(var l=_.length-b,S=b;S<_.length;S++)_[S]=l;return!0},h.prototype._unpad=function(_){for(var b=_[_.length-1],l=_.length-b;l<_.length;l++)A.equal(_[l],b);return _.slice(0,_.length-b)},h.prototype._encrypt=function(_,b,l,S,c){for(var g=b,d=l,w=0;w<_.keys.length;w+=2){var k=_.keys[w],R=_.keys[w+1];I.expand(d,_.tmp,0),k^=_.tmp[0],R^=_.tmp[1];var P=I.substitute(k,R),U=I.permute(P),F=d;d=(g^U)>>>0,g=F}I.rip(d,g,S,c)},h.prototype._decrypt=function(_,b,l,S,c){for(var g=l,d=b,w=_.keys.length-2;w>=0;w-=2){var k=_.keys[w],R=_.keys[w+1];I.expand(g,_.tmp,0),k^=_.tmp[0],R^=_.tmp[1];var P=I.substitute(k,R),U=I.permute(P),F=g;g=(d^U)>>>0,d=F}I.rip(g,d,S,c)}},65279:(s,V,M)=>{"use strict";var A=M(43349),L=M(56698),I=M(82808),C=M(82211);function f(p,m){A.equal(m.length,24,"Invalid key length");var _=m.slice(0,8),b=m.slice(8,16),l=m.slice(16,24);p==="encrypt"?this.ciphers=[C.create({type:"encrypt",key:_}),C.create({type:"decrypt",key:b}),C.create({type:"encrypt",key:l})]:this.ciphers=[C.create({type:"decrypt",key:l}),C.create({type:"encrypt",key:b}),C.create({type:"decrypt",key:_})]}function h(p){I.call(this,p);var m=new f(this.type,this.options.key);this._edeState=m}L(h,I),s.exports=h,h.create=function(m){return new h(m)},h.prototype._update=function(m,_,b,l){var S=this._edeState;S.ciphers[0]._update(m,_,b,l),S.ciphers[1]._update(b,l,b,l),S.ciphers[2]._update(b,l,b,l)},h.prototype._pad=C.prototype._pad,h.prototype._unpad=C.prototype._unpad},87626:(s,V)=>{"use strict";V.readUInt32BE=function(C,f){var h=C[0+f]<<24|C[1+f]<<16|C[2+f]<<8|C[3+f];return h>>>0},V.writeUInt32BE=function(C,f,h){C[0+h]=f>>>24,C[1+h]=f>>>16&255,C[2+h]=f>>>8&255,C[3+h]=f&255},V.ip=function(C,f,h,p){for(var m=0,_=0,b=6;b>=0;b-=2){for(var l=0;l<=24;l+=8)m<<=1,m|=f>>>l+b&1;for(var l=0;l<=24;l+=8)m<<=1,m|=C>>>l+b&1}for(var b=6;b>=0;b-=2){for(var l=1;l<=25;l+=8)_<<=1,_|=f>>>l+b&1;for(var l=1;l<=25;l+=8)_<<=1,_|=C>>>l+b&1}h[p+0]=m>>>0,h[p+1]=_>>>0},V.rip=function(C,f,h,p){for(var m=0,_=0,b=0;b<4;b++)for(var l=24;l>=0;l-=8)m<<=1,m|=f>>>l+b&1,m<<=1,m|=C>>>l+b&1;for(var b=4;b<8;b++)for(var l=24;l>=0;l-=8)_<<=1,_|=f>>>l+b&1,_<<=1,_|=C>>>l+b&1;h[p+0]=m>>>0,h[p+1]=_>>>0},V.pc1=function(C,f,h,p){for(var m=0,_=0,b=7;b>=5;b--){for(var l=0;l<=24;l+=8)m<<=1,m|=f>>l+b&1;for(var l=0;l<=24;l+=8)m<<=1,m|=C>>l+b&1}for(var l=0;l<=24;l+=8)m<<=1,m|=f>>l+b&1;for(var b=1;b<=3;b++){for(var l=0;l<=24;l+=8)_<<=1,_|=f>>l+b&1;for(var l=0;l<=24;l+=8)_<<=1,_|=C>>l+b&1}for(var l=0;l<=24;l+=8)_<<=1,_|=C>>l+b&1;h[p+0]=m>>>0,h[p+1]=_>>>0},V.r28shl=function(C,f){return C<<f&268435455|C>>>28-f};var M=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];V.pc2=function(C,f,h,p){for(var m=0,_=0,b=M.length>>>1,l=0;l<b;l++)m<<=1,m|=C>>>M[l]&1;for(var l=b;l<M.length;l++)_<<=1,_|=f>>>M[l]&1;h[p+0]=m>>>0,h[p+1]=_>>>0},V.expand=function(C,f,h){var p=0,m=0;p=(C&1)<<5|C>>>27;for(var _=23;_>=15;_-=4)p<<=6,p|=C>>>_&63;for(var _=11;_>=3;_-=4)m|=C>>>_&63,m<<=6;m|=(C&31)<<1|C>>>31,f[h+0]=p>>>0,f[h+1]=m>>>0};var A=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];V.substitute=function(C,f){for(var h=0,p=0;p<4;p++){var m=C>>>18-p*6&63,_=A[p*64+m];h<<=4,h|=_}for(var p=0;p<4;p++){var m=f>>>18-p*6&63,_=A[4*64+p*64+m];h<<=4,h|=_}return h>>>0};var L=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];V.permute=function(C){for(var f=0,h=0;h<L.length;h++)f<<=1,f|=C>>>L[h]&1;return f>>>0},V.padSplit=function(C,f,h){for(var p=C.toString(2);p.length<f;)p="0"+p;for(var m=[],_=0;_<f;_+=h)m.push(p.slice(_,_+h));return m.join(" ")}},15380:(s,V,M)=>{var A=M(48287).Buffer,L=M(4934),I=M(23241),C=M(14910);function f(m){var _=new A(I[m].prime,"hex"),b=new A(I[m].gen,"hex");return new C(_,b)}var h={binary:!0,hex:!0,base64:!0};function p(m,_,b,l){return A.isBuffer(_)||h[_]===void 0?p(m,"binary",_,b):(_=_||"binary",l=l||"binary",b=b||new A([2]),A.isBuffer(b)||(b=new A(b,l)),typeof m=="number"?new C(L(m,b),b,!0):(A.isBuffer(m)||(m=new A(m,_)),new C(m,b,!0)))}V.DiffieHellmanGroup=V.createDiffieHellmanGroup=V.getDiffieHellman=f,V.createDiffieHellman=V.DiffieHellman=p},14910:(s,V,M)=>{var A=M(48287).Buffer,L=M(39404),I=M(52244),C=new I,f=new L(24),h=new L(11),p=new L(10),m=new L(3),_=new L(7),b=M(4934),l=M(53209);s.exports=w;function S(R,P){return P=P||"utf8",A.isBuffer(R)||(R=new A(R,P)),this._pub=new L(R),this}function c(R,P){return P=P||"utf8",A.isBuffer(R)||(R=new A(R,P)),this._priv=new L(R),this}var g={};function d(R,P){var U=P.toString("hex"),F=[U,R.toString(16)].join("_");if(F in g)return g[F];var y=0;if(R.isEven()||!b.simpleSieve||!b.fermatTest(R)||!C.test(R))return y+=1,U==="02"||U==="05"?y+=8:y+=4,g[F]=y,y;C.test(R.shrn(1))||(y+=2);var z;switch(U){case"02":R.mod(f).cmp(h)&&(y+=8);break;case"05":z=R.mod(p),z.cmp(m)&&z.cmp(_)&&(y+=8);break;default:y+=4}return g[F]=y,y}function w(R,P,U){this.setGenerator(P),this.__prime=new L(R),this._prime=L.mont(this.__prime),this._primeLen=R.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,U?(this.setPublicKey=S,this.setPrivateKey=c):this._primeCode=8}Object.defineProperty(w.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=d(this.__prime,this.__gen)),this._primeCode}}),w.prototype.generateKeys=function(){return this._priv||(this._priv=new L(l(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},w.prototype.computeSecret=function(R){R=new L(R),R=R.toRed(this._prime);var P=R.redPow(this._priv).fromRed(),U=new A(P.toArray()),F=this.getPrime();if(U.length<F.length){var y=new A(F.length-U.length);y.fill(0),U=A.concat([y,U])}return U},w.prototype.getPublicKey=function(P){return k(this._pub,P)},w.prototype.getPrivateKey=function(P){return k(this._priv,P)},w.prototype.getPrime=function(R){return k(this.__prime,R)},w.prototype.getGenerator=function(R){return k(this._gen,R)},w.prototype.setGenerator=function(R,P){return P=P||"utf8",A.isBuffer(R)||(R=new A(R,P)),this.__gen=R,this._gen=new L(R),this};function k(R,P){var U=new A(R.toArray());return P?U.toString(P):U}},4934:(s,V,M)=>{var A=M(53209);s.exports=F,F.simpleSieve=P,F.fermatTest=U;var L=M(39404),I=new L(24),C=M(52244),f=new C,h=new L(1),p=new L(2),m=new L(5),_=new L(16),b=new L(8),l=new L(10),S=new L(3),c=new L(7),g=new L(11),d=new L(4),w=new L(12),k=null;function R(){if(k!==null)return k;var y=1048576,z=[];z[0]=2;for(var Q=1,Z=3;Z<y;Z+=2){for(var X=Math.ceil(Math.sqrt(Z)),Y=0;Y<Q&&z[Y]<=X&&Z%z[Y]!==0;Y++);Q!==Y&&z[Y]<=X||(z[Q++]=Z)}return k=z,z}function P(y){for(var z=R(),Q=0;Q<z.length;Q++)if(y.modn(z[Q])===0)return y.cmpn(z[Q])===0;return!0}function U(y){var z=L.mont(y);return p.toRed(z).redPow(y.subn(1)).fromRed().cmpn(1)===0}function F(y,z){if(y<16)return z===2||z===5?new L([140,123]):new L([140,39]);z=new L(z);for(var Q,Z;;){for(Q=new L(A(Math.ceil(y/8)));Q.bitLength()>y;)Q.ishrn(1);if(Q.isEven()&&Q.iadd(h),Q.testn(1)||Q.iadd(p),z.cmp(p)){if(!z.cmp(m))for(;Q.mod(l).cmp(S);)Q.iadd(d)}else for(;Q.mod(I).cmp(g);)Q.iadd(d);if(Z=Q.shrn(1),P(Z)&&P(Q)&&U(Z)&&U(Q)&&f.test(Z)&&f.test(Q))return Q}}},7176:(s,V,M)=>{"use strict";var A=M(73126),L=M(75795),I;try{I=[].__proto__===Array.prototype}catch(p){if(!p||typeof p!="object"||!("code"in p)||p.code!=="ERR_PROTO_ACCESS")throw p}var C=!!I&&L&&L(Object.prototype,"__proto__"),f=Object,h=f.getPrototypeOf;s.exports=C&&typeof C.get=="function"?A([C.get]):typeof h=="function"?function(m){return h(m==null?m:f(m))}:!1},86729:(s,V,M)=>{"use strict";var A=V;A.version=M(1636).rE,A.utils=M(47011),A.rand=M(15037),A.curve=M(894),A.curves=M(60480),A.ec=M(57447),A.eddsa=M(8650)},36677:(s,V,M)=>{"use strict";var A=M(39404),L=M(47011),I=L.getNAF,C=L.getJSF,f=L.assert;function h(m,_){this.type=m,this.p=new A(_.p,16),this.red=_.prime?A.red(_.prime):A.mont(this.p),this.zero=new A(0).toRed(this.red),this.one=new A(1).toRed(this.red),this.two=new A(2).toRed(this.red),this.n=_.n&&new A(_.n,16),this.g=_.g&&this.pointFromJSON(_.g,_.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var b=this.n&&this.p.div(this.n);!b||b.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}s.exports=h,h.prototype.point=function(){throw new Error("Not implemented")},h.prototype.validate=function(){throw new Error("Not implemented")},h.prototype._fixedNafMul=function(_,b){f(_.precomputed);var l=_._getDoubles(),S=I(b,1,this._bitLength),c=(1<<l.step+1)-(l.step%2===0?2:1);c/=3;var g=[],d,w;for(d=0;d<S.length;d+=l.step){w=0;for(var k=d+l.step-1;k>=d;k--)w=(w<<1)+S[k];g.push(w)}for(var R=this.jpoint(null,null,null),P=this.jpoint(null,null,null),U=c;U>0;U--){for(d=0;d<g.length;d++)w=g[d],w===U?P=P.mixedAdd(l.points[d]):w===-U&&(P=P.mixedAdd(l.points[d].neg()));R=R.add(P)}return R.toP()},h.prototype._wnafMul=function(_,b){var l=4,S=_._getNAFPoints(l);l=S.wnd;for(var c=S.points,g=I(b,l,this._bitLength),d=this.jpoint(null,null,null),w=g.length-1;w>=0;w--){for(var k=0;w>=0&&g[w]===0;w--)k++;if(w>=0&&k++,d=d.dblp(k),w<0)break;var R=g[w];f(R!==0),_.type==="affine"?R>0?d=d.mixedAdd(c[R-1>>1]):d=d.mixedAdd(c[-R-1>>1].neg()):R>0?d=d.add(c[R-1>>1]):d=d.add(c[-R-1>>1].neg())}return _.type==="affine"?d.toP():d},h.prototype._wnafMulAdd=function(_,b,l,S,c){var g=this._wnafT1,d=this._wnafT2,w=this._wnafT3,k=0,R,P,U;for(R=0;R<S;R++){U=b[R];var F=U._getNAFPoints(_);g[R]=F.wnd,d[R]=F.points}for(R=S-1;R>=1;R-=2){var y=R-1,z=R;if(g[y]!==1||g[z]!==1){w[y]=I(l[y],g[y],this._bitLength),w[z]=I(l[z],g[z],this._bitLength),k=Math.max(w[y].length,k),k=Math.max(w[z].length,k);continue}var Q=[b[y],null,null,b[z]];b[y].y.cmp(b[z].y)===0?(Q[1]=b[y].add(b[z]),Q[2]=b[y].toJ().mixedAdd(b[z].neg())):b[y].y.cmp(b[z].y.redNeg())===0?(Q[1]=b[y].toJ().mixedAdd(b[z]),Q[2]=b[y].add(b[z].neg())):(Q[1]=b[y].toJ().mixedAdd(b[z]),Q[2]=b[y].toJ().mixedAdd(b[z].neg()));var Z=[-3,-1,-5,-7,0,7,5,1,3],X=C(l[y],l[z]);for(k=Math.max(X[0].length,k),w[y]=new Array(k),w[z]=new Array(k),P=0;P<k;P++){var Y=X[0][P]|0,O=X[1][P]|0;w[y][P]=Z[(Y+1)*3+(O+1)],w[z][P]=0,d[y]=Q}}var $=this.jpoint(null,null,null),D=this._wnafT4;for(R=k;R>=0;R--){for(var u=0;R>=0;){var E=!0;for(P=0;P<S;P++)D[P]=w[P][R]|0,D[P]!==0&&(E=!1);if(!E)break;u++,R--}if(R>=0&&u++,$=$.dblp(u),R<0)break;for(P=0;P<S;P++){var q=D[P];q!==0&&(q>0?U=d[P][q-1>>1]:q<0&&(U=d[P][-q-1>>1].neg()),U.type==="affine"?$=$.mixedAdd(U):$=$.add(U))}}for(R=0;R<S;R++)d[R]=null;return c?$:$.toP()};function p(m,_){this.curve=m,this.type=_,this.precomputed=null}h.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(_,b){_=L.toArray(_,b);var l=this.p.byteLength();if((_[0]===4||_[0]===6||_[0]===7)&&_.length-1===2*l){_[0]===6?f(_[_.length-1]%2===0):_[0]===7&&f(_[_.length-1]%2===1);var S=this.point(_.slice(1,1+l),_.slice(1+l,1+2*l));return S}else if((_[0]===2||_[0]===3)&&_.length-1===l)return this.pointFromX(_.slice(1,1+l),_[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(_){return this.encode(_,!0)},p.prototype._encode=function(_){var b=this.curve.p.byteLength(),l=this.getX().toArray("be",b);return _?[this.getY().isEven()?2:3].concat(l):[4].concat(l,this.getY().toArray("be",b))},p.prototype.encode=function(_,b){return L.encode(this._encode(b),_)},p.prototype.precompute=function(_){if(this.precomputed)return this;var b={doubles:null,naf:null,beta:null};return b.naf=this._getNAFPoints(8),b.doubles=this._getDoubles(4,_),b.beta=this._getBeta(),this.precomputed=b,this},p.prototype._hasDoubles=function(_){if(!this.precomputed)return!1;var b=this.precomputed.doubles;return b?b.points.length>=Math.ceil((_.bitLength()+1)/b.step):!1},p.prototype._getDoubles=function(_,b){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var l=[this],S=this,c=0;c<b;c+=_){for(var g=0;g<_;g++)S=S.dbl();l.push(S)}return{step:_,points:l}},p.prototype._getNAFPoints=function(_){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var b=[this],l=(1<<_)-1,S=l===1?null:this.dbl(),c=1;c<l;c++)b[c]=b[c-1].add(S);return{wnd:_,points:b}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(_){for(var b=this,l=0;l<_;l++)b=b.dbl();return b}},31298:(s,V,M)=>{"use strict";var A=M(47011),L=M(39404),I=M(56698),C=M(36677),f=A.assert;function h(m){this.twisted=(m.a|0)!==1,this.mOneA=this.twisted&&(m.a|0)===-1,this.extended=this.mOneA,C.call(this,"edwards",m),this.a=new L(m.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new L(m.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new L(m.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),f(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(m.c|0)===1}I(h,C),s.exports=h,h.prototype._mulA=function(_){return this.mOneA?_.redNeg():this.a.redMul(_)},h.prototype._mulC=function(_){return this.oneC?_:this.c.redMul(_)},h.prototype.jpoint=function(_,b,l,S){return this.point(_,b,l,S)},h.prototype.pointFromX=function(_,b){_=new L(_,16),_.red||(_=_.toRed(this.red));var l=_.redSqr(),S=this.c2.redSub(this.a.redMul(l)),c=this.one.redSub(this.c2.redMul(this.d).redMul(l)),g=S.redMul(c.redInvm()),d=g.redSqrt();if(d.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var w=d.fromRed().isOdd();return(b&&!w||!b&&w)&&(d=d.redNeg()),this.point(_,d)},h.prototype.pointFromY=function(_,b){_=new L(_,16),_.red||(_=_.toRed(this.red));var l=_.redSqr(),S=l.redSub(this.c2),c=l.redMul(this.d).redMul(this.c2).redSub(this.a),g=S.redMul(c.redInvm());if(g.cmp(this.zero)===0){if(b)throw new Error("invalid point");return this.point(this.zero,_)}var d=g.redSqrt();if(d.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return d.fromRed().isOdd()!==b&&(d=d.redNeg()),this.point(d,_)},h.prototype.validate=function(_){if(_.isInfinity())return!0;_.normalize();var b=_.x.redSqr(),l=_.y.redSqr(),S=b.redMul(this.a).redAdd(l),c=this.c2.redMul(this.one.redAdd(this.d.redMul(b).redMul(l)));return S.cmp(c)===0};function p(m,_,b,l,S){C.BasePoint.call(this,m,"projective"),_===null&&b===null&&l===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new L(_,16),this.y=new L(b,16),this.z=l?new L(l,16):this.curve.one,this.t=S&&new L(S,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}I(p,C.BasePoint),h.prototype.pointFromJSON=function(_){return p.fromJSON(this,_)},h.prototype.point=function(_,b,l,S){return new p(this,_,b,l,S)},p.fromJSON=function(_,b){return new p(_,b[0],b[1],b[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var _=this.x.redSqr(),b=this.y.redSqr(),l=this.z.redSqr();l=l.redIAdd(l);var S=this.curve._mulA(_),c=this.x.redAdd(this.y).redSqr().redISub(_).redISub(b),g=S.redAdd(b),d=g.redSub(l),w=S.redSub(b),k=c.redMul(d),R=g.redMul(w),P=c.redMul(w),U=d.redMul(g);return this.curve.point(k,R,U,P)},p.prototype._projDbl=function(){var _=this.x.redAdd(this.y).redSqr(),b=this.x.redSqr(),l=this.y.redSqr(),S,c,g,d,w,k;if(this.curve.twisted){d=this.curve._mulA(b);var R=d.redAdd(l);this.zOne?(S=_.redSub(b).redSub(l).redMul(R.redSub(this.curve.two)),c=R.redMul(d.redSub(l)),g=R.redSqr().redSub(R).redSub(R)):(w=this.z.redSqr(),k=R.redSub(w).redISub(w),S=_.redSub(b).redISub(l).redMul(k),c=R.redMul(d.redSub(l)),g=R.redMul(k))}else d=b.redAdd(l),w=this.curve._mulC(this.z).redSqr(),k=d.redSub(w).redSub(w),S=this.curve._mulC(_.redISub(d)).redMul(k),c=this.curve._mulC(d).redMul(b.redISub(l)),g=d.redMul(k);return this.curve.point(S,c,g)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(_){var b=this.y.redSub(this.x).redMul(_.y.redSub(_.x)),l=this.y.redAdd(this.x).redMul(_.y.redAdd(_.x)),S=this.t.redMul(this.curve.dd).redMul(_.t),c=this.z.redMul(_.z.redAdd(_.z)),g=l.redSub(b),d=c.redSub(S),w=c.redAdd(S),k=l.redAdd(b),R=g.redMul(d),P=w.redMul(k),U=g.redMul(k),F=d.redMul(w);return this.curve.point(R,P,F,U)},p.prototype._projAdd=function(_){var b=this.z.redMul(_.z),l=b.redSqr(),S=this.x.redMul(_.x),c=this.y.redMul(_.y),g=this.curve.d.redMul(S).redMul(c),d=l.redSub(g),w=l.redAdd(g),k=this.x.redAdd(this.y).redMul(_.x.redAdd(_.y)).redISub(S).redISub(c),R=b.redMul(d).redMul(k),P,U;return this.curve.twisted?(P=b.redMul(w).redMul(c.redSub(this.curve._mulA(S))),U=d.redMul(w)):(P=b.redMul(w).redMul(c.redSub(S)),U=this.curve._mulC(d).redMul(w)),this.curve.point(R,P,U)},p.prototype.add=function(_){return this.isInfinity()?_:_.isInfinity()?this:this.curve.extended?this._extAdd(_):this._projAdd(_)},p.prototype.mul=function(_){return this._hasDoubles(_)?this.curve._fixedNafMul(this,_):this.curve._wnafMul(this,_)},p.prototype.mulAdd=function(_,b,l){return this.curve._wnafMulAdd(1,[this,b],[_,l],2,!1)},p.prototype.jmulAdd=function(_,b,l){return this.curve._wnafMulAdd(1,[this,b],[_,l],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var _=this.z.redInvm();return this.x=this.x.redMul(_),this.y=this.y.redMul(_),this.t&&(this.t=this.t.redMul(_)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(_){return this===_||this.getX().cmp(_.getX())===0&&this.getY().cmp(_.getY())===0},p.prototype.eqXToP=function(_){var b=_.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(b)===0)return!0;for(var l=_.clone(),S=this.curve.redN.redMul(this.z);;){if(l.iadd(this.curve.n),l.cmp(this.curve.p)>=0)return!1;if(b.redIAdd(S),this.x.cmp(b)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add},894:(s,V,M)=>{"use strict";var A=V;A.base=M(36677),A.short=M(39188),A.mont=M(30370),A.edwards=M(31298)},30370:(s,V,M)=>{"use strict";var A=M(39404),L=M(56698),I=M(36677),C=M(47011);function f(p){I.call(this,"mont",p),this.a=new A(p.a,16).toRed(this.red),this.b=new A(p.b,16).toRed(this.red),this.i4=new A(4).toRed(this.red).redInvm(),this.two=new A(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}L(f,I),s.exports=f,f.prototype.validate=function(m){var _=m.normalize().x,b=_.redSqr(),l=b.redMul(_).redAdd(b.redMul(this.a)).redAdd(_),S=l.redSqrt();return S.redSqr().cmp(l)===0};function h(p,m,_){I.BasePoint.call(this,p,"projective"),m===null&&_===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new A(m,16),this.z=new A(_,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}L(h,I.BasePoint),f.prototype.decodePoint=function(m,_){return this.point(C.toArray(m,_),1)},f.prototype.point=function(m,_){return new h(this,m,_)},f.prototype.pointFromJSON=function(m){return h.fromJSON(this,m)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(m,_){return new h(m,_[0],_[1]||m.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0},h.prototype.dbl=function(){var m=this.x.redAdd(this.z),_=m.redSqr(),b=this.x.redSub(this.z),l=b.redSqr(),S=_.redSub(l),c=_.redMul(l),g=S.redMul(l.redAdd(this.curve.a24.redMul(S)));return this.curve.point(c,g)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(m,_){var b=this.x.redAdd(this.z),l=this.x.redSub(this.z),S=m.x.redAdd(m.z),c=m.x.redSub(m.z),g=c.redMul(b),d=S.redMul(l),w=_.z.redMul(g.redAdd(d).redSqr()),k=_.x.redMul(g.redISub(d).redSqr());return this.curve.point(w,k)},h.prototype.mul=function(m){for(var _=m.clone(),b=this,l=this.curve.point(null,null),S=this,c=[];_.cmpn(0)!==0;_.iushrn(1))c.push(_.andln(1));for(var g=c.length-1;g>=0;g--)c[g]===0?(b=b.diffAdd(l,S),l=l.dbl()):(l=b.diffAdd(l,S),b=b.dbl());return l},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(m){return this.getX().cmp(m.getX())===0},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},39188:(s,V,M)=>{"use strict";var A=M(47011),L=M(39404),I=M(56698),C=M(36677),f=A.assert;function h(_){C.call(this,"short",_),this.a=new L(_.a,16).toRed(this.red),this.b=new L(_.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(_),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}I(h,C),s.exports=h,h.prototype._getEndomorphism=function(b){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var l,S;if(b.beta)l=new L(b.beta,16).toRed(this.red);else{var c=this._getEndoRoots(this.p);l=c[0].cmp(c[1])<0?c[0]:c[1],l=l.toRed(this.red)}if(b.lambda)S=new L(b.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(l))===0?S=g[0]:(S=g[1],f(this.g.mul(S).x.cmp(this.g.x.redMul(l))===0))}var d;return b.basis?d=b.basis.map(function(w){return{a:new L(w.a,16),b:new L(w.b,16)}}):d=this._getEndoBasis(S),{beta:l,lambda:S,basis:d}}},h.prototype._getEndoRoots=function(b){var l=b===this.p?this.red:L.mont(b),S=new L(2).toRed(l).redInvm(),c=S.redNeg(),g=new L(3).toRed(l).redNeg().redSqrt().redMul(S),d=c.redAdd(g).fromRed(),w=c.redSub(g).fromRed();return[d,w]},h.prototype._getEndoBasis=function(b){for(var l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),S=b,c=this.n.clone(),g=new L(1),d=new L(0),w=new L(0),k=new L(1),R,P,U,F,y,z,Q,Z=0,X,Y;S.cmpn(0)!==0;){var O=c.div(S);X=c.sub(O.mul(S)),Y=w.sub(O.mul(g));var $=k.sub(O.mul(d));if(!U&&X.cmp(l)<0)R=Q.neg(),P=g,U=X.neg(),F=Y;else if(U&&++Z===2)break;Q=X,c=S,S=X,w=g,g=Y,k=d,d=$}y=X.neg(),z=Y;var D=U.sqr().add(F.sqr()),u=y.sqr().add(z.sqr());return u.cmp(D)>=0&&(y=R,z=P),U.negative&&(U=U.neg(),F=F.neg()),y.negative&&(y=y.neg(),z=z.neg()),[{a:U,b:F},{a:y,b:z}]},h.prototype._endoSplit=function(b){var l=this.endo.basis,S=l[0],c=l[1],g=c.b.mul(b).divRound(this.n),d=S.b.neg().mul(b).divRound(this.n),w=g.mul(S.a),k=d.mul(c.a),R=g.mul(S.b),P=d.mul(c.b),U=b.sub(w).sub(k),F=R.add(P).neg();return{k1:U,k2:F}},h.prototype.pointFromX=function(b,l){b=new L(b,16),b.red||(b=b.toRed(this.red));var S=b.redSqr().redMul(b).redIAdd(b.redMul(this.a)).redIAdd(this.b),c=S.redSqrt();if(c.redSqr().redSub(S).cmp(this.zero)!==0)throw new Error("invalid point");var g=c.fromRed().isOdd();return(l&&!g||!l&&g)&&(c=c.redNeg()),this.point(b,c)},h.prototype.validate=function(b){if(b.inf)return!0;var l=b.x,S=b.y,c=this.a.redMul(l),g=l.redSqr().redMul(l).redIAdd(c).redIAdd(this.b);return S.redSqr().redISub(g).cmpn(0)===0},h.prototype._endoWnafMulAdd=function(b,l,S){for(var c=this._endoWnafT1,g=this._endoWnafT2,d=0;d<b.length;d++){var w=this._endoSplit(l[d]),k=b[d],R=k._getBeta();w.k1.negative&&(w.k1.ineg(),k=k.neg(!0)),w.k2.negative&&(w.k2.ineg(),R=R.neg(!0)),c[d*2]=k,c[d*2+1]=R,g[d*2]=w.k1,g[d*2+1]=w.k2}for(var P=this._wnafMulAdd(1,c,g,d*2,S),U=0;U<d*2;U++)c[U]=null,g[U]=null;return P};function p(_,b,l,S){C.BasePoint.call(this,_,"affine"),b===null&&l===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new L(b,16),this.y=new L(l,16),S&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}I(p,C.BasePoint),h.prototype.point=function(b,l,S){return new p(this,b,l,S)},h.prototype.pointFromJSON=function(b,l){return p.fromJSON(this,b,l)},p.prototype._getBeta=function(){if(this.curve.endo){var b=this.precomputed;if(b&&b.beta)return b.beta;var l=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(b){var S=this.curve,c=function(g){return S.point(g.x.redMul(S.endo.beta),g.y)};b.beta=l,l.precomputed={beta:null,naf:b.naf&&{wnd:b.naf.wnd,points:b.naf.points.map(c)},doubles:b.doubles&&{step:b.doubles.step,points:b.doubles.points.map(c)}}}return l}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(b,l,S){typeof l=="string"&&(l=JSON.parse(l));var c=b.point(l[0],l[1],S);if(!l[2])return c;function g(w){return b.point(w[0],w[1],S)}var d=l[2];return c.precomputed={beta:null,doubles:d.doubles&&{step:d.doubles.step,points:[c].concat(d.doubles.points.map(g))},naf:d.naf&&{wnd:d.naf.wnd,points:[c].concat(d.naf.points.map(g))}},c},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(b){if(this.inf)return b;if(b.inf)return this;if(this.eq(b))return this.dbl();if(this.neg().eq(b))return this.curve.point(null,null);if(this.x.cmp(b.x)===0)return this.curve.point(null,null);var l=this.y.redSub(b.y);l.cmpn(0)!==0&&(l=l.redMul(this.x.redSub(b.x).redInvm()));var S=l.redSqr().redISub(this.x).redISub(b.x),c=l.redMul(this.x.redSub(S)).redISub(this.y);return this.curve.point(S,c)},p.prototype.dbl=function(){if(this.inf)return this;var b=this.y.redAdd(this.y);if(b.cmpn(0)===0)return this.curve.point(null,null);var l=this.curve.a,S=this.x.redSqr(),c=b.redInvm(),g=S.redAdd(S).redIAdd(S).redIAdd(l).redMul(c),d=g.redSqr().redISub(this.x.redAdd(this.x)),w=g.redMul(this.x.redSub(d)).redISub(this.y);return this.curve.point(d,w)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(b){return b=new L(b,16),this.isInfinity()?this:this._hasDoubles(b)?this.curve._fixedNafMul(this,b):this.curve.endo?this.curve._endoWnafMulAdd([this],[b]):this.curve._wnafMul(this,b)},p.prototype.mulAdd=function(b,l,S){var c=[this,l],g=[b,S];return this.curve.endo?this.curve._endoWnafMulAdd(c,g):this.curve._wnafMulAdd(1,c,g,2)},p.prototype.jmulAdd=function(b,l,S){var c=[this,l],g=[b,S];return this.curve.endo?this.curve._endoWnafMulAdd(c,g,!0):this.curve._wnafMulAdd(1,c,g,2,!0)},p.prototype.eq=function(b){return this===b||this.inf===b.inf&&(this.inf||this.x.cmp(b.x)===0&&this.y.cmp(b.y)===0)},p.prototype.neg=function(b){if(this.inf)return this;var l=this.curve.point(this.x,this.y.redNeg());if(b&&this.precomputed){var S=this.precomputed,c=function(g){return g.neg()};l.precomputed={naf:S.naf&&{wnd:S.naf.wnd,points:S.naf.points.map(c)},doubles:S.doubles&&{step:S.doubles.step,points:S.doubles.points.map(c)}}}return l},p.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var b=this.curve.jpoint(this.x,this.y,this.curve.one);return b};function m(_,b,l,S){C.BasePoint.call(this,_,"jacobian"),b===null&&l===null&&S===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new L(0)):(this.x=new L(b,16),this.y=new L(l,16),this.z=new L(S,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}I(m,C.BasePoint),h.prototype.jpoint=function(b,l,S){return new m(this,b,l,S)},m.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var b=this.z.redInvm(),l=b.redSqr(),S=this.x.redMul(l),c=this.y.redMul(l).redMul(b);return this.curve.point(S,c)},m.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},m.prototype.add=function(b){if(this.isInfinity())return b;if(b.isInfinity())return this;var l=b.z.redSqr(),S=this.z.redSqr(),c=this.x.redMul(l),g=b.x.redMul(S),d=this.y.redMul(l.redMul(b.z)),w=b.y.redMul(S.redMul(this.z)),k=c.redSub(g),R=d.redSub(w);if(k.cmpn(0)===0)return R.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var P=k.redSqr(),U=P.redMul(k),F=c.redMul(P),y=R.redSqr().redIAdd(U).redISub(F).redISub(F),z=R.redMul(F.redISub(y)).redISub(d.redMul(U)),Q=this.z.redMul(b.z).redMul(k);return this.curve.jpoint(y,z,Q)},m.prototype.mixedAdd=function(b){if(this.isInfinity())return b.toJ();if(b.isInfinity())return this;var l=this.z.redSqr(),S=this.x,c=b.x.redMul(l),g=this.y,d=b.y.redMul(l).redMul(this.z),w=S.redSub(c),k=g.redSub(d);if(w.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var R=w.redSqr(),P=R.redMul(w),U=S.redMul(R),F=k.redSqr().redIAdd(P).redISub(U).redISub(U),y=k.redMul(U.redISub(F)).redISub(g.redMul(P)),z=this.z.redMul(w);return this.curve.jpoint(F,y,z)},m.prototype.dblp=function(b){if(b===0)return this;if(this.isInfinity())return this;if(!b)return this.dbl();var l;if(this.curve.zeroA||this.curve.threeA){var S=this;for(l=0;l<b;l++)S=S.dbl();return S}var c=this.curve.a,g=this.curve.tinv,d=this.x,w=this.y,k=this.z,R=k.redSqr().redSqr(),P=w.redAdd(w);for(l=0;l<b;l++){var U=d.redSqr(),F=P.redSqr(),y=F.redSqr(),z=U.redAdd(U).redIAdd(U).redIAdd(c.redMul(R)),Q=d.redMul(F),Z=z.redSqr().redISub(Q.redAdd(Q)),X=Q.redISub(Z),Y=z.redMul(X);Y=Y.redIAdd(Y).redISub(y);var O=P.redMul(k);l+1<b&&(R=R.redMul(y)),d=Z,k=O,P=Y}return this.curve.jpoint(d,P.redMul(g),k)},m.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},m.prototype._zeroDbl=function(){var b,l,S;if(this.zOne){var c=this.x.redSqr(),g=this.y.redSqr(),d=g.redSqr(),w=this.x.redAdd(g).redSqr().redISub(c).redISub(d);w=w.redIAdd(w);var k=c.redAdd(c).redIAdd(c),R=k.redSqr().redISub(w).redISub(w),P=d.redIAdd(d);P=P.redIAdd(P),P=P.redIAdd(P),b=R,l=k.redMul(w.redISub(R)).redISub(P),S=this.y.redAdd(this.y)}else{var U=this.x.redSqr(),F=this.y.redSqr(),y=F.redSqr(),z=this.x.redAdd(F).redSqr().redISub(U).redISub(y);z=z.redIAdd(z);var Q=U.redAdd(U).redIAdd(U),Z=Q.redSqr(),X=y.redIAdd(y);X=X.redIAdd(X),X=X.redIAdd(X),b=Z.redISub(z).redISub(z),l=Q.redMul(z.redISub(b)).redISub(X),S=this.y.redMul(this.z),S=S.redIAdd(S)}return this.curve.jpoint(b,l,S)},m.prototype._threeDbl=function(){var b,l,S;if(this.zOne){var c=this.x.redSqr(),g=this.y.redSqr(),d=g.redSqr(),w=this.x.redAdd(g).redSqr().redISub(c).redISub(d);w=w.redIAdd(w);var k=c.redAdd(c).redIAdd(c).redIAdd(this.curve.a),R=k.redSqr().redISub(w).redISub(w);b=R;var P=d.redIAdd(d);P=P.redIAdd(P),P=P.redIAdd(P),l=k.redMul(w.redISub(R)).redISub(P),S=this.y.redAdd(this.y)}else{var U=this.z.redSqr(),F=this.y.redSqr(),y=this.x.redMul(F),z=this.x.redSub(U).redMul(this.x.redAdd(U));z=z.redAdd(z).redIAdd(z);var Q=y.redIAdd(y);Q=Q.redIAdd(Q);var Z=Q.redAdd(Q);b=z.redSqr().redISub(Z),S=this.y.redAdd(this.z).redSqr().redISub(F).redISub(U);var X=F.redSqr();X=X.redIAdd(X),X=X.redIAdd(X),X=X.redIAdd(X),l=z.redMul(Q.redISub(b)).redISub(X)}return this.curve.jpoint(b,l,S)},m.prototype._dbl=function(){var b=this.curve.a,l=this.x,S=this.y,c=this.z,g=c.redSqr().redSqr(),d=l.redSqr(),w=S.redSqr(),k=d.redAdd(d).redIAdd(d).redIAdd(b.redMul(g)),R=l.redAdd(l);R=R.redIAdd(R);var P=R.redMul(w),U=k.redSqr().redISub(P.redAdd(P)),F=P.redISub(U),y=w.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var z=k.redMul(F).redISub(y),Q=S.redAdd(S).redMul(c);return this.curve.jpoint(U,z,Q)},m.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var b=this.x.redSqr(),l=this.y.redSqr(),S=this.z.redSqr(),c=l.redSqr(),g=b.redAdd(b).redIAdd(b),d=g.redSqr(),w=this.x.redAdd(l).redSqr().redISub(b).redISub(c);w=w.redIAdd(w),w=w.redAdd(w).redIAdd(w),w=w.redISub(d);var k=w.redSqr(),R=c.redIAdd(c);R=R.redIAdd(R),R=R.redIAdd(R),R=R.redIAdd(R);var P=g.redIAdd(w).redSqr().redISub(d).redISub(k).redISub(R),U=l.redMul(P);U=U.redIAdd(U),U=U.redIAdd(U);var F=this.x.redMul(k).redISub(U);F=F.redIAdd(F),F=F.redIAdd(F);var y=this.y.redMul(P.redMul(R.redISub(P)).redISub(w.redMul(k)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var z=this.z.redAdd(w).redSqr().redISub(S).redISub(k);return this.curve.jpoint(F,y,z)},m.prototype.mul=function(b,l){return b=new L(b,l),this.curve._wnafMul(this,b)},m.prototype.eq=function(b){if(b.type==="affine")return this.eq(b.toJ());if(this===b)return!0;var l=this.z.redSqr(),S=b.z.redSqr();if(this.x.redMul(S).redISub(b.x.redMul(l)).cmpn(0)!==0)return!1;var c=l.redMul(this.z),g=S.redMul(b.z);return this.y.redMul(g).redISub(b.y.redMul(c)).cmpn(0)===0},m.prototype.eqXToP=function(b){var l=this.z.redSqr(),S=b.toRed(this.curve.red).redMul(l);if(this.x.cmp(S)===0)return!0;for(var c=b.clone(),g=this.curve.redN.redMul(l);;){if(c.iadd(this.curve.n),c.cmp(this.curve.p)>=0)return!1;if(S.redIAdd(g),this.x.cmp(S)===0)return!0}},m.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},m.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},60480:(s,V,M)=>{"use strict";var A=V,L=M(77952),I=M(894),C=M(47011),f=C.assert;function h(_){_.type==="short"?this.curve=new I.short(_):_.type==="edwards"?this.curve=new I.edwards(_):this.curve=new I.mont(_),this.g=this.curve.g,this.n=this.curve.n,this.hash=_.hash,f(this.g.validate(),"Invalid curve"),f(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}A.PresetCurve=h;function p(_,b){Object.defineProperty(A,_,{configurable:!0,enumerable:!0,get:function(){var l=new h(b);return Object.defineProperty(A,_,{configurable:!0,enumerable:!0,value:l}),l}})}p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:L.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:L.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:L.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:L.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:L.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:L.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:L.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var m;try{m=M(74011)}catch{m=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:L.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",m]})},57447:(s,V,M)=>{"use strict";var A=M(39404),L=M(32723),I=M(47011),C=M(60480),f=M(15037),h=I.assert,p=M(61200),m=M(28545);function _(b){if(!(this instanceof _))return new _(b);typeof b=="string"&&(h(Object.prototype.hasOwnProperty.call(C,b),"Unknown curve "+b),b=C[b]),b instanceof C.PresetCurve&&(b={curve:b}),this.curve=b.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=b.curve.g,this.g.precompute(b.curve.n.bitLength()+1),this.hash=b.hash||b.curve.hash}s.exports=_,_.prototype.keyPair=function(l){return new p(this,l)},_.prototype.keyFromPrivate=function(l,S){return p.fromPrivate(this,l,S)},_.prototype.keyFromPublic=function(l,S){return p.fromPublic(this,l,S)},_.prototype.genKeyPair=function(l){l||(l={});for(var S=new L({hash:this.hash,pers:l.pers,persEnc:l.persEnc||"utf8",entropy:l.entropy||f(this.hash.hmacStrength),entropyEnc:l.entropy&&l.entropyEnc||"utf8",nonce:this.n.toArray()}),c=this.n.byteLength(),g=this.n.sub(new A(2));;){var d=new A(S.generate(c));if(!(d.cmp(g)>0))return d.iaddn(1),this.keyFromPrivate(d)}},_.prototype._truncateToN=function(l,S,c){var g;if(A.isBN(l)||typeof l=="number")l=new A(l,16),g=l.byteLength();else if(typeof l=="object")g=l.length,l=new A(l,16);else{var d=l.toString();g=d.length+1>>>1,l=new A(d,16)}typeof c!="number"&&(c=g*8);var w=c-this.n.bitLength();return w>0&&(l=l.ushrn(w)),!S&&l.cmp(this.n)>=0?l.sub(this.n):l},_.prototype.sign=function(l,S,c,g){if(typeof c=="object"&&(g=c,c=null),g||(g={}),typeof l!="string"&&typeof l!="number"&&!A.isBN(l)){h(typeof l=="object"&&l&&typeof l.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),h(l.length>>>0===l.length);for(var d=0;d<l.length;d++)h((l[d]&255)===l[d])}S=this.keyFromPrivate(S,c),l=this._truncateToN(l,!1,g.msgBitLength),h(!l.isNeg(),"Can not sign a negative message");var w=this.n.byteLength(),k=S.getPrivate().toArray("be",w),R=l.toArray("be",w);h(new A(R).eq(l),"Can not sign message");for(var P=new L({hash:this.hash,entropy:k,nonce:R,pers:g.pers,persEnc:g.persEnc||"utf8"}),U=this.n.sub(new A(1)),F=0;;F++){var y=g.k?g.k(F):new A(P.generate(this.n.byteLength()));if(y=this._truncateToN(y,!0),!(y.cmpn(1)<=0||y.cmp(U)>=0)){var z=this.g.mul(y);if(!z.isInfinity()){var Q=z.getX(),Z=Q.umod(this.n);if(Z.cmpn(0)!==0){var X=y.invm(this.n).mul(Z.mul(S.getPrivate()).iadd(l));if(X=X.umod(this.n),X.cmpn(0)!==0){var Y=(z.getY().isOdd()?1:0)|(Q.cmp(Z)!==0?2:0);return g.canonical&&X.cmp(this.nh)>0&&(X=this.n.sub(X),Y^=1),new m({r:Z,s:X,recoveryParam:Y})}}}}}},_.prototype.verify=function(l,S,c,g,d){d||(d={}),l=this._truncateToN(l,!1,d.msgBitLength),c=this.keyFromPublic(c,g),S=new m(S,"hex");var w=S.r,k=S.s;if(w.cmpn(1)<0||w.cmp(this.n)>=0||k.cmpn(1)<0||k.cmp(this.n)>=0)return!1;var R=k.invm(this.n),P=R.mul(l).umod(this.n),U=R.mul(w).umod(this.n),F;return this.curve._maxwellTrick?(F=this.g.jmulAdd(P,c.getPublic(),U),F.isInfinity()?!1:F.eqXToP(w)):(F=this.g.mulAdd(P,c.getPublic(),U),F.isInfinity()?!1:F.getX().umod(this.n).cmp(w)===0)},_.prototype.recoverPubKey=function(b,l,S,c){h((3&S)===S,"The recovery param is more than two bits"),l=new m(l,c);var g=this.n,d=new A(b),w=l.r,k=l.s,R=S&1,P=S>>1;if(w.cmp(this.curve.p.umod(this.curve.n))>=0&&P)throw new Error("Unable to find sencond key candinate");P?w=this.curve.pointFromX(w.add(this.curve.n),R):w=this.curve.pointFromX(w,R);var U=l.r.invm(g),F=g.sub(d).mul(U).umod(g),y=k.mul(U).umod(g);return this.g.mulAdd(F,w,y)},_.prototype.getKeyRecoveryParam=function(b,l,S,c){if(l=new m(l,c),l.recoveryParam!==null)return l.recoveryParam;for(var g=0;g<4;g++){var d;try{d=this.recoverPubKey(b,l,g)}catch{continue}if(d.eq(S))return g}throw new Error("Unable to find valid recovery factor")}},61200:(s,V,M)=>{"use strict";var A=M(39404),L=M(47011),I=L.assert;function C(f,h){this.ec=f,this.priv=null,this.pub=null,h.priv&&this._importPrivate(h.priv,h.privEnc),h.pub&&this._importPublic(h.pub,h.pubEnc)}s.exports=C,C.fromPublic=function(h,p,m){return p instanceof C?p:new C(h,{pub:p,pubEnc:m})},C.fromPrivate=function(h,p,m){return p instanceof C?p:new C(h,{priv:p,privEnc:m})},C.prototype.validate=function(){var h=this.getPublic();return h.isInfinity()?{result:!1,reason:"Invalid public key"}:h.validate()?h.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},C.prototype.getPublic=function(h,p){return typeof h=="string"&&(p=h,h=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),p?this.pub.encode(p,h):this.pub},C.prototype.getPrivate=function(h){return h==="hex"?this.priv.toString(16,2):this.priv},C.prototype._importPrivate=function(h,p){this.priv=new A(h,p||16),this.priv=this.priv.umod(this.ec.curve.n)},C.prototype._importPublic=function(h,p){if(h.x||h.y){this.ec.curve.type==="mont"?I(h.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&I(h.x&&h.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(h.x,h.y);return}this.pub=this.ec.curve.decodePoint(h,p)},C.prototype.derive=function(h){return h.validate()||I(h.validate(),"public point not validated"),h.mul(this.priv).getX()},C.prototype.sign=function(h,p,m){return this.ec.sign(h,this,p,m)},C.prototype.verify=function(h,p,m){return this.ec.verify(h,p,this,void 0,m)},C.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},28545:(s,V,M)=>{"use strict";var A=M(39404),L=M(47011),I=L.assert;function C(_,b){if(_ instanceof C)return _;this._importDER(_,b)||(I(_.r&&_.s,"Signature without r or s"),this.r=new A(_.r,16),this.s=new A(_.s,16),_.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=_.recoveryParam)}s.exports=C;function f(){this.place=0}function h(_,b){var l=_[b.place++];if(!(l&128))return l;var S=l&15;if(S===0||S>4||_[b.place]===0)return!1;for(var c=0,g=0,d=b.place;g<S;g++,d++)c<<=8,c|=_[d],c>>>=0;return c<=127?!1:(b.place=d,c)}function p(_){for(var b=0,l=_.length-1;!_[b]&&!(_[b+1]&128)&&b<l;)b++;return b===0?_:_.slice(b)}C.prototype._importDER=function(b,l){b=L.toArray(b,l);var S=new f;if(b[S.place++]!==48)return!1;var c=h(b,S);if(c===!1||c+S.place!==b.length||b[S.place++]!==2)return!1;var g=h(b,S);if(g===!1||b[S.place]&128)return!1;var d=b.slice(S.place,g+S.place);if(S.place+=g,b[S.place++]!==2)return!1;var w=h(b,S);if(w===!1||b.length!==w+S.place||b[S.place]&128)return!1;var k=b.slice(S.place,w+S.place);if(d[0]===0)if(d[1]&128)d=d.slice(1);else return!1;if(k[0]===0)if(k[1]&128)k=k.slice(1);else return!1;return this.r=new A(d),this.s=new A(k),this.recoveryParam=null,!0};function m(_,b){if(b<128){_.push(b);return}var l=1+(Math.log(b)/Math.LN2>>>3);for(_.push(l|128);--l;)_.push(b>>>(l<<3)&255);_.push(b)}C.prototype.toDER=function(b){var l=this.r.toArray(),S=this.s.toArray();for(l[0]&128&&(l=[0].concat(l)),S[0]&128&&(S=[0].concat(S)),l=p(l),S=p(S);!S[0]&&!(S[1]&128);)S=S.slice(1);var c=[2];m(c,l.length),c=c.concat(l),c.push(2),m(c,S.length);var g=c.concat(S),d=[48];return m(d,g.length),d=d.concat(g),L.encode(d,b)}},8650:(s,V,M)=>{"use strict";var A=M(77952),L=M(60480),I=M(47011),C=I.assert,f=I.parseBytes,h=M(46661),p=M(90220);function m(_){if(C(_==="ed25519","only tested with ed25519 so far"),!(this instanceof m))return new m(_);_=L[_].curve,this.curve=_,this.g=_.g,this.g.precompute(_.n.bitLength()+1),this.pointClass=_.point().constructor,this.encodingLength=Math.ceil(_.n.bitLength()/8),this.hash=A.sha512}s.exports=m,m.prototype.sign=function(b,l){b=f(b);var S=this.keyFromSecret(l),c=this.hashInt(S.messagePrefix(),b),g=this.g.mul(c),d=this.encodePoint(g),w=this.hashInt(d,S.pubBytes(),b).mul(S.priv()),k=c.add(w).umod(this.curve.n);return this.makeSignature({R:g,S:k,Rencoded:d})},m.prototype.verify=function(b,l,S){if(b=f(b),l=this.makeSignature(l),l.S().gte(l.eddsa.curve.n)||l.S().isNeg())return!1;var c=this.keyFromPublic(S),g=this.hashInt(l.Rencoded(),c.pubBytes(),b),d=this.g.mul(l.S()),w=l.R().add(c.pub().mul(g));return w.eq(d)},m.prototype.hashInt=function(){for(var b=this.hash(),l=0;l<arguments.length;l++)b.update(arguments[l]);return I.intFromLE(b.digest()).umod(this.curve.n)},m.prototype.keyFromPublic=function(b){return h.fromPublic(this,b)},m.prototype.keyFromSecret=function(b){return h.fromSecret(this,b)},m.prototype.makeSignature=function(b){return b instanceof p?b:new p(this,b)},m.prototype.encodePoint=function(b){var l=b.getY().toArray("le",this.encodingLength);return l[this.encodingLength-1]|=b.getX().isOdd()?128:0,l},m.prototype.decodePoint=function(b){b=I.parseBytes(b);var l=b.length-1,S=b.slice(0,l).concat(b[l]&-129),c=(b[l]&128)!==0,g=I.intFromLE(S);return this.curve.pointFromY(g,c)},m.prototype.encodeInt=function(b){return b.toArray("le",this.encodingLength)},m.prototype.decodeInt=function(b){return I.intFromLE(b)},m.prototype.isPoint=function(b){return b instanceof this.pointClass}},46661:(s,V,M)=>{"use strict";var A=M(47011),L=A.assert,I=A.parseBytes,C=A.cachedProperty;function f(h,p){this.eddsa=h,this._secret=I(p.secret),h.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=I(p.pub)}f.fromPublic=function(p,m){return m instanceof f?m:new f(p,{pub:m})},f.fromSecret=function(p,m){return m instanceof f?m:new f(p,{secret:m})},f.prototype.secret=function(){return this._secret},C(f,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),C(f,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),C(f,"privBytes",function(){var p=this.eddsa,m=this.hash(),_=p.encodingLength-1,b=m.slice(0,p.encodingLength);return b[0]&=248,b[_]&=127,b[_]|=64,b}),C(f,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),C(f,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),C(f,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),f.prototype.sign=function(p){return L(this._secret,"KeyPair can only verify"),this.eddsa.sign(p,this)},f.prototype.verify=function(p,m){return this.eddsa.verify(p,m,this)},f.prototype.getSecret=function(p){return L(this._secret,"KeyPair is public only"),A.encode(this.secret(),p)},f.prototype.getPublic=function(p){return A.encode(this.pubBytes(),p)},s.exports=f},90220:(s,V,M)=>{"use strict";var A=M(39404),L=M(47011),I=L.assert,C=L.cachedProperty,f=L.parseBytes;function h(p,m){this.eddsa=p,typeof m!="object"&&(m=f(m)),Array.isArray(m)&&(I(m.length===p.encodingLength*2,"Signature has invalid size"),m={R:m.slice(0,p.encodingLength),S:m.slice(p.encodingLength)}),I(m.R&&m.S,"Signature without R or S"),p.isPoint(m.R)&&(this._R=m.R),m.S instanceof A&&(this._S=m.S),this._Rencoded=Array.isArray(m.R)?m.R:m.Rencoded,this._Sencoded=Array.isArray(m.S)?m.S:m.Sencoded}C(h,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),C(h,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),C(h,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),C(h,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),h.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},h.prototype.toHex=function(){return L.encode(this.toBytes(),"hex").toUpperCase()},s.exports=h},74011:s=>{s.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},47011:(s,V,M)=>{"use strict";var A=V,L=M(39404),I=M(43349),C=M(64367);A.assert=I,A.toArray=C.toArray,A.zero2=C.zero2,A.toHex=C.toHex,A.encode=C.encode;function f(b,l,S){var c=new Array(Math.max(b.bitLength(),S)+1),g;for(g=0;g<c.length;g+=1)c[g]=0;var d=1<<l+1,w=b.clone();for(g=0;g<c.length;g++){var k,R=w.andln(d-1);w.isOdd()?(R>(d>>1)-1?k=(d>>1)-R:k=R,w.isubn(k)):k=0,c[g]=k,w.iushrn(1)}return c}A.getNAF=f;function h(b,l){var S=[[],[]];b=b.clone(),l=l.clone();for(var c=0,g=0,d;b.cmpn(-c)>0||l.cmpn(-g)>0;){var w=b.andln(3)+c&3,k=l.andln(3)+g&3;w===3&&(w=-1),k===3&&(k=-1);var R;w&1?(d=b.andln(7)+c&7,(d===3||d===5)&&k===2?R=-w:R=w):R=0,S[0].push(R);var P;k&1?(d=l.andln(7)+g&7,(d===3||d===5)&&w===2?P=-k:P=k):P=0,S[1].push(P),2*c===R+1&&(c=1-c),2*g===P+1&&(g=1-g),b.iushrn(1),l.iushrn(1)}return S}A.getJSF=h;function p(b,l,S){var c="_"+l;b.prototype[l]=function(){return this[c]!==void 0?this[c]:this[c]=S.call(this)}}A.cachedProperty=p;function m(b){return typeof b=="string"?A.toArray(b,"hex"):b}A.parseBytes=m;function _(b){return new L(b,"hex","le")}A.intFromLE=_},30655:s=>{"use strict";var V=Object.defineProperty||!1;if(V)try{V({},"a",{value:1})}catch{V=!1}s.exports=V},41237:s=>{"use strict";s.exports=EvalError},69383:s=>{"use strict";s.exports=Error},79290:s=>{"use strict";s.exports=RangeError},79538:s=>{"use strict";s.exports=ReferenceError},58068:s=>{"use strict";s.exports=SyntaxError},69675:s=>{"use strict";s.exports=TypeError},35345:s=>{"use strict";s.exports=URIError},79612:s=>{"use strict";s.exports=Object},37007:s=>{"use strict";var V=typeof Reflect=="object"?Reflect:null,M=V&&typeof V.apply=="function"?V.apply:function(R,P,U){return Function.prototype.apply.call(R,P,U)},A;V&&typeof V.ownKeys=="function"?A=V.ownKeys:Object.getOwnPropertySymbols?A=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:A=function(R){return Object.getOwnPropertyNames(R)};function L(k){console&&console.warn&&console.warn(k)}var I=Number.isNaN||function(R){return R!==R};function C(){C.init.call(this)}s.exports=C,s.exports.once=w,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var f=10;function h(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(k){if(typeof k!="number"||k<0||I(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");f=k}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||I(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function p(k){return k._maxListeners===void 0?C.defaultMaxListeners:k._maxListeners}C.prototype.getMaxListeners=function(){return p(this)},C.prototype.emit=function(R){for(var P=[],U=1;U<arguments.length;U++)P.push(arguments[U]);var F=R==="error",y=this._events;if(y!==void 0)F=F&&y.error===void 0;else if(!F)return!1;if(F){var z;if(P.length>0&&(z=P[0]),z instanceof Error)throw z;var Q=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw Q.context=z,Q}var Z=y[R];if(Z===void 0)return!1;if(typeof Z=="function")M(Z,this,P);else for(var X=Z.length,Y=c(Z,X),U=0;U<X;++U)M(Y[U],this,P);return!0};function m(k,R,P,U){var F,y,z;if(h(P),y=k._events,y===void 0?(y=k._events=Object.create(null),k._eventsCount=0):(y.newListener!==void 0&&(k.emit("newListener",R,P.listener?P.listener:P),y=k._events),z=y[R]),z===void 0)z=y[R]=P,++k._eventsCount;else if(typeof z=="function"?z=y[R]=U?[P,z]:[z,P]:U?z.unshift(P):z.push(P),F=p(k),F>0&&z.length>F&&!z.warned){z.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");Q.name="MaxListenersExceededWarning",Q.emitter=k,Q.type=R,Q.count=z.length,L(Q)}return k}C.prototype.addListener=function(R,P){return m(this,R,P,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(R,P){return m(this,R,P,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(k,R,P){var U={fired:!1,wrapFn:void 0,target:k,type:R,listener:P},F=_.bind(U);return F.listener=P,U.wrapFn=F,F}C.prototype.once=function(R,P){return h(P),this.on(R,b(this,R,P)),this},C.prototype.prependOnceListener=function(R,P){return h(P),this.prependListener(R,b(this,R,P)),this},C.prototype.removeListener=function(R,P){var U,F,y,z,Q;if(h(P),F=this._events,F===void 0)return this;if(U=F[R],U===void 0)return this;if(U===P||U.listener===P)--this._eventsCount===0?this._events=Object.create(null):(delete F[R],F.removeListener&&this.emit("removeListener",R,U.listener||P));else if(typeof U!="function"){for(y=-1,z=U.length-1;z>=0;z--)if(U[z]===P||U[z].listener===P){Q=U[z].listener,y=z;break}if(y<0)return this;y===0?U.shift():g(U,y),U.length===1&&(F[R]=U[0]),F.removeListener!==void 0&&this.emit("removeListener",R,Q||P)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(R){var P,U,F;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[R]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[R]),this;if(arguments.length===0){var y=Object.keys(U),z;for(F=0;F<y.length;++F)z=y[F],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(P=U[R],typeof P=="function")this.removeListener(R,P);else if(P!==void 0)for(F=P.length-1;F>=0;F--)this.removeListener(R,P[F]);return this};function l(k,R,P){var U=k._events;if(U===void 0)return[];var F=U[R];return F===void 0?[]:typeof F=="function"?P?[F.listener||F]:[F]:P?d(F):c(F,F.length)}C.prototype.listeners=function(R){return l(this,R,!0)},C.prototype.rawListeners=function(R){return l(this,R,!1)},C.listenerCount=function(k,R){return typeof k.listenerCount=="function"?k.listenerCount(R):S.call(k,R)},C.prototype.listenerCount=S;function S(k){var R=this._events;if(R!==void 0){var P=R[k];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?A(this._events):[]};function c(k,R){for(var P=new Array(R),U=0;U<R;++U)P[U]=k[U];return P}function g(k,R){for(;R+1<k.length;R++)k[R]=k[R+1];k.pop()}function d(k){for(var R=new Array(k.length),P=0;P<R.length;++P)R[P]=k[P].listener||k[P];return R}function w(k,R){return new Promise(function(P,U){function F(){y!==void 0&&k.removeListener("error",y),P([].slice.call(arguments))}var y;R!=="error"&&(y=function(Q){k.removeListener(R,F),U(Q)},k.once("error",y)),k.once(R,F)})}},68078:(s,V,M)=>{var A=M(92861).Buffer,L=M(88276);function I(C,f,h,p){if(A.isBuffer(C)||(C=A.from(C,"binary")),f&&(A.isBuffer(f)||(f=A.from(f,"binary")),f.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var m=h/8,_=A.alloc(m),b=A.alloc(p||0),l=A.alloc(0);m>0||p>0;){var S=new L;S.update(l),S.update(C),f&&S.update(f),l=S.digest();var c=0;if(m>0){var g=_.length-m;c=Math.min(m,l.length),l.copy(_,g,0,c),m-=c}if(c<l.length&&p>0){var d=b.length-p,w=Math.min(p,l.length-c);l.copy(b,d,c,c+w),p-=w}}return l.fill(0),{key:_,iv:b}}s.exports=I},32017:s=>{"use strict";s.exports=function V(M,A){if(M===A)return!0;if(M&&A&&typeof M=="object"&&typeof A=="object"){if(M.constructor!==A.constructor)return!1;var L,I,C;if(Array.isArray(M)){if(L=M.length,L!=A.length)return!1;for(I=L;I--!==0;)if(!V(M[I],A[I]))return!1;return!0}if(M.constructor===RegExp)return M.source===A.source&&M.flags===A.flags;if(M.valueOf!==Object.prototype.valueOf)return M.valueOf()===A.valueOf();if(M.toString!==Object.prototype.toString)return M.toString()===A.toString();if(C=Object.keys(M),L=C.length,L!==Object.keys(A).length)return!1;for(I=L;I--!==0;)if(!Object.prototype.hasOwnProperty.call(A,C[I]))return!1;for(I=L;I--!==0;){var f=C[I];if(!V(M[f],A[f]))return!1}return!0}return M!==M&&A!==A}},72492:s=>{"use strict";s.exports=function(V,M){M||(M={}),typeof M=="function"&&(M={cmp:M});var A=typeof M.cycles=="boolean"?M.cycles:!1,L=M.cmp&&function(C){return function(f){return function(h,p){var m={key:h,value:f[h]},_={key:p,value:f[p]};return C(m,_)}}}(M.cmp),I=[];return function C(f){if(f&&f.toJSON&&typeof f.toJSON=="function"&&(f=f.toJSON()),f!==void 0){if(typeof f=="number")return isFinite(f)?""+f:"null";if(typeof f!="object")return JSON.stringify(f);var h,p;if(Array.isArray(f)){for(p="[",h=0;h<f.length;h++)h&&(p+=","),p+=C(f[h])||"null";return p+"]"}if(f===null)return"null";if(I.indexOf(f)!==-1){if(A)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var m=I.push(f)-1,_=Object.keys(f).sort(L&&L(f));for(p="",h=0;h<_.length;h++){var b=_[h],l=C(f[b]);l&&(p&&(p+=","),p+=JSON.stringify(b)+":"+l)}return I.splice(m,1),"{"+p+"}"}}(V)}},82682:(s,V,M)=>{"use strict";var A=M(65441),L=Object.prototype.toString,I=Object.prototype.hasOwnProperty,C=function(_,b,l){for(var S=0,c=_.length;S<c;S++)I.call(_,S)&&(l==null?b(_[S],S,_):b.call(l,_[S],S,_))},f=function(_,b,l){for(var S=0,c=_.length;S<c;S++)l==null?b(_.charAt(S),S,_):b.call(l,_.charAt(S),S,_)},h=function(_,b,l){for(var S in _)I.call(_,S)&&(l==null?b(_[S],S,_):b.call(l,_[S],S,_))};function p(m){return L.call(m)==="[object Array]"}s.exports=function(_,b,l){if(!A(b))throw new TypeError("iterator must be a function");var S;arguments.length>=3&&(S=l),p(_)?C(_,b,S):typeof _=="string"?f(_,b,S):h(_,b,S)}},65441:s=>{"use strict";var V=Function.prototype.toString,M=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,A,L;if(typeof M=="function"&&typeof Object.defineProperty=="function")try{A=Object.defineProperty({},"length",{get:function(){throw L}}),L={},M(function(){throw 42},null,A)}catch(k){k!==L&&(M=null)}else M=null;var I=/^\s*class\b/,C=function(R){try{var P=V.call(R);return I.test(P)}catch{return!1}},f=function(R){try{return C(R)?!1:(V.call(R),!0)}catch{return!1}},h=Object.prototype.toString,p="[object Object]",m="[object Function]",_="[object GeneratorFunction]",b="[object HTMLAllCollection]",l="[object HTML document.all class]",S="[object HTMLCollection]",c=typeof Symbol=="function"&&!!Symbol.toStringTag,g=!(0 in[,]),d=function(){return!1};if(typeof document=="object"){var w=document.all;h.call(w)===h.call(document.all)&&(d=function(R){if((g||!R)&&(typeof R=="undefined"||typeof R=="object"))try{var P=h.call(R);return(P===b||P===l||P===S||P===p)&&R("")==null}catch{}return!1})}s.exports=M?function(R){if(d(R))return!0;if(!R||typeof R!="function"&&typeof R!="object")return!1;try{M(R,null,A)}catch(P){if(P!==L)return!1}return!C(R)&&f(R)}:function(R){if(d(R))return!0;if(!R||typeof R!="function"&&typeof R!="object")return!1;if(c)return f(R);if(C(R))return!1;var P=h.call(R);return P!==m&&P!==_&&!/^\[object HTML/.test(P)?!1:f(R)}},70453:(s,V,M)=>{"use strict";var A,L=M(79612),I=M(69383),C=M(41237),f=M(79290),h=M(79538),p=M(58068),m=M(69675),_=M(35345),b=M(71514),l=M(58968),S=M(6188),c=M(68002),g=M(75880),d=M(70414),w=M(73093),k=Function,R=function(ne){try{return k('"use strict"; return ('+ne+").constructor;")()}catch{}},P=M(75795),U=M(30655),F=function(){throw new m},y=P?function(){try{return arguments.callee,F}catch{try{return P(arguments,"callee").get}catch{return F}}}():F,z=M(64119)(),Q=M(93628),Z=M(71064),X=M(48648),Y=M(11002),O=M(10076),$={},D=typeof Uint8Array=="undefined"||!Q?A:Q(Uint8Array),u={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?A:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?A:ArrayBuffer,"%ArrayIteratorPrototype%":z&&Q?Q([][Symbol.iterator]()):A,"%AsyncFromSyncIteratorPrototype%":A,"%AsyncFunction%":$,"%AsyncGenerator%":$,"%AsyncGeneratorFunction%":$,"%AsyncIteratorPrototype%":$,"%Atomics%":typeof Atomics=="undefined"?A:Atomics,"%BigInt%":typeof BigInt=="undefined"?A:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?A:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?A:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?A:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":I,"%eval%":eval,"%EvalError%":C,"%Float16Array%":typeof Float16Array=="undefined"?A:Float16Array,"%Float32Array%":typeof Float32Array=="undefined"?A:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?A:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?A:FinalizationRegistry,"%Function%":k,"%GeneratorFunction%":$,"%Int8Array%":typeof Int8Array=="undefined"?A:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?A:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?A:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":z&&Q?Q(Q([][Symbol.iterator]())):A,"%JSON%":typeof JSON=="object"?JSON:A,"%Map%":typeof Map=="undefined"?A:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!z||!Q?A:Q(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":L,"%Object.getOwnPropertyDescriptor%":P,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?A:Promise,"%Proxy%":typeof Proxy=="undefined"?A:Proxy,"%RangeError%":f,"%ReferenceError%":h,"%Reflect%":typeof Reflect=="undefined"?A:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?A:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!z||!Q?A:Q(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?A:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":z&&Q?Q(""[Symbol.iterator]()):A,"%Symbol%":z?Symbol:A,"%SyntaxError%":p,"%ThrowTypeError%":y,"%TypedArray%":D,"%TypeError%":m,"%Uint8Array%":typeof Uint8Array=="undefined"?A:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?A:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?A:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?A:Uint32Array,"%URIError%":_,"%WeakMap%":typeof WeakMap=="undefined"?A:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?A:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?A:WeakSet,"%Function.prototype.call%":O,"%Function.prototype.apply%":Y,"%Object.defineProperty%":U,"%Object.getPrototypeOf%":Z,"%Math.abs%":b,"%Math.floor%":l,"%Math.max%":S,"%Math.min%":c,"%Math.pow%":g,"%Math.round%":d,"%Math.sign%":w,"%Reflect.getPrototypeOf%":X};if(Q)try{null.error}catch(ne){var E=Q(Q(ne));u["%Error.prototype%"]=E}var q=function ne(me){var ge;if(me==="%AsyncFunction%")ge=R("async function () {}");else if(me==="%GeneratorFunction%")ge=R("function* () {}");else if(me==="%AsyncGeneratorFunction%")ge=R("async function* () {}");else if(me==="%AsyncGenerator%"){var _e=ne("%AsyncGeneratorFunction%");_e&&(ge=_e.prototype)}else if(me==="%AsyncIteratorPrototype%"){var j=ne("%AsyncGenerator%");j&&Q&&(ge=Q(j.prototype))}return u[me]=ge,ge},H={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},K=M(96135),G=M(9957),ie=K.call(O,Array.prototype.concat),J=K.call(Y,Array.prototype.splice),B=K.call(O,String.prototype.replace),ae=K.call(O,String.prototype.slice),Ne=K.call(O,RegExp.prototype.exec),be=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,we=/\\(\\)?/g,Te=function(me){var ge=ae(me,0,1),_e=ae(me,-1);if(ge==="%"&&_e!=="%")throw new p("invalid intrinsic syntax, expected closing `%`");if(_e==="%"&&ge!=="%")throw new p("invalid intrinsic syntax, expected opening `%`");var j=[];return B(me,be,function(N,se,de,ue){j[j.length]=de?B(ue,we,"$1"):se||N}),j},ee=function(me,ge){var _e=me,j;if(G(H,_e)&&(j=H[_e],_e="%"+j[0]+"%"),G(u,_e)){var N=u[_e];if(N===$&&(N=q(_e)),typeof N=="undefined"&&!ge)throw new m("intrinsic "+me+" exists, but is not available. Please file an issue!");return{alias:j,name:_e,value:N}}throw new p("intrinsic "+me+" does not exist!")};s.exports=function(me,ge){if(typeof me!="string"||me.length===0)throw new m("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ge!="boolean")throw new m('"allowMissing" argument must be a boolean');if(Ne(/^%?[^%]*%?$/,me)===null)throw new p("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var _e=Te(me),j=_e.length>0?_e[0]:"",N=ee("%"+j+"%",ge),se=N.name,de=N.value,ue=!1,le=N.alias;le&&(j=le[0],J(_e,ie([0,1],le)));for(var pe=1,Ae=!0;pe<_e.length;pe+=1){var Fe=_e[pe],Be=ae(Fe,0,1),Ue=ae(Fe,-1);if((Be==='"'||Be==="'"||Be==="`"||Ue==='"'||Ue==="'"||Ue==="`")&&Be!==Ue)throw new p("property names with quotes must have matching quotes");if((Fe==="constructor"||!Ae)&&(ue=!0),j+="."+Fe,se="%"+j+"%",G(u,se))de=u[se];else if(de!=null){if(!(Fe in de)){if(!ge)throw new m("base intrinsic for "+me+" exists, but the property is not available.");return}if(P&&pe+1>=_e.length){var He=P(de,Fe);Ae=!!He,Ae&&"get"in He&&!("originalValue"in He.get)?de=He.get:de=de[Fe]}else Ae=G(de,Fe),de=de[Fe];Ae&&!ue&&(u[se]=de)}}return de}},39609:s=>{"use strict";var V="Function.prototype.bind called on incompatible ",M=Object.prototype.toString,A=Math.max,L="[object Function]",I=function(p,m){for(var _=[],b=0;b<p.length;b+=1)_[b]=p[b];for(var l=0;l<m.length;l+=1)_[l+p.length]=m[l];return _},C=function(p,m){for(var _=[],b=m||0,l=0;b<p.length;b+=1,l+=1)_[l]=p[b];return _},f=function(h,p){for(var m="",_=0;_<h.length;_+=1)m+=h[_],_+1<h.length&&(m+=p);return m};s.exports=function(p){var m=this;if(typeof m!="function"||M.apply(m)!==L)throw new TypeError(V+m);for(var _=C(arguments,1),b,l=function(){if(this instanceof b){var w=m.apply(this,I(_,arguments));return Object(w)===w?w:this}return m.apply(p,I(_,arguments))},S=A(0,m.length-_.length),c=[],g=0;g<S;g++)c[g]="$"+g;if(b=Function("binder","return function ("+f(c,",")+"){ return binder.apply(this,arguments); }")(l),m.prototype){var d=function(){};d.prototype=m.prototype,b.prototype=new d,d.prototype=null}return b}},96135:(s,V,M)=>{"use strict";var A=M(39609);s.exports=Function.prototype.bind||A},64119:(s,V,M)=>{"use strict";var A=typeof Symbol!="undefined"&&Symbol,L=M(85669);s.exports=function(){return typeof A!="function"||typeof Symbol!="function"||typeof A("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:L()}},85669:s=>{"use strict";s.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var M={},A=Symbol("test"),L=Object(A);if(typeof A=="string"||Object.prototype.toString.call(A)!=="[object Symbol]"||Object.prototype.toString.call(L)!=="[object Symbol]")return!1;var I=42;M[A]=I;for(var C in M)return!1;if(typeof Object.keys=="function"&&Object.keys(M).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(M).length!==0)return!1;var f=Object.getOwnPropertySymbols(M);if(f.length!==1||f[0]!==A||!Object.prototype.propertyIsEnumerable.call(M,A))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(M,A);if(h.value!==I||h.enumerable!==!0)return!1}return!0}},71064:(s,V,M)=>{"use strict";var A=M(79612);s.exports=A.getPrototypeOf||null},48648:s=>{"use strict";s.exports=typeof Reflect!="undefined"&&Reflect.getPrototypeOf||null},93628:(s,V,M)=>{"use strict";var A=M(48648),L=M(71064),I=M(7176);s.exports=A?function(f){return A(f)}:L?function(f){if(!f||typeof f!="object"&&typeof f!="function")throw new TypeError("getProto: not an object");return L(f)}:I?function(f){return I(f)}:null},6549:s=>{"use strict";s.exports=Object.getOwnPropertyDescriptor},75795:(s,V,M)=>{"use strict";var A=M(6549);if(A)try{A([],"length")}catch{A=null}s.exports=A},58667:(s,V,M)=>{var A={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stateReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"additions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletions"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeabilityMergeRequirements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conditions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestMergeConflictStateCondition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConflictResolvableInWeb"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevertPullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSuggestedActors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"capabilities"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RepositorySuggestedActorFilter"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"suggestedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"capabilities"},value:{kind:"Variable",name:{kind:"Name",value:"capabilities"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DequeuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DequeuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dequeuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnqueuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnqueuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enqueuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReplaceActorsForAssignable"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReplaceActorsForAssignableInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"replaceActorsForAssignable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignable"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:6373}};A.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are also in the limit file, but are not limited (by scope or API availability) here

fragment Node on Node {
	id
}

fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Team on Team { # Team is not an Actor
	name
	avatarUrl
	url
	slug
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	stateReason
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees: assignedActors(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees: assignedActors(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	comments(first: 1) {
		totalCount
	}

	comments(first: 1) {
		totalCount
	}

	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	merged
	mergeable
	mergeQueueEntry {
		...MergeQueueEntryFragment
	}
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	reviewThreads {
		totalCount
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
	additions
	deletions
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestMergeabilityMergeRequirements($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
			mergeStateStatus
			mergeRequirements { # This is a privage field we're testing
				state
				conditions {
					result
					... on PullRequestMergeConflictStateCondition {
						__typename
						conflicts
						isConflictResolvableInWeb
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation RevertPullRequest($input: RevertPullRequestInput!) {
	revertPullRequest(input: $input) {
		revertPullRequest {
			...PullRequestFragment
		}
	}
}

# Queries that only exist in this file and in extra

query GetSuggestedActors($owner: String!, $name: String!, $capabilities: [RepositorySuggestedActorFilter!]!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		suggestedActors(first: $first, after: $after, capabilities: $capabilities) {
			nodes {
				...Node
				...Actor
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation DequeuePullRequest($input: DequeuePullRequestInput!) {
	dequeuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation EnqueuePullRequest($input: EnqueuePullRequestInput!) {
	enqueuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation ReplaceActorsForAssignable($input: ReplaceActorsForAssignableInput!) {
	replaceActorsForAssignable(input: $input) {
		assignable {
			assignees: assignedActors(first: 100) {
				nodes {
					...Node
					...Actor
					...User
				}
				pageInfo {
					hasNextPage
					endCursor
				}
			}
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var L={};function I(m){return m.filter(function(_){if(_.kind!=="FragmentDefinition")return!0;var b=_.name.value;return L[b]?!1:(L[b]=!0,!0)})}A.definitions=A.definitions.concat(I(M(72256).definitions));function C(m,_){if(m.kind==="FragmentSpread")_.add(m.name.value);else if(m.kind==="VariableDefinition"){var b=m.type;b.kind==="NamedType"&&_.add(b.name.value)}m.selectionSet&&m.selectionSet.selections.forEach(function(l){C(l,_)}),m.variableDefinitions&&m.variableDefinitions.forEach(function(l){C(l,_)}),m.definitions&&m.definitions.forEach(function(l){C(l,_)})}var f={};(function(){A.definitions.forEach(function(_){if(_.name){var b=new Set;C(_,b),f[_.name.value]=b}})})();function h(m,_){for(var b=0;b<m.definitions.length;b++){var l=m.definitions[b];if(l.name&&l.name.value==_)return l}}function p(m,_){var b={kind:m.kind,definitions:[h(m,_)]};m.hasOwnProperty("loc")&&(b.loc=m.loc);var l=f[_]||new Set,S=new Set,c=new Set;for(l.forEach(function(d){c.add(d)});c.size>0;){var g=c;c=new Set,g.forEach(function(d){if(!S.has(d)){S.add(d);var w=f[d]||new Set;w.forEach(function(k){c.add(k)})}})}return S.forEach(function(d){var w=h(m,d);w&&b.definitions.push(w)}),b}s.exports=A,s.exports.Issue=p(A,"Issue"),s.exports.IssueWithComments=p(A,"IssueWithComments"),s.exports.Issues=p(A,"Issues"),s.exports.PullRequest=p(A,"PullRequest"),s.exports.PullRequestForHead=p(A,"PullRequestForHead"),s.exports.PullRequestMergeabilityMergeRequirements=p(A,"PullRequestMergeabilityMergeRequirements"),s.exports.CreatePullRequest=p(A,"CreatePullRequest"),s.exports.RevertPullRequest=p(A,"RevertPullRequest"),s.exports.GetSuggestedActors=p(A,"GetSuggestedActors"),s.exports.DequeuePullRequest=p(A,"DequeuePullRequest"),s.exports.EnqueuePullRequest=p(A,"EnqueuePullRequest"),s.exports.ReplaceActorsForAssignable=p(A,"ReplaceActorsForAssignable")},8575:(s,V,M)=>{var A={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stateReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"projectItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"projectItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeCommitTitle"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeabilityMergeRequirements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequirements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conditions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestMergeConflictStateCondition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isConflictResolvableInWeb"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetSuggestedActors"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"capabilities"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RepositorySuggestedActorFilter"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"suggestedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"capabilities"},value:{kind:"Variable",name:{kind:"Name",value:"capabilities"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReplaceActorsForAssignable"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReplaceActorsForAssignableInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"replaceActorsForAssignable"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignable"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"assignees"},name:{kind:"Name",value:"assignedActors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepoProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrgProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"projectsV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"StringValue",value:"state:OPEN",block:!1}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddPullRequestToProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddProjectV2ItemByIdInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addProjectV2ItemById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RemovePullRequestFromProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteProjectV2ItemInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteProjectV2Item"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletedItemId"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DequeuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DequeuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dequeuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnqueuePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnqueuePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enqueuePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueueEntry"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MergeQueueEntryFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:7023}};A.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

# Queries that are only available with extra auth scopes

fragment Node on Node {
	id
}

fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Team on Team { # Team is not an Actor
	name
	avatarUrl
	url
	slug
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	stateReason
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees: assignedActors(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
	projectItems(first: 100) {
		nodes {
			id
			project {
				title
				id
			}
		}
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees: assignedActors(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	projectItems(first: 100) {
		nodes {
			id
			project {
				title
				id
			}
		}
	}
	comments(first: 1) {
		totalCount
	}
	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
		squashMergeCommitTitle
		squashMergeCommitMessage
		mergeCommitMessage
		mergeCommitTitle
	}
	merged
	mergeable
	mergeQueueEntry {
		...MergeQueueEntryFragment
	}
	mergeStateStatus
	reviewThreads {
		totalCount
	}
	autoMergeRequest {
		mergeMethod
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}


query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestMergeabilityMergeRequirements($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
			mergeStateStatus
			mergeRequirements { # This is a privage field we're testing
				state
				conditions {
					result
					... on PullRequestMergeConflictStateCondition {
						__typename
						conflicts
						isConflictResolvableInWeb
					}
				}
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetSuggestedActors($owner: String!, $name: String!, $capabilities: [RepositorySuggestedActorFilter!]!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		suggestedActors(first: $first, after: $after, capabilities: $capabilities) {
			nodes {
				...Node
				...Actor
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation ReplaceActorsForAssignable($input: ReplaceActorsForAssignableInput!) {
	replaceActorsForAssignable(input: $input) {
		assignable {
			assignees: assignedActors(first: 100) {
				nodes {
					...Node
					...Actor
					...User
				}
				pageInfo {
					hasNextPage
					endCursor
				}
			}
		}
	}
}

# Queries that only exist in this file

query GetRepoProjects($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		projectsV2(first: 100, query: "state:OPEN") {
			nodes {
				title
				id
			}
		}
	}
}

query GetOrgProjects($owner: String!, $after: String) {
	organization(login: $owner) {
		projectsV2(first: 100, after: $after, query: "state:OPEN", orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				title
				id
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

mutation AddPullRequestToProject($input: AddProjectV2ItemByIdInput!) {
	addProjectV2ItemById(input: $input) {
		item {
			id
		}
	}
}

mutation RemovePullRequestFromProject($input: DeleteProjectV2ItemInput!) {
	deleteProjectV2Item(input: $input) {
		deletedItemId
	}
}

mutation DequeuePullRequest($input: DequeuePullRequestInput!) {
	dequeuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}

mutation EnqueuePullRequest($input: EnqueuePullRequestInput!) {
	enqueuePullRequest(input: $input) {
		mergeQueueEntry {
			...MergeQueueEntryFragment
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var L={};function I(m){return m.filter(function(_){if(_.kind!=="FragmentDefinition")return!0;var b=_.name.value;return L[b]?!1:(L[b]=!0,!0)})}A.definitions=A.definitions.concat(I(M(72256).definitions));function C(m,_){if(m.kind==="FragmentSpread")_.add(m.name.value);else if(m.kind==="VariableDefinition"){var b=m.type;b.kind==="NamedType"&&_.add(b.name.value)}m.selectionSet&&m.selectionSet.selections.forEach(function(l){C(l,_)}),m.variableDefinitions&&m.variableDefinitions.forEach(function(l){C(l,_)}),m.definitions&&m.definitions.forEach(function(l){C(l,_)})}var f={};(function(){A.definitions.forEach(function(_){if(_.name){var b=new Set;C(_,b),f[_.name.value]=b}})})();function h(m,_){for(var b=0;b<m.definitions.length;b++){var l=m.definitions[b];if(l.name&&l.name.value==_)return l}}function p(m,_){var b={kind:m.kind,definitions:[h(m,_)]};m.hasOwnProperty("loc")&&(b.loc=m.loc);var l=f[_]||new Set,S=new Set,c=new Set;for(l.forEach(function(d){c.add(d)});c.size>0;){var g=c;c=new Set,g.forEach(function(d){if(!S.has(d)){S.add(d);var w=f[d]||new Set;w.forEach(function(k){c.add(k)})}})}return S.forEach(function(d){var w=h(m,d);w&&b.definitions.push(w)}),b}s.exports=A,s.exports.Issue=p(A,"Issue"),s.exports.IssueWithComments=p(A,"IssueWithComments"),s.exports.Issues=p(A,"Issues"),s.exports.PullRequest=p(A,"PullRequest"),s.exports.PullRequestForHead=p(A,"PullRequestForHead"),s.exports.PullRequestMergeabilityMergeRequirements=p(A,"PullRequestMergeabilityMergeRequirements"),s.exports.GetSuggestedActors=p(A,"GetSuggestedActors"),s.exports.CreatePullRequest=p(A,"CreatePullRequest"),s.exports.ReplaceActorsForAssignable=p(A,"ReplaceActorsForAssignable"),s.exports.GetRepoProjects=p(A,"GetRepoProjects"),s.exports.GetOrgProjects=p(A,"GetOrgProjects"),s.exports.AddPullRequestToProject=p(A,"AddPullRequestToProject"),s.exports.RemovePullRequestFromProject=p(A,"RemovePullRequestFromProject"),s.exports.DequeuePullRequest=p(A,"DequeuePullRequest"),s.exports.EnqueuePullRequest=p(A,"EnqueuePullRequest")},87831:(s,V,M)=>{var A={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueBase"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stateReason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"IssueWithCommentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueBase"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PullRequestFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isInOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"autoMergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueWithCommentsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IssueFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestForHead"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"headRefName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"3"}},{kind:"Argument",name:{kind:"Name",value:"headRefName"},value:{kind:"Variable",name:{kind:"Name",value:"headRefName"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}},{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertPullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RevertPullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertPullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PullRequestFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:4678}};A.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

#import "./queriesShared.gql"

fragment Node on Node {
	id
}

fragment Actor on Actor  { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.
	__typename
	login
	avatarUrl
	url
}

fragment User on User {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Organization on Organization {
	__typename
	...Actor
	email
	name
	...Node
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		reactors(first: 10) {
			nodes {
				... on User {
					login
				}
				... on Actor {
					login
				}
			}
			totalCount
		}
	}
}

fragment IssueBase on Issue {
	number
	url
	state
	stateReason
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	repository {
		name
		owner {
			login
		}
		url
	}
}

fragment IssueFragment on Issue {
	...IssueBase
	comments(first: 1) {
		totalCount
	}
}

fragment IssueWithCommentsFragment on Issue {
	...IssueBase
	comments(first: 50) {
		nodes {
			author {
				...Node
				...Actor
				...User
				...Organization
			}
			body
			databaseId
			reactions(first: 100) {
				totalCount
			}
		}
		totalCount
	}
}

fragment PullRequestFragment on PullRequest {
	number
	url
	state
	body
	bodyHTML
	title
	titleHTML
	author {
		...Node
		...Actor
		...User
		...Organization
	}
	createdAt
	updatedAt
	milestone {
		title
		dueOn
		createdAt
		id
		number
	}
	assignees(first: 10) {
		nodes {
			...Node
			...Actor
			...User
		}
	}
	labels(first: 50) {
		nodes {
			name
			color
		}
	}
	id
	databaseId
	reactions(first: 100) {
		totalCount
	}
	...Reactable
	comments(first: 1) {
		totalCount
	}

	commits(first: 50) {
		nodes {
			commit {
				message
			}
		}
	}
	headRef {
		...Ref
	}
	headRefName
	headRefOid
	headRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	baseRef {
		...Ref
	}
	baseRefName
	baseRefOid
	baseRepository {
		isInOrganization
		owner {
			login
		}
		url
	}
	merged
	mergeable
	mergeStateStatus
	autoMergeRequest {
		mergeMethod
	}
	reviewThreads {
		totalCount
	}
	viewerCanEnableAutoMerge
	viewerCanDisableAutoMerge
	viewerCanUpdate
	isDraft
	suggestedReviewers {
		isAuthor
		isCommenter
		reviewer {
			...Actor
			...User
			...Node
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		issue(number: $number) {
			...IssueWithCommentsFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				...IssueFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			...PullRequestFragment
		}
	}
	rateLimit {
		...RateLimit
	}
}

query PullRequestForHead($owner: String!, $name: String!, $headRefName: String!) {
	repository(owner: $owner, name: $name) {
		pullRequests(first: 3, headRefName: $headRefName, orderBy: { field: CREATED_AT, direction: DESC }) {
			nodes {
				...PullRequestFragment
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		assignableUsers(first: $first, after: $after) {
			nodes {
				...User
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		...RateLimit
	}
}

mutation CreatePullRequest($input: CreatePullRequestInput!) {
	createPullRequest(input: $input) {
		pullRequest {
			...PullRequestFragment
		}
	}
}

mutation RevertPullRequest($input: RevertPullRequestInput!) {
	revertPullRequest(input: $input) {
		revertPullRequest {
			...PullRequestFragment
		}
	}
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var L={};function I(m){return m.filter(function(_){if(_.kind!=="FragmentDefinition")return!0;var b=_.name.value;return L[b]?!1:(L[b]=!0,!0)})}A.definitions=A.definitions.concat(I(M(72256).definitions));function C(m,_){if(m.kind==="FragmentSpread")_.add(m.name.value);else if(m.kind==="VariableDefinition"){var b=m.type;b.kind==="NamedType"&&_.add(b.name.value)}m.selectionSet&&m.selectionSet.selections.forEach(function(l){C(l,_)}),m.variableDefinitions&&m.variableDefinitions.forEach(function(l){C(l,_)}),m.definitions&&m.definitions.forEach(function(l){C(l,_)})}var f={};(function(){A.definitions.forEach(function(_){if(_.name){var b=new Set;C(_,b),f[_.name.value]=b}})})();function h(m,_){for(var b=0;b<m.definitions.length;b++){var l=m.definitions[b];if(l.name&&l.name.value==_)return l}}function p(m,_){var b={kind:m.kind,definitions:[h(m,_)]};m.hasOwnProperty("loc")&&(b.loc=m.loc);var l=f[_]||new Set,S=new Set,c=new Set;for(l.forEach(function(d){c.add(d)});c.size>0;){var g=c;c=new Set,g.forEach(function(d){if(!S.has(d)){S.add(d);var w=f[d]||new Set;w.forEach(function(k){c.add(k)})}})}return S.forEach(function(d){var w=h(m,d);w&&b.definitions.push(w)}),b}s.exports=A,s.exports.Issue=p(A,"Issue"),s.exports.IssueWithComments=p(A,"IssueWithComments"),s.exports.Issues=p(A,"Issues"),s.exports.PullRequest=p(A,"PullRequest"),s.exports.PullRequestForHead=p(A,"PullRequestForHead"),s.exports.GetAssignableUsers=p(A,"GetAssignableUsers"),s.exports.CreatePullRequest=p(A,"CreatePullRequest"),s.exports.RevertPullRequest=p(A,"RevertPullRequest")},72256:s=>{var V={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Node"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Node"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Actor"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Organization"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Team"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Team"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RateLimit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RateLimit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Merged"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HeadRefDeleted"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Ref"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Ref"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Comment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanReact"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Commit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"committer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"committedDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AssignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UnassignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CrossReferencedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"repository"},name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"willCloseTarget"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ClosedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReopenedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Review"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submittedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Actor"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"LegacyReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MergeQueueEntryFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergeQueueEntry"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeQueue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UnassignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CrossReferencedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClosedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ReopenedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UnassignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CrossReferencedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClosedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ReopenedEvent"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeDisabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoMergeEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoRebaseEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutoSquashEnabledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeFailedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AutomaticBaseChangeSucceededEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BaseRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertToDraftEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeployedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DeploymentEnvironmentChangedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefForcePushedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefRestoredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueTypeAddedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"committedDate"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestRevisionMarker"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReadyForReviewEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromMergeQueueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewDismissedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestRemovedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewRequestedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestIssueUpdates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"since"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"since"},value:{kind:"Variable",name:{kind:"Name",value:"since"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AddedToProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClosedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CommentDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedNoteToIssueEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConvertedToDiscussionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CrossReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DemilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisconnectedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueTypeAddedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MentionedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MilestonedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MovedColumnsInProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReferencedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RemovedFromProjectEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RenamedTitleEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReopenedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TransferredEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnassignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlabeledEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnmarkedAsDuplicateEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnpinnedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnsubscribedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserBlockedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviewCommit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerLatestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LatestReviews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeamsCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetOrganizationTeams"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"repoName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"teams"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"privacy"},value:{kind:"EnumValue",value:"VISIBLE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Team"},directives:[]},{kind:"Field",name:{kind:"Name",value:"repositories"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"repoName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequestsAdditionalScopes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Team"},directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetReviewRequests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRequests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestedReviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replyTo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetParticipants"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Organization"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPendingReviewId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"author"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"author"},value:{kind:"Variable",name:{kind:"Name",value:"author"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"PENDING"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LegacyPullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalStartLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Viewer"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestFiles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"files"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerViewedState"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributionsCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commitContributionsByRepository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"maxRepositories"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameWithOwner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestTemplates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyAddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RequestReviewsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReviewComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReadyForReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkPullRequestReadyForReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markPullRequestReadyForReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStateStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanEnableAutoMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDisableAutoMerge"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewEvent"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}},{kind:"ObjectField",name:{kind:"Name",value:"pullRequestReviewId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RemoveReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"updateIssue"},name:{kind:"Name",value:"updatePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issue"},name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"titleHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentEdge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMentionableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mentionableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Node"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Actor"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ref"},arguments:[{kind:"Argument",name:{kind:"Name",value:"qualifiedName"},value:{kind:"Variable",name:{kind:"Name",value:"qualifiedName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ListBranches"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"refPrefix"},value:{kind:"StringValue",value:"refs/heads/",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaxIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMilestones"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"states"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MilestoneState"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"DUE_DATE"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"Variable",name:{kind:"Name",value:"states"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViewerPermission"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerPermission"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepositoryForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkSuite"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"app"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workflowRun"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workflow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecksWithoutSuite"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"latestReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"reviewsRequestingChanges"},name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"5"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CHANGES_REQUESTED"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorCanPushToRepository"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"refUpdateRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredApprovingReviewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredStatusCheckContexts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiresCodeOwnerReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanPush"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pullRequestNumber"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MergeQueueForBranch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"branch"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeQueue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"branch"},value:{kind:"Variable",name:{kind:"Name",value:"branch"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"configuration"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeMethod"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetFileContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"expression"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"object"},arguments:[{kind:"Argument",name:{kind:"Name",value:"expression"},value:{kind:"Variable",name:{kind:"Name",value:"expression"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Blob"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RateLimit"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LegacyUnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LegacyReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EnablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"EnablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DisablePullRequestAutoMerge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DisablePullRequestAutoMergeInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disablePullRequestAutoMerge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmarkFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MergePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergePullRequestInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UnassignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CrossReferencedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ClosedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ReopenedEvent"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:27262}};V.loc.source={body:`# /*---------------------------------------------------------------------------------------------\r
#  *  Copyright (c) Microsoft Corporation. All rights reserved.\r
#  *  Licensed under the MIT License. See License.txt in the project root for license information.\r
#  *--------------------------------------------------------------------------------------------*/\r
\r
fragment Node on Node {\r
	id\r
}\r
\r
fragment Actor on Actor { # We don't want to reference Bot because it is not available on older GHE, so we use Actor instead as it gets us most of the way there.\r
	__typename\r
	login\r
	avatarUrl\r
	url\r
}\r
\r
fragment User on User {\r
	__typename\r
	...Actor\r
	email\r
	name\r
	...Node\r
}\r
\r
fragment Organization on Organization {\r
	__typename\r
	...Actor\r
	email\r
	name\r
	...Node\r
}\r
\r
fragment Team on Team { # Team is not an Actor\r
	name\r
	avatarUrl\r
	url\r
	slug\r
	...Node\r
}\r
\r
fragment RateLimit on RateLimit {\r
	limit\r
	cost\r
	remaining\r
	resetAt\r
}\r
\r
fragment Merged on MergedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	mergeRef {\r
		name\r
	}\r
	commit {\r
		oid\r
		commitUrl\r
	}\r
	url\r
}\r
\r
fragment HeadRefDeleted on HeadRefDeletedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	headRefName\r
}\r
\r
fragment Ref on Ref {\r
	name\r
	repository {\r
		owner {\r
			login\r
		}\r
		url\r
	}\r
	target {\r
		oid\r
	}\r
}\r
\r
fragment Comment on IssueComment {\r
	id\r
	databaseId\r
	authorAssociation\r
	author {\r
		...Node\r
		...Actor\r
		...User\r
		...Organization\r
	}\r
	url\r
	body\r
	bodyHTML\r
	updatedAt\r
	createdAt\r
	viewerCanUpdate\r
	viewerCanReact\r
	viewerCanDelete\r
	...Reactable\r
}\r
\r
fragment Commit on PullRequestCommit {\r
	id\r
	commit {\r
		author {\r
			user {\r
				...Node\r
				...Actor\r
				...User\r
			}\r
		}\r
		committer {\r
			avatarUrl\r
			name\r
		}\r
		oid\r
		message\r
		committedDate\r
	}\r
	url\r
}\r
\r
fragment AssignedEvent on AssignedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	user {\r
		...Node\r
		...Actor\r
		...User\r
	}\r
	createdAt\r
}\r
\r
fragment UnassignedEvent on UnassignedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	user {\r
		...Node\r
		...Actor\r
		...User\r
	}\r
	createdAt\r
}\r
\r
fragment CrossReferencedEvent on CrossReferencedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
	source {\r
		... on PullRequest {\r
			number\r
			url\r
			title\r
			repository: baseRepository {\r
				owner {\r
					login\r
				}\r
				name\r
			}\r
		}\r
		... on Issue {\r
			number\r
			url\r
			title\r
			repository {\r
				owner {\r
					login\r
				}\r
				name\r
			}\r
		}\r
	}\r
	willCloseTarget\r
}\r
\r
fragment ClosedEvent on ClosedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
}\r
\r
fragment ReopenedEvent on ReopenedEvent {\r
	id\r
	actor {\r
		...Node\r
		...Actor\r
	}\r
	createdAt\r
}\r
\r
fragment Review on PullRequestReview {\r
	id\r
	databaseId\r
	authorAssociation\r
	url\r
	author {\r
		...User\r
		...Organization\r
		...Node\r
		...Actor\r
	}\r
	state\r
	body\r
	bodyHTML\r
	submittedAt\r
	updatedAt\r
	createdAt\r
	...Reactable\r
}\r
\r
fragment Reactable on Reactable {\r
	reactionGroups {\r
		content\r
		viewerHasReacted\r
		reactors(first: 10) {\r
			nodes {\r
				... on User {\r
					login\r
				}\r
				... on Actor {\r
					login\r
				}\r
			}\r
			totalCount\r
		}\r
	}\r
}\r
\r
\r
fragment ReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	subjectType\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment LegacyReviewThread on PullRequestReviewThread {\r
	id\r
	isResolved\r
	viewerCanResolve\r
	viewerCanUnresolve\r
	path\r
	diffSide\r
	line\r
	startLine\r
	originalStartLine\r
	originalLine\r
	isOutdated\r
	comments(first: 100) {\r
		nodes {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
fragment MergeQueueEntryFragment on MergeQueueEntry {\r
	position\r
	state\r
	mergeQueue {\r
		url\r
	}\r
}\r
\r
query TimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...UnassignedEvent\r
					...HeadRefDeleted\r
					...CrossReferencedEvent\r
					...ClosedEvent\r
					...ReopenedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query IssueTimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Comment\r
					...AssignedEvent\r
					...UnassignedEvent\r
					...CrossReferencedEvent\r
					...ClosedEvent\r
					...ReopenedEvent\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {\r
				nodes {\r
					createdAt\r
				}\r
			}\r
			updatedAt\r
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {\r
				nodes {\r
					updatedAt\r
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {\r
						nodes {\r
							createdAt\r
						}\r
					}\r
				}\r
			}\r
			timelineItems(since: $since, first: 1) {\r
				nodes {\r
					... on AddedToMergeQueueEvent {\r
						createdAt\r
					}\r
					... on AddedToProjectEvent {\r
						createdAt\r
					}\r
					... on AssignedEvent {\r
						createdAt\r
					}\r
					... on AutoMergeDisabledEvent {\r
						createdAt\r
					}\r
					... on AutoMergeEnabledEvent {\r
						createdAt\r
					}\r
					... on AutoRebaseEnabledEvent {\r
						createdAt\r
					}\r
					... on AutoSquashEnabledEvent {\r
						createdAt\r
					}\r
					... on AutomaticBaseChangeFailedEvent {\r
						createdAt\r
					}\r
					... on AutomaticBaseChangeSucceededEvent {\r
						createdAt\r
					}\r
					... on BaseRefChangedEvent {\r
						createdAt\r
					}\r
					... on BaseRefDeletedEvent {\r
						createdAt\r
					}\r
					... on BaseRefForcePushedEvent {\r
						createdAt\r
					}\r
					... on ClosedEvent {\r
						createdAt\r
					}\r
					... on CommentDeletedEvent {\r
						createdAt\r
					}\r
					... on ConnectedEvent {\r
						createdAt\r
					}\r
					... on ConvertToDraftEvent {\r
						createdAt\r
					}\r
					... on ConvertedNoteToIssueEvent {\r
						createdAt\r
					}\r
					... on ConvertedToDiscussionEvent {\r
						createdAt\r
					}\r
					... on CrossReferencedEvent {\r
						createdAt\r
					}\r
					... on DemilestonedEvent {\r
						createdAt\r
					}\r
					... on DeployedEvent {\r
						createdAt\r
					}\r
					... on DeploymentEnvironmentChangedEvent {\r
						createdAt\r
					}\r
					... on DisconnectedEvent {\r
						createdAt\r
					}\r
					... on HeadRefDeletedEvent {\r
						createdAt\r
					}\r
					... on HeadRefForcePushedEvent {\r
						createdAt\r
					}\r
					... on HeadRefRestoredEvent {\r
						createdAt\r
					}\r
					... on IssueComment {\r
						createdAt\r
					}\r
					... on IssueTypeAddedEvent {\r
						createdAt\r
					}\r
					... on LabeledEvent {\r
						createdAt\r
					}\r
					... on LockedEvent {\r
						createdAt\r
					}\r
					... on MarkedAsDuplicateEvent {\r
						createdAt\r
					}\r
					... on MentionedEvent {\r
						createdAt\r
					}\r
					... on MergedEvent {\r
						createdAt\r
					}\r
					... on MilestonedEvent {\r
						createdAt\r
					}\r
					... on MovedColumnsInProjectEvent {\r
						createdAt\r
					}\r
					... on PinnedEvent {\r
						createdAt\r
					}\r
					... on PullRequestCommit {\r
						commit {\r
							committedDate\r
						}\r
					}\r
					... on PullRequestReview {\r
						createdAt\r
					}\r
					... on PullRequestReviewThread {\r
						comments(last: 1) {\r
							nodes {\r
								createdAt\r
							}\r
						}\r
					}\r
					... on PullRequestRevisionMarker {\r
						createdAt\r
					}\r
					... on ReadyForReviewEvent {\r
						createdAt\r
					}\r
					... on ReferencedEvent {\r
						createdAt\r
					}\r
					... on RemovedFromMergeQueueEvent {\r
						createdAt\r
					}\r
					... on RemovedFromProjectEvent {\r
						createdAt\r
					}\r
					... on RenamedTitleEvent {\r
						createdAt\r
					}\r
					... on ReopenedEvent {\r
						createdAt\r
					}\r
					... on ReviewDismissedEvent {\r
						createdAt\r
					}\r
					... on ReviewRequestRemovedEvent {\r
						createdAt\r
					}\r
					... on ReviewRequestedEvent {\r
						createdAt\r
					}\r
					... on SubscribedEvent {\r
						createdAt\r
					}\r
					... on TransferredEvent {\r
						createdAt\r
					}\r
					... on UnassignedEvent {\r
						createdAt\r
					}\r
					... on UnlabeledEvent {\r
						createdAt\r
					}\r
					... on UnlockedEvent {\r
						createdAt\r
					}\r
					... on UnmarkedAsDuplicateEvent {\r
						createdAt\r
					}\r
					... on UnpinnedEvent {\r
						createdAt\r
					}\r
					... on UnsubscribedEvent {\r
						createdAt\r
					}\r
					... on UserBlockedEvent {\r
						createdAt\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestIssueUpdates($owner: String!, $name: String!, $number: Int!, $since: DateTime!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest: issue(number: $number) {\r
			reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {\r
				nodes {\r
					createdAt\r
				}\r
			}\r
			updatedAt\r
			comments(orderBy: {direction:DESC, field: UPDATED_AT}, first: 1) {\r
				nodes {\r
					updatedAt\r
					reactions(orderBy:{direction:DESC, field: CREATED_AT}, first: 1) {\r
						nodes {\r
							createdAt\r
						}\r
					}\r
				}\r
			}\r
			timelineItems(since: $since, first: 1) {\r
				nodes {\r
					... on AddedToProjectEvent {\r
						createdAt\r
					}\r
					... on AssignedEvent {\r
						createdAt\r
					}\r
					... on ClosedEvent {\r
						createdAt\r
					}\r
					... on CommentDeletedEvent {\r
						createdAt\r
					}\r
					... on ConnectedEvent {\r
						createdAt\r
					}\r
					... on ConvertedNoteToIssueEvent {\r
						createdAt\r
					}\r
					... on ConvertedToDiscussionEvent {\r
						createdAt\r
					}\r
					... on CrossReferencedEvent {\r
						createdAt\r
					}\r
					... on DemilestonedEvent {\r
						createdAt\r
					}\r
					... on DisconnectedEvent {\r
						createdAt\r
					}\r
					... on IssueComment {\r
						createdAt\r
					}\r
					... on IssueTypeAddedEvent {\r
						createdAt\r
					}\r
					... on LabeledEvent {\r
						createdAt\r
					}\r
					... on LockedEvent {\r
						createdAt\r
					}\r
					... on MarkedAsDuplicateEvent {\r
						createdAt\r
					}\r
					... on MentionedEvent {\r
						createdAt\r
					}\r
					... on MilestonedEvent {\r
						createdAt\r
					}\r
					... on MovedColumnsInProjectEvent {\r
						createdAt\r
					}\r
					... on PinnedEvent {\r
						createdAt\r
					}\r
					... on ReferencedEvent {\r
						createdAt\r
					}\r
					... on RemovedFromProjectEvent {\r
						createdAt\r
					}\r
					... on RenamedTitleEvent {\r
						createdAt\r
					}\r
					... on ReopenedEvent {\r
						createdAt\r
					}\r
					... on SubscribedEvent {\r
						createdAt\r
					}\r
					... on TransferredEvent {\r
						createdAt\r
					}\r
					... on UnassignedEvent {\r
						createdAt\r
					}\r
					... on UnlabeledEvent {\r
						createdAt\r
					}\r
					... on UnlockedEvent {\r
						createdAt\r
					}\r
					... on UnmarkedAsDuplicateEvent {\r
						createdAt\r
					}\r
					... on UnpinnedEvent {\r
						createdAt\r
					}\r
					... on UnsubscribedEvent {\r
						createdAt\r
					}\r
					... on UserBlockedEvent {\r
						createdAt\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviewCommit($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			viewerLatestReview {\r
				commit {\r
					oid\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LatestReviews($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			latestReviews (first: 10) {\r
				nodes {\r
					state\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeamsCount($login: String!) {\r
	organization(login: $login) {\r
		teams(first: 0, privacy: VISIBLE) {\r
			totalCount\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetOrganizationTeams($login: String!, $after: String, $repoName: String!) {\r
	organization(login: $login) {\r
		teams(first: 100, after: $after, privacy: VISIBLE) {\r
			nodes {\r
				...Team\r
				repositories(first: 5, query: $repoName) {\r
					nodes {\r
						name\r
					}\r
				}\r
			}\r
			totalCount\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequestsAdditionalScopes($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						...Node\r
						...Actor\r
						...User\r
						...Team\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetReviewRequests($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewRequests(first: 100) {\r
				nodes {\r
					requestedReviewer {\r
						...Node\r
						...Actor\r
						...User\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
fragment ReviewComment on PullRequestReviewComment {\r
	id\r
	databaseId\r
	url\r
	author {\r
		...Actor\r
		...Node\r
		...User\r
		...Organization\r
	}\r
	path\r
	originalPosition\r
	body\r
	bodyHTML\r
	diffHunk\r
	position\r
	state\r
	pullRequestReview {\r
		databaseId\r
	}\r
	commit {\r
		oid\r
	}\r
	replyTo {\r
		databaseId\r
	}\r
	createdAt\r
	originalCommit {\r
		oid\r
	}\r
	...Reactable\r
	viewerCanUpdate\r
	viewerCanDelete\r
}\r
\r
query GetParticipants($owner: String!, $name: String!, $number: Int!, $first: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			participants(first: $first) {\r
				nodes {\r
					...Node\r
					...Actor\r
					...User\r
					...Organization\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetPendingReviewId($pullRequestId: ID!, $author: String!) {\r
	node(id: $pullRequestId) {\r
		... on PullRequest {\r
			reviews(first: 1, author: $author, states: [PENDING]) {\r
				nodes {\r
					id\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestComments($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: 20, after: $after) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					subjectType\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query LegacyPullRequestComments($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			reviewThreads(first: 20, after: $after) {\r
				nodes {\r
					id\r
					isResolved\r
					viewerCanResolve\r
					viewerCanUnresolve\r
					path\r
					diffSide\r
					startLine\r
					line\r
					originalStartLine\r
					originalLine\r
					isOutdated\r
					comments(first: 100) {\r
						edges {\r
							node {\r
								pullRequestReview {\r
									databaseId\r
								}\r
							}\r
						}\r
						nodes {\r
							...ReviewComment\r
						}\r
					}\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query Viewer {\r
	viewer {\r
		...User\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestFiles($owner: String!, $name: String!, $number: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			files(first: 100, after: $after) {\r
				nodes {\r
					path\r
					viewerViewedState\r
				}\r
				pageInfo {\r
					hasNextPage\r
					endCursor\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetUser($login: String!) {\r
	user(login: $login) {\r
		login\r
		avatarUrl(size: 50)\r
		id\r
		bio\r
		name\r
		company\r
		location\r
		contributionsCollection {\r
			commitContributionsByRepository(maxRepositories: 50) {\r
				contributions(first: 1) {\r
					nodes {\r
						occurredAt\r
					}\r
				}\r
				repository {\r
					nameWithOwner\r
				}\r
			}\r
		}\r
		url\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestMergeability($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			mergeable\r
			mergeStateStatus\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestState($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			title\r
			number\r
			state\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query PullRequestTemplates($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequestTemplates {\r
			body\r
		}\r
	}\r
}\r
\r
mutation AddComment($input: AddPullRequestReviewCommentInput!) {\r
	addPullRequestReviewComment(input: $input) {\r
		comment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation AddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyAddReviewThread($input: AddPullRequestReviewThreadInput!) {\r
	addPullRequestReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation AddReviewers($input: RequestReviewsInput!) {\r
	requestReviews(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation EditComment($input: UpdatePullRequestReviewCommentInput!) {\r
	updatePullRequestReviewComment(input: $input) {\r
		pullRequestReviewComment {\r
			...ReviewComment\r
		}\r
	}\r
}\r
\r
mutation ReadyForReview($input: MarkPullRequestReadyForReviewInput!) {\r
	markPullRequestReadyForReview(input: $input) {\r
		pullRequest {\r
			isDraft\r
			mergeable\r
			mergeStateStatus\r
			viewerCanEnableAutoMerge\r
			viewerCanDisableAutoMerge\r
		}\r
	}\r
}\r
\r
mutation StartReview($input: AddPullRequestReviewInput!) {\r
	addPullRequestReview(input: $input) {\r
		pullRequestReview {\r
			id\r
		}\r
	}\r
}\r
\r
mutation SubmitReview($id: ID!, $event: PullRequestReviewEvent!, $body: String) {\r
	submitPullRequestReview(input: { event: $event, pullRequestReviewId: $id, body: $body }) {\r
		pullRequestReview {\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
			...Review\r
		}\r
	}\r
}\r
\r
mutation DeleteReview($input: DeletePullRequestReviewInput!) {\r
	deletePullRequestReview(input: $input) {\r
		pullRequestReview {\r
			databaseId\r
			comments(first: 100) {\r
				nodes {\r
					...ReviewComment\r
				}\r
			}\r
		}\r
	}\r
}\r
\r
mutation AddReaction($input: AddReactionInput!) {\r
	addReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation DeleteReaction($input: RemoveReactionInput!) {\r
	removeReaction(input: $input) {\r
		reaction {\r
			content\r
		}\r
		subject {\r
			...Reactable\r
		}\r
	}\r
}\r
\r
mutation UpdateIssue($input: UpdateIssueInput!) {\r
	updateIssue(input: $input) {\r
		issue {\r
			body\r
			bodyHTML\r
			title\r
			titleHTML\r
			milestone {\r
				title\r
				dueOn\r
				createdAt\r
				id\r
				number\r
			}\r
		}\r
	}\r
}\r
\r
mutation UpdatePullRequest($input: UpdatePullRequestInput!) {\r
	updateIssue: updatePullRequest(input: $input) {\r
		issue: pullRequest {\r
			body\r
			bodyHTML\r
			title\r
			titleHTML\r
			milestone {\r
				title\r
				dueOn\r
				createdAt\r
				id\r
				number\r
			}\r
		}\r
	}\r
}\r
\r
mutation AddIssueComment($input: AddCommentInput!) {\r
	addComment(input: $input) {\r
		commentEdge {\r
			node {\r
				...Comment\r
			}\r
		}\r
	}\r
}\r
\r
mutation EditIssueComment($input: UpdateIssueCommentInput!) {\r
	updateIssueComment(input: $input) {\r
		issueComment {\r
			...Comment\r
		}\r
	}\r
}\r
\r
query GetMentionableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		mentionableUsers(first: $first, after: $after) {\r
			nodes {\r
				...Node\r
				...Actor\r
				...User\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetBranch($owner: String!, $name: String!, $qualifiedName: String!) {\r
	repository(owner: $owner, name: $name) {\r
		ref(qualifiedName: $qualifiedName) {\r
			target {\r
				oid\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query ListBranches($owner: String!, $name: String!, $first: Int!, $after: String) {\r
	repository(owner: $owner, name: $name) {\r
		refs(first: $first, after: $after, refPrefix: "refs/heads/") {\r
			nodes {\r
				name\r
			}\r
			pageInfo {\r
				hasNextPage\r
				endCursor\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MaxIssue($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		issues(first: 1, orderBy: { direction: DESC, field: CREATED_AT }) {\r
			edges {\r
				node {\r
					... on Issue {\r
						number\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetMilestones($owner: String!, $name: String!, $states: [MilestoneState!]!) {\r
	repository(owner: $owner, name: $name) {\r
		milestones(first: 100, orderBy: { direction: DESC, field: DUE_DATE }, states: $states) {\r
			nodes {\r
				dueOn\r
				title\r
				createdAt\r
				id\r
				number\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetViewerPermission($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		viewerPermission\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetRepositoryForkDetails($owner: String!, $name: String!) {\r
	repository(owner: $owner, name: $name) {\r
		isFork\r
		parent {\r
			name\r
			owner {\r
				login\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecks($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
										checkSuite {\r
											app {\r
												logoUrl\r
												url\r
											}\r
											workflowRun {\r
												event\r
												workflow {\r
													name\r
												}\r
											}\r
										}\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query GetChecksWithoutSuite($owner: String!, $name: String!, $number: Int!) {\r
	repository(owner: $owner, name: $name) {\r
		pullRequest(number: $number) {\r
			url\r
			latestReviews (first: 10) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			reviewsRequestingChanges: reviews (last: 5, states: [CHANGES_REQUESTED]) {\r
				nodes {\r
					authorAssociation\r
					authorCanPushToRepository\r
					state\r
					author {\r
						login\r
					}\r
				}\r
			}\r
			baseRef {\r
				refUpdateRule {\r
					requiredApprovingReviewCount\r
					requiredStatusCheckContexts\r
					requiresCodeOwnerReviews\r
					viewerCanPush\r
				}\r
			}\r
			commits(last: 1) {\r
				nodes {\r
					commit {\r
						statusCheckRollup {\r
							state\r
							contexts(first: 100) {\r
								nodes {\r
									__typename\r
									... on StatusContext {\r
										id\r
										state\r
										targetUrl\r
										description\r
										context\r
										avatarUrl\r
										isRequired(pullRequestNumber: $number)\r
									}\r
									... on CheckRun {\r
										id\r
										conclusion\r
										title\r
										detailsUrl\r
										name\r
										resourcePath\r
										isRequired(pullRequestNumber: $number)\r
									}\r
								}\r
							}\r
						}\r
					}\r
				}\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
query MergeQueueForBranch($owner: String!, $name: String!, $branch: String!) {\r
	repository(owner: $owner, name: $name) {\r
		mergeQueue(branch: $branch) {\r
			configuration {\r
				mergeMethod\r
			}\r
		}\r
	}\r
}\r
\r
query GetFileContent($owner: String!, $name: String!, $expression: String!) {\r
	repository(owner: $owner, name: $name) {\r
		object(expression: $expression) {\r
			... on Blob {\r
				text\r
			}\r
		}\r
	}\r
	rateLimit {\r
		...RateLimit\r
	}\r
}\r
\r
mutation ResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyResolveReviewThread($input: ResolveReviewThreadInput!) {\r
	resolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation UnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...ReviewThread\r
		}\r
	}\r
}\r
\r
mutation LegacyUnresolveReviewThread($input: UnresolveReviewThreadInput!) {\r
	unresolveReviewThread(input: $input) {\r
		thread {\r
			...LegacyReviewThread\r
		}\r
	}\r
}\r
\r
mutation EnablePullRequestAutoMerge($input: EnablePullRequestAutoMergeInput!) {\r
	enablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation DisablePullRequestAutoMerge($input: DisablePullRequestAutoMergeInput!) {\r
	disablePullRequestAutoMerge(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MarkFileAsViewed($input: MarkFileAsViewedInput!) {\r
	markFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation UnmarkFileAsViewed($input: UnmarkFileAsViewedInput!) {\r
	unmarkFileAsViewed(input: $input) {\r
		pullRequest {\r
			id\r
		}\r
	}\r
}\r
\r
mutation MergePullRequest($input: MergePullRequestInput!, $last: Int = 150) {\r
	mergePullRequest(input: $input) {\r
		pullRequest {\r
			id\r
			timelineItems(last: $last) {\r
				nodes {\r
					__typename\r
					...Merged\r
					...Comment\r
					...Review\r
					...Commit\r
					...AssignedEvent\r
					...UnassignedEvent\r
					...HeadRefDeleted\r
					...CrossReferencedEvent\r
					...ClosedEvent\r
					...ReopenedEvent\r
				}\r
			}\r
		}\r
	}\r
}\r
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var M={};function A(h){return h.filter(function(p){if(p.kind!=="FragmentDefinition")return!0;var m=p.name.value;return M[m]?!1:(M[m]=!0,!0)})}function L(h,p){if(h.kind==="FragmentSpread")p.add(h.name.value);else if(h.kind==="VariableDefinition"){var m=h.type;m.kind==="NamedType"&&p.add(m.name.value)}h.selectionSet&&h.selectionSet.selections.forEach(function(_){L(_,p)}),h.variableDefinitions&&h.variableDefinitions.forEach(function(_){L(_,p)}),h.definitions&&h.definitions.forEach(function(_){L(_,p)})}var I={};(function(){V.definitions.forEach(function(p){if(p.name){var m=new Set;L(p,m),I[p.name.value]=m}})})();function C(h,p){for(var m=0;m<h.definitions.length;m++){var _=h.definitions[m];if(_.name&&_.name.value==p)return _}}function f(h,p){var m={kind:h.kind,definitions:[C(h,p)]};h.hasOwnProperty("loc")&&(m.loc=h.loc);var _=I[p]||new Set,b=new Set,l=new Set;for(_.forEach(function(c){l.add(c)});l.size>0;){var S=l;l=new Set,S.forEach(function(c){if(!b.has(c)){b.add(c);var g=I[c]||new Set;g.forEach(function(d){l.add(d)})}})}return b.forEach(function(c){var g=C(h,c);g&&m.definitions.push(g)}),m}s.exports=V,s.exports.TimelineEvents=f(V,"TimelineEvents"),s.exports.IssueTimelineEvents=f(V,"IssueTimelineEvents"),s.exports.LatestUpdates=f(V,"LatestUpdates"),s.exports.LatestIssueUpdates=f(V,"LatestIssueUpdates"),s.exports.LatestReviewCommit=f(V,"LatestReviewCommit"),s.exports.LatestReviews=f(V,"LatestReviews"),s.exports.GetOrganizationTeamsCount=f(V,"GetOrganizationTeamsCount"),s.exports.GetOrganizationTeams=f(V,"GetOrganizationTeams"),s.exports.GetReviewRequestsAdditionalScopes=f(V,"GetReviewRequestsAdditionalScopes"),s.exports.GetReviewRequests=f(V,"GetReviewRequests"),s.exports.GetParticipants=f(V,"GetParticipants"),s.exports.GetPendingReviewId=f(V,"GetPendingReviewId"),s.exports.PullRequestComments=f(V,"PullRequestComments"),s.exports.LegacyPullRequestComments=f(V,"LegacyPullRequestComments"),s.exports.Viewer=f(V,"Viewer"),s.exports.PullRequestFiles=f(V,"PullRequestFiles"),s.exports.GetUser=f(V,"GetUser"),s.exports.PullRequestMergeability=f(V,"PullRequestMergeability"),s.exports.PullRequestState=f(V,"PullRequestState"),s.exports.PullRequestTemplates=f(V,"PullRequestTemplates"),s.exports.AddComment=f(V,"AddComment"),s.exports.AddReviewThread=f(V,"AddReviewThread"),s.exports.LegacyAddReviewThread=f(V,"LegacyAddReviewThread"),s.exports.AddReviewers=f(V,"AddReviewers"),s.exports.EditComment=f(V,"EditComment"),s.exports.ReadyForReview=f(V,"ReadyForReview"),s.exports.StartReview=f(V,"StartReview"),s.exports.SubmitReview=f(V,"SubmitReview"),s.exports.DeleteReview=f(V,"DeleteReview"),s.exports.AddReaction=f(V,"AddReaction"),s.exports.DeleteReaction=f(V,"DeleteReaction"),s.exports.UpdateIssue=f(V,"UpdateIssue"),s.exports.UpdatePullRequest=f(V,"UpdatePullRequest"),s.exports.AddIssueComment=f(V,"AddIssueComment"),s.exports.EditIssueComment=f(V,"EditIssueComment"),s.exports.GetMentionableUsers=f(V,"GetMentionableUsers"),s.exports.GetBranch=f(V,"GetBranch"),s.exports.ListBranches=f(V,"ListBranches"),s.exports.MaxIssue=f(V,"MaxIssue"),s.exports.GetMilestones=f(V,"GetMilestones"),s.exports.GetViewerPermission=f(V,"GetViewerPermission"),s.exports.GetRepositoryForkDetails=f(V,"GetRepositoryForkDetails"),s.exports.GetChecks=f(V,"GetChecks"),s.exports.GetChecksWithoutSuite=f(V,"GetChecksWithoutSuite"),s.exports.MergeQueueForBranch=f(V,"MergeQueueForBranch"),s.exports.GetFileContent=f(V,"GetFileContent"),s.exports.ResolveReviewThread=f(V,"ResolveReviewThread"),s.exports.LegacyResolveReviewThread=f(V,"LegacyResolveReviewThread"),s.exports.UnresolveReviewThread=f(V,"UnresolveReviewThread"),s.exports.LegacyUnresolveReviewThread=f(V,"LegacyUnresolveReviewThread"),s.exports.EnablePullRequestAutoMerge=f(V,"EnablePullRequestAutoMerge"),s.exports.DisablePullRequestAutoMerge=f(V,"DisablePullRequestAutoMerge"),s.exports.MarkFileAsViewed=f(V,"MarkFileAsViewed"),s.exports.UnmarkFileAsViewed=f(V,"UnmarkFileAsViewed"),s.exports.MergePullRequest=f(V,"MergePullRequest")},77358:(s,V,M)=>{var A=M(50246),L=A.parse;function I(k){return k.replace(/[\s,]+/g," ").trim()}var C={},f={};function h(k){return I(k.source.body.substring(k.start,k.end))}function p(){C={},f={}}var m=!0;function _(k){for(var R={},P=[],U=0;U<k.definitions.length;U++){var F=k.definitions[U];if(F.kind==="FragmentDefinition"){var y=F.name.value,z=h(F.loc);f.hasOwnProperty(y)&&!f[y][z]?(m&&console.warn("Warning: fragment with name "+y+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`),f[y][z]=!0):f.hasOwnProperty(y)||(f[y]={},f[y][z]=!0),R[z]||(R[z]=!0,P.push(F))}else P.push(F)}return k.definitions=P,k}function b(){m=!1}function l(k,R){var P=Object.prototype.toString.call(k);if(P==="[object Array]")return k.map(function(Q){return l(Q,R)});if(P!=="[object Object]")throw new Error("Unexpected input.");R&&k.loc&&delete k.loc,k.loc&&(delete k.loc.startToken,delete k.loc.endToken);var U=Object.keys(k),F,y,z;for(F in U)U.hasOwnProperty(F)&&(y=k[U[F]],z=Object.prototype.toString.call(y),(z==="[object Object]"||z==="[object Array]")&&(k[U[F]]=l(y,!0)));return k}var S=!1;function c(k){var R=I(k);if(C[R])return C[R];var P=L(k,{experimentalFragmentVariables:S});if(!P||P.kind!=="Document")throw new Error("Not a valid GraphQL document.");return P=_(P),P=l(P,!1),C[R]=P,P}function g(){S=!0}function d(){S=!1}function w(){for(var k=Array.prototype.slice.call(arguments),R=k[0],P=typeof R=="string"?R:R[0],U=1;U<k.length;U++)k[U]&&k[U].kind&&k[U].kind==="Document"?P+=k[U].loc.source.body:P+=k[U],P+=R[U];return c(P)}w.default=w,w.resetCaches=p,w.disableFragmentWarnings=b,w.enableExperimentalFragmentVariables=g,w.disableExperimentalFragmentVariables=d,s.exports=w},61702:(s,V,M)=>{"use strict";function A(y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A=function(Q){return typeof Q}:A=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},A(y)}Object.defineProperty(V,"__esModule",{value:!0}),V.printError=F,V.GraphQLError=void 0;var L=h(M(55569)),I=M(25888),C=M(99530),f=M(40825);function h(y){return y&&y.__esModule?y:{default:y}}function p(y,z){if(!(y instanceof z))throw new TypeError("Cannot call a class as a function")}function m(y,z){for(var Q=0;Q<z.length;Q++){var Z=z[Q];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(y,Z.key,Z)}}function _(y,z,Q){return z&&m(y.prototype,z),Q&&m(y,Q),y}function b(y,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(z&&z.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),z&&R(y,z)}function l(y){var z=w();return function(){var Z=P(y),X;if(z){var Y=P(this).constructor;X=Reflect.construct(Z,arguments,Y)}else X=Z.apply(this,arguments);return S(this,X)}}function S(y,z){return z&&(A(z)==="object"||typeof z=="function")?z:c(y)}function c(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}function g(y){var z=typeof Map=="function"?new Map:void 0;return g=function(Z){if(Z===null||!k(Z))return Z;if(typeof Z!="function")throw new TypeError("Super expression must either be null or a function");if(typeof z!="undefined"){if(z.has(Z))return z.get(Z);z.set(Z,X)}function X(){return d(Z,arguments,P(this).constructor)}return X.prototype=Object.create(Z.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),R(X,Z)},g(y)}function d(y,z,Q){return w()?d=Reflect.construct:d=function(X,Y,O){var $=[null];$.push.apply($,Y);var D=Function.bind.apply(X,$),u=new D;return O&&R(u,O.prototype),u},d.apply(null,arguments)}function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function k(y){return Function.toString.call(y).indexOf("[native code]")!==-1}function R(y,z){return R=Object.setPrototypeOf||function(Z,X){return Z.__proto__=X,Z},R(y,z)}function P(y){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},P(y)}var U=function(y){b(Q,y);var z=l(Q);function Q(Z,X,Y,O,$,D,u){var E,q,H,K,G;p(this,Q),G=z.call(this,Z);var ie=Array.isArray(X)?X.length!==0?X:void 0:X?[X]:void 0,J=Y;if(!J&&ie){var B;J=(B=ie[0].loc)===null||B===void 0?void 0:B.source}var ae=O;!ae&&ie&&(ae=ie.reduce(function(Te,ee){return ee.loc&&Te.push(ee.loc.start),Te},[])),ae&&ae.length===0&&(ae=void 0);var Ne;O&&Y?Ne=O.map(function(Te){return(0,C.getLocation)(Y,Te)}):ie&&(Ne=ie.reduce(function(Te,ee){return ee.loc&&Te.push((0,C.getLocation)(ee.loc.source,ee.loc.start)),Te},[]));var be=u;if(be==null&&D!=null){var we=D.extensions;(0,L.default)(we)&&(be=we)}return Object.defineProperties(c(G),{name:{value:"GraphQLError"},message:{value:Z,enumerable:!0,writable:!0},locations:{value:(E=Ne)!==null&&E!==void 0?E:void 0,enumerable:Ne!=null},path:{value:$!=null?$:void 0,enumerable:$!=null},nodes:{value:ie!=null?ie:void 0},source:{value:(q=J)!==null&&q!==void 0?q:void 0},positions:{value:(H=ae)!==null&&H!==void 0?H:void 0},originalError:{value:D},extensions:{value:(K=be)!==null&&K!==void 0?K:void 0,enumerable:be!=null}}),D!=null&&D.stack?(Object.defineProperty(c(G),"stack",{value:D.stack,writable:!0,configurable:!0}),S(G)):(Error.captureStackTrace?Error.captureStackTrace(c(G),Q):Object.defineProperty(c(G),"stack",{value:Error().stack,writable:!0,configurable:!0}),G)}return _(Q,[{key:"toString",value:function(){return F(this)}},{key:I.SYMBOL_TO_STRING_TAG,get:function(){return"Object"}}]),Q}(g(Error));V.GraphQLError=U;function F(y){var z=y.message;if(y.nodes)for(var Q=0,Z=y.nodes;Q<Z.length;Q++){var X=Z[Q];X.loc&&(z+=`

`+(0,f.printLocation)(X.loc))}else if(y.source&&y.locations)for(var Y=0,O=y.locations;Y<O.length;Y++){var $=O[Y];z+=`

`+(0,f.printSourceLocation)(y.source,$)}return z}},51352:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.syntaxError=L;var A=M(61702);function L(I,C,f){return new A.GraphQLError("Syntax Error: ".concat(f),void 0,I,[C])}},63580:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=C;var A=I(M(61321)),L=I(M(98493));function I(f){return f&&f.__esModule?f:{default:f}}function C(f){var h=f.prototype.toJSON;typeof h=="function"||(0,A.default)(0),f.prototype.inspect=h,L.default&&(f.prototype[L.default]=h)}},93028:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=M;function M(A,L){var I=!!A;if(!I)throw new Error(L)}},29657:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=h;var A=L(M(98493));function L(c){return c&&c.__esModule?c:{default:c}}function I(c){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?I=function(d){return typeof d}:I=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},I(c)}var C=10,f=2;function h(c){return p(c,[])}function p(c,g){switch(I(c)){case"string":return JSON.stringify(c);case"function":return c.name?"[function ".concat(c.name,"]"):"[function]";case"object":return c===null?"null":m(c,g);default:return String(c)}}function m(c,g){if(g.indexOf(c)!==-1)return"[Circular]";var d=[].concat(g,[c]),w=l(c);if(w!==void 0){var k=w.call(c);if(k!==c)return typeof k=="string"?k:p(k,d)}else if(Array.isArray(c))return b(c,d);return _(c,d)}function _(c,g){var d=Object.keys(c);if(d.length===0)return"{}";if(g.length>f)return"["+S(c)+"]";var w=d.map(function(k){var R=p(c[k],g);return k+": "+R});return"{ "+w.join(", ")+" }"}function b(c,g){if(c.length===0)return"[]";if(g.length>f)return"[Array]";for(var d=Math.min(C,c.length),w=c.length-d,k=[],R=0;R<d;++R)k.push(p(c[R],g));return w===1?k.push("... 1 more item"):w>1&&k.push("... ".concat(w," more items")),"["+k.join(", ")+"]"}function l(c){var g=c[String(A.default)];if(typeof g=="function")return g;if(typeof c.inspect=="function")return c.inspect}function S(c){var g=Object.prototype.toString.call(c).replace(/^\[object /,"").replace(/]$/,"");if(g==="Object"&&typeof c.constructor=="function"){var d=c.constructor.name;if(typeof d=="string"&&d!=="")return d}return g}},79527:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var M=function(L,I){return L instanceof I};V.default=M},61321:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=M;function M(A,L){var I=!!A;if(!I)throw new Error(L!=null?L:"Unexpected invariant triggered.")}},55569:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=A;function M(L){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(C){return typeof C}:M=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},M(L)}function A(L){return M(L)=="object"&&L!==null}},98493:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.default=void 0;var M=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,A=M;V.default=A},76257:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.isNode=f,V.Token=V.Location=void 0;var A=L(M(63580));function L(h){return h&&h.__esModule?h:{default:h}}var I=function(){function h(m,_,b){this.start=m.start,this.end=_.end,this.startToken=m,this.endToken=_,this.source=b}var p=h.prototype;return p.toJSON=function(){return{start:this.start,end:this.end}},h}();V.Location=I,(0,A.default)(I);var C=function(){function h(m,_,b,l,S,c,g){this.kind=m,this.start=_,this.end=b,this.line=l,this.column=S,this.value=g,this.prev=c,this.next=null}var p=h.prototype;return p.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},h}();V.Token=C,(0,A.default)(C);function f(h){return h!=null&&typeof h.kind=="string"}},69165:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.dedentBlockStringValue=M,V.getBlockStringIndentation=L,V.printBlockString=I;function M(C){var f=C.split(/\r\n|[\n\r]/g),h=L(C);if(h!==0)for(var p=1;p<f.length;p++)f[p]=f[p].slice(h);for(var m=0;m<f.length&&A(f[m]);)++m;for(var _=f.length;_>m&&A(f[_-1]);)--_;return f.slice(m,_).join(`
`)}function A(C){for(var f=0;f<C.length;++f)if(C[f]!==" "&&C[f]!=="	")return!1;return!0}function L(C){for(var f,h=!0,p=!0,m=0,_=null,b=0;b<C.length;++b)switch(C.charCodeAt(b)){case 13:C.charCodeAt(b+1)===10&&++b;case 10:h=!1,p=!0,m=0;break;case 9:case 32:++m;break;default:p&&!h&&(_===null||m<_)&&(_=m),p=!1}return(f=_)!==null&&f!==void 0?f:0}function I(C){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=C.indexOf(`
`)===-1,m=C[0]===" "||C[0]==="	",_=C[C.length-1]==='"',b=C[C.length-1]==="\\",l=!p||_||b||h,S="";return l&&!(p&&m)&&(S+=`
`+f),S+=f?C.replace(/\n/g,`
`+f):C,l&&(S+=`
`),'"""'+S.replace(/"""/g,'\\"""')+'"""'}},5919:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.DirectiveLocation=void 0;var M=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});V.DirectiveLocation=M},7030:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.Kind=void 0;var M=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});V.Kind=M},46083:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.isPunctuatorTokenKind=h,V.Lexer=void 0;var A=M(51352),L=M(76257),I=M(73038),C=M(69165),f=function(){function P(F){var y=new L.Token(I.TokenKind.SOF,0,0,0,0,null);this.source=F,this.lastToken=y,this.token=y,this.line=1,this.lineStart=0}var U=P.prototype;return U.advance=function(){this.lastToken=this.token;var y=this.token=this.lookahead();return y},U.lookahead=function(){var y=this.token;if(y.kind!==I.TokenKind.EOF)do{var z;y=(z=y.next)!==null&&z!==void 0?z:y.next=m(this,y)}while(y.kind===I.TokenKind.COMMENT);return y},P}();V.Lexer=f;function h(P){return P===I.TokenKind.BANG||P===I.TokenKind.DOLLAR||P===I.TokenKind.AMP||P===I.TokenKind.PAREN_L||P===I.TokenKind.PAREN_R||P===I.TokenKind.SPREAD||P===I.TokenKind.COLON||P===I.TokenKind.EQUALS||P===I.TokenKind.AT||P===I.TokenKind.BRACKET_L||P===I.TokenKind.BRACKET_R||P===I.TokenKind.BRACE_L||P===I.TokenKind.PIPE||P===I.TokenKind.BRACE_R}function p(P){return isNaN(P)?I.TokenKind.EOF:P<127?JSON.stringify(String.fromCharCode(P)):'"\\u'.concat(("00"+P.toString(16).toUpperCase()).slice(-4),'"')}function m(P,U){for(var F=P.source,y=F.body,z=y.length,Q=U.end;Q<z;){var Z=y.charCodeAt(Q),X=P.line,Y=1+Q-P.lineStart;switch(Z){case 65279:case 9:case 32:case 44:++Q;continue;case 10:++Q,++P.line,P.lineStart=Q;continue;case 13:y.charCodeAt(Q+1)===10?Q+=2:++Q,++P.line,P.lineStart=Q;continue;case 33:return new L.Token(I.TokenKind.BANG,Q,Q+1,X,Y,U);case 35:return b(F,Q,X,Y,U);case 36:return new L.Token(I.TokenKind.DOLLAR,Q,Q+1,X,Y,U);case 38:return new L.Token(I.TokenKind.AMP,Q,Q+1,X,Y,U);case 40:return new L.Token(I.TokenKind.PAREN_L,Q,Q+1,X,Y,U);case 41:return new L.Token(I.TokenKind.PAREN_R,Q,Q+1,X,Y,U);case 46:if(y.charCodeAt(Q+1)===46&&y.charCodeAt(Q+2)===46)return new L.Token(I.TokenKind.SPREAD,Q,Q+3,X,Y,U);break;case 58:return new L.Token(I.TokenKind.COLON,Q,Q+1,X,Y,U);case 61:return new L.Token(I.TokenKind.EQUALS,Q,Q+1,X,Y,U);case 64:return new L.Token(I.TokenKind.AT,Q,Q+1,X,Y,U);case 91:return new L.Token(I.TokenKind.BRACKET_L,Q,Q+1,X,Y,U);case 93:return new L.Token(I.TokenKind.BRACKET_R,Q,Q+1,X,Y,U);case 123:return new L.Token(I.TokenKind.BRACE_L,Q,Q+1,X,Y,U);case 124:return new L.Token(I.TokenKind.PIPE,Q,Q+1,X,Y,U);case 125:return new L.Token(I.TokenKind.BRACE_R,Q,Q+1,X,Y,U);case 34:return y.charCodeAt(Q+1)===34&&y.charCodeAt(Q+2)===34?g(F,Q,X,Y,U,P):c(F,Q,X,Y,U);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return l(F,Q,Z,X,Y,U);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return k(F,Q,X,Y,U)}throw(0,A.syntaxError)(F,Q,_(Z))}var O=P.line,$=1+Q-P.lineStart;return new L.Token(I.TokenKind.EOF,z,z,O,$,U)}function _(P){return P<32&&P!==9&&P!==10&&P!==13?"Cannot contain the invalid character ".concat(p(P),"."):P===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(p(P),".")}function b(P,U,F,y,z){var Q=P.body,Z,X=U;do Z=Q.charCodeAt(++X);while(!isNaN(Z)&&(Z>31||Z===9));return new L.Token(I.TokenKind.COMMENT,U,X,F,y,z,Q.slice(U+1,X))}function l(P,U,F,y,z,Q){var Z=P.body,X=F,Y=U,O=!1;if(X===45&&(X=Z.charCodeAt(++Y)),X===48){if(X=Z.charCodeAt(++Y),X>=48&&X<=57)throw(0,A.syntaxError)(P,Y,"Invalid number, unexpected digit after 0: ".concat(p(X),"."))}else Y=S(P,Y,X),X=Z.charCodeAt(Y);if(X===46&&(O=!0,X=Z.charCodeAt(++Y),Y=S(P,Y,X),X=Z.charCodeAt(Y)),(X===69||X===101)&&(O=!0,X=Z.charCodeAt(++Y),(X===43||X===45)&&(X=Z.charCodeAt(++Y)),Y=S(P,Y,X),X=Z.charCodeAt(Y)),X===46||R(X))throw(0,A.syntaxError)(P,Y,"Invalid number, expected digit but got: ".concat(p(X),"."));return new L.Token(O?I.TokenKind.FLOAT:I.TokenKind.INT,U,Y,y,z,Q,Z.slice(U,Y))}function S(P,U,F){var y=P.body,z=U,Q=F;if(Q>=48&&Q<=57){do Q=y.charCodeAt(++z);while(Q>=48&&Q<=57);return z}throw(0,A.syntaxError)(P,z,"Invalid number, expected digit but got: ".concat(p(Q),"."))}function c(P,U,F,y,z){for(var Q=P.body,Z=U+1,X=Z,Y=0,O="";Z<Q.length&&!isNaN(Y=Q.charCodeAt(Z))&&Y!==10&&Y!==13;){if(Y===34)return O+=Q.slice(X,Z),new L.Token(I.TokenKind.STRING,U,Z+1,F,y,z,O);if(Y<32&&Y!==9)throw(0,A.syntaxError)(P,Z,"Invalid character within String: ".concat(p(Y),"."));if(++Z,Y===92){switch(O+=Q.slice(X,Z-1),Y=Q.charCodeAt(Z),Y){case 34:O+='"';break;case 47:O+="/";break;case 92:O+="\\";break;case 98:O+="\b";break;case 102:O+="\f";break;case 110:O+=`
`;break;case 114:O+="\r";break;case 116:O+="	";break;case 117:{var $=d(Q.charCodeAt(Z+1),Q.charCodeAt(Z+2),Q.charCodeAt(Z+3),Q.charCodeAt(Z+4));if($<0){var D=Q.slice(Z+1,Z+5);throw(0,A.syntaxError)(P,Z,"Invalid character escape sequence: \\u".concat(D,"."))}O+=String.fromCharCode($),Z+=4;break}default:throw(0,A.syntaxError)(P,Z,"Invalid character escape sequence: \\".concat(String.fromCharCode(Y),"."))}++Z,X=Z}}throw(0,A.syntaxError)(P,Z,"Unterminated string.")}function g(P,U,F,y,z,Q){for(var Z=P.body,X=U+3,Y=X,O=0,$="";X<Z.length&&!isNaN(O=Z.charCodeAt(X));){if(O===34&&Z.charCodeAt(X+1)===34&&Z.charCodeAt(X+2)===34)return $+=Z.slice(Y,X),new L.Token(I.TokenKind.BLOCK_STRING,U,X+3,F,y,z,(0,C.dedentBlockStringValue)($));if(O<32&&O!==9&&O!==10&&O!==13)throw(0,A.syntaxError)(P,X,"Invalid character within String: ".concat(p(O),"."));O===10?(++X,++Q.line,Q.lineStart=X):O===13?(Z.charCodeAt(X+1)===10?X+=2:++X,++Q.line,Q.lineStart=X):O===92&&Z.charCodeAt(X+1)===34&&Z.charCodeAt(X+2)===34&&Z.charCodeAt(X+3)===34?($+=Z.slice(Y,X)+'"""',X+=4,Y=X):++X}throw(0,A.syntaxError)(P,X,"Unterminated string.")}function d(P,U,F,y){return w(P)<<12|w(U)<<8|w(F)<<4|w(y)}function w(P){return P>=48&&P<=57?P-48:P>=65&&P<=70?P-55:P>=97&&P<=102?P-87:-1}function k(P,U,F,y,z){for(var Q=P.body,Z=Q.length,X=U+1,Y=0;X!==Z&&!isNaN(Y=Q.charCodeAt(X))&&(Y===95||Y>=48&&Y<=57||Y>=65&&Y<=90||Y>=97&&Y<=122);)++X;return new L.Token(I.TokenKind.NAME,U,X,F,y,z,Q.slice(U,X))}function R(P){return P===95||P>=65&&P<=90||P>=97&&P<=122}},99530:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.getLocation=M;function M(A,L){for(var I=/\r\n|[\n\r]/g,C=1,f=L+1,h;(h=I.exec(A.body))&&h.index<L;)C+=1,f=L+1-(h.index+h[0].length);return{line:C,column:f}}},50246:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.parse=m,V.parseValue=_,V.parseType=b,V.Parser=void 0;var A=M(51352),L=M(7030),I=M(76257),C=M(73038),f=M(46876),h=M(5919),p=M(46083);function m(g,d){var w=new l(g,d);return w.parseDocument()}function _(g,d){var w=new l(g,d);w.expectToken(C.TokenKind.SOF);var k=w.parseValueLiteral(!1);return w.expectToken(C.TokenKind.EOF),k}function b(g,d){var w=new l(g,d);w.expectToken(C.TokenKind.SOF);var k=w.parseTypeReference();return w.expectToken(C.TokenKind.EOF),k}var l=function(){function g(w,k){var R=(0,f.isSource)(w)?w:new f.Source(w);this._lexer=new p.Lexer(R),this._options=k}var d=g.prototype;return d.parseName=function(){var k=this.expectToken(C.TokenKind.NAME);return{kind:L.Kind.NAME,value:k.value,loc:this.loc(k)}},d.parseDocument=function(){var k=this._lexer.token;return{kind:L.Kind.DOCUMENT,definitions:this.many(C.TokenKind.SOF,this.parseDefinition,C.TokenKind.EOF),loc:this.loc(k)}},d.parseDefinition=function(){if(this.peek(C.TokenKind.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(C.TokenKind.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},d.parseOperationDefinition=function(){var k=this._lexer.token;if(this.peek(C.TokenKind.BRACE_L))return{kind:L.Kind.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(k)};var R=this.parseOperationType(),P;return this.peek(C.TokenKind.NAME)&&(P=this.parseName()),{kind:L.Kind.OPERATION_DEFINITION,operation:R,name:P,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(k)}},d.parseOperationType=function(){var k=this.expectToken(C.TokenKind.NAME);switch(k.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(k)},d.parseVariableDefinitions=function(){return this.optionalMany(C.TokenKind.PAREN_L,this.parseVariableDefinition,C.TokenKind.PAREN_R)},d.parseVariableDefinition=function(){var k=this._lexer.token;return{kind:L.Kind.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(C.TokenKind.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(C.TokenKind.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(k)}},d.parseVariable=function(){var k=this._lexer.token;return this.expectToken(C.TokenKind.DOLLAR),{kind:L.Kind.VARIABLE,name:this.parseName(),loc:this.loc(k)}},d.parseSelectionSet=function(){var k=this._lexer.token;return{kind:L.Kind.SELECTION_SET,selections:this.many(C.TokenKind.BRACE_L,this.parseSelection,C.TokenKind.BRACE_R),loc:this.loc(k)}},d.parseSelection=function(){return this.peek(C.TokenKind.SPREAD)?this.parseFragment():this.parseField()},d.parseField=function(){var k=this._lexer.token,R=this.parseName(),P,U;return this.expectOptionalToken(C.TokenKind.COLON)?(P=R,U=this.parseName()):U=R,{kind:L.Kind.FIELD,alias:P,name:U,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(C.TokenKind.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(k)}},d.parseArguments=function(k){var R=k?this.parseConstArgument:this.parseArgument;return this.optionalMany(C.TokenKind.PAREN_L,R,C.TokenKind.PAREN_R)},d.parseArgument=function(){var k=this._lexer.token,R=this.parseName();return this.expectToken(C.TokenKind.COLON),{kind:L.Kind.ARGUMENT,name:R,value:this.parseValueLiteral(!1),loc:this.loc(k)}},d.parseConstArgument=function(){var k=this._lexer.token;return{kind:L.Kind.ARGUMENT,name:this.parseName(),value:(this.expectToken(C.TokenKind.COLON),this.parseValueLiteral(!0)),loc:this.loc(k)}},d.parseFragment=function(){var k=this._lexer.token;this.expectToken(C.TokenKind.SPREAD);var R=this.expectOptionalKeyword("on");return!R&&this.peek(C.TokenKind.NAME)?{kind:L.Kind.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(k)}:{kind:L.Kind.INLINE_FRAGMENT,typeCondition:R?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(k)}},d.parseFragmentDefinition=function(){var k,R=this._lexer.token;return this.expectKeyword("fragment"),((k=this._options)===null||k===void 0?void 0:k.experimentalFragmentVariables)===!0?{kind:L.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(R)}:{kind:L.Kind.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(R)}},d.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},d.parseValueLiteral=function(k){var R=this._lexer.token;switch(R.kind){case C.TokenKind.BRACKET_L:return this.parseList(k);case C.TokenKind.BRACE_L:return this.parseObject(k);case C.TokenKind.INT:return this._lexer.advance(),{kind:L.Kind.INT,value:R.value,loc:this.loc(R)};case C.TokenKind.FLOAT:return this._lexer.advance(),{kind:L.Kind.FLOAT,value:R.value,loc:this.loc(R)};case C.TokenKind.STRING:case C.TokenKind.BLOCK_STRING:return this.parseStringLiteral();case C.TokenKind.NAME:switch(this._lexer.advance(),R.value){case"true":return{kind:L.Kind.BOOLEAN,value:!0,loc:this.loc(R)};case"false":return{kind:L.Kind.BOOLEAN,value:!1,loc:this.loc(R)};case"null":return{kind:L.Kind.NULL,loc:this.loc(R)};default:return{kind:L.Kind.ENUM,value:R.value,loc:this.loc(R)}}case C.TokenKind.DOLLAR:if(!k)return this.parseVariable();break}throw this.unexpected()},d.parseStringLiteral=function(){var k=this._lexer.token;return this._lexer.advance(),{kind:L.Kind.STRING,value:k.value,block:k.kind===C.TokenKind.BLOCK_STRING,loc:this.loc(k)}},d.parseList=function(k){var R=this,P=this._lexer.token,U=function(){return R.parseValueLiteral(k)};return{kind:L.Kind.LIST,values:this.any(C.TokenKind.BRACKET_L,U,C.TokenKind.BRACKET_R),loc:this.loc(P)}},d.parseObject=function(k){var R=this,P=this._lexer.token,U=function(){return R.parseObjectField(k)};return{kind:L.Kind.OBJECT,fields:this.any(C.TokenKind.BRACE_L,U,C.TokenKind.BRACE_R),loc:this.loc(P)}},d.parseObjectField=function(k){var R=this._lexer.token,P=this.parseName();return this.expectToken(C.TokenKind.COLON),{kind:L.Kind.OBJECT_FIELD,name:P,value:this.parseValueLiteral(k),loc:this.loc(R)}},d.parseDirectives=function(k){for(var R=[];this.peek(C.TokenKind.AT);)R.push(this.parseDirective(k));return R},d.parseDirective=function(k){var R=this._lexer.token;return this.expectToken(C.TokenKind.AT),{kind:L.Kind.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(k),loc:this.loc(R)}},d.parseTypeReference=function(){var k=this._lexer.token,R;return this.expectOptionalToken(C.TokenKind.BRACKET_L)?(R=this.parseTypeReference(),this.expectToken(C.TokenKind.BRACKET_R),R={kind:L.Kind.LIST_TYPE,type:R,loc:this.loc(k)}):R=this.parseNamedType(),this.expectOptionalToken(C.TokenKind.BANG)?{kind:L.Kind.NON_NULL_TYPE,type:R,loc:this.loc(k)}:R},d.parseNamedType=function(){var k=this._lexer.token;return{kind:L.Kind.NAMED_TYPE,name:this.parseName(),loc:this.loc(k)}},d.parseTypeSystemDefinition=function(){var k=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(k.kind===C.TokenKind.NAME)switch(k.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(k)},d.peekDescription=function(){return this.peek(C.TokenKind.STRING)||this.peek(C.TokenKind.BLOCK_STRING)},d.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},d.parseSchemaDefinition=function(){var k=this._lexer.token,R=this.parseDescription();this.expectKeyword("schema");var P=this.parseDirectives(!0),U=this.many(C.TokenKind.BRACE_L,this.parseOperationTypeDefinition,C.TokenKind.BRACE_R);return{kind:L.Kind.SCHEMA_DEFINITION,description:R,directives:P,operationTypes:U,loc:this.loc(k)}},d.parseOperationTypeDefinition=function(){var k=this._lexer.token,R=this.parseOperationType();this.expectToken(C.TokenKind.COLON);var P=this.parseNamedType();return{kind:L.Kind.OPERATION_TYPE_DEFINITION,operation:R,type:P,loc:this.loc(k)}},d.parseScalarTypeDefinition=function(){var k=this._lexer.token,R=this.parseDescription();this.expectKeyword("scalar");var P=this.parseName(),U=this.parseDirectives(!0);return{kind:L.Kind.SCALAR_TYPE_DEFINITION,description:R,name:P,directives:U,loc:this.loc(k)}},d.parseObjectTypeDefinition=function(){var k=this._lexer.token,R=this.parseDescription();this.expectKeyword("type");var P=this.parseName(),U=this.parseImplementsInterfaces(),F=this.parseDirectives(!0),y=this.parseFieldsDefinition();return{kind:L.Kind.OBJECT_TYPE_DEFINITION,description:R,name:P,interfaces:U,directives:F,fields:y,loc:this.loc(k)}},d.parseImplementsInterfaces=function(){var k;if(!this.expectOptionalKeyword("implements"))return[];if(((k=this._options)===null||k===void 0?void 0:k.allowLegacySDLImplementsInterfaces)===!0){var R=[];this.expectOptionalToken(C.TokenKind.AMP);do R.push(this.parseNamedType());while(this.expectOptionalToken(C.TokenKind.AMP)||this.peek(C.TokenKind.NAME));return R}return this.delimitedMany(C.TokenKind.AMP,this.parseNamedType)},d.parseFieldsDefinition=function(){var k;return((k=this._options)===null||k===void 0?void 0:k.allowLegacySDLEmptyFields)===!0&&this.peek(C.TokenKind.BRACE_L)&&this._lexer.lookahead().kind===C.TokenKind.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(C.TokenKind.BRACE_L,this.parseFieldDefinition,C.TokenKind.BRACE_R)},d.parseFieldDefinition=function(){var k=this._lexer.token,R=this.parseDescription(),P=this.parseName(),U=this.parseArgumentDefs();this.expectToken(C.TokenKind.COLON);var F=this.parseTypeReference(),y=this.parseDirectives(!0);return{kind:L.Kind.FIELD_DEFINITION,description:R,name:P,arguments:U,type:F,directives:y,loc:this.loc(k)}},d.parseArgumentDefs=function(){return this.optionalMany(C.TokenKind.PAREN_L,this.parseInputValueDef,C.TokenKind.PAREN_R)},d.parseInputValueDef=function(){var k=this._lexer.token,R=this.parseDescription(),P=this.parseName();this.expectToken(C.TokenKind.COLON);var U=this.parseTypeReference(),F;this.expectOptionalToken(C.TokenKind.EQUALS)&&(F=this.parseValueLiteral(!0));var y=this.parseDirectives(!0);return{kind:L.Kind.INPUT_VALUE_DEFINITION,description:R,name:P,type:U,defaultValue:F,directives:y,loc:this.loc(k)}},d.parseInterfaceTypeDefinition=function(){var k=this._lexer.token,R=this.parseDescription();this.expectKeyword("interface");var P=this.parseName(),U=this.parseImplementsInterfaces(),F=this.parseDirectives(!0),y=this.parseFieldsDefinition();return{kind:L.Kind.INTERFACE_TYPE_DEFINITION,description:R,name:P,interfaces:U,directives:F,fields:y,loc:this.loc(k)}},d.parseUnionTypeDefinition=function(){var k=this._lexer.token,R=this.parseDescription();this.expectKeyword("union");var P=this.parseName(),U=this.parseDirectives(!0),F=this.parseUnionMemberTypes();return{kind:L.Kind.UNION_TYPE_DEFINITION,description:R,name:P,directives:U,types:F,loc:this.loc(k)}},d.parseUnionMemberTypes=function(){return this.expectOptionalToken(C.TokenKind.EQUALS)?this.delimitedMany(C.TokenKind.PIPE,this.parseNamedType):[]},d.parseEnumTypeDefinition=function(){var k=this._lexer.token,R=this.parseDescription();this.expectKeyword("enum");var P=this.parseName(),U=this.parseDirectives(!0),F=this.parseEnumValuesDefinition();return{kind:L.Kind.ENUM_TYPE_DEFINITION,description:R,name:P,directives:U,values:F,loc:this.loc(k)}},d.parseEnumValuesDefinition=function(){return this.optionalMany(C.TokenKind.BRACE_L,this.parseEnumValueDefinition,C.TokenKind.BRACE_R)},d.parseEnumValueDefinition=function(){var k=this._lexer.token,R=this.parseDescription(),P=this.parseName(),U=this.parseDirectives(!0);return{kind:L.Kind.ENUM_VALUE_DEFINITION,description:R,name:P,directives:U,loc:this.loc(k)}},d.parseInputObjectTypeDefinition=function(){var k=this._lexer.token,R=this.parseDescription();this.expectKeyword("input");var P=this.parseName(),U=this.parseDirectives(!0),F=this.parseInputFieldsDefinition();return{kind:L.Kind.INPUT_OBJECT_TYPE_DEFINITION,description:R,name:P,directives:U,fields:F,loc:this.loc(k)}},d.parseInputFieldsDefinition=function(){return this.optionalMany(C.TokenKind.BRACE_L,this.parseInputValueDef,C.TokenKind.BRACE_R)},d.parseTypeSystemExtension=function(){var k=this._lexer.lookahead();if(k.kind===C.TokenKind.NAME)switch(k.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(k)},d.parseSchemaExtension=function(){var k=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var R=this.parseDirectives(!0),P=this.optionalMany(C.TokenKind.BRACE_L,this.parseOperationTypeDefinition,C.TokenKind.BRACE_R);if(R.length===0&&P.length===0)throw this.unexpected();return{kind:L.Kind.SCHEMA_EXTENSION,directives:R,operationTypes:P,loc:this.loc(k)}},d.parseScalarTypeExtension=function(){var k=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var R=this.parseName(),P=this.parseDirectives(!0);if(P.length===0)throw this.unexpected();return{kind:L.Kind.SCALAR_TYPE_EXTENSION,name:R,directives:P,loc:this.loc(k)}},d.parseObjectTypeExtension=function(){var k=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var R=this.parseName(),P=this.parseImplementsInterfaces(),U=this.parseDirectives(!0),F=this.parseFieldsDefinition();if(P.length===0&&U.length===0&&F.length===0)throw this.unexpected();return{kind:L.Kind.OBJECT_TYPE_EXTENSION,name:R,interfaces:P,directives:U,fields:F,loc:this.loc(k)}},d.parseInterfaceTypeExtension=function(){var k=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var R=this.parseName(),P=this.parseImplementsInterfaces(),U=this.parseDirectives(!0),F=this.parseFieldsDefinition();if(P.length===0&&U.length===0&&F.length===0)throw this.unexpected();return{kind:L.Kind.INTERFACE_TYPE_EXTENSION,name:R,interfaces:P,directives:U,fields:F,loc:this.loc(k)}},d.parseUnionTypeExtension=function(){var k=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var R=this.parseName(),P=this.parseDirectives(!0),U=this.parseUnionMemberTypes();if(P.length===0&&U.length===0)throw this.unexpected();return{kind:L.Kind.UNION_TYPE_EXTENSION,name:R,directives:P,types:U,loc:this.loc(k)}},d.parseEnumTypeExtension=function(){var k=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var R=this.parseName(),P=this.parseDirectives(!0),U=this.parseEnumValuesDefinition();if(P.length===0&&U.length===0)throw this.unexpected();return{kind:L.Kind.ENUM_TYPE_EXTENSION,name:R,directives:P,values:U,loc:this.loc(k)}},d.parseInputObjectTypeExtension=function(){var k=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var R=this.parseName(),P=this.parseDirectives(!0),U=this.parseInputFieldsDefinition();if(P.length===0&&U.length===0)throw this.unexpected();return{kind:L.Kind.INPUT_OBJECT_TYPE_EXTENSION,name:R,directives:P,fields:U,loc:this.loc(k)}},d.parseDirectiveDefinition=function(){var k=this._lexer.token,R=this.parseDescription();this.expectKeyword("directive"),this.expectToken(C.TokenKind.AT);var P=this.parseName(),U=this.parseArgumentDefs(),F=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var y=this.parseDirectiveLocations();return{kind:L.Kind.DIRECTIVE_DEFINITION,description:R,name:P,arguments:U,repeatable:F,locations:y,loc:this.loc(k)}},d.parseDirectiveLocations=function(){return this.delimitedMany(C.TokenKind.PIPE,this.parseDirectiveLocation)},d.parseDirectiveLocation=function(){var k=this._lexer.token,R=this.parseName();if(h.DirectiveLocation[R.value]!==void 0)return R;throw this.unexpected(k)},d.loc=function(k){var R;if(((R=this._options)===null||R===void 0?void 0:R.noLocation)!==!0)return new I.Location(k,this._lexer.lastToken,this._lexer.source)},d.peek=function(k){return this._lexer.token.kind===k},d.expectToken=function(k){var R=this._lexer.token;if(R.kind===k)return this._lexer.advance(),R;throw(0,A.syntaxError)(this._lexer.source,R.start,"Expected ".concat(c(k),", found ").concat(S(R),"."))},d.expectOptionalToken=function(k){var R=this._lexer.token;if(R.kind===k)return this._lexer.advance(),R},d.expectKeyword=function(k){var R=this._lexer.token;if(R.kind===C.TokenKind.NAME&&R.value===k)this._lexer.advance();else throw(0,A.syntaxError)(this._lexer.source,R.start,'Expected "'.concat(k,'", found ').concat(S(R),"."))},d.expectOptionalKeyword=function(k){var R=this._lexer.token;return R.kind===C.TokenKind.NAME&&R.value===k?(this._lexer.advance(),!0):!1},d.unexpected=function(k){var R=k!=null?k:this._lexer.token;return(0,A.syntaxError)(this._lexer.source,R.start,"Unexpected ".concat(S(R),"."))},d.any=function(k,R,P){this.expectToken(k);for(var U=[];!this.expectOptionalToken(P);)U.push(R.call(this));return U},d.optionalMany=function(k,R,P){if(this.expectOptionalToken(k)){var U=[];do U.push(R.call(this));while(!this.expectOptionalToken(P));return U}return[]},d.many=function(k,R,P){this.expectToken(k);var U=[];do U.push(R.call(this));while(!this.expectOptionalToken(P));return U},d.delimitedMany=function(k,R){this.expectOptionalToken(k);var P=[];do P.push(R.call(this));while(this.expectOptionalToken(k));return P},g}();V.Parser=l;function S(g){var d=g.value;return c(g.kind)+(d!=null?' "'.concat(d,'"'):"")}function c(g){return(0,p.isPunctuatorTokenKind)(g)?'"'.concat(g,'"'):g}},40825:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.printLocation=L,V.printSourceLocation=I;var A=M(99530);function L(p){return I(p.source,(0,A.getLocation)(p.source,p.start))}function I(p,m){var _=p.locationOffset.column-1,b=f(_)+p.body,l=m.line-1,S=p.locationOffset.line-1,c=m.line+S,g=m.line===1?_:0,d=m.column+g,w="".concat(p.name,":").concat(c,":").concat(d,`
`),k=b.split(/\r\n|[\n\r]/g),R=k[l];if(R.length>120){for(var P=Math.floor(d/80),U=d%80,F=[],y=0;y<R.length;y+=80)F.push(R.slice(y,y+80));return w+C([["".concat(c),F[0]]].concat(F.slice(1,P+1).map(function(z){return["",z]}),[[" ",f(U-1)+"^"],["",F[P+1]]]))}return w+C([["".concat(c-1),k[l-1]],["".concat(c),R],["",f(d-1)+"^"],["".concat(c+1),k[l+1]]])}function C(p){var m=p.filter(function(b){var l=b[0],S=b[1];return S!==void 0}),_=Math.max.apply(Math,m.map(function(b){var l=b[0];return l.length}));return m.map(function(b){var l=b[0],S=b[1];return h(_,l)+(S?" | "+S:" |")}).join(`
`)}function f(p){return Array(p+1).join(" ")}function h(p,m){return f(p-m.length)+m}},70585:(s,V,M)=>{"use strict";var A;A={value:!0},V.y=C;var L=M(9111),I=M(69165);function C(g){return(0,L.visit)(g,{leave:h})}var f=80,h={Name:function(d){return d.value},Variable:function(d){return"$"+d.name},Document:function(d){return m(d.definitions,`

`)+`
`},OperationDefinition:function(d){var w=d.operation,k=d.name,R=b("(",m(d.variableDefinitions,", "),")"),P=m(d.directives," "),U=d.selectionSet;return!k&&!P&&!R&&w==="query"?U:m([w,m([k,R]),P,U]," ")},VariableDefinition:function(d){var w=d.variable,k=d.type,R=d.defaultValue,P=d.directives;return w+": "+k+b(" = ",R)+b(" ",m(P," "))},SelectionSet:function(d){var w=d.selections;return _(w)},Field:function(d){var w=d.alias,k=d.name,R=d.arguments,P=d.directives,U=d.selectionSet,F=b("",w,": ")+k,y=F+b("(",m(R,", "),")");return y.length>f&&(y=F+b(`(
`,l(m(R,`
`)),`
)`)),m([y,m(P," "),U]," ")},Argument:function(d){var w=d.name,k=d.value;return w+": "+k},FragmentSpread:function(d){var w=d.name,k=d.directives;return"..."+w+b(" ",m(k," "))},InlineFragment:function(d){var w=d.typeCondition,k=d.directives,R=d.selectionSet;return m(["...",b("on ",w),m(k," "),R]," ")},FragmentDefinition:function(d){var w=d.name,k=d.typeCondition,R=d.variableDefinitions,P=d.directives,U=d.selectionSet;return"fragment ".concat(w).concat(b("(",m(R,", "),")")," ")+"on ".concat(k," ").concat(b("",m(P," ")," "))+U},IntValue:function(d){var w=d.value;return w},FloatValue:function(d){var w=d.value;return w},StringValue:function(d,w){var k=d.value,R=d.block;return R?(0,I.printBlockString)(k,w==="description"?"":"  "):JSON.stringify(k)},BooleanValue:function(d){var w=d.value;return w?"true":"false"},NullValue:function(){return"null"},EnumValue:function(d){var w=d.value;return w},ListValue:function(d){var w=d.values;return"["+m(w,", ")+"]"},ObjectValue:function(d){var w=d.fields;return"{"+m(w,", ")+"}"},ObjectField:function(d){var w=d.name,k=d.value;return w+": "+k},Directive:function(d){var w=d.name,k=d.arguments;return"@"+w+b("(",m(k,", "),")")},NamedType:function(d){var w=d.name;return w},ListType:function(d){var w=d.type;return"["+w+"]"},NonNullType:function(d){var w=d.type;return w+"!"},SchemaDefinition:p(function(g){var d=g.directives,w=g.operationTypes;return m(["schema",m(d," "),_(w)]," ")}),OperationTypeDefinition:function(d){var w=d.operation,k=d.type;return w+": "+k},ScalarTypeDefinition:p(function(g){var d=g.name,w=g.directives;return m(["scalar",d,m(w," ")]," ")}),ObjectTypeDefinition:p(function(g){var d=g.name,w=g.interfaces,k=g.directives,R=g.fields;return m(["type",d,b("implements ",m(w," & ")),m(k," "),_(R)]," ")}),FieldDefinition:p(function(g){var d=g.name,w=g.arguments,k=g.type,R=g.directives;return d+(c(w)?b(`(
`,l(m(w,`
`)),`
)`):b("(",m(w,", "),")"))+": "+k+b(" ",m(R," "))}),InputValueDefinition:p(function(g){var d=g.name,w=g.type,k=g.defaultValue,R=g.directives;return m([d+": "+w,b("= ",k),m(R," ")]," ")}),InterfaceTypeDefinition:p(function(g){var d=g.name,w=g.interfaces,k=g.directives,R=g.fields;return m(["interface",d,b("implements ",m(w," & ")),m(k," "),_(R)]," ")}),UnionTypeDefinition:p(function(g){var d=g.name,w=g.directives,k=g.types;return m(["union",d,m(w," "),k&&k.length!==0?"= "+m(k," | "):""]," ")}),EnumTypeDefinition:p(function(g){var d=g.name,w=g.directives,k=g.values;return m(["enum",d,m(w," "),_(k)]," ")}),EnumValueDefinition:p(function(g){var d=g.name,w=g.directives;return m([d,m(w," ")]," ")}),InputObjectTypeDefinition:p(function(g){var d=g.name,w=g.directives,k=g.fields;return m(["input",d,m(w," "),_(k)]," ")}),DirectiveDefinition:p(function(g){var d=g.name,w=g.arguments,k=g.repeatable,R=g.locations;return"directive @"+d+(c(w)?b(`(
`,l(m(w,`
`)),`
)`):b("(",m(w,", "),")"))+(k?" repeatable":"")+" on "+m(R," | ")}),SchemaExtension:function(d){var w=d.directives,k=d.operationTypes;return m(["extend schema",m(w," "),_(k)]," ")},ScalarTypeExtension:function(d){var w=d.name,k=d.directives;return m(["extend scalar",w,m(k," ")]," ")},ObjectTypeExtension:function(d){var w=d.name,k=d.interfaces,R=d.directives,P=d.fields;return m(["extend type",w,b("implements ",m(k," & ")),m(R," "),_(P)]," ")},InterfaceTypeExtension:function(d){var w=d.name,k=d.interfaces,R=d.directives,P=d.fields;return m(["extend interface",w,b("implements ",m(k," & ")),m(R," "),_(P)]," ")},UnionTypeExtension:function(d){var w=d.name,k=d.directives,R=d.types;return m(["extend union",w,m(k," "),R&&R.length!==0?"= "+m(R," | "):""]," ")},EnumTypeExtension:function(d){var w=d.name,k=d.directives,R=d.values;return m(["extend enum",w,m(k," "),_(R)]," ")},InputObjectTypeExtension:function(d){var w=d.name,k=d.directives,R=d.fields;return m(["extend input",w,m(k," "),_(R)]," ")}};function p(g){return function(d){return m([d.description,g(d)],`
`)}}function m(g){var d,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(d=g==null?void 0:g.filter(function(k){return k}).join(w))!==null&&d!==void 0?d:""}function _(g){return b(`{
`,l(m(g,`
`)),`
}`)}function b(g,d){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return d!=null&&d!==""?g+d+w:""}function l(g){return b("  ",g.replace(/\n/g,`
  `))}function S(g){return g.indexOf(`
`)!==-1}function c(g){return g!=null&&g.some(S)}},46876:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.isSource=_,V.Source=void 0;var A=M(25888),L=f(M(29657)),I=f(M(93028)),C=f(M(79527));function f(b){return b&&b.__esModule?b:{default:b}}function h(b,l){for(var S=0;S<l.length;S++){var c=l[S];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,c.key,c)}}function p(b,l,S){return l&&h(b.prototype,l),S&&h(b,S),b}var m=function(){function b(l){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof l=="string"||(0,I.default)(0,"Body must be a string. Received: ".concat((0,L.default)(l),".")),this.body=l,this.name=S,this.locationOffset=c,this.locationOffset.line>0||(0,I.default)(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,I.default)(0,"column in locationOffset is 1-indexed and must be positive.")}return p(b,[{key:A.SYMBOL_TO_STRING_TAG,get:function(){return"Source"}}]),b}();V.Source=m;function _(b){return(0,C.default)(b,m)}},73038:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.TokenKind=void 0;var M=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});V.TokenKind=M},9111:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.visit=h,V.visitInParallel=p,V.getVisitFn=m,V.BREAK=V.QueryDocumentKeys=void 0;var A=I(M(29657)),L=M(76257);function I(_){return _&&_.__esModule?_:{default:_}}var C={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};V.QueryDocumentKeys=C;var f=Object.freeze({});V.BREAK=f;function h(_,b){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,S=void 0,c=Array.isArray(_),g=[_],d=-1,w=[],k=void 0,R=void 0,P=void 0,U=[],F=[],y=_;do{d++;var z=d===g.length,Q=z&&w.length!==0;if(z){if(R=F.length===0?void 0:U[U.length-1],k=P,P=F.pop(),Q){if(c)k=k.slice();else{for(var Z={},X=0,Y=Object.keys(k);X<Y.length;X++){var O=Y[X];Z[O]=k[O]}k=Z}for(var $=0,D=0;D<w.length;D++){var u=w[D][0],E=w[D][1];c&&(u-=$),c&&E===null?(k.splice(u,1),$++):k[u]=E}}d=S.index,g=S.keys,w=S.edits,c=S.inArray,S=S.prev}else{if(R=P?c?d:g[d]:void 0,k=P?P[R]:y,k==null)continue;P&&U.push(R)}var q=void 0;if(!Array.isArray(k)){if(!(0,L.isNode)(k))throw new Error("Invalid AST Node: ".concat((0,A.default)(k),"."));var H=m(b,k.kind,z);if(H){if(q=H.call(b,k,R,P,U,F),q===f)break;if(q===!1){if(!z){U.pop();continue}}else if(q!==void 0&&(w.push([R,q]),!z))if((0,L.isNode)(q))k=q;else{U.pop();continue}}}if(q===void 0&&Q&&w.push([R,k]),z)U.pop();else{var K;S={inArray:c,index:d,keys:g,edits:w,prev:S},c=Array.isArray(k),g=c?k:(K=l[k.kind])!==null&&K!==void 0?K:[],d=-1,w=[],P&&F.push(P),P=k}}while(S!==void 0);return w.length!==0&&(y=w[w.length-1][1]),y}function p(_){var b=new Array(_.length);return{enter:function(S){for(var c=0;c<_.length;c++)if(b[c]==null){var g=m(_[c],S.kind,!1);if(g){var d=g.apply(_[c],arguments);if(d===!1)b[c]=S;else if(d===f)b[c]=f;else if(d!==void 0)return d}}},leave:function(S){for(var c=0;c<_.length;c++)if(b[c]==null){var g=m(_[c],S.kind,!0);if(g){var d=g.apply(_[c],arguments);if(d===f)b[c]=f;else if(d!==void 0&&d!==!1)return d}}else b[c]===S&&(b[c]=null)}}}function m(_,b,l){var S=_[b];if(S){if(!l&&typeof S=="function")return S;var c=l?S.leave:S.enter;if(typeof c=="function")return c}else{var g=l?_.leave:_.enter;if(g){if(typeof g=="function")return g;var d=g[b];if(typeof d=="function")return d}}}},25888:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.SYMBOL_TO_STRING_TAG=V.SYMBOL_ASYNC_ITERATOR=V.SYMBOL_ITERATOR=void 0;var M=typeof Symbol=="function"&&Symbol.iterator!=null?Symbol.iterator:"@@iterator";V.SYMBOL_ITERATOR=M;var A=typeof Symbol=="function"&&Symbol.asyncIterator!=null?Symbol.asyncIterator:"@@asyncIterator";V.SYMBOL_ASYNC_ITERATOR=A;var L=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";V.SYMBOL_TO_STRING_TAG=L},30592:(s,V,M)=>{"use strict";var A=M(30655),L=function(){return!!A};L.hasArrayLengthDefineBug=function(){if(!A)return null;try{return A([],"length",{value:1}).length!==1}catch{return!0}},s.exports=L},48896:s=>{"use strict";s.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var M={},A=Symbol("test"),L=Object(A);if(typeof A=="string"||Object.prototype.toString.call(A)!=="[object Symbol]"||Object.prototype.toString.call(L)!=="[object Symbol]")return!1;var I=42;M[A]=I;for(var C in M)return!1;if(typeof Object.keys=="function"&&Object.keys(M).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(M).length!==0)return!1;var f=Object.getOwnPropertySymbols(M);if(f.length!==1||f[0]!==A||!Object.prototype.propertyIsEnumerable.call(M,A))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(M,A);if(h.value!==I||h.enumerable!==!0)return!1}return!0}},49092:(s,V,M)=>{"use strict";var A=M(48896);s.exports=function(){return A()&&!!Symbol.toStringTag}},4729:(s,V,M)=>{"use strict";var A=M(92861).Buffer,L=M(61603).Transform,I=M(56698);function C(h,p){if(!A.isBuffer(h)&&typeof h!="string")throw new TypeError(p+" must be a string or a buffer")}function f(h){L.call(this),this._block=A.allocUnsafe(h),this._blockSize=h,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}I(f,L),f.prototype._transform=function(h,p,m){var _=null;try{this.update(h,p)}catch(b){_=b}m(_)},f.prototype._flush=function(h){var p=null;try{this.push(this.digest())}catch(m){p=m}h(p)},f.prototype.update=function(h,p){if(C(h,"Data"),this._finalized)throw new Error("Digest already called");A.isBuffer(h)||(h=A.from(h,p));for(var m=this._block,_=0;this._blockOffset+h.length-_>=this._blockSize;){for(var b=this._blockOffset;b<this._blockSize;)m[b++]=h[_++];this._update(),this._blockOffset=0}for(;_<h.length;)m[this._blockOffset++]=h[_++];for(var l=0,S=h.length*8;S>0;++l)this._length[l]+=S,S=this._length[l]/4294967296|0,S>0&&(this._length[l]-=4294967296*S);return this},f.prototype._update=function(){throw new Error("_update is not implemented")},f.prototype.digest=function(h){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var p=this._digest();h!==void 0&&(p=p.toString(h)),this._block.fill(0),this._blockOffset=0;for(var m=0;m<4;++m)this._length[m]=0;return p},f.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=f},92260:s=>{"use strict";function V(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var M={};function A(h,p,m){m||(m=Error);function _(l,S,c){return typeof p=="string"?p:p(l,S,c)}var b=function(l){V(S,l);function S(c,g,d){return l.call(this,_(c,g,d))||this}return S}(m);b.prototype.name=m.name,b.prototype.code=h,M[h]=b}function L(h,p){if(Array.isArray(h)){var m=h.length;return h=h.map(function(_){return String(_)}),m>2?"one of ".concat(p," ").concat(h.slice(0,m-1).join(", "),", or ")+h[m-1]:m===2?"one of ".concat(p," ").concat(h[0]," or ").concat(h[1]):"of ".concat(p," ").concat(h[0])}else return"of ".concat(p," ").concat(String(h))}function I(h,p,m){return h.substr(!m||m<0?0:+m,p.length)===p}function C(h,p,m){return(m===void 0||m>h.length)&&(m=h.length),h.substring(m-p.length,m)===p}function f(h,p,m){return typeof m!="number"&&(m=0),m+p.length>h.length?!1:h.indexOf(p,m)!==-1}A("ERR_INVALID_OPT_VALUE",function(h,p){return'The value "'+p+'" is invalid for option "'+h+'"'},TypeError),A("ERR_INVALID_ARG_TYPE",function(h,p,m){var _;typeof p=="string"&&I(p,"not ")?(_="must not be",p=p.replace(/^not /,"")):_="must be";var b;if(C(h," argument"))b="The ".concat(h," ").concat(_," ").concat(L(p,"type"));else{var l=f(h,".")?"property":"argument";b='The "'.concat(h,'" ').concat(l," ").concat(_," ").concat(L(p,"type"))}return b+=". Received type ".concat(typeof m),b},TypeError),A("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),A("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),A("ERR_STREAM_PREMATURE_CLOSE","Premature close"),A("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),A("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),A("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),A("ERR_STREAM_WRITE_AFTER_END","write after end"),A("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),A("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),A("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=M},92818:(s,V,M)=>{"use strict";var A=M(65606),L=Object.keys||function(l){var S=[];for(var c in l)S.push(c);return S};s.exports=m;var I=M(6736),C=M(62192);M(56698)(m,I);for(var f=L(C.prototype),h=0;h<f.length;h++){var p=f[h];m.prototype[p]||(m.prototype[p]=C.prototype[p])}function m(l){if(!(this instanceof m))return new m(l);I.call(this,l),C.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(m.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(m.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||A.nextTick(b,this)}function b(l){l.end()}Object.defineProperty(m.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(S){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=S,this._writableState.destroyed=S)}})},35860:(s,V,M)=>{"use strict";s.exports=L;var A=M(13054);M(56698)(L,A);function L(I){if(!(this instanceof L))return new L(I);A.call(this,I)}L.prototype._transform=function(I,C,f){f(null,I)}},6736:(s,V,M)=>{"use strict";var A=M(65606);s.exports=O;var L;O.ReadableState=Y;var I=M(37007).EventEmitter,C=function(N,se){return N.listeners(se).length},f=M(71181),h=M(48287).Buffer,p=M.g.Uint8Array||function(){};function m(j){return h.from(j)}function _(j){return h.isBuffer(j)||j instanceof p}var b=M(92382),l;b&&b.debuglog?l=b.debuglog("stream"):l=function(){};var S=M(12389),c=M(41468),g=M(8775),d=g.getHighWaterMark,w=M(92260).F,k=w.ERR_INVALID_ARG_TYPE,R=w.ERR_STREAM_PUSH_AFTER_EOF,P=w.ERR_METHOD_NOT_IMPLEMENTED,U=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,F,y,z;M(56698)(O,f);var Q=c.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function X(j,N,se){if(typeof j.prependListener=="function")return j.prependListener(N,se);!j._events||!j._events[N]?j.on(N,se):Array.isArray(j._events[N])?j._events[N].unshift(se):j._events[N]=[se,j._events[N]]}function Y(j,N,se){L=L||M(92818),j=j||{},typeof se!="boolean"&&(se=N instanceof L),this.objectMode=!!j.objectMode,se&&(this.objectMode=this.objectMode||!!j.readableObjectMode),this.highWaterMark=d(this,j,"readableHighWaterMark",se),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(F||(F=M(83141).I),this.decoder=new F(j.encoding),this.encoding=j.encoding)}function O(j){if(L=L||M(92818),!(this instanceof O))return new O(j);var N=this instanceof L;this._readableState=new Y(j,this,N),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),f.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(j,N){N(j)},O.prototype.push=function(j,N){var se=this._readableState,de;return se.objectMode?de=!0:typeof j=="string"&&(N=N||se.defaultEncoding,N!==se.encoding&&(j=h.from(j,N),N=""),de=!0),$(this,j,N,!1,de)},O.prototype.unshift=function(j){return $(this,j,null,!0,!1)};function $(j,N,se,de,ue){l("readableAddChunk",N);var le=j._readableState;if(N===null)le.reading=!1,K(j,le);else{var pe;if(ue||(pe=u(le,N)),pe)Q(j,pe);else if(le.objectMode||N&&N.length>0)if(typeof N!="string"&&!le.objectMode&&Object.getPrototypeOf(N)!==h.prototype&&(N=m(N)),de)le.endEmitted?Q(j,new U):D(j,le,N,!0);else if(le.ended)Q(j,new R);else{if(le.destroyed)return!1;le.reading=!1,le.decoder&&!se?(N=le.decoder.write(N),le.objectMode||N.length!==0?D(j,le,N,!1):J(j,le)):D(j,le,N,!1)}else de||(le.reading=!1,J(j,le))}return!le.ended&&(le.length<le.highWaterMark||le.length===0)}function D(j,N,se,de){N.flowing&&N.length===0&&!N.sync?(N.awaitDrain=0,j.emit("data",se)):(N.length+=N.objectMode?1:se.length,de?N.buffer.unshift(se):N.buffer.push(se),N.needReadable&&G(j)),J(j,N)}function u(j,N){var se;return!_(N)&&typeof N!="string"&&N!==void 0&&!j.objectMode&&(se=new k("chunk",["string","Buffer","Uint8Array"],N)),se}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(j){F||(F=M(83141).I);var N=new F(j);this._readableState.decoder=N,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,de="";se!==null;)de+=N.write(se.data),se=se.next;return this._readableState.buffer.clear(),de!==""&&this._readableState.buffer.push(de),this._readableState.length=de.length,this};var E=1073741824;function q(j){return j>=E?j=E:(j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++),j}function H(j,N){return j<=0||N.length===0&&N.ended?0:N.objectMode?1:j!==j?N.flowing&&N.length?N.buffer.head.data.length:N.length:(j>N.highWaterMark&&(N.highWaterMark=q(j)),j<=N.length?j:N.ended?N.length:(N.needReadable=!0,0))}O.prototype.read=function(j){l("read",j),j=parseInt(j,10);var N=this._readableState,se=j;if(j!==0&&(N.emittedReadable=!1),j===0&&N.needReadable&&((N.highWaterMark!==0?N.length>=N.highWaterMark:N.length>0)||N.ended))return l("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?me(this):G(this),null;if(j=H(j,N),j===0&&N.ended)return N.length===0&&me(this),null;var de=N.needReadable;l("need readable",de),(N.length===0||N.length-j<N.highWaterMark)&&(de=!0,l("length less than watermark",de)),N.ended||N.reading?(de=!1,l("reading or ended",de)):de&&(l("do read"),N.reading=!0,N.sync=!0,N.length===0&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(j=H(se,N)));var ue;return j>0?ue=ne(j,N):ue=null,ue===null?(N.needReadable=N.length<=N.highWaterMark,j=0):(N.length-=j,N.awaitDrain=0),N.length===0&&(N.ended||(N.needReadable=!0),se!==j&&N.ended&&me(this)),ue!==null&&this.emit("data",ue),ue};function K(j,N){if(l("onEofChunk"),!N.ended){if(N.decoder){var se=N.decoder.end();se&&se.length&&(N.buffer.push(se),N.length+=N.objectMode?1:se.length)}N.ended=!0,N.sync?G(j):(N.needReadable=!1,N.emittedReadable||(N.emittedReadable=!0,ie(j)))}}function G(j){var N=j._readableState;l("emitReadable",N.needReadable,N.emittedReadable),N.needReadable=!1,N.emittedReadable||(l("emitReadable",N.flowing),N.emittedReadable=!0,A.nextTick(ie,j))}function ie(j){var N=j._readableState;l("emitReadable_",N.destroyed,N.length,N.ended),!N.destroyed&&(N.length||N.ended)&&(j.emit("readable"),N.emittedReadable=!1),N.needReadable=!N.flowing&&!N.ended&&N.length<=N.highWaterMark,ee(j)}function J(j,N){N.readingMore||(N.readingMore=!0,A.nextTick(B,j,N))}function B(j,N){for(;!N.reading&&!N.ended&&(N.length<N.highWaterMark||N.flowing&&N.length===0);){var se=N.length;if(l("maybeReadMore read 0"),j.read(0),se===N.length)break}N.readingMore=!1}O.prototype._read=function(j){Q(this,new P("_read()"))},O.prototype.pipe=function(j,N){var se=this,de=this._readableState;switch(de.pipesCount){case 0:de.pipes=j;break;case 1:de.pipes=[de.pipes,j];break;default:de.pipes.push(j);break}de.pipesCount+=1,l("pipe count=%d opts=%j",de.pipesCount,N);var ue=(!N||N.end!==!1)&&j!==A.stdout&&j!==A.stderr,le=ue?Ae:ce;de.endEmitted?A.nextTick(le):se.once("end",le),j.on("unpipe",pe);function pe(ke,Ie){l("onunpipe"),ke===se&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,Ue())}function Ae(){l("onend"),j.end()}var Fe=ae(se);j.on("drain",Fe);var Be=!1;function Ue(){l("cleanup"),j.removeListener("close",he),j.removeListener("finish",re),j.removeListener("drain",Fe),j.removeListener("error",Ye),j.removeListener("unpipe",pe),se.removeListener("end",Ae),se.removeListener("end",ce),se.removeListener("data",He),Be=!0,de.awaitDrain&&(!j._writableState||j._writableState.needDrain)&&Fe()}se.on("data",He);function He(ke){l("ondata");var Ie=j.write(ke);l("dest.write",Ie),Ie===!1&&((de.pipesCount===1&&de.pipes===j||de.pipesCount>1&&_e(de.pipes,j)!==-1)&&!Be&&(l("false write response, pause",de.awaitDrain),de.awaitDrain++),se.pause())}function Ye(ke){l("onerror",ke),ce(),j.removeListener("error",Ye),C(j,"error")===0&&Q(j,ke)}X(j,"error",Ye);function he(){j.removeListener("finish",re),ce()}j.once("close",he);function re(){l("onfinish"),j.removeListener("close",he),ce()}j.once("finish",re);function ce(){l("unpipe"),se.unpipe(j)}return j.emit("pipe",se),de.flowing||(l("pipe resume"),se.resume()),j};function ae(j){return function(){var se=j._readableState;l("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&C(j,"data")&&(se.flowing=!0,ee(j))}}O.prototype.unpipe=function(j){var N=this._readableState,se={hasUnpiped:!1};if(N.pipesCount===0)return this;if(N.pipesCount===1)return j&&j!==N.pipes?this:(j||(j=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,j&&j.emit("unpipe",this,se),this);if(!j){var de=N.pipes,ue=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var le=0;le<ue;le++)de[le].emit("unpipe",this,{hasUnpiped:!1});return this}var pe=_e(N.pipes,j);return pe===-1?this:(N.pipes.splice(pe,1),N.pipesCount-=1,N.pipesCount===1&&(N.pipes=N.pipes[0]),j.emit("unpipe",this,se),this)},O.prototype.on=function(j,N){var se=f.prototype.on.call(this,j,N),de=this._readableState;return j==="data"?(de.readableListening=this.listenerCount("readable")>0,de.flowing!==!1&&this.resume()):j==="readable"&&!de.endEmitted&&!de.readableListening&&(de.readableListening=de.needReadable=!0,de.flowing=!1,de.emittedReadable=!1,l("on readable",de.length,de.reading),de.length?G(this):de.reading||A.nextTick(be,this)),se},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(j,N){var se=f.prototype.removeListener.call(this,j,N);return j==="readable"&&A.nextTick(Ne,this),se},O.prototype.removeAllListeners=function(j){var N=f.prototype.removeAllListeners.apply(this,arguments);return(j==="readable"||j===void 0)&&A.nextTick(Ne,this),N};function Ne(j){var N=j._readableState;N.readableListening=j.listenerCount("readable")>0,N.resumeScheduled&&!N.paused?N.flowing=!0:j.listenerCount("data")>0&&j.resume()}function be(j){l("readable nexttick read 0"),j.read(0)}O.prototype.resume=function(){var j=this._readableState;return j.flowing||(l("resume"),j.flowing=!j.readableListening,we(this,j)),j.paused=!1,this};function we(j,N){N.resumeScheduled||(N.resumeScheduled=!0,A.nextTick(Te,j,N))}function Te(j,N){l("resume",N.reading),N.reading||j.read(0),N.resumeScheduled=!1,j.emit("resume"),ee(j),N.flowing&&!N.reading&&j.read(0)}O.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ee(j){var N=j._readableState;for(l("flow",N.flowing);N.flowing&&j.read()!==null;);}O.prototype.wrap=function(j){var N=this,se=this._readableState,de=!1;j.on("end",function(){if(l("wrapped end"),se.decoder&&!se.ended){var pe=se.decoder.end();pe&&pe.length&&N.push(pe)}N.push(null)}),j.on("data",function(pe){if(l("wrapped data"),se.decoder&&(pe=se.decoder.write(pe)),!(se.objectMode&&pe==null)&&!(!se.objectMode&&(!pe||!pe.length))){var Ae=N.push(pe);Ae||(de=!0,j.pause())}});for(var ue in j)this[ue]===void 0&&typeof j[ue]=="function"&&(this[ue]=function(Ae){return function(){return j[Ae].apply(j,arguments)}}(ue));for(var le=0;le<Z.length;le++)j.on(Z[le],this.emit.bind(this,Z[le]));return this._read=function(pe){l("wrapped _read",pe),de&&(de=!1,j.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=M(74743)),y(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(N){this._readableState&&(this._readableState.flowing=N)}}),O._fromList=ne,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ne(j,N){if(N.length===0)return null;var se;return N.objectMode?se=N.buffer.shift():!j||j>=N.length?(N.decoder?se=N.buffer.join(""):N.buffer.length===1?se=N.buffer.first():se=N.buffer.concat(N.length),N.buffer.clear()):se=N.buffer.consume(j,N.decoder),se}function me(j){var N=j._readableState;l("endReadable",N.endEmitted),N.endEmitted||(N.ended=!0,A.nextTick(ge,N,j))}function ge(j,N){if(l("endReadableNT",j.endEmitted,j.length),!j.endEmitted&&j.length===0&&(j.endEmitted=!0,N.readable=!1,N.emit("end"),j.autoDestroy)){var se=N._writableState;(!se||se.autoDestroy&&se.finished)&&N.destroy()}}typeof Symbol=="function"&&(O.from=function(j,N){return z===void 0&&(z=M(45049)),z(O,j,N)});function _e(j,N){for(var se=0,de=j.length;se<de;se++)if(j[se]===N)return se;return-1}},13054:(s,V,M)=>{"use strict";s.exports=m;var A=M(92260).F,L=A.ERR_METHOD_NOT_IMPLEMENTED,I=A.ERR_MULTIPLE_CALLBACK,C=A.ERR_TRANSFORM_ALREADY_TRANSFORMING,f=A.ERR_TRANSFORM_WITH_LENGTH_0,h=M(92818);M(56698)(m,h);function p(l,S){var c=this._transformState;c.transforming=!1;var g=c.writecb;if(g===null)return this.emit("error",new I);c.writechunk=null,c.writecb=null,S!=null&&this.push(S),g(l);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}function m(l){if(!(this instanceof m))return new m(l);h.call(this,l),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",_)}function _(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(S,c){b(l,S,c)}):b(this,null,null)}m.prototype.push=function(l,S){return this._transformState.needTransform=!1,h.prototype.push.call(this,l,S)},m.prototype._transform=function(l,S,c){c(new L("_transform()"))},m.prototype._write=function(l,S,c){var g=this._transformState;if(g.writecb=c,g.writechunk=l,g.writeencoding=S,!g.transforming){var d=this._readableState;(g.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}},m.prototype._read=function(l){var S=this._transformState;S.writechunk!==null&&!S.transforming?(S.transforming=!0,this._transform(S.writechunk,S.writeencoding,S.afterTransform)):S.needTransform=!0},m.prototype._destroy=function(l,S){h.prototype._destroy.call(this,l,function(c){S(c)})};function b(l,S,c){if(S)return l.emit("error",S);if(c!=null&&l.push(c),l._writableState.length)throw new f;if(l._transformState.transforming)throw new C;return l.push(null)}},62192:(s,V,M)=>{"use strict";var A=M(65606);s.exports=Y;function L(ee,ne,me){this.chunk=ee,this.encoding=ne,this.callback=me,this.next=null}function I(ee){var ne=this;this.next=null,this.entry=null,this.finish=function(){Te(ne,ee)}}var C;Y.WritableState=Z;var f={deprecate:M(94643)},h=M(71181),p=M(48287).Buffer,m=M.g.Uint8Array||function(){};function _(ee){return p.from(ee)}function b(ee){return p.isBuffer(ee)||ee instanceof m}var l=M(41468),S=M(8775),c=S.getHighWaterMark,g=M(92260).F,d=g.ERR_INVALID_ARG_TYPE,w=g.ERR_METHOD_NOT_IMPLEMENTED,k=g.ERR_MULTIPLE_CALLBACK,R=g.ERR_STREAM_CANNOT_PIPE,P=g.ERR_STREAM_DESTROYED,U=g.ERR_STREAM_NULL_VALUES,F=g.ERR_STREAM_WRITE_AFTER_END,y=g.ERR_UNKNOWN_ENCODING,z=l.errorOrDestroy;M(56698)(Y,h);function Q(){}function Z(ee,ne,me){C=C||M(92818),ee=ee||{},typeof me!="boolean"&&(me=ne instanceof C),this.objectMode=!!ee.objectMode,me&&(this.objectMode=this.objectMode||!!ee.writableObjectMode),this.highWaterMark=c(this,ee,"writableHighWaterMark",me),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ge=ee.decodeStrings===!1;this.decodeStrings=!ge,this.defaultEncoding=ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){K(ne,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ee.emitClose!==!1,this.autoDestroy=!!ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new I(this)}Z.prototype.getBuffer=function(){for(var ne=this.bufferedRequest,me=[];ne;)me.push(ne),ne=ne.next;return me},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var X;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(X=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(ne){return X.call(this,ne)?!0:this!==Y?!1:ne&&ne._writableState instanceof Z}})):X=function(ne){return ne instanceof this};function Y(ee){C=C||M(92818);var ne=this instanceof C;if(!ne&&!X.call(Y,this))return new Y(ee);this._writableState=new Z(ee,this,ne),this.writable=!0,ee&&(typeof ee.write=="function"&&(this._write=ee.write),typeof ee.writev=="function"&&(this._writev=ee.writev),typeof ee.destroy=="function"&&(this._destroy=ee.destroy),typeof ee.final=="function"&&(this._final=ee.final)),h.call(this)}Y.prototype.pipe=function(){z(this,new R)};function O(ee,ne){var me=new F;z(ee,me),A.nextTick(ne,me)}function $(ee,ne,me,ge){var _e;return me===null?_e=new U:typeof me!="string"&&!ne.objectMode&&(_e=new d("chunk",["string","Buffer"],me)),_e?(z(ee,_e),A.nextTick(ge,_e),!1):!0}Y.prototype.write=function(ee,ne,me){var ge=this._writableState,_e=!1,j=!ge.objectMode&&b(ee);return j&&!p.isBuffer(ee)&&(ee=_(ee)),typeof ne=="function"&&(me=ne,ne=null),j?ne="buffer":ne||(ne=ge.defaultEncoding),typeof me!="function"&&(me=Q),ge.ending?O(this,me):(j||$(this,ge,ee,me))&&(ge.pendingcb++,_e=u(this,ge,j,ee,ne,me)),_e},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var ee=this._writableState;ee.corked&&(ee.corked--,!ee.writing&&!ee.corked&&!ee.bufferProcessing&&ee.bufferedRequest&&J(this,ee))},Y.prototype.setDefaultEncoding=function(ne){if(typeof ne=="string"&&(ne=ne.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ne+"").toLowerCase())>-1))throw new y(ne);return this._writableState.defaultEncoding=ne,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function D(ee,ne,me){return!ee.objectMode&&ee.decodeStrings!==!1&&typeof ne=="string"&&(ne=p.from(ne,me)),ne}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function u(ee,ne,me,ge,_e,j){if(!me){var N=D(ne,ge,_e);ge!==N&&(me=!0,_e="buffer",ge=N)}var se=ne.objectMode?1:ge.length;ne.length+=se;var de=ne.length<ne.highWaterMark;if(de||(ne.needDrain=!0),ne.writing||ne.corked){var ue=ne.lastBufferedRequest;ne.lastBufferedRequest={chunk:ge,encoding:_e,isBuf:me,callback:j,next:null},ue?ue.next=ne.lastBufferedRequest:ne.bufferedRequest=ne.lastBufferedRequest,ne.bufferedRequestCount+=1}else E(ee,ne,!1,se,ge,_e,j);return de}function E(ee,ne,me,ge,_e,j,N){ne.writelen=ge,ne.writecb=N,ne.writing=!0,ne.sync=!0,ne.destroyed?ne.onwrite(new P("write")):me?ee._writev(_e,ne.onwrite):ee._write(_e,j,ne.onwrite),ne.sync=!1}function q(ee,ne,me,ge,_e){--ne.pendingcb,me?(A.nextTick(_e,ge),A.nextTick(be,ee,ne),ee._writableState.errorEmitted=!0,z(ee,ge)):(_e(ge),ee._writableState.errorEmitted=!0,z(ee,ge),be(ee,ne))}function H(ee){ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0}function K(ee,ne){var me=ee._writableState,ge=me.sync,_e=me.writecb;if(typeof _e!="function")throw new k;if(H(me),ne)q(ee,me,ge,ne,_e);else{var j=B(me)||ee.destroyed;!j&&!me.corked&&!me.bufferProcessing&&me.bufferedRequest&&J(ee,me),ge?A.nextTick(G,ee,me,j,_e):G(ee,me,j,_e)}}function G(ee,ne,me,ge){me||ie(ee,ne),ne.pendingcb--,ge(),be(ee,ne)}function ie(ee,ne){ne.length===0&&ne.needDrain&&(ne.needDrain=!1,ee.emit("drain"))}function J(ee,ne){ne.bufferProcessing=!0;var me=ne.bufferedRequest;if(ee._writev&&me&&me.next){var ge=ne.bufferedRequestCount,_e=new Array(ge),j=ne.corkedRequestsFree;j.entry=me;for(var N=0,se=!0;me;)_e[N]=me,me.isBuf||(se=!1),me=me.next,N+=1;_e.allBuffers=se,E(ee,ne,!0,ne.length,_e,"",j.finish),ne.pendingcb++,ne.lastBufferedRequest=null,j.next?(ne.corkedRequestsFree=j.next,j.next=null):ne.corkedRequestsFree=new I(ne),ne.bufferedRequestCount=0}else{for(;me;){var de=me.chunk,ue=me.encoding,le=me.callback,pe=ne.objectMode?1:de.length;if(E(ee,ne,!1,pe,de,ue,le),me=me.next,ne.bufferedRequestCount--,ne.writing)break}me===null&&(ne.lastBufferedRequest=null)}ne.bufferedRequest=me,ne.bufferProcessing=!1}Y.prototype._write=function(ee,ne,me){me(new w("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(ee,ne,me){var ge=this._writableState;return typeof ee=="function"?(me=ee,ee=null,ne=null):typeof ne=="function"&&(me=ne,ne=null),ee!=null&&this.write(ee,ne),ge.corked&&(ge.corked=1,this.uncork()),ge.ending||we(this,ge,me),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(ee){return ee.ending&&ee.length===0&&ee.bufferedRequest===null&&!ee.finished&&!ee.writing}function ae(ee,ne){ee._final(function(me){ne.pendingcb--,me&&z(ee,me),ne.prefinished=!0,ee.emit("prefinish"),be(ee,ne)})}function Ne(ee,ne){!ne.prefinished&&!ne.finalCalled&&(typeof ee._final=="function"&&!ne.destroyed?(ne.pendingcb++,ne.finalCalled=!0,A.nextTick(ae,ee,ne)):(ne.prefinished=!0,ee.emit("prefinish")))}function be(ee,ne){var me=B(ne);if(me&&(Ne(ee,ne),ne.pendingcb===0&&(ne.finished=!0,ee.emit("finish"),ne.autoDestroy))){var ge=ee._readableState;(!ge||ge.autoDestroy&&ge.endEmitted)&&ee.destroy()}return me}function we(ee,ne,me){ne.ending=!0,be(ee,ne),me&&(ne.finished?A.nextTick(me):ee.once("finish",me)),ne.ended=!0,ee.writable=!1}function Te(ee,ne,me){var ge=ee.entry;for(ee.entry=null;ge;){var _e=ge.callback;ne.pendingcb--,_e(me),ge=ge.next}ne.corkedRequestsFree.next=ee}Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ne){this._writableState&&(this._writableState.destroyed=ne)}}),Y.prototype.destroy=l.destroy,Y.prototype._undestroy=l.undestroy,Y.prototype._destroy=function(ee,ne){ne(ee)}},74743:(s,V,M)=>{"use strict";var A=M(65606),L;function I(P,U,F){return U in P?Object.defineProperty(P,U,{value:F,enumerable:!0,configurable:!0,writable:!0}):P[U]=F,P}var C=M(45826),f=Symbol("lastResolve"),h=Symbol("lastReject"),p=Symbol("error"),m=Symbol("ended"),_=Symbol("lastPromise"),b=Symbol("handlePromise"),l=Symbol("stream");function S(P,U){return{value:P,done:U}}function c(P){var U=P[f];if(U!==null){var F=P[l].read();F!==null&&(P[_]=null,P[f]=null,P[h]=null,U(S(F,!1)))}}function g(P){A.nextTick(c,P)}function d(P,U){return function(F,y){P.then(function(){if(U[m]){F(S(void 0,!0));return}U[b](F,y)},y)}}var w=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((L={get stream(){return this[l]},next:function(){var U=this,F=this[p];if(F!==null)return Promise.reject(F);if(this[m])return Promise.resolve(S(void 0,!0));if(this[l].destroyed)return new Promise(function(Z,X){A.nextTick(function(){U[p]?X(U[p]):Z(S(void 0,!0))})});var y=this[_],z;if(y)z=new Promise(d(y,this));else{var Q=this[l].read();if(Q!==null)return Promise.resolve(S(Q,!1));z=new Promise(this[b])}return this[_]=z,z}},I(L,Symbol.asyncIterator,function(){return this}),I(L,"return",function(){var U=this;return new Promise(function(F,y){U[l].destroy(null,function(z){if(z){y(z);return}F(S(void 0,!0))})})}),L),w),R=function(U){var F,y=Object.create(k,(F={},I(F,l,{value:U,writable:!0}),I(F,f,{value:null,writable:!0}),I(F,h,{value:null,writable:!0}),I(F,p,{value:null,writable:!0}),I(F,m,{value:U._readableState.endEmitted,writable:!0}),I(F,b,{value:function(Q,Z){var X=y[l].read();X?(y[_]=null,y[f]=null,y[h]=null,Q(S(X,!1))):(y[f]=Q,y[h]=Z)},writable:!0}),F));return y[_]=null,C(U,function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Q=y[h];Q!==null&&(y[_]=null,y[f]=null,y[h]=null,Q(z)),y[p]=z;return}var Z=y[f];Z!==null&&(y[_]=null,y[f]=null,y[h]=null,Z(S(void 0,!0))),y[m]=!0}),U.on("readable",g.bind(null,y)),y};s.exports=R},12389:(s,V,M)=>{"use strict";function A(c,g){var d=Object.keys(c);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(c);g&&(w=w.filter(function(k){return Object.getOwnPropertyDescriptor(c,k).enumerable})),d.push.apply(d,w)}return d}function L(c){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?arguments[g]:{};g%2?A(Object(d),!0).forEach(function(w){I(c,w,d[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):A(Object(d)).forEach(function(w){Object.defineProperty(c,w,Object.getOwnPropertyDescriptor(d,w))})}return c}function I(c,g,d){return g in c?Object.defineProperty(c,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[g]=d,c}function C(c,g){if(!(c instanceof g))throw new TypeError("Cannot call a class as a function")}function f(c,g){for(var d=0;d<g.length;d++){var w=g[d];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}function h(c,g,d){return g&&f(c.prototype,g),d&&f(c,d),c}var p=M(48287),m=p.Buffer,_=M(8460),b=_.inspect,l=b&&b.custom||"inspect";function S(c,g,d){m.prototype.copy.call(c,g,d)}s.exports=function(){function c(){C(this,c),this.head=null,this.tail=null,this.length=0}return h(c,[{key:"push",value:function(d){var w={data:d,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(d){var w={data:d,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var d=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,d}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(d){if(this.length===0)return"";for(var w=this.head,k=""+w.data;w=w.next;)k+=d+w.data;return k}},{key:"concat",value:function(d){if(this.length===0)return m.alloc(0);for(var w=m.allocUnsafe(d>>>0),k=this.head,R=0;k;)S(k.data,w,R),R+=k.data.length,k=k.next;return w}},{key:"consume",value:function(d,w){var k;return d<this.head.data.length?(k=this.head.data.slice(0,d),this.head.data=this.head.data.slice(d)):d===this.head.data.length?k=this.shift():k=w?this._getString(d):this._getBuffer(d),k}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(d){var w=this.head,k=1,R=w.data;for(d-=R.length;w=w.next;){var P=w.data,U=d>P.length?P.length:d;if(U===P.length?R+=P:R+=P.slice(0,d),d-=U,d===0){U===P.length?(++k,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=P.slice(U));break}++k}return this.length-=k,R}},{key:"_getBuffer",value:function(d){var w=m.allocUnsafe(d),k=this.head,R=1;for(k.data.copy(w),d-=k.data.length;k=k.next;){var P=k.data,U=d>P.length?P.length:d;if(P.copy(w,w.length-d,0,U),d-=U,d===0){U===P.length?(++R,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=P.slice(U));break}++R}return this.length-=R,w}},{key:l,value:function(d,w){return b(this,L({},w,{depth:0,customInspect:!1}))}}]),c}()},41468:(s,V,M)=>{"use strict";var A=M(65606);function L(m,_){var b=this,l=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return l||S?(_?_(m):m&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,A.nextTick(h,this,m)):A.nextTick(h,this,m)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(m||null,function(c){!_&&c?b._writableState?b._writableState.errorEmitted?A.nextTick(C,b):(b._writableState.errorEmitted=!0,A.nextTick(I,b,c)):A.nextTick(I,b,c):_?(A.nextTick(C,b),_(c)):A.nextTick(C,b)}),this)}function I(m,_){h(m,_),C(m)}function C(m){m._writableState&&!m._writableState.emitClose||m._readableState&&!m._readableState.emitClose||m.emit("close")}function f(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(m,_){m.emit("error",_)}function p(m,_){var b=m._readableState,l=m._writableState;b&&b.autoDestroy||l&&l.autoDestroy?m.destroy(_):m.emit("error",_)}s.exports={destroy:L,undestroy:f,errorOrDestroy:p}},45826:(s,V,M)=>{"use strict";var A=M(92260).F.ERR_STREAM_PREMATURE_CLOSE;function L(h){var p=!1;return function(){if(!p){p=!0;for(var m=arguments.length,_=new Array(m),b=0;b<m;b++)_[b]=arguments[b];h.apply(this,_)}}}function I(){}function C(h){return h.setHeader&&typeof h.abort=="function"}function f(h,p,m){if(typeof p=="function")return f(h,null,p);p||(p={}),m=L(m||I);var _=p.readable||p.readable!==!1&&h.readable,b=p.writable||p.writable!==!1&&h.writable,l=function(){h.writable||c()},S=h._writableState&&h._writableState.finished,c=function(){b=!1,S=!0,_||m.call(h)},g=h._readableState&&h._readableState.endEmitted,d=function(){_=!1,g=!0,b||m.call(h)},w=function(U){m.call(h,U)},k=function(){var U;if(_&&!g)return(!h._readableState||!h._readableState.ended)&&(U=new A),m.call(h,U);if(b&&!S)return(!h._writableState||!h._writableState.ended)&&(U=new A),m.call(h,U)},R=function(){h.req.on("finish",c)};return C(h)?(h.on("complete",c),h.on("abort",k),h.req?R():h.on("request",R)):b&&!h._writableState&&(h.on("end",l),h.on("close",l)),h.on("end",d),h.on("finish",c),p.error!==!1&&h.on("error",w),h.on("close",k),function(){h.removeListener("complete",c),h.removeListener("abort",k),h.removeListener("request",R),h.req&&h.req.removeListener("finish",c),h.removeListener("end",l),h.removeListener("close",l),h.removeListener("finish",c),h.removeListener("end",d),h.removeListener("error",w),h.removeListener("close",k)}}s.exports=f},45049:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},29434:(s,V,M)=>{"use strict";var A;function L(c){var g=!1;return function(){g||(g=!0,c.apply(void 0,arguments))}}var I=M(92260).F,C=I.ERR_MISSING_ARGS,f=I.ERR_STREAM_DESTROYED;function h(c){if(c)throw c}function p(c){return c.setHeader&&typeof c.abort=="function"}function m(c,g,d,w){w=L(w);var k=!1;c.on("close",function(){k=!0}),A===void 0&&(A=M(45826)),A(c,{readable:g,writable:d},function(P){if(P)return w(P);k=!0,w()});var R=!1;return function(P){if(!k&&!R){if(R=!0,p(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();w(P||new f("pipe"))}}}function _(c){c()}function b(c,g){return c.pipe(g)}function l(c){return!c.length||typeof c[c.length-1]!="function"?h:c.pop()}function S(){for(var c=arguments.length,g=new Array(c),d=0;d<c;d++)g[d]=arguments[d];var w=l(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new C("streams");var k,R=g.map(function(P,U){var F=U<g.length-1,y=U>0;return m(P,F,y,function(z){k||(k=z),z&&R.forEach(_),!F&&(R.forEach(_),w(k))})});return g.reduce(b)}s.exports=S},8775:(s,V,M)=>{"use strict";var A=M(92260).F.ERR_INVALID_OPT_VALUE;function L(C,f,h){return C.highWaterMark!=null?C.highWaterMark:f?C[h]:null}function I(C,f,h,p){var m=L(f,p,h);if(m!=null){if(!(isFinite(m)&&Math.floor(m)===m)||m<0){var _=p?h:"highWaterMark";throw new A(_,m)}return Math.floor(m)}return C.objectMode?16:16384}s.exports={getHighWaterMark:I}},71181:(s,V,M)=>{s.exports=M(37007).EventEmitter},61603:(s,V,M)=>{V=s.exports=M(6736),V.Stream=V,V.Readable=V,V.Writable=M(62192),V.Duplex=M(92818),V.Transform=M(13054),V.PassThrough=M(35860),V.finished=M(45826),V.pipeline=M(29434)},77952:(s,V,M)=>{var A=V;A.utils=M(67426),A.common=M(66166),A.sha=M(46229),A.ripemd=M(46784),A.hmac=M(28948),A.sha1=A.sha.sha1,A.sha256=A.sha.sha256,A.sha224=A.sha.sha224,A.sha384=A.sha.sha384,A.sha512=A.sha.sha512,A.ripemd160=A.ripemd.ripemd160},66166:(s,V,M)=>{"use strict";var A=M(67426),L=M(43349);function I(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}V.BlockHash=I,I.prototype.update=function(f,h){if(f=A.toArray(f,h),this.pending?this.pending=this.pending.concat(f):this.pending=f,this.pendingTotal+=f.length,this.pending.length>=this._delta8){f=this.pending;var p=f.length%this._delta8;this.pending=f.slice(f.length-p,f.length),this.pending.length===0&&(this.pending=null),f=A.join32(f,0,f.length-p,this.endian);for(var m=0;m<f.length;m+=this._delta32)this._update(f,m,m+this._delta32)}return this},I.prototype.digest=function(f){return this.update(this._pad()),L(this.pending===null),this._digest(f)},I.prototype._pad=function(){var f=this.pendingTotal,h=this._delta8,p=h-(f+this.padLength)%h,m=new Array(p+this.padLength);m[0]=128;for(var _=1;_<p;_++)m[_]=0;if(f<<=3,this.endian==="big"){for(var b=8;b<this.padLength;b++)m[_++]=0;m[_++]=0,m[_++]=0,m[_++]=0,m[_++]=0,m[_++]=f>>>24&255,m[_++]=f>>>16&255,m[_++]=f>>>8&255,m[_++]=f&255}else for(m[_++]=f&255,m[_++]=f>>>8&255,m[_++]=f>>>16&255,m[_++]=f>>>24&255,m[_++]=0,m[_++]=0,m[_++]=0,m[_++]=0,b=8;b<this.padLength;b++)m[_++]=0;return m}},28948:(s,V,M)=>{"use strict";var A=M(67426),L=M(43349);function I(C,f,h){if(!(this instanceof I))return new I(C,f,h);this.Hash=C,this.blockSize=C.blockSize/8,this.outSize=C.outSize/8,this.inner=null,this.outer=null,this._init(A.toArray(f,h))}s.exports=I,I.prototype._init=function(f){f.length>this.blockSize&&(f=new this.Hash().update(f).digest()),L(f.length<=this.blockSize);for(var h=f.length;h<this.blockSize;h++)f.push(0);for(h=0;h<f.length;h++)f[h]^=54;for(this.inner=new this.Hash().update(f),h=0;h<f.length;h++)f[h]^=106;this.outer=new this.Hash().update(f)},I.prototype.update=function(f,h){return this.inner.update(f,h),this},I.prototype.digest=function(f){return this.outer.update(this.inner.digest()),this.outer.digest(f)}},46784:(s,V,M)=>{"use strict";var A=M(67426),L=M(66166),I=A.rotl32,C=A.sum32,f=A.sum32_3,h=A.sum32_4,p=L.BlockHash;function m(){if(!(this instanceof m))return new m;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}A.inherits(m,p),V.ripemd160=m,m.blockSize=512,m.outSize=160,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(k,R){for(var P=this.h[0],U=this.h[1],F=this.h[2],y=this.h[3],z=this.h[4],Q=P,Z=U,X=F,Y=y,O=z,$=0;$<80;$++){var D=C(I(h(P,_($,U,F,y),k[S[$]+R],b($)),g[$]),z);P=z,z=y,y=I(F,10),F=U,U=D,D=C(I(h(Q,_(79-$,Z,X,Y),k[c[$]+R],l($)),d[$]),O),Q=O,O=Y,Y=I(X,10),X=Z,Z=D}D=f(this.h[1],F,Y),this.h[1]=f(this.h[2],y,O),this.h[2]=f(this.h[3],z,Q),this.h[3]=f(this.h[4],P,Z),this.h[4]=f(this.h[0],U,X),this.h[0]=D},m.prototype._digest=function(k){return k==="hex"?A.toHex32(this.h,"little"):A.split32(this.h,"little")};function _(w,k,R,P){return w<=15?k^R^P:w<=31?k&R|~k&P:w<=47?(k|~R)^P:w<=63?k&P|R&~P:k^(R|~P)}function b(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function l(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}var S=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},46229:(s,V,M)=>{"use strict";V.sha1=M(43917),V.sha224=M(47714),V.sha256=M(2287),V.sha384=M(21911),V.sha512=M(57766)},43917:(s,V,M)=>{"use strict";var A=M(67426),L=M(66166),I=M(66225),C=A.rotl32,f=A.sum32,h=A.sum32_5,p=I.ft_1,m=L.BlockHash,_=[1518500249,1859775393,2400959708,3395469782];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}A.inherits(b,m),s.exports=b,b.blockSize=512,b.outSize=160,b.hmacStrength=80,b.padLength=64,b.prototype._update=function(S,c){for(var g=this.W,d=0;d<16;d++)g[d]=S[c+d];for(;d<g.length;d++)g[d]=C(g[d-3]^g[d-8]^g[d-14]^g[d-16],1);var w=this.h[0],k=this.h[1],R=this.h[2],P=this.h[3],U=this.h[4];for(d=0;d<g.length;d++){var F=~~(d/20),y=h(C(w,5),p(F,k,R,P),U,g[d],_[F]);U=P,P=R,R=C(k,30),k=w,w=y}this.h[0]=f(this.h[0],w),this.h[1]=f(this.h[1],k),this.h[2]=f(this.h[2],R),this.h[3]=f(this.h[3],P),this.h[4]=f(this.h[4],U)},b.prototype._digest=function(S){return S==="hex"?A.toHex32(this.h,"big"):A.split32(this.h,"big")}},47714:(s,V,M)=>{"use strict";var A=M(67426),L=M(2287);function I(){if(!(this instanceof I))return new I;L.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}A.inherits(I,L),s.exports=I,I.blockSize=512,I.outSize=224,I.hmacStrength=192,I.padLength=64,I.prototype._digest=function(f){return f==="hex"?A.toHex32(this.h.slice(0,7),"big"):A.split32(this.h.slice(0,7),"big")}},2287:(s,V,M)=>{"use strict";var A=M(67426),L=M(66166),I=M(66225),C=M(43349),f=A.sum32,h=A.sum32_4,p=A.sum32_5,m=I.ch32,_=I.maj32,b=I.s0_256,l=I.s1_256,S=I.g0_256,c=I.g1_256,g=L.BlockHash,d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=d,this.W=new Array(64)}A.inherits(w,g),s.exports=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(R,P){for(var U=this.W,F=0;F<16;F++)U[F]=R[P+F];for(;F<U.length;F++)U[F]=h(c(U[F-2]),U[F-7],S(U[F-15]),U[F-16]);var y=this.h[0],z=this.h[1],Q=this.h[2],Z=this.h[3],X=this.h[4],Y=this.h[5],O=this.h[6],$=this.h[7];for(C(this.k.length===U.length),F=0;F<U.length;F++){var D=p($,l(X),m(X,Y,O),this.k[F],U[F]),u=f(b(y),_(y,z,Q));$=O,O=Y,Y=X,X=f(Z,D),Z=Q,Q=z,z=y,y=f(D,u)}this.h[0]=f(this.h[0],y),this.h[1]=f(this.h[1],z),this.h[2]=f(this.h[2],Q),this.h[3]=f(this.h[3],Z),this.h[4]=f(this.h[4],X),this.h[5]=f(this.h[5],Y),this.h[6]=f(this.h[6],O),this.h[7]=f(this.h[7],$)},w.prototype._digest=function(R){return R==="hex"?A.toHex32(this.h,"big"):A.split32(this.h,"big")}},21911:(s,V,M)=>{"use strict";var A=M(67426),L=M(57766);function I(){if(!(this instanceof I))return new I;L.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}A.inherits(I,L),s.exports=I,I.blockSize=1024,I.outSize=384,I.hmacStrength=192,I.padLength=128,I.prototype._digest=function(f){return f==="hex"?A.toHex32(this.h.slice(0,12),"big"):A.split32(this.h.slice(0,12),"big")}},57766:(s,V,M)=>{"use strict";var A=M(67426),L=M(66166),I=M(43349),C=A.rotr64_hi,f=A.rotr64_lo,h=A.shr64_hi,p=A.shr64_lo,m=A.sum64,_=A.sum64_hi,b=A.sum64_lo,l=A.sum64_4_hi,S=A.sum64_4_lo,c=A.sum64_5_hi,g=A.sum64_5_lo,d=L.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function k(){if(!(this instanceof k))return new k;d.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}A.inherits(k,d),s.exports=k,k.blockSize=1024,k.outSize=512,k.hmacStrength=192,k.padLength=128,k.prototype._prepareBlock=function(u,E){for(var q=this.W,H=0;H<32;H++)q[H]=u[E+H];for(;H<q.length;H+=2){var K=O(q[H-4],q[H-3]),G=$(q[H-4],q[H-3]),ie=q[H-14],J=q[H-13],B=X(q[H-30],q[H-29]),ae=Y(q[H-30],q[H-29]),Ne=q[H-32],be=q[H-31];q[H]=l(K,G,ie,J,B,ae,Ne,be),q[H+1]=S(K,G,ie,J,B,ae,Ne,be)}},k.prototype._update=function(u,E){this._prepareBlock(u,E);var q=this.W,H=this.h[0],K=this.h[1],G=this.h[2],ie=this.h[3],J=this.h[4],B=this.h[5],ae=this.h[6],Ne=this.h[7],be=this.h[8],we=this.h[9],Te=this.h[10],ee=this.h[11],ne=this.h[12],me=this.h[13],ge=this.h[14],_e=this.h[15];I(this.k.length===q.length);for(var j=0;j<q.length;j+=2){var N=ge,se=_e,de=Q(be,we),ue=Z(be,we),le=R(be,we,Te,ee,ne,me),pe=P(be,we,Te,ee,ne,me),Ae=this.k[j],Fe=this.k[j+1],Be=q[j],Ue=q[j+1],He=c(N,se,de,ue,le,pe,Ae,Fe,Be,Ue),Ye=g(N,se,de,ue,le,pe,Ae,Fe,Be,Ue);N=y(H,K),se=z(H,K),de=U(H,K,G,ie,J,B),ue=F(H,K,G,ie,J,B);var he=_(N,se,de,ue),re=b(N,se,de,ue);ge=ne,_e=me,ne=Te,me=ee,Te=be,ee=we,be=_(ae,Ne,He,Ye),we=b(Ne,Ne,He,Ye),ae=J,Ne=B,J=G,B=ie,G=H,ie=K,H=_(He,Ye,he,re),K=b(He,Ye,he,re)}m(this.h,0,H,K),m(this.h,2,G,ie),m(this.h,4,J,B),m(this.h,6,ae,Ne),m(this.h,8,be,we),m(this.h,10,Te,ee),m(this.h,12,ne,me),m(this.h,14,ge,_e)},k.prototype._digest=function(u){return u==="hex"?A.toHex32(this.h,"big"):A.split32(this.h,"big")};function R(D,u,E,q,H){var K=D&E^~D&H;return K<0&&(K+=4294967296),K}function P(D,u,E,q,H,K){var G=u&q^~u&K;return G<0&&(G+=4294967296),G}function U(D,u,E,q,H){var K=D&E^D&H^E&H;return K<0&&(K+=4294967296),K}function F(D,u,E,q,H,K){var G=u&q^u&K^q&K;return G<0&&(G+=4294967296),G}function y(D,u){var E=C(D,u,28),q=C(u,D,2),H=C(u,D,7),K=E^q^H;return K<0&&(K+=4294967296),K}function z(D,u){var E=f(D,u,28),q=f(u,D,2),H=f(u,D,7),K=E^q^H;return K<0&&(K+=4294967296),K}function Q(D,u){var E=C(D,u,14),q=C(D,u,18),H=C(u,D,9),K=E^q^H;return K<0&&(K+=4294967296),K}function Z(D,u){var E=f(D,u,14),q=f(D,u,18),H=f(u,D,9),K=E^q^H;return K<0&&(K+=4294967296),K}function X(D,u){var E=C(D,u,1),q=C(D,u,8),H=h(D,u,7),K=E^q^H;return K<0&&(K+=4294967296),K}function Y(D,u){var E=f(D,u,1),q=f(D,u,8),H=p(D,u,7),K=E^q^H;return K<0&&(K+=4294967296),K}function O(D,u){var E=C(D,u,19),q=C(u,D,29),H=h(D,u,6),K=E^q^H;return K<0&&(K+=4294967296),K}function $(D,u){var E=f(D,u,19),q=f(u,D,29),H=p(D,u,6),K=E^q^H;return K<0&&(K+=4294967296),K}},66225:(s,V,M)=>{"use strict";var A=M(67426),L=A.rotr32;function I(l,S,c,g){if(l===0)return C(S,c,g);if(l===1||l===3)return h(S,c,g);if(l===2)return f(S,c,g)}V.ft_1=I;function C(l,S,c){return l&S^~l&c}V.ch32=C;function f(l,S,c){return l&S^l&c^S&c}V.maj32=f;function h(l,S,c){return l^S^c}V.p32=h;function p(l){return L(l,2)^L(l,13)^L(l,22)}V.s0_256=p;function m(l){return L(l,6)^L(l,11)^L(l,25)}V.s1_256=m;function _(l){return L(l,7)^L(l,18)^l>>>3}V.g0_256=_;function b(l){return L(l,17)^L(l,19)^l>>>10}V.g1_256=b},67426:(s,V,M)=>{"use strict";var A=M(43349),L=M(56698);V.inherits=L;function I($,D){return($.charCodeAt(D)&64512)!==55296||D<0||D+1>=$.length?!1:($.charCodeAt(D+1)&64512)===56320}function C($,D){if(Array.isArray($))return $.slice();if(!$)return[];var u=[];if(typeof $=="string")if(D){if(D==="hex")for($=$.replace(/[^a-z0-9]+/ig,""),$.length%2!==0&&($="0"+$),q=0;q<$.length;q+=2)u.push(parseInt($[q]+$[q+1],16))}else for(var E=0,q=0;q<$.length;q++){var H=$.charCodeAt(q);H<128?u[E++]=H:H<2048?(u[E++]=H>>6|192,u[E++]=H&63|128):I($,q)?(H=65536+((H&1023)<<10)+($.charCodeAt(++q)&1023),u[E++]=H>>18|240,u[E++]=H>>12&63|128,u[E++]=H>>6&63|128,u[E++]=H&63|128):(u[E++]=H>>12|224,u[E++]=H>>6&63|128,u[E++]=H&63|128)}else for(q=0;q<$.length;q++)u[q]=$[q]|0;return u}V.toArray=C;function f($){for(var D="",u=0;u<$.length;u++)D+=m($[u].toString(16));return D}V.toHex=f;function h($){var D=$>>>24|$>>>8&65280|$<<8&16711680|($&255)<<24;return D>>>0}V.htonl=h;function p($,D){for(var u="",E=0;E<$.length;E++){var q=$[E];D==="little"&&(q=h(q)),u+=_(q.toString(16))}return u}V.toHex32=p;function m($){return $.length===1?"0"+$:$}V.zero2=m;function _($){return $.length===7?"0"+$:$.length===6?"00"+$:$.length===5?"000"+$:$.length===4?"0000"+$:$.length===3?"00000"+$:$.length===2?"000000"+$:$.length===1?"0000000"+$:$}V.zero8=_;function b($,D,u,E){var q=u-D;A(q%4===0);for(var H=new Array(q/4),K=0,G=D;K<H.length;K++,G+=4){var ie;E==="big"?ie=$[G]<<24|$[G+1]<<16|$[G+2]<<8|$[G+3]:ie=$[G+3]<<24|$[G+2]<<16|$[G+1]<<8|$[G],H[K]=ie>>>0}return H}V.join32=b;function l($,D){for(var u=new Array($.length*4),E=0,q=0;E<$.length;E++,q+=4){var H=$[E];D==="big"?(u[q]=H>>>24,u[q+1]=H>>>16&255,u[q+2]=H>>>8&255,u[q+3]=H&255):(u[q+3]=H>>>24,u[q+2]=H>>>16&255,u[q+1]=H>>>8&255,u[q]=H&255)}return u}V.split32=l;function S($,D){return $>>>D|$<<32-D}V.rotr32=S;function c($,D){return $<<D|$>>>32-D}V.rotl32=c;function g($,D){return $+D>>>0}V.sum32=g;function d($,D,u){return $+D+u>>>0}V.sum32_3=d;function w($,D,u,E){return $+D+u+E>>>0}V.sum32_4=w;function k($,D,u,E,q){return $+D+u+E+q>>>0}V.sum32_5=k;function R($,D,u,E){var q=$[D],H=$[D+1],K=E+H>>>0,G=(K<E?1:0)+u+q;$[D]=G>>>0,$[D+1]=K}V.sum64=R;function P($,D,u,E){var q=D+E>>>0,H=(q<D?1:0)+$+u;return H>>>0}V.sum64_hi=P;function U($,D,u,E){var q=D+E;return q>>>0}V.sum64_lo=U;function F($,D,u,E,q,H,K,G){var ie=0,J=D;J=J+E>>>0,ie+=J<D?1:0,J=J+H>>>0,ie+=J<H?1:0,J=J+G>>>0,ie+=J<G?1:0;var B=$+u+q+K+ie;return B>>>0}V.sum64_4_hi=F;function y($,D,u,E,q,H,K,G){var ie=D+E+H+G;return ie>>>0}V.sum64_4_lo=y;function z($,D,u,E,q,H,K,G,ie,J){var B=0,ae=D;ae=ae+E>>>0,B+=ae<D?1:0,ae=ae+H>>>0,B+=ae<H?1:0,ae=ae+G>>>0,B+=ae<G?1:0,ae=ae+J>>>0,B+=ae<J?1:0;var Ne=$+u+q+K+ie+B;return Ne>>>0}V.sum64_5_hi=z;function Q($,D,u,E,q,H,K,G,ie,J){var B=D+E+H+G+J;return B>>>0}V.sum64_5_lo=Q;function Z($,D,u){var E=D<<32-u|$>>>u;return E>>>0}V.rotr64_hi=Z;function X($,D,u){var E=$<<32-u|D>>>u;return E>>>0}V.rotr64_lo=X;function Y($,D,u){return $>>>u}V.shr64_hi=Y;function O($,D,u){var E=$<<32-u|D>>>u;return E>>>0}V.shr64_lo=O},9957:(s,V,M)=>{"use strict";var A=Function.prototype.call,L=Object.prototype.hasOwnProperty,I=M(63639);s.exports=I.call(A,L)},74921:s=>{"use strict";var V="Function.prototype.bind called on incompatible ",M=Object.prototype.toString,A=Math.max,L="[object Function]",I=function(p,m){for(var _=[],b=0;b<p.length;b+=1)_[b]=p[b];for(var l=0;l<m.length;l+=1)_[l+p.length]=m[l];return _},C=function(p,m){for(var _=[],b=m||0,l=0;b<p.length;b+=1,l+=1)_[l]=p[b];return _},f=function(h,p){for(var m="",_=0;_<h.length;_+=1)m+=h[_],_+1<h.length&&(m+=p);return m};s.exports=function(p){var m=this;if(typeof m!="function"||M.apply(m)!==L)throw new TypeError(V+m);for(var _=C(arguments,1),b,l=function(){if(this instanceof b){var w=m.apply(this,I(_,arguments));return Object(w)===w?w:this}return m.apply(p,I(_,arguments))},S=A(0,m.length-_.length),c=[],g=0;g<S;g++)c[g]="$"+g;if(b=Function("binder","return function ("+f(c,",")+"){ return binder.apply(this,arguments); }")(l),m.prototype){var d=function(){};d.prototype=m.prototype,b.prototype=new d,d.prototype=null}return b}},63639:(s,V,M)=>{"use strict";var A=M(74921);s.exports=Function.prototype.bind||A},32723:(s,V,M)=>{"use strict";var A=M(77952),L=M(64367),I=M(43349);function C(f){if(!(this instanceof C))return new C(f);this.hash=f.hash,this.predResist=!!f.predResist,this.outLen=this.hash.outSize,this.minEntropy=f.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var h=L.toArray(f.entropy,f.entropyEnc||"hex"),p=L.toArray(f.nonce,f.nonceEnc||"hex"),m=L.toArray(f.pers,f.persEnc||"hex");I(h.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(h,p,m)}s.exports=C,C.prototype._init=function(h,p,m){var _=h.concat(p).concat(m);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var b=0;b<this.V.length;b++)this.K[b]=0,this.V[b]=1;this._update(_),this._reseed=1,this.reseedInterval=281474976710656},C.prototype._hmac=function(){return new A.hmac(this.hash,this.K)},C.prototype._update=function(h){var p=this._hmac().update(this.V).update([0]);h&&(p=p.update(h)),this.K=p.digest(),this.V=this._hmac().update(this.V).digest(),h&&(this.K=this._hmac().update(this.V).update([1]).update(h).digest(),this.V=this._hmac().update(this.V).digest())},C.prototype.reseed=function(h,p,m,_){typeof p!="string"&&(_=m,m=p,p=null),h=L.toArray(h,p),m=L.toArray(m,_),I(h.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(h.concat(m||[])),this._reseed=1},C.prototype.generate=function(h,p,m,_){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof p!="string"&&(_=m,m=p,p=null),m&&(m=L.toArray(m,_||"hex"),this._update(m));for(var b=[];b.length<h;)this.V=this._hmac().update(this.V).digest(),b=b.concat(this.V);var l=b.slice(0,h);return this._update(m),this._reseed++,L.encode(l,p)}},251:(s,V)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */V.read=function(M,A,L,I,C){var f,h,p=C*8-I-1,m=(1<<p)-1,_=m>>1,b=-7,l=L?C-1:0,S=L?-1:1,c=M[A+l];for(l+=S,f=c&(1<<-b)-1,c>>=-b,b+=p;b>0;f=f*256+M[A+l],l+=S,b-=8);for(h=f&(1<<-b)-1,f>>=-b,b+=I;b>0;h=h*256+M[A+l],l+=S,b-=8);if(f===0)f=1-_;else{if(f===m)return h?NaN:(c?-1:1)*(1/0);h=h+Math.pow(2,I),f=f-_}return(c?-1:1)*h*Math.pow(2,f-I)},V.write=function(M,A,L,I,C,f){var h,p,m,_=f*8-C-1,b=(1<<_)-1,l=b>>1,S=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=I?0:f-1,g=I?1:-1,d=A<0||A===0&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(p=isNaN(A)?1:0,h=b):(h=Math.floor(Math.log(A)/Math.LN2),A*(m=Math.pow(2,-h))<1&&(h--,m*=2),h+l>=1?A+=S/m:A+=S*Math.pow(2,1-l),A*m>=2&&(h++,m/=2),h+l>=b?(p=0,h=b):h+l>=1?(p=(A*m-1)*Math.pow(2,C),h=h+l):(p=A*Math.pow(2,l-1)*Math.pow(2,C),h=0));C>=8;M[L+c]=p&255,c+=g,p/=256,C-=8);for(h=h<<C|p,_+=C;_>0;M[L+c]=h&255,c+=g,h/=256,_-=8);M[L+c-g]|=d*128}},56698:s=>{typeof Object.create=="function"?s.exports=function(M,A){A&&(M.super_=A,M.prototype=Object.create(A.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(M,A){if(A){M.super_=A;var L=function(){};L.prototype=A.prototype,M.prototype=new L,M.prototype.constructor=M}}},71710:(s,V,M)=>{var A=M(48287).Buffer,L=M(65606);/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(I){s.exports=I()})(function(){return function I(C,f,h){function p(b,l){if(!f[b]){if(!C[b]){var S=void 0;if(!l&&S)return require(b,!0);if(m)return m(b,!0);var c=new Error("Cannot find module '"+b+"'");throw c.code="MODULE_NOT_FOUND",c}var g=f[b]={exports:{}};C[b][0].call(g.exports,function(d){var w=C[b][1][d];return p(w||d)},g,g.exports,I,C,f,h)}return f[b].exports}for(var m=void 0,_=0;_<h.length;_++)p(h[_]);return p}({1:[function(I,C,f){"use strict";var h=I("./utils"),p=I("./support"),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";f.encode=function(_){for(var b,l,S,c,g,d,w,k=[],R=0,P=_.length,U=P,F=h.getTypeOf(_)!=="string";R<_.length;)U=P-R,S=F?(b=_[R++],l=R<P?_[R++]:0,R<P?_[R++]:0):(b=_.charCodeAt(R++),l=R<P?_.charCodeAt(R++):0,R<P?_.charCodeAt(R++):0),c=b>>2,g=(3&b)<<4|l>>4,d=1<U?(15&l)<<2|S>>6:64,w=2<U?63&S:64,k.push(m.charAt(c)+m.charAt(g)+m.charAt(d)+m.charAt(w));return k.join("")},f.decode=function(_){var b,l,S,c,g,d,w=0,k=0,R="data:";if(_.substr(0,R.length)===R)throw new Error("Invalid base64 input, it looks like a data url.");var P,U=3*(_=_.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(_.charAt(_.length-1)===m.charAt(64)&&U--,_.charAt(_.length-2)===m.charAt(64)&&U--,U%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=p.uint8array?new Uint8Array(0|U):new Array(0|U);w<_.length;)b=m.indexOf(_.charAt(w++))<<2|(c=m.indexOf(_.charAt(w++)))>>4,l=(15&c)<<4|(g=m.indexOf(_.charAt(w++)))>>2,S=(3&g)<<6|(d=m.indexOf(_.charAt(w++))),P[k++]=b,g!==64&&(P[k++]=l),d!==64&&(P[k++]=S);return P}},{"./support":30,"./utils":32}],2:[function(I,C,f){"use strict";var h=I("./external"),p=I("./stream/DataWorker"),m=I("./stream/Crc32Probe"),_=I("./stream/DataLengthProbe");function b(l,S,c,g,d){this.compressedSize=l,this.uncompressedSize=S,this.crc32=c,this.compression=g,this.compressedContent=d}b.prototype={getContentWorker:function(){var l=new p(h.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new _("data_length")),S=this;return l.on("end",function(){if(this.streamInfo.data_length!==S.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new p(h.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},b.createWorkerFrom=function(l,S,c){return l.pipe(new m).pipe(new _("uncompressedSize")).pipe(S.compressWorker(c)).pipe(new _("compressedSize")).withStreamInfo("compression",S)},C.exports=b},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(I,C,f){"use strict";var h=I("./stream/GenericWorker");f.STORE={magic:"\0\0",compressWorker:function(){return new h("STORE compression")},uncompressWorker:function(){return new h("STORE decompression")}},f.DEFLATE=I("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(I,C,f){"use strict";var h=I("./utils"),p=function(){for(var m,_=[],b=0;b<256;b++){m=b;for(var l=0;l<8;l++)m=1&m?3988292384^m>>>1:m>>>1;_[b]=m}return _}();C.exports=function(m,_){return m!==void 0&&m.length?h.getTypeOf(m)!=="string"?function(b,l,S,c){var g=p,d=c+S;b^=-1;for(var w=c;w<d;w++)b=b>>>8^g[255&(b^l[w])];return-1^b}(0|_,m,m.length,0):function(b,l,S,c){var g=p,d=c+S;b^=-1;for(var w=c;w<d;w++)b=b>>>8^g[255&(b^l.charCodeAt(w))];return-1^b}(0|_,m,m.length,0):0}},{"./utils":32}],5:[function(I,C,f){"use strict";f.base64=!1,f.binary=!1,f.dir=!1,f.createFolders=!0,f.date=null,f.compression=null,f.compressionOptions=null,f.comment=null,f.unixPermissions=null,f.dosPermissions=null},{}],6:[function(I,C,f){"use strict";var h=null;h=typeof Promise!="undefined"?Promise:I("lie"),C.exports={Promise:h}},{lie:37}],7:[function(I,C,f){"use strict";var h=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",p=I("pako"),m=I("./utils"),_=I("./stream/GenericWorker"),b=h?"uint8array":"array";function l(S,c){_.call(this,"FlateWorker/"+S),this._pako=null,this._pakoAction=S,this._pakoOptions=c,this.meta={}}f.magic="\b\0",m.inherits(l,_),l.prototype.processChunk=function(S){this.meta=S.meta,this._pako===null&&this._createPako(),this._pako.push(m.transformTo(b,S.data),!1)},l.prototype.flush=function(){_.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){_.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new p[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var S=this;this._pako.onData=function(c){S.push({data:c,meta:S.meta})}},f.compressWorker=function(S){return new l("Deflate",S)},f.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(I,C,f){"use strict";function h(g,d){var w,k="";for(w=0;w<d;w++)k+=String.fromCharCode(255&g),g>>>=8;return k}function p(g,d,w,k,R,P){var U,F,y=g.file,z=g.compression,Q=P!==b.utf8encode,Z=m.transformTo("string",P(y.name)),X=m.transformTo("string",b.utf8encode(y.name)),Y=y.comment,O=m.transformTo("string",P(Y)),$=m.transformTo("string",b.utf8encode(Y)),D=X.length!==y.name.length,u=$.length!==Y.length,E="",q="",H="",K=y.dir,G=y.date,ie={crc32:0,compressedSize:0,uncompressedSize:0};d&&!w||(ie.crc32=g.crc32,ie.compressedSize=g.compressedSize,ie.uncompressedSize=g.uncompressedSize);var J=0;d&&(J|=8),Q||!D&&!u||(J|=2048);var B=0,ae=0;K&&(B|=16),R==="UNIX"?(ae=798,B|=function(be,we){var Te=be;return be||(Te=we?16893:33204),(65535&Te)<<16}(y.unixPermissions,K)):(ae=20,B|=function(be){return 63&(be||0)}(y.dosPermissions)),U=G.getUTCHours(),U<<=6,U|=G.getUTCMinutes(),U<<=5,U|=G.getUTCSeconds()/2,F=G.getUTCFullYear()-1980,F<<=4,F|=G.getUTCMonth()+1,F<<=5,F|=G.getUTCDate(),D&&(q=h(1,1)+h(l(Z),4)+X,E+="up"+h(q.length,2)+q),u&&(H=h(1,1)+h(l(O),4)+$,E+="uc"+h(H.length,2)+H);var Ne="";return Ne+=`
\0`,Ne+=h(J,2),Ne+=z.magic,Ne+=h(U,2),Ne+=h(F,2),Ne+=h(ie.crc32,4),Ne+=h(ie.compressedSize,4),Ne+=h(ie.uncompressedSize,4),Ne+=h(Z.length,2),Ne+=h(E.length,2),{fileRecord:S.LOCAL_FILE_HEADER+Ne+Z+E,dirRecord:S.CENTRAL_FILE_HEADER+h(ae,2)+Ne+h(O.length,2)+"\0\0\0\0"+h(B,4)+h(k,4)+Z+E+O}}var m=I("../utils"),_=I("../stream/GenericWorker"),b=I("../utf8"),l=I("../crc32"),S=I("../signature");function c(g,d,w,k){_.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=w,this.encodeFileName=k,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}m.inherits(c,_),c.prototype.push=function(g){var d=g.meta.percent||0,w=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,_.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:w?(d+100*(w-k-1))/w:100}}))},c.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var d=this.streamFiles&&!g.file.dir;if(d){var w=p(g,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(g){this.accumulate=!1;var d=this.streamFiles&&!g.file.dir,w=p(g,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),d)this.push({data:function(k){return S.DATA_DESCRIPTOR+h(k.crc32,4)+h(k.compressedSize,4)+h(k.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var g=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var w=this.bytesWritten-g,k=function(R,P,U,F,y){var z=m.transformTo("string",y(F));return S.CENTRAL_DIRECTORY_END+"\0\0\0\0"+h(R,2)+h(R,2)+h(P,4)+h(U,4)+h(z.length,2)+z}(this.dirRecords.length,w,g,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(g){this._sources.push(g);var d=this;return g.on("data",function(w){d.processChunk(w)}),g.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),g.on("error",function(w){d.error(w)}),this},c.prototype.resume=function(){return!!_.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(g){var d=this._sources;if(!_.prototype.error.call(this,g))return!1;for(var w=0;w<d.length;w++)try{d[w].error(g)}catch{}return!0},c.prototype.lock=function(){_.prototype.lock.call(this);for(var g=this._sources,d=0;d<g.length;d++)g[d].lock()},C.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(I,C,f){"use strict";var h=I("../compressions"),p=I("./ZipFileWorker");f.generateWorker=function(m,_,b){var l=new p(_.streamFiles,b,_.platform,_.encodeFileName),S=0;try{m.forEach(function(c,g){S++;var d=function(P,U){var F=P||U,y=h[F];if(!y)throw new Error(F+" is not a valid compression method !");return y}(g.options.compression,_.compression),w=g.options.compressionOptions||_.compressionOptions||{},k=g.dir,R=g.date;g._compressWorker(d,w).withStreamInfo("file",{name:c,dir:k,date:R,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(l)}),l.entriesCount=S}catch(c){l.error(c)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(I,C,f){"use strict";function h(){if(!(this instanceof h))return new h;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var p=new h;for(var m in this)typeof this[m]!="function"&&(p[m]=this[m]);return p}}(h.prototype=I("./object")).loadAsync=I("./load"),h.support=I("./support"),h.defaults=I("./defaults"),h.version="3.10.1",h.loadAsync=function(p,m){return new h().loadAsync(p,m)},h.external=I("./external"),C.exports=h},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(I,C,f){"use strict";var h=I("./utils"),p=I("./external"),m=I("./utf8"),_=I("./zipEntries"),b=I("./stream/Crc32Probe"),l=I("./nodejsUtils");function S(c){return new p.Promise(function(g,d){var w=c.decompressed.getContentWorker().pipe(new b);w.on("error",function(k){d(k)}).on("end",function(){w.streamInfo.crc32!==c.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}C.exports=function(c,g){var d=this;return g=h.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:m.utf8decode}),l.isNode&&l.isStream(c)?p.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):h.prepareContent("the loaded zip file",c,!0,g.optimizedBinaryString,g.base64).then(function(w){var k=new _(g);return k.load(w),k}).then(function(w){var k=[p.Promise.resolve(w)],R=w.files;if(g.checkCRC32)for(var P=0;P<R.length;P++)k.push(S(R[P]));return p.Promise.all(k)}).then(function(w){for(var k=w.shift(),R=k.files,P=0;P<R.length;P++){var U=R[P],F=U.fileNameStr,y=h.resolve(U.fileNameStr);d.file(y,U.decompressed,{binary:!0,optimizedBinaryString:!0,date:U.date,dir:U.dir,comment:U.fileCommentStr.length?U.fileCommentStr:null,unixPermissions:U.unixPermissions,dosPermissions:U.dosPermissions,createFolders:g.createFolders}),U.dir||(d.file(y).unsafeOriginalName=F)}return k.zipComment.length&&(d.comment=k.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(I,C,f){"use strict";var h=I("../utils"),p=I("../stream/GenericWorker");function m(_,b){p.call(this,"Nodejs stream input adapter for "+_),this._upstreamEnded=!1,this._bindStream(b)}h.inherits(m,p),m.prototype._bindStream=function(_){var b=this;(this._stream=_).pause(),_.on("data",function(l){b.push({data:l,meta:{percent:0}})}).on("error",function(l){b.isPaused?this.generatedError=l:b.error(l)}).on("end",function(){b.isPaused?b._upstreamEnded=!0:b.end()})},m.prototype.pause=function(){return!!p.prototype.pause.call(this)&&(this._stream.pause(),!0)},m.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},C.exports=m},{"../stream/GenericWorker":28,"../utils":32}],13:[function(I,C,f){"use strict";var h=I("readable-stream").Readable;function p(m,_,b){h.call(this,_),this._helper=m;var l=this;m.on("data",function(S,c){l.push(S)||l._helper.pause(),b&&b(c)}).on("error",function(S){l.emit("error",S)}).on("end",function(){l.push(null)})}I("../utils").inherits(p,h),p.prototype._read=function(){this._helper.resume()},C.exports=p},{"../utils":32,"readable-stream":16}],14:[function(I,C,f){"use strict";C.exports={isNode:typeof A!="undefined",newBufferFrom:function(h,p){if(A.from&&A.from!==Uint8Array.from)return A.from(h,p);if(typeof h=="number")throw new Error('The "data" argument must not be a number');return new A(h,p)},allocBuffer:function(h){if(A.alloc)return A.alloc(h);var p=new A(h);return p.fill(0),p},isBuffer:function(h){return A.isBuffer(h)},isStream:function(h){return h&&typeof h.on=="function"&&typeof h.pause=="function"&&typeof h.resume=="function"}}},{}],15:[function(I,C,f){"use strict";function h(y,z,Q){var Z,X=m.getTypeOf(z),Y=m.extend(Q||{},l);Y.date=Y.date||new Date,Y.compression!==null&&(Y.compression=Y.compression.toUpperCase()),typeof Y.unixPermissions=="string"&&(Y.unixPermissions=parseInt(Y.unixPermissions,8)),Y.unixPermissions&&16384&Y.unixPermissions&&(Y.dir=!0),Y.dosPermissions&&16&Y.dosPermissions&&(Y.dir=!0),Y.dir&&(y=R(y)),Y.createFolders&&(Z=k(y))&&P.call(this,Z,!0);var O=X==="string"&&Y.binary===!1&&Y.base64===!1;Q&&Q.binary!==void 0||(Y.binary=!O),(z instanceof S&&z.uncompressedSize===0||Y.dir||!z||z.length===0)&&(Y.base64=!1,Y.binary=!0,z="",Y.compression="STORE",X="string");var $=null;$=z instanceof S||z instanceof _?z:d.isNode&&d.isStream(z)?new w(y,z):m.prepareContent(y,z,Y.binary,Y.optimizedBinaryString,Y.base64);var D=new c(y,$,Y);this.files[y]=D}var p=I("./utf8"),m=I("./utils"),_=I("./stream/GenericWorker"),b=I("./stream/StreamHelper"),l=I("./defaults"),S=I("./compressedObject"),c=I("./zipObject"),g=I("./generate"),d=I("./nodejsUtils"),w=I("./nodejs/NodejsStreamInputAdapter"),k=function(y){y.slice(-1)==="/"&&(y=y.substring(0,y.length-1));var z=y.lastIndexOf("/");return 0<z?y.substring(0,z):""},R=function(y){return y.slice(-1)!=="/"&&(y+="/"),y},P=function(y,z){return z=z!==void 0?z:l.createFolders,y=R(y),this.files[y]||h.call(this,y,null,{dir:!0,createFolders:z}),this.files[y]};function U(y){return Object.prototype.toString.call(y)==="[object RegExp]"}var F={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(y){var z,Q,Z;for(z in this.files)Z=this.files[z],(Q=z.slice(this.root.length,z.length))&&z.slice(0,this.root.length)===this.root&&y(Q,Z)},filter:function(y){var z=[];return this.forEach(function(Q,Z){y(Q,Z)&&z.push(Z)}),z},file:function(y,z,Q){if(arguments.length!==1)return y=this.root+y,h.call(this,y,z,Q),this;if(U(y)){var Z=y;return this.filter(function(Y,O){return!O.dir&&Z.test(Y)})}var X=this.files[this.root+y];return X&&!X.dir?X:null},folder:function(y){if(!y)return this;if(U(y))return this.filter(function(X,Y){return Y.dir&&y.test(X)});var z=this.root+y,Q=P.call(this,z),Z=this.clone();return Z.root=Q.name,Z},remove:function(y){y=this.root+y;var z=this.files[y];if(z||(y.slice(-1)!=="/"&&(y+="/"),z=this.files[y]),z&&!z.dir)delete this.files[y];else for(var Q=this.filter(function(X,Y){return Y.name.slice(0,y.length)===y}),Z=0;Z<Q.length;Z++)delete this.files[Q[Z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(y){var z,Q={};try{if((Q=m.extend(y||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:p.utf8encode})).type=Q.type.toLowerCase(),Q.compression=Q.compression.toUpperCase(),Q.type==="binarystring"&&(Q.type="string"),!Q.type)throw new Error("No output type specified.");m.checkSupport(Q.type),Q.platform!=="darwin"&&Q.platform!=="freebsd"&&Q.platform!=="linux"&&Q.platform!=="sunos"||(Q.platform="UNIX"),Q.platform==="win32"&&(Q.platform="DOS");var Z=Q.comment||this.comment||"";z=g.generateWorker(this,Q,Z)}catch(X){(z=new _("error")).error(X)}return new b(z,Q.type||"string",Q.mimeType)},generateAsync:function(y,z){return this.generateInternalStream(y).accumulate(z)},generateNodeStream:function(y,z){return(y=y||{}).type||(y.type="nodebuffer"),this.generateInternalStream(y).toNodejsStream(z)}};C.exports=F},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(I,C,f){"use strict";C.exports=I("stream")},{stream:void 0}],17:[function(I,C,f){"use strict";var h=I("./DataReader");function p(m){h.call(this,m);for(var _=0;_<this.data.length;_++)m[_]=255&m[_]}I("../utils").inherits(p,h),p.prototype.byteAt=function(m){return this.data[this.zero+m]},p.prototype.lastIndexOfSignature=function(m){for(var _=m.charCodeAt(0),b=m.charCodeAt(1),l=m.charCodeAt(2),S=m.charCodeAt(3),c=this.length-4;0<=c;--c)if(this.data[c]===_&&this.data[c+1]===b&&this.data[c+2]===l&&this.data[c+3]===S)return c-this.zero;return-1},p.prototype.readAndCheckSignature=function(m){var _=m.charCodeAt(0),b=m.charCodeAt(1),l=m.charCodeAt(2),S=m.charCodeAt(3),c=this.readData(4);return _===c[0]&&b===c[1]&&l===c[2]&&S===c[3]},p.prototype.readData=function(m){if(this.checkOffset(m),m===0)return[];var _=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,_},C.exports=p},{"../utils":32,"./DataReader":18}],18:[function(I,C,f){"use strict";var h=I("../utils");function p(m){this.data=m,this.length=m.length,this.index=0,this.zero=0}p.prototype={checkOffset:function(m){this.checkIndex(this.index+m)},checkIndex:function(m){if(this.length<this.zero+m||m<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+m+"). Corrupted zip ?")},setIndex:function(m){this.checkIndex(m),this.index=m},skip:function(m){this.setIndex(this.index+m)},byteAt:function(){},readInt:function(m){var _,b=0;for(this.checkOffset(m),_=this.index+m-1;_>=this.index;_--)b=(b<<8)+this.byteAt(_);return this.index+=m,b},readString:function(m){return h.transformTo("string",this.readData(m))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var m=this.readInt(4);return new Date(Date.UTC(1980+(m>>25&127),(m>>21&15)-1,m>>16&31,m>>11&31,m>>5&63,(31&m)<<1))}},C.exports=p},{"../utils":32}],19:[function(I,C,f){"use strict";var h=I("./Uint8ArrayReader");function p(m){h.call(this,m)}I("../utils").inherits(p,h),p.prototype.readData=function(m){this.checkOffset(m);var _=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,_},C.exports=p},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(I,C,f){"use strict";var h=I("./DataReader");function p(m){h.call(this,m)}I("../utils").inherits(p,h),p.prototype.byteAt=function(m){return this.data.charCodeAt(this.zero+m)},p.prototype.lastIndexOfSignature=function(m){return this.data.lastIndexOf(m)-this.zero},p.prototype.readAndCheckSignature=function(m){return m===this.readData(4)},p.prototype.readData=function(m){this.checkOffset(m);var _=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,_},C.exports=p},{"../utils":32,"./DataReader":18}],21:[function(I,C,f){"use strict";var h=I("./ArrayReader");function p(m){h.call(this,m)}I("../utils").inherits(p,h),p.prototype.readData=function(m){if(this.checkOffset(m),m===0)return new Uint8Array(0);var _=this.data.subarray(this.zero+this.index,this.zero+this.index+m);return this.index+=m,_},C.exports=p},{"../utils":32,"./ArrayReader":17}],22:[function(I,C,f){"use strict";var h=I("../utils"),p=I("../support"),m=I("./ArrayReader"),_=I("./StringReader"),b=I("./NodeBufferReader"),l=I("./Uint8ArrayReader");C.exports=function(S){var c=h.getTypeOf(S);return h.checkSupport(c),c!=="string"||p.uint8array?c==="nodebuffer"?new b(S):p.uint8array?new l(h.transformTo("uint8array",S)):new m(h.transformTo("array",S)):new _(S)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(I,C,f){"use strict";f.LOCAL_FILE_HEADER="PK",f.CENTRAL_FILE_HEADER="PK",f.CENTRAL_DIRECTORY_END="PK",f.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",f.ZIP64_CENTRAL_DIRECTORY_END="PK",f.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(I,C,f){"use strict";var h=I("./GenericWorker"),p=I("../utils");function m(_){h.call(this,"ConvertWorker to "+_),this.destType=_}p.inherits(m,h),m.prototype.processChunk=function(_){this.push({data:p.transformTo(this.destType,_.data),meta:_.meta})},C.exports=m},{"../utils":32,"./GenericWorker":28}],25:[function(I,C,f){"use strict";var h=I("./GenericWorker"),p=I("../crc32");function m(){h.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}I("../utils").inherits(m,h),m.prototype.processChunk=function(_){this.streamInfo.crc32=p(_.data,this.streamInfo.crc32||0),this.push(_)},C.exports=m},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(I,C,f){"use strict";var h=I("../utils"),p=I("./GenericWorker");function m(_){p.call(this,"DataLengthProbe for "+_),this.propName=_,this.withStreamInfo(_,0)}h.inherits(m,p),m.prototype.processChunk=function(_){if(_){var b=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=b+_.data.length}p.prototype.processChunk.call(this,_)},C.exports=m},{"../utils":32,"./GenericWorker":28}],27:[function(I,C,f){"use strict";var h=I("../utils"),p=I("./GenericWorker");function m(_){p.call(this,"DataWorker");var b=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,_.then(function(l){b.dataIsReady=!0,b.data=l,b.max=l&&l.length||0,b.type=h.getTypeOf(l),b.isPaused||b._tickAndRepeat()},function(l){b.error(l)})}h.inherits(m,p),m.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this.data=null},m.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,h.delay(this._tickAndRepeat,[],this)),!0)},m.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(h.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},m.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var _=null,b=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":_=this.data.substring(this.index,b);break;case"uint8array":_=this.data.subarray(this.index,b);break;case"array":case"nodebuffer":_=this.data.slice(this.index,b)}return this.index=b,this.push({data:_,meta:{percent:this.max?this.index/this.max*100:0}})},C.exports=m},{"../utils":32,"./GenericWorker":28}],28:[function(I,C,f){"use strict";function h(p){this.name=p||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}h.prototype={push:function(p){this.emit("data",p)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(p){this.emit("error",p)}return!0},error:function(p){return!this.isFinished&&(this.isPaused?this.generatedError=p:(this.isFinished=!0,this.emit("error",p),this.previous&&this.previous.error(p),this.cleanUp()),!0)},on:function(p,m){return this._listeners[p].push(m),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(p,m){if(this._listeners[p])for(var _=0;_<this._listeners[p].length;_++)this._listeners[p][_].call(this,m)},pipe:function(p){return p.registerPrevious(this)},registerPrevious:function(p){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=p.streamInfo,this.mergeStreamInfo(),this.previous=p;var m=this;return p.on("data",function(_){m.processChunk(_)}),p.on("end",function(){m.end()}),p.on("error",function(_){m.error(_)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var p=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),p=!0),this.previous&&this.previous.resume(),!p},flush:function(){},processChunk:function(p){this.push(p)},withStreamInfo:function(p,m){return this.extraStreamInfo[p]=m,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var p in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,p)&&(this.streamInfo[p]=this.extraStreamInfo[p])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var p="Worker "+this.name;return this.previous?this.previous+" -> "+p:p}},C.exports=h},{}],29:[function(I,C,f){"use strict";var h=I("../utils"),p=I("./ConvertWorker"),m=I("./GenericWorker"),_=I("../base64"),b=I("../support"),l=I("../external"),S=null;if(b.nodestream)try{S=I("../nodejs/NodejsStreamOutputAdapter")}catch{}function c(d,w){return new l.Promise(function(k,R){var P=[],U=d._internalType,F=d._outputType,y=d._mimeType;d.on("data",function(z,Q){P.push(z),w&&w(Q)}).on("error",function(z){P=[],R(z)}).on("end",function(){try{var z=function(Q,Z,X){switch(Q){case"blob":return h.newBlob(h.transformTo("arraybuffer",Z),X);case"base64":return _.encode(Z);default:return h.transformTo(Q,Z)}}(F,function(Q,Z){var X,Y=0,O=null,$=0;for(X=0;X<Z.length;X++)$+=Z[X].length;switch(Q){case"string":return Z.join("");case"array":return Array.prototype.concat.apply([],Z);case"uint8array":for(O=new Uint8Array($),X=0;X<Z.length;X++)O.set(Z[X],Y),Y+=Z[X].length;return O;case"nodebuffer":return A.concat(Z);default:throw new Error("concat : unsupported type '"+Q+"'")}}(U,P),y);k(z)}catch(Q){R(Q)}P=[]}).resume()})}function g(d,w,k){var R=w;switch(w){case"blob":case"arraybuffer":R="uint8array";break;case"base64":R="string"}try{this._internalType=R,this._outputType=w,this._mimeType=k,h.checkSupport(R),this._worker=d.pipe(new p(R)),d.lock()}catch(P){this._worker=new m("error"),this._worker.error(P)}}g.prototype={accumulate:function(d){return c(this,d)},on:function(d,w){var k=this;return d==="data"?this._worker.on(d,function(R){w.call(k,R.data,R.meta)}):this._worker.on(d,function(){h.delay(w,arguments,k)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(h.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new S(this,{objectMode:this._outputType!=="nodebuffer"},d)}},C.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(I,C,f){"use strict";if(f.base64=!0,f.array=!0,f.string=!0,f.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",f.nodebuffer=typeof A!="undefined",f.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")f.blob=!1;else{var h=new ArrayBuffer(0);try{f.blob=new Blob([h],{type:"application/zip"}).size===0}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);p.append(h),f.blob=p.getBlob("application/zip").size===0}catch{f.blob=!1}}}try{f.nodestream=!!I("readable-stream").Readable}catch{f.nodestream=!1}},{"readable-stream":16}],31:[function(I,C,f){"use strict";for(var h=I("./utils"),p=I("./support"),m=I("./nodejsUtils"),_=I("./stream/GenericWorker"),b=new Array(256),l=0;l<256;l++)b[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;b[254]=b[254]=1;function S(){_.call(this,"utf-8 decode"),this.leftOver=null}function c(){_.call(this,"utf-8 encode")}f.utf8encode=function(g){return p.nodebuffer?m.newBufferFrom(g,"utf-8"):function(d){var w,k,R,P,U,F=d.length,y=0;for(P=0;P<F;P++)(64512&(k=d.charCodeAt(P)))==55296&&P+1<F&&(64512&(R=d.charCodeAt(P+1)))==56320&&(k=65536+(k-55296<<10)+(R-56320),P++),y+=k<128?1:k<2048?2:k<65536?3:4;for(w=p.uint8array?new Uint8Array(y):new Array(y),P=U=0;U<y;P++)(64512&(k=d.charCodeAt(P)))==55296&&P+1<F&&(64512&(R=d.charCodeAt(P+1)))==56320&&(k=65536+(k-55296<<10)+(R-56320),P++),k<128?w[U++]=k:(k<2048?w[U++]=192|k>>>6:(k<65536?w[U++]=224|k>>>12:(w[U++]=240|k>>>18,w[U++]=128|k>>>12&63),w[U++]=128|k>>>6&63),w[U++]=128|63&k);return w}(g)},f.utf8decode=function(g){return p.nodebuffer?h.transformTo("nodebuffer",g).toString("utf-8"):function(d){var w,k,R,P,U=d.length,F=new Array(2*U);for(w=k=0;w<U;)if((R=d[w++])<128)F[k++]=R;else if(4<(P=b[R]))F[k++]=65533,w+=P-1;else{for(R&=P===2?31:P===3?15:7;1<P&&w<U;)R=R<<6|63&d[w++],P--;1<P?F[k++]=65533:R<65536?F[k++]=R:(R-=65536,F[k++]=55296|R>>10&1023,F[k++]=56320|1023&R)}return F.length!==k&&(F.subarray?F=F.subarray(0,k):F.length=k),h.applyFromCharCode(F)}(g=h.transformTo(p.uint8array?"uint8array":"array",g))},h.inherits(S,_),S.prototype.processChunk=function(g){var d=h.transformTo(p.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(p.uint8array){var w=d;(d=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),d.set(w,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var k=function(P,U){var F;for((U=U||P.length)>P.length&&(U=P.length),F=U-1;0<=F&&(192&P[F])==128;)F--;return F<0||F===0?U:F+b[P[F]]>U?F:U}(d),R=d;k!==d.length&&(p.uint8array?(R=d.subarray(0,k),this.leftOver=d.subarray(k,d.length)):(R=d.slice(0,k),this.leftOver=d.slice(k,d.length))),this.push({data:f.utf8decode(R),meta:g.meta})},S.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:f.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},f.Utf8DecodeWorker=S,h.inherits(c,_),c.prototype.processChunk=function(g){this.push({data:f.utf8encode(g.data),meta:g.meta})},f.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(I,C,f){"use strict";var h=I("./support"),p=I("./base64"),m=I("./nodejsUtils"),_=I("./external");function b(w){return w}function l(w,k){for(var R=0;R<w.length;++R)k[R]=255&w.charCodeAt(R);return k}I("setimmediate"),f.newBlob=function(w,k){f.checkSupport("blob");try{return new Blob([w],{type:k})}catch{try{var R=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return R.append(w),R.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var S={stringifyByChunk:function(w,k,R){var P=[],U=0,F=w.length;if(F<=R)return String.fromCharCode.apply(null,w);for(;U<F;)k==="array"||k==="nodebuffer"?P.push(String.fromCharCode.apply(null,w.slice(U,Math.min(U+R,F)))):P.push(String.fromCharCode.apply(null,w.subarray(U,Math.min(U+R,F)))),U+=R;return P.join("")},stringifyByChar:function(w){for(var k="",R=0;R<w.length;R++)k+=String.fromCharCode(w[R]);return k},applyCanBeUsed:{uint8array:function(){try{return h.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return h.nodebuffer&&String.fromCharCode.apply(null,m.allocBuffer(1)).length===1}catch{return!1}}()}};function c(w){var k=65536,R=f.getTypeOf(w),P=!0;if(R==="uint8array"?P=S.applyCanBeUsed.uint8array:R==="nodebuffer"&&(P=S.applyCanBeUsed.nodebuffer),P)for(;1<k;)try{return S.stringifyByChunk(w,R,k)}catch{k=Math.floor(k/2)}return S.stringifyByChar(w)}function g(w,k){for(var R=0;R<w.length;R++)k[R]=w[R];return k}f.applyFromCharCode=c;var d={};d.string={string:b,array:function(w){return l(w,new Array(w.length))},arraybuffer:function(w){return d.string.uint8array(w).buffer},uint8array:function(w){return l(w,new Uint8Array(w.length))},nodebuffer:function(w){return l(w,m.allocBuffer(w.length))}},d.array={string:c,array:b,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return m.newBufferFrom(w)}},d.arraybuffer={string:function(w){return c(new Uint8Array(w))},array:function(w){return g(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:b,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return m.newBufferFrom(new Uint8Array(w))}},d.uint8array={string:c,array:function(w){return g(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:b,nodebuffer:function(w){return m.newBufferFrom(w)}},d.nodebuffer={string:c,array:function(w){return g(w,new Array(w.length))},arraybuffer:function(w){return d.nodebuffer.uint8array(w).buffer},uint8array:function(w){return g(w,new Uint8Array(w.length))},nodebuffer:b},f.transformTo=function(w,k){if(k=k||"",!w)return k;f.checkSupport(w);var R=f.getTypeOf(k);return d[R][w](k)},f.resolve=function(w){for(var k=w.split("/"),R=[],P=0;P<k.length;P++){var U=k[P];U==="."||U===""&&P!==0&&P!==k.length-1||(U===".."?R.pop():R.push(U))}return R.join("/")},f.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":h.nodebuffer&&m.isBuffer(w)?"nodebuffer":h.uint8array&&w instanceof Uint8Array?"uint8array":h.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},f.checkSupport=function(w){if(!h[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},f.MAX_VALUE_16BITS=65535,f.MAX_VALUE_32BITS=-1,f.pretty=function(w){var k,R,P="";for(R=0;R<(w||"").length;R++)P+="\\x"+((k=w.charCodeAt(R))<16?"0":"")+k.toString(16).toUpperCase();return P},f.delay=function(w,k,R){setImmediate(function(){w.apply(R||null,k||[])})},f.inherits=function(w,k){function R(){}R.prototype=k.prototype,w.prototype=new R},f.extend=function(){var w,k,R={};for(w=0;w<arguments.length;w++)for(k in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],k)&&R[k]===void 0&&(R[k]=arguments[w][k]);return R},f.prepareContent=function(w,k,R,P,U){return _.Promise.resolve(k).then(function(F){return h.blob&&(F instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(F))!==-1)&&typeof FileReader!="undefined"?new _.Promise(function(y,z){var Q=new FileReader;Q.onload=function(Z){y(Z.target.result)},Q.onerror=function(Z){z(Z.target.error)},Q.readAsArrayBuffer(F)}):F}).then(function(F){var y=f.getTypeOf(F);return y?(y==="arraybuffer"?F=f.transformTo("uint8array",F):y==="string"&&(U?F=p.decode(F):R&&P!==!0&&(F=function(z){return l(z,h.uint8array?new Uint8Array(z.length):new Array(z.length))}(F))),F):_.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(I,C,f){"use strict";var h=I("./reader/readerFor"),p=I("./utils"),m=I("./signature"),_=I("./zipEntry"),b=I("./support");function l(S){this.files=[],this.loadOptions=S}l.prototype={checkSignature:function(S){if(!this.reader.readAndCheckSignature(S)){this.reader.index-=4;var c=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+p.pretty(c)+", expected "+p.pretty(S)+")")}},isSignature:function(S,c){var g=this.reader.index;this.reader.setIndex(S);var d=this.reader.readString(4)===c;return this.reader.setIndex(g),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var S=this.reader.readData(this.zipCommentLength),c=b.uint8array?"uint8array":"array",g=p.transformTo(c,S);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var S,c,g,d=this.zip64EndOfCentralSize-44;0<d;)S=this.reader.readInt(2),c=this.reader.readInt(4),g=this.reader.readData(c),this.zip64ExtensibleData[S]={id:S,length:c,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var S,c;for(S=0;S<this.files.length;S++)c=this.files[S],this.reader.setIndex(c.localHeaderOffset),this.checkSignature(m.LOCAL_FILE_HEADER),c.readLocalPart(this.reader),c.handleUTF8(),c.processAttributes()},readCentralDir:function(){var S;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(m.CENTRAL_FILE_HEADER);)(S=new _({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(S);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var S=this.reader.lastIndexOfSignature(m.CENTRAL_DIRECTORY_END);if(S<0)throw this.isSignature(0,m.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(S);var c=S;if(this.checkSignature(m.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===p.MAX_VALUE_16BITS||this.diskWithCentralDirStart===p.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===p.MAX_VALUE_16BITS||this.centralDirRecords===p.MAX_VALUE_16BITS||this.centralDirSize===p.MAX_VALUE_32BITS||this.centralDirOffset===p.MAX_VALUE_32BITS){if(this.zip64=!0,(S=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(S),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,m.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var d=c-g;if(0<d)this.isSignature(c,m.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(S){this.reader=h(S)},load:function(S){this.prepareReader(S),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},C.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(I,C,f){"use strict";var h=I("./reader/readerFor"),p=I("./utils"),m=I("./compressedObject"),_=I("./crc32"),b=I("./utf8"),l=I("./compressions"),S=I("./support");function c(g,d){this.options=g,this.loadOptions=d}c.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var d,w;if(g.skip(22),this.fileNameLength=g.readInt(2),w=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function(k){for(var R in l)if(Object.prototype.hasOwnProperty.call(l,R)&&l[R].magic===k)return l[R];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+p.pretty(this.compressionMethod)+" unknown (inner file : "+p.transformTo("string",this.fileName)+")");this.decompressed=new m(this.compressedSize,this.uncompressedSize,this.crc32,d,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var d=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(d),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=h(this.extraFields[1].value);this.uncompressedSize===p.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===p.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===p.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===p.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var d,w,k,R=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<R;)d=g.readInt(2),w=g.readInt(2),k=g.readData(w),this.extraFields[d]={id:d,length:w,value:k};g.setIndex(R)},handleUTF8:function(){var g=S.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=b.utf8decode(this.fileName),this.fileCommentStr=b.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var w=p.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var R=p.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(R)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var d=h(g.value);return d.readInt(1)!==1||_(this.fileName)!==d.readInt(4)?null:b.utf8decode(d.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var d=h(g.value);return d.readInt(1)!==1||_(this.fileComment)!==d.readInt(4)?null:b.utf8decode(d.readData(g.length-5))}return null}},C.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(I,C,f){"use strict";function h(d,w,k){this.name=d,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=w,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var p=I("./stream/StreamHelper"),m=I("./stream/DataWorker"),_=I("./utf8"),b=I("./compressedObject"),l=I("./stream/GenericWorker");h.prototype={internalStream:function(d){var w=null,k="string";try{if(!d)throw new Error("No output type specified.");var R=(k=d.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),w=this._decompressWorker();var P=!this._dataBinary;P&&!R&&(w=w.pipe(new _.Utf8EncodeWorker)),!P&&R&&(w=w.pipe(new _.Utf8DecodeWorker))}catch(U){(w=new l("error")).error(U)}return new p(w,k,"")},async:function(d,w){return this.internalStream(d).accumulate(w)},nodeStream:function(d,w){return this.internalStream(d||"nodebuffer").toNodejsStream(w)},_compressWorker:function(d,w){if(this._data instanceof b&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new _.Utf8EncodeWorker)),b.createWorkerFrom(k,d,w)},_decompressWorker:function(){return this._data instanceof b?this._data.getContentWorker():this._data instanceof l?this._data:new m(this._data)}};for(var S=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<S.length;g++)h.prototype[S[g]]=c;C.exports=h},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(I,C,f){(function(h){"use strict";var p,m,_=h.MutationObserver||h.WebKitMutationObserver;if(_){var b=0,l=new _(d),S=h.document.createTextNode("");l.observe(S,{characterData:!0}),p=function(){S.data=b=++b%2}}else if(h.setImmediate||h.MessageChannel===void 0)p="document"in h&&"onreadystatechange"in h.document.createElement("script")?function(){var w=h.document.createElement("script");w.onreadystatechange=function(){d(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},h.document.documentElement.appendChild(w)}:function(){setTimeout(d,0)};else{var c=new h.MessageChannel;c.port1.onmessage=d,p=function(){c.port2.postMessage(0)}}var g=[];function d(){var w,k;m=!0;for(var R=g.length;R;){for(k=g,g=[],w=-1;++w<R;)k[w]();R=g.length}m=!1}C.exports=function(w){g.push(w)!==1||m||p()}}).call(this,typeof M.g!="undefined"?M.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(I,C,f){"use strict";var h=I("immediate");function p(){}var m={},_=["REJECTED"],b=["FULFILLED"],l=["PENDING"];function S(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,R!==p&&w(this,R)}function c(R,P,U){this.promise=R,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof U=="function"&&(this.onRejected=U,this.callRejected=this.otherCallRejected)}function g(R,P,U){h(function(){var F;try{F=P(U)}catch(y){return m.reject(R,y)}F===R?m.reject(R,new TypeError("Cannot resolve promise with itself")):m.resolve(R,F)})}function d(R){var P=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof P=="function")return function(){P.apply(R,arguments)}}function w(R,P){var U=!1;function F(Q){U||(U=!0,m.reject(R,Q))}function y(Q){U||(U=!0,m.resolve(R,Q))}var z=k(function(){P(y,F)});z.status==="error"&&F(z.value)}function k(R,P){var U={};try{U.value=R(P),U.status="success"}catch(F){U.status="error",U.value=F}return U}(C.exports=S).prototype.finally=function(R){if(typeof R!="function")return this;var P=this.constructor;return this.then(function(U){return P.resolve(R()).then(function(){return U})},function(U){return P.resolve(R()).then(function(){throw U})})},S.prototype.catch=function(R){return this.then(null,R)},S.prototype.then=function(R,P){if(typeof R!="function"&&this.state===b||typeof P!="function"&&this.state===_)return this;var U=new this.constructor(p);return this.state!==l?g(U,this.state===b?R:P,this.outcome):this.queue.push(new c(U,R,P)),U},c.prototype.callFulfilled=function(R){m.resolve(this.promise,R)},c.prototype.otherCallFulfilled=function(R){g(this.promise,this.onFulfilled,R)},c.prototype.callRejected=function(R){m.reject(this.promise,R)},c.prototype.otherCallRejected=function(R){g(this.promise,this.onRejected,R)},m.resolve=function(R,P){var U=k(d,P);if(U.status==="error")return m.reject(R,U.value);var F=U.value;if(F)w(R,F);else{R.state=b,R.outcome=P;for(var y=-1,z=R.queue.length;++y<z;)R.queue[y].callFulfilled(P)}return R},m.reject=function(R,P){R.state=_,R.outcome=P;for(var U=-1,F=R.queue.length;++U<F;)R.queue[U].callRejected(P);return R},S.resolve=function(R){return R instanceof this?R:m.resolve(new this(p),R)},S.reject=function(R){var P=new this(p);return m.reject(P,R)},S.all=function(R){var P=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=R.length,F=!1;if(!U)return this.resolve([]);for(var y=new Array(U),z=0,Q=-1,Z=new this(p);++Q<U;)X(R[Q],Q);return Z;function X(Y,O){P.resolve(Y).then(function($){y[O]=$,++z!==U||F||(F=!0,m.resolve(Z,y))},function($){F||(F=!0,m.reject(Z,$))})}},S.race=function(R){var P=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var U=R.length,F=!1;if(!U)return this.resolve([]);for(var y=-1,z=new this(p);++y<U;)Q=R[y],P.resolve(Q).then(function(Z){F||(F=!0,m.resolve(z,Z))},function(Z){F||(F=!0,m.reject(z,Z))});var Q;return z}},{immediate:36}],38:[function(I,C,f){"use strict";var h={};(0,I("./lib/utils/common").assign)(h,I("./lib/deflate"),I("./lib/inflate"),I("./lib/zlib/constants")),C.exports=h},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(I,C,f){"use strict";var h=I("./zlib/deflate"),p=I("./utils/common"),m=I("./utils/strings"),_=I("./zlib/messages"),b=I("./zlib/zstream"),l=Object.prototype.toString,S=0,c=-1,g=0,d=8;function w(R){if(!(this instanceof w))return new w(R);this.options=p.assign({level:c,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},R||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var U=h.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(U!==S)throw new Error(_[U]);if(P.header&&h.deflateSetHeader(this.strm,P.header),P.dictionary){var F;if(F=typeof P.dictionary=="string"?m.string2buf(P.dictionary):l.call(P.dictionary)==="[object ArrayBuffer]"?new Uint8Array(P.dictionary):P.dictionary,(U=h.deflateSetDictionary(this.strm,F))!==S)throw new Error(_[U]);this._dict_set=!0}}function k(R,P){var U=new w(P);if(U.push(R,!0),U.err)throw U.msg||_[U.err];return U.result}w.prototype.push=function(R,P){var U,F,y=this.strm,z=this.options.chunkSize;if(this.ended)return!1;F=P===~~P?P:P===!0?4:0,typeof R=="string"?y.input=m.string2buf(R):l.call(R)==="[object ArrayBuffer]"?y.input=new Uint8Array(R):y.input=R,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new p.Buf8(z),y.next_out=0,y.avail_out=z),(U=h.deflate(y,F))!==1&&U!==S)return this.onEnd(U),!(this.ended=!0);y.avail_out!==0&&(y.avail_in!==0||F!==4&&F!==2)||(this.options.to==="string"?this.onData(m.buf2binstring(p.shrinkBuf(y.output,y.next_out))):this.onData(p.shrinkBuf(y.output,y.next_out)))}while((0<y.avail_in||y.avail_out===0)&&U!==1);return F===4?(U=h.deflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===S):F!==2||(this.onEnd(S),!(y.avail_out=0))},w.prototype.onData=function(R){this.chunks.push(R)},w.prototype.onEnd=function(R){R===S&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},f.Deflate=w,f.deflate=k,f.deflateRaw=function(R,P){return(P=P||{}).raw=!0,k(R,P)},f.gzip=function(R,P){return(P=P||{}).gzip=!0,k(R,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(I,C,f){"use strict";var h=I("./zlib/inflate"),p=I("./utils/common"),m=I("./utils/strings"),_=I("./zlib/constants"),b=I("./zlib/messages"),l=I("./zlib/zstream"),S=I("./zlib/gzheader"),c=Object.prototype.toString;function g(w){if(!(this instanceof g))return new g(w);this.options=p.assign({chunkSize:16384,windowBits:0,to:""},w||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||w&&w.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var R=h.inflateInit2(this.strm,k.windowBits);if(R!==_.Z_OK)throw new Error(b[R]);this.header=new S,h.inflateGetHeader(this.strm,this.header)}function d(w,k){var R=new g(k);if(R.push(w,!0),R.err)throw R.msg||b[R.err];return R.result}g.prototype.push=function(w,k){var R,P,U,F,y,z,Q=this.strm,Z=this.options.chunkSize,X=this.options.dictionary,Y=!1;if(this.ended)return!1;P=k===~~k?k:k===!0?_.Z_FINISH:_.Z_NO_FLUSH,typeof w=="string"?Q.input=m.binstring2buf(w):c.call(w)==="[object ArrayBuffer]"?Q.input=new Uint8Array(w):Q.input=w,Q.next_in=0,Q.avail_in=Q.input.length;do{if(Q.avail_out===0&&(Q.output=new p.Buf8(Z),Q.next_out=0,Q.avail_out=Z),(R=h.inflate(Q,_.Z_NO_FLUSH))===_.Z_NEED_DICT&&X&&(z=typeof X=="string"?m.string2buf(X):c.call(X)==="[object ArrayBuffer]"?new Uint8Array(X):X,R=h.inflateSetDictionary(this.strm,z)),R===_.Z_BUF_ERROR&&Y===!0&&(R=_.Z_OK,Y=!1),R!==_.Z_STREAM_END&&R!==_.Z_OK)return this.onEnd(R),!(this.ended=!0);Q.next_out&&(Q.avail_out!==0&&R!==_.Z_STREAM_END&&(Q.avail_in!==0||P!==_.Z_FINISH&&P!==_.Z_SYNC_FLUSH)||(this.options.to==="string"?(U=m.utf8border(Q.output,Q.next_out),F=Q.next_out-U,y=m.buf2string(Q.output,U),Q.next_out=F,Q.avail_out=Z-F,F&&p.arraySet(Q.output,Q.output,U,F,0),this.onData(y)):this.onData(p.shrinkBuf(Q.output,Q.next_out)))),Q.avail_in===0&&Q.avail_out===0&&(Y=!0)}while((0<Q.avail_in||Q.avail_out===0)&&R!==_.Z_STREAM_END);return R===_.Z_STREAM_END&&(P=_.Z_FINISH),P===_.Z_FINISH?(R=h.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===_.Z_OK):P!==_.Z_SYNC_FLUSH||(this.onEnd(_.Z_OK),!(Q.avail_out=0))},g.prototype.onData=function(w){this.chunks.push(w)},g.prototype.onEnd=function(w){w===_.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},f.Inflate=g,f.inflate=d,f.inflateRaw=function(w,k){return(k=k||{}).raw=!0,d(w,k)},f.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(I,C,f){"use strict";var h=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";f.assign=function(_){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var l=b.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var S in l)l.hasOwnProperty(S)&&(_[S]=l[S])}}return _},f.shrinkBuf=function(_,b){return _.length===b?_:_.subarray?_.subarray(0,b):(_.length=b,_)};var p={arraySet:function(_,b,l,S,c){if(b.subarray&&_.subarray)_.set(b.subarray(l,l+S),c);else for(var g=0;g<S;g++)_[c+g]=b[l+g]},flattenChunks:function(_){var b,l,S,c,g,d;for(b=S=0,l=_.length;b<l;b++)S+=_[b].length;for(d=new Uint8Array(S),b=c=0,l=_.length;b<l;b++)g=_[b],d.set(g,c),c+=g.length;return d}},m={arraySet:function(_,b,l,S,c){for(var g=0;g<S;g++)_[c+g]=b[l+g]},flattenChunks:function(_){return[].concat.apply([],_)}};f.setTyped=function(_){_?(f.Buf8=Uint8Array,f.Buf16=Uint16Array,f.Buf32=Int32Array,f.assign(f,p)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,m))},f.setTyped(h)},{}],42:[function(I,C,f){"use strict";var h=I("./common"),p=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{p=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var _=new h.Buf8(256),b=0;b<256;b++)_[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;function l(S,c){if(c<65537&&(S.subarray&&m||!S.subarray&&p))return String.fromCharCode.apply(null,h.shrinkBuf(S,c));for(var g="",d=0;d<c;d++)g+=String.fromCharCode(S[d]);return g}_[254]=_[254]=1,f.string2buf=function(S){var c,g,d,w,k,R=S.length,P=0;for(w=0;w<R;w++)(64512&(g=S.charCodeAt(w)))==55296&&w+1<R&&(64512&(d=S.charCodeAt(w+1)))==56320&&(g=65536+(g-55296<<10)+(d-56320),w++),P+=g<128?1:g<2048?2:g<65536?3:4;for(c=new h.Buf8(P),w=k=0;k<P;w++)(64512&(g=S.charCodeAt(w)))==55296&&w+1<R&&(64512&(d=S.charCodeAt(w+1)))==56320&&(g=65536+(g-55296<<10)+(d-56320),w++),g<128?c[k++]=g:(g<2048?c[k++]=192|g>>>6:(g<65536?c[k++]=224|g>>>12:(c[k++]=240|g>>>18,c[k++]=128|g>>>12&63),c[k++]=128|g>>>6&63),c[k++]=128|63&g);return c},f.buf2binstring=function(S){return l(S,S.length)},f.binstring2buf=function(S){for(var c=new h.Buf8(S.length),g=0,d=c.length;g<d;g++)c[g]=S.charCodeAt(g);return c},f.buf2string=function(S,c){var g,d,w,k,R=c||S.length,P=new Array(2*R);for(g=d=0;g<R;)if((w=S[g++])<128)P[d++]=w;else if(4<(k=_[w]))P[d++]=65533,g+=k-1;else{for(w&=k===2?31:k===3?15:7;1<k&&g<R;)w=w<<6|63&S[g++],k--;1<k?P[d++]=65533:w<65536?P[d++]=w:(w-=65536,P[d++]=55296|w>>10&1023,P[d++]=56320|1023&w)}return l(P,d)},f.utf8border=function(S,c){var g;for((c=c||S.length)>S.length&&(c=S.length),g=c-1;0<=g&&(192&S[g])==128;)g--;return g<0||g===0?c:g+_[S[g]]>c?g:c}},{"./common":41}],43:[function(I,C,f){"use strict";C.exports=function(h,p,m,_){for(var b=65535&h|0,l=h>>>16&65535|0,S=0;m!==0;){for(m-=S=2e3<m?2e3:m;l=l+(b=b+p[_++]|0)|0,--S;);b%=65521,l%=65521}return b|l<<16|0}},{}],44:[function(I,C,f){"use strict";C.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(I,C,f){"use strict";var h=function(){for(var p,m=[],_=0;_<256;_++){p=_;for(var b=0;b<8;b++)p=1&p?3988292384^p>>>1:p>>>1;m[_]=p}return m}();C.exports=function(p,m,_,b){var l=h,S=b+_;p^=-1;for(var c=b;c<S;c++)p=p>>>8^l[255&(p^m[c])];return-1^p}},{}],46:[function(I,C,f){"use strict";var h,p=I("../utils/common"),m=I("./trees"),_=I("./adler32"),b=I("./crc32"),l=I("./messages"),S=0,c=4,g=0,d=-2,w=-1,k=4,R=2,P=8,U=9,F=286,y=30,z=19,Q=2*F+1,Z=15,X=3,Y=258,O=Y+X+1,$=42,D=113,u=1,E=2,q=3,H=4;function K(N,se){return N.msg=l[se],se}function G(N){return(N<<1)-(4<N?9:0)}function ie(N){for(var se=N.length;0<=--se;)N[se]=0}function J(N){var se=N.state,de=se.pending;de>N.avail_out&&(de=N.avail_out),de!==0&&(p.arraySet(N.output,se.pending_buf,se.pending_out,de,N.next_out),N.next_out+=de,se.pending_out+=de,N.total_out+=de,N.avail_out-=de,se.pending-=de,se.pending===0&&(se.pending_out=0))}function B(N,se){m._tr_flush_block(N,0<=N.block_start?N.block_start:-1,N.strstart-N.block_start,se),N.block_start=N.strstart,J(N.strm)}function ae(N,se){N.pending_buf[N.pending++]=se}function Ne(N,se){N.pending_buf[N.pending++]=se>>>8&255,N.pending_buf[N.pending++]=255&se}function be(N,se){var de,ue,le=N.max_chain_length,pe=N.strstart,Ae=N.prev_length,Fe=N.nice_match,Be=N.strstart>N.w_size-O?N.strstart-(N.w_size-O):0,Ue=N.window,He=N.w_mask,Ye=N.prev,he=N.strstart+Y,re=Ue[pe+Ae-1],ce=Ue[pe+Ae];N.prev_length>=N.good_match&&(le>>=2),Fe>N.lookahead&&(Fe=N.lookahead);do if(Ue[(de=se)+Ae]===ce&&Ue[de+Ae-1]===re&&Ue[de]===Ue[pe]&&Ue[++de]===Ue[pe+1]){pe+=2,de++;do;while(Ue[++pe]===Ue[++de]&&Ue[++pe]===Ue[++de]&&Ue[++pe]===Ue[++de]&&Ue[++pe]===Ue[++de]&&Ue[++pe]===Ue[++de]&&Ue[++pe]===Ue[++de]&&Ue[++pe]===Ue[++de]&&Ue[++pe]===Ue[++de]&&pe<he);if(ue=Y-(he-pe),pe=he-Y,Ae<ue){if(N.match_start=se,Fe<=(Ae=ue))break;re=Ue[pe+Ae-1],ce=Ue[pe+Ae]}}while((se=Ye[se&He])>Be&&--le!=0);return Ae<=N.lookahead?Ae:N.lookahead}function we(N){var se,de,ue,le,pe,Ae,Fe,Be,Ue,He,Ye=N.w_size;do{if(le=N.window_size-N.lookahead-N.strstart,N.strstart>=Ye+(Ye-O)){for(p.arraySet(N.window,N.window,Ye,Ye,0),N.match_start-=Ye,N.strstart-=Ye,N.block_start-=Ye,se=de=N.hash_size;ue=N.head[--se],N.head[se]=Ye<=ue?ue-Ye:0,--de;);for(se=de=Ye;ue=N.prev[--se],N.prev[se]=Ye<=ue?ue-Ye:0,--de;);le+=Ye}if(N.strm.avail_in===0)break;if(Ae=N.strm,Fe=N.window,Be=N.strstart+N.lookahead,Ue=le,He=void 0,He=Ae.avail_in,Ue<He&&(He=Ue),de=He===0?0:(Ae.avail_in-=He,p.arraySet(Fe,Ae.input,Ae.next_in,He,Be),Ae.state.wrap===1?Ae.adler=_(Ae.adler,Fe,He,Be):Ae.state.wrap===2&&(Ae.adler=b(Ae.adler,Fe,He,Be)),Ae.next_in+=He,Ae.total_in+=He,He),N.lookahead+=de,N.lookahead+N.insert>=X)for(pe=N.strstart-N.insert,N.ins_h=N.window[pe],N.ins_h=(N.ins_h<<N.hash_shift^N.window[pe+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[pe+X-1])&N.hash_mask,N.prev[pe&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=pe,pe++,N.insert--,!(N.lookahead+N.insert<X)););}while(N.lookahead<O&&N.strm.avail_in!==0)}function Te(N,se){for(var de,ue;;){if(N.lookahead<O){if(we(N),N.lookahead<O&&se===S)return u;if(N.lookahead===0)break}if(de=0,N.lookahead>=X&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+X-1])&N.hash_mask,de=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),de!==0&&N.strstart-de<=N.w_size-O&&(N.match_length=be(N,de)),N.match_length>=X)if(ue=m._tr_tally(N,N.strstart-N.match_start,N.match_length-X),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=X){for(N.match_length--;N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+X-1])&N.hash_mask,de=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart,--N.match_length!=0;);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else ue=m._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(ue&&(B(N,!1),N.strm.avail_out===0))return u}return N.insert=N.strstart<X-1?N.strstart:X-1,se===c?(B(N,!0),N.strm.avail_out===0?q:H):N.last_lit&&(B(N,!1),N.strm.avail_out===0)?u:E}function ee(N,se){for(var de,ue,le;;){if(N.lookahead<O){if(we(N),N.lookahead<O&&se===S)return u;if(N.lookahead===0)break}if(de=0,N.lookahead>=X&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+X-1])&N.hash_mask,de=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=X-1,de!==0&&N.prev_length<N.max_lazy_match&&N.strstart-de<=N.w_size-O&&(N.match_length=be(N,de),N.match_length<=5&&(N.strategy===1||N.match_length===X&&4096<N.strstart-N.match_start)&&(N.match_length=X-1)),N.prev_length>=X&&N.match_length<=N.prev_length){for(le=N.strstart+N.lookahead-X,ue=m._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-X),N.lookahead-=N.prev_length-1,N.prev_length-=2;++N.strstart<=le&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+X-1])&N.hash_mask,de=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),--N.prev_length!=0;);if(N.match_available=0,N.match_length=X-1,N.strstart++,ue&&(B(N,!1),N.strm.avail_out===0))return u}else if(N.match_available){if((ue=m._tr_tally(N,0,N.window[N.strstart-1]))&&B(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return u}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(ue=m._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<X-1?N.strstart:X-1,se===c?(B(N,!0),N.strm.avail_out===0?q:H):N.last_lit&&(B(N,!1),N.strm.avail_out===0)?u:E}function ne(N,se,de,ue,le){this.good_length=N,this.max_lazy=se,this.nice_length=de,this.max_chain=ue,this.func=le}function me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new p.Buf16(2*Q),this.dyn_dtree=new p.Buf16(2*(2*y+1)),this.bl_tree=new p.Buf16(2*(2*z+1)),ie(this.dyn_ltree),ie(this.dyn_dtree),ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new p.Buf16(Z+1),this.heap=new p.Buf16(2*F+1),ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new p.Buf16(2*F+1),ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ge(N){var se;return N&&N.state?(N.total_in=N.total_out=0,N.data_type=R,(se=N.state).pending=0,se.pending_out=0,se.wrap<0&&(se.wrap=-se.wrap),se.status=se.wrap?$:D,N.adler=se.wrap===2?0:1,se.last_flush=S,m._tr_init(se),g):K(N,d)}function _e(N){var se=ge(N);return se===g&&function(de){de.window_size=2*de.w_size,ie(de.head),de.max_lazy_match=h[de.level].max_lazy,de.good_match=h[de.level].good_length,de.nice_match=h[de.level].nice_length,de.max_chain_length=h[de.level].max_chain,de.strstart=0,de.block_start=0,de.lookahead=0,de.insert=0,de.match_length=de.prev_length=X-1,de.match_available=0,de.ins_h=0}(N.state),se}function j(N,se,de,ue,le,pe){if(!N)return d;var Ae=1;if(se===w&&(se=6),ue<0?(Ae=0,ue=-ue):15<ue&&(Ae=2,ue-=16),le<1||U<le||de!==P||ue<8||15<ue||se<0||9<se||pe<0||k<pe)return K(N,d);ue===8&&(ue=9);var Fe=new me;return(N.state=Fe).strm=N,Fe.wrap=Ae,Fe.gzhead=null,Fe.w_bits=ue,Fe.w_size=1<<Fe.w_bits,Fe.w_mask=Fe.w_size-1,Fe.hash_bits=le+7,Fe.hash_size=1<<Fe.hash_bits,Fe.hash_mask=Fe.hash_size-1,Fe.hash_shift=~~((Fe.hash_bits+X-1)/X),Fe.window=new p.Buf8(2*Fe.w_size),Fe.head=new p.Buf16(Fe.hash_size),Fe.prev=new p.Buf16(Fe.w_size),Fe.lit_bufsize=1<<le+6,Fe.pending_buf_size=4*Fe.lit_bufsize,Fe.pending_buf=new p.Buf8(Fe.pending_buf_size),Fe.d_buf=1*Fe.lit_bufsize,Fe.l_buf=3*Fe.lit_bufsize,Fe.level=se,Fe.strategy=pe,Fe.method=de,_e(N)}h=[new ne(0,0,0,0,function(N,se){var de=65535;for(de>N.pending_buf_size-5&&(de=N.pending_buf_size-5);;){if(N.lookahead<=1){if(we(N),N.lookahead===0&&se===S)return u;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var ue=N.block_start+de;if((N.strstart===0||N.strstart>=ue)&&(N.lookahead=N.strstart-ue,N.strstart=ue,B(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-O&&(B(N,!1),N.strm.avail_out===0))return u}return N.insert=0,se===c?(B(N,!0),N.strm.avail_out===0?q:H):(N.strstart>N.block_start&&(B(N,!1),N.strm.avail_out),u)}),new ne(4,4,8,4,Te),new ne(4,5,16,8,Te),new ne(4,6,32,32,Te),new ne(4,4,16,16,ee),new ne(8,16,32,32,ee),new ne(8,16,128,128,ee),new ne(8,32,128,256,ee),new ne(32,128,258,1024,ee),new ne(32,258,258,4096,ee)],f.deflateInit=function(N,se){return j(N,se,P,15,8,0)},f.deflateInit2=j,f.deflateReset=_e,f.deflateResetKeep=ge,f.deflateSetHeader=function(N,se){return N&&N.state?N.state.wrap!==2?d:(N.state.gzhead=se,g):d},f.deflate=function(N,se){var de,ue,le,pe;if(!N||!N.state||5<se||se<0)return N?K(N,d):d;if(ue=N.state,!N.output||!N.input&&N.avail_in!==0||ue.status===666&&se!==c)return K(N,N.avail_out===0?-5:d);if(ue.strm=N,de=ue.last_flush,ue.last_flush=se,ue.status===$)if(ue.wrap===2)N.adler=0,ae(ue,31),ae(ue,139),ae(ue,8),ue.gzhead?(ae(ue,(ue.gzhead.text?1:0)+(ue.gzhead.hcrc?2:0)+(ue.gzhead.extra?4:0)+(ue.gzhead.name?8:0)+(ue.gzhead.comment?16:0)),ae(ue,255&ue.gzhead.time),ae(ue,ue.gzhead.time>>8&255),ae(ue,ue.gzhead.time>>16&255),ae(ue,ue.gzhead.time>>24&255),ae(ue,ue.level===9?2:2<=ue.strategy||ue.level<2?4:0),ae(ue,255&ue.gzhead.os),ue.gzhead.extra&&ue.gzhead.extra.length&&(ae(ue,255&ue.gzhead.extra.length),ae(ue,ue.gzhead.extra.length>>8&255)),ue.gzhead.hcrc&&(N.adler=b(N.adler,ue.pending_buf,ue.pending,0)),ue.gzindex=0,ue.status=69):(ae(ue,0),ae(ue,0),ae(ue,0),ae(ue,0),ae(ue,0),ae(ue,ue.level===9?2:2<=ue.strategy||ue.level<2?4:0),ae(ue,3),ue.status=D);else{var Ae=P+(ue.w_bits-8<<4)<<8;Ae|=(2<=ue.strategy||ue.level<2?0:ue.level<6?1:ue.level===6?2:3)<<6,ue.strstart!==0&&(Ae|=32),Ae+=31-Ae%31,ue.status=D,Ne(ue,Ae),ue.strstart!==0&&(Ne(ue,N.adler>>>16),Ne(ue,65535&N.adler)),N.adler=1}if(ue.status===69)if(ue.gzhead.extra){for(le=ue.pending;ue.gzindex<(65535&ue.gzhead.extra.length)&&(ue.pending!==ue.pending_buf_size||(ue.gzhead.hcrc&&ue.pending>le&&(N.adler=b(N.adler,ue.pending_buf,ue.pending-le,le)),J(N),le=ue.pending,ue.pending!==ue.pending_buf_size));)ae(ue,255&ue.gzhead.extra[ue.gzindex]),ue.gzindex++;ue.gzhead.hcrc&&ue.pending>le&&(N.adler=b(N.adler,ue.pending_buf,ue.pending-le,le)),ue.gzindex===ue.gzhead.extra.length&&(ue.gzindex=0,ue.status=73)}else ue.status=73;if(ue.status===73)if(ue.gzhead.name){le=ue.pending;do{if(ue.pending===ue.pending_buf_size&&(ue.gzhead.hcrc&&ue.pending>le&&(N.adler=b(N.adler,ue.pending_buf,ue.pending-le,le)),J(N),le=ue.pending,ue.pending===ue.pending_buf_size)){pe=1;break}pe=ue.gzindex<ue.gzhead.name.length?255&ue.gzhead.name.charCodeAt(ue.gzindex++):0,ae(ue,pe)}while(pe!==0);ue.gzhead.hcrc&&ue.pending>le&&(N.adler=b(N.adler,ue.pending_buf,ue.pending-le,le)),pe===0&&(ue.gzindex=0,ue.status=91)}else ue.status=91;if(ue.status===91)if(ue.gzhead.comment){le=ue.pending;do{if(ue.pending===ue.pending_buf_size&&(ue.gzhead.hcrc&&ue.pending>le&&(N.adler=b(N.adler,ue.pending_buf,ue.pending-le,le)),J(N),le=ue.pending,ue.pending===ue.pending_buf_size)){pe=1;break}pe=ue.gzindex<ue.gzhead.comment.length?255&ue.gzhead.comment.charCodeAt(ue.gzindex++):0,ae(ue,pe)}while(pe!==0);ue.gzhead.hcrc&&ue.pending>le&&(N.adler=b(N.adler,ue.pending_buf,ue.pending-le,le)),pe===0&&(ue.status=103)}else ue.status=103;if(ue.status===103&&(ue.gzhead.hcrc?(ue.pending+2>ue.pending_buf_size&&J(N),ue.pending+2<=ue.pending_buf_size&&(ae(ue,255&N.adler),ae(ue,N.adler>>8&255),N.adler=0,ue.status=D)):ue.status=D),ue.pending!==0){if(J(N),N.avail_out===0)return ue.last_flush=-1,g}else if(N.avail_in===0&&G(se)<=G(de)&&se!==c)return K(N,-5);if(ue.status===666&&N.avail_in!==0)return K(N,-5);if(N.avail_in!==0||ue.lookahead!==0||se!==S&&ue.status!==666){var Fe=ue.strategy===2?function(Be,Ue){for(var He;;){if(Be.lookahead===0&&(we(Be),Be.lookahead===0)){if(Ue===S)return u;break}if(Be.match_length=0,He=m._tr_tally(Be,0,Be.window[Be.strstart]),Be.lookahead--,Be.strstart++,He&&(B(Be,!1),Be.strm.avail_out===0))return u}return Be.insert=0,Ue===c?(B(Be,!0),Be.strm.avail_out===0?q:H):Be.last_lit&&(B(Be,!1),Be.strm.avail_out===0)?u:E}(ue,se):ue.strategy===3?function(Be,Ue){for(var He,Ye,he,re,ce=Be.window;;){if(Be.lookahead<=Y){if(we(Be),Be.lookahead<=Y&&Ue===S)return u;if(Be.lookahead===0)break}if(Be.match_length=0,Be.lookahead>=X&&0<Be.strstart&&(Ye=ce[he=Be.strstart-1])===ce[++he]&&Ye===ce[++he]&&Ye===ce[++he]){re=Be.strstart+Y;do;while(Ye===ce[++he]&&Ye===ce[++he]&&Ye===ce[++he]&&Ye===ce[++he]&&Ye===ce[++he]&&Ye===ce[++he]&&Ye===ce[++he]&&Ye===ce[++he]&&he<re);Be.match_length=Y-(re-he),Be.match_length>Be.lookahead&&(Be.match_length=Be.lookahead)}if(Be.match_length>=X?(He=m._tr_tally(Be,1,Be.match_length-X),Be.lookahead-=Be.match_length,Be.strstart+=Be.match_length,Be.match_length=0):(He=m._tr_tally(Be,0,Be.window[Be.strstart]),Be.lookahead--,Be.strstart++),He&&(B(Be,!1),Be.strm.avail_out===0))return u}return Be.insert=0,Ue===c?(B(Be,!0),Be.strm.avail_out===0?q:H):Be.last_lit&&(B(Be,!1),Be.strm.avail_out===0)?u:E}(ue,se):h[ue.level].func(ue,se);if(Fe!==q&&Fe!==H||(ue.status=666),Fe===u||Fe===q)return N.avail_out===0&&(ue.last_flush=-1),g;if(Fe===E&&(se===1?m._tr_align(ue):se!==5&&(m._tr_stored_block(ue,0,0,!1),se===3&&(ie(ue.head),ue.lookahead===0&&(ue.strstart=0,ue.block_start=0,ue.insert=0))),J(N),N.avail_out===0))return ue.last_flush=-1,g}return se!==c?g:ue.wrap<=0?1:(ue.wrap===2?(ae(ue,255&N.adler),ae(ue,N.adler>>8&255),ae(ue,N.adler>>16&255),ae(ue,N.adler>>24&255),ae(ue,255&N.total_in),ae(ue,N.total_in>>8&255),ae(ue,N.total_in>>16&255),ae(ue,N.total_in>>24&255)):(Ne(ue,N.adler>>>16),Ne(ue,65535&N.adler)),J(N),0<ue.wrap&&(ue.wrap=-ue.wrap),ue.pending!==0?g:1)},f.deflateEnd=function(N){var se;return N&&N.state?(se=N.state.status)!==$&&se!==69&&se!==73&&se!==91&&se!==103&&se!==D&&se!==666?K(N,d):(N.state=null,se===D?K(N,-3):g):d},f.deflateSetDictionary=function(N,se){var de,ue,le,pe,Ae,Fe,Be,Ue,He=se.length;if(!N||!N.state||(pe=(de=N.state).wrap)===2||pe===1&&de.status!==$||de.lookahead)return d;for(pe===1&&(N.adler=_(N.adler,se,He,0)),de.wrap=0,He>=de.w_size&&(pe===0&&(ie(de.head),de.strstart=0,de.block_start=0,de.insert=0),Ue=new p.Buf8(de.w_size),p.arraySet(Ue,se,He-de.w_size,de.w_size,0),se=Ue,He=de.w_size),Ae=N.avail_in,Fe=N.next_in,Be=N.input,N.avail_in=He,N.next_in=0,N.input=se,we(de);de.lookahead>=X;){for(ue=de.strstart,le=de.lookahead-(X-1);de.ins_h=(de.ins_h<<de.hash_shift^de.window[ue+X-1])&de.hash_mask,de.prev[ue&de.w_mask]=de.head[de.ins_h],de.head[de.ins_h]=ue,ue++,--le;);de.strstart=ue,de.lookahead=X-1,we(de)}return de.strstart+=de.lookahead,de.block_start=de.strstart,de.insert=de.lookahead,de.lookahead=0,de.match_length=de.prev_length=X-1,de.match_available=0,N.next_in=Fe,N.input=Be,N.avail_in=Ae,de.wrap=pe,g},f.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(I,C,f){"use strict";C.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(I,C,f){"use strict";C.exports=function(h,p){var m,_,b,l,S,c,g,d,w,k,R,P,U,F,y,z,Q,Z,X,Y,O,$,D,u,E;m=h.state,_=h.next_in,u=h.input,b=_+(h.avail_in-5),l=h.next_out,E=h.output,S=l-(p-h.avail_out),c=l+(h.avail_out-257),g=m.dmax,d=m.wsize,w=m.whave,k=m.wnext,R=m.window,P=m.hold,U=m.bits,F=m.lencode,y=m.distcode,z=(1<<m.lenbits)-1,Q=(1<<m.distbits)-1;e:do{U<15&&(P+=u[_++]<<U,U+=8,P+=u[_++]<<U,U+=8),Z=F[P&z];t:for(;;){if(P>>>=X=Z>>>24,U-=X,(X=Z>>>16&255)===0)E[l++]=65535&Z;else{if(!(16&X)){if(!(64&X)){Z=F[(65535&Z)+(P&(1<<X)-1)];continue t}if(32&X){m.mode=12;break e}h.msg="invalid literal/length code",m.mode=30;break e}Y=65535&Z,(X&=15)&&(U<X&&(P+=u[_++]<<U,U+=8),Y+=P&(1<<X)-1,P>>>=X,U-=X),U<15&&(P+=u[_++]<<U,U+=8,P+=u[_++]<<U,U+=8),Z=y[P&Q];i:for(;;){if(P>>>=X=Z>>>24,U-=X,!(16&(X=Z>>>16&255))){if(!(64&X)){Z=y[(65535&Z)+(P&(1<<X)-1)];continue i}h.msg="invalid distance code",m.mode=30;break e}if(O=65535&Z,U<(X&=15)&&(P+=u[_++]<<U,(U+=8)<X&&(P+=u[_++]<<U,U+=8)),g<(O+=P&(1<<X)-1)){h.msg="invalid distance too far back",m.mode=30;break e}if(P>>>=X,U-=X,(X=l-S)<O){if(w<(X=O-X)&&m.sane){h.msg="invalid distance too far back",m.mode=30;break e}if(D=R,($=0)===k){if($+=d-X,X<Y){for(Y-=X;E[l++]=R[$++],--X;);$=l-O,D=E}}else if(k<X){if($+=d+k-X,(X-=k)<Y){for(Y-=X;E[l++]=R[$++],--X;);if($=0,k<Y){for(Y-=X=k;E[l++]=R[$++],--X;);$=l-O,D=E}}}else if($+=k-X,X<Y){for(Y-=X;E[l++]=R[$++],--X;);$=l-O,D=E}for(;2<Y;)E[l++]=D[$++],E[l++]=D[$++],E[l++]=D[$++],Y-=3;Y&&(E[l++]=D[$++],1<Y&&(E[l++]=D[$++]))}else{for($=l-O;E[l++]=E[$++],E[l++]=E[$++],E[l++]=E[$++],2<(Y-=3););Y&&(E[l++]=E[$++],1<Y&&(E[l++]=E[$++]))}break}}break}}while(_<b&&l<c);_-=Y=U>>3,P&=(1<<(U-=Y<<3))-1,h.next_in=_,h.next_out=l,h.avail_in=_<b?b-_+5:5-(_-b),h.avail_out=l<c?c-l+257:257-(l-c),m.hold=P,m.bits=U}},{}],49:[function(I,C,f){"use strict";var h=I("../utils/common"),p=I("./adler32"),m=I("./crc32"),_=I("./inffast"),b=I("./inftrees"),l=1,S=2,c=0,g=-2,d=1,w=852,k=592;function R($){return($>>>24&255)+($>>>8&65280)+((65280&$)<<8)+((255&$)<<24)}function P(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function U($){var D;return $&&$.state?(D=$.state,$.total_in=$.total_out=D.total=0,$.msg="",D.wrap&&($.adler=1&D.wrap),D.mode=d,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new h.Buf32(w),D.distcode=D.distdyn=new h.Buf32(k),D.sane=1,D.back=-1,c):g}function F($){var D;return $&&$.state?((D=$.state).wsize=0,D.whave=0,D.wnext=0,U($)):g}function y($,D){var u,E;return $&&$.state?(E=$.state,D<0?(u=0,D=-D):(u=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?g:(E.window!==null&&E.wbits!==D&&(E.window=null),E.wrap=u,E.wbits=D,F($))):g}function z($,D){var u,E;return $?(E=new P,($.state=E).window=null,(u=y($,D))!==c&&($.state=null),u):g}var Q,Z,X=!0;function Y($){if(X){var D;for(Q=new h.Buf32(512),Z=new h.Buf32(32),D=0;D<144;)$.lens[D++]=8;for(;D<256;)$.lens[D++]=9;for(;D<280;)$.lens[D++]=7;for(;D<288;)$.lens[D++]=8;for(b(l,$.lens,0,288,Q,0,$.work,{bits:9}),D=0;D<32;)$.lens[D++]=5;b(S,$.lens,0,32,Z,0,$.work,{bits:5}),X=!1}$.lencode=Q,$.lenbits=9,$.distcode=Z,$.distbits=5}function O($,D,u,E){var q,H=$.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new h.Buf8(H.wsize)),E>=H.wsize?(h.arraySet(H.window,D,u-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(E<(q=H.wsize-H.wnext)&&(q=E),h.arraySet(H.window,D,u-E,q,H.wnext),(E-=q)?(h.arraySet(H.window,D,u-E,E,0),H.wnext=E,H.whave=H.wsize):(H.wnext+=q,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=q))),0}f.inflateReset=F,f.inflateReset2=y,f.inflateResetKeep=U,f.inflateInit=function($){return z($,15)},f.inflateInit2=z,f.inflate=function($,D){var u,E,q,H,K,G,ie,J,B,ae,Ne,be,we,Te,ee,ne,me,ge,_e,j,N,se,de,ue,le=0,pe=new h.Buf8(4),Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!$||!$.state||!$.output||!$.input&&$.avail_in!==0)return g;(u=$.state).mode===12&&(u.mode=13),K=$.next_out,q=$.output,ie=$.avail_out,H=$.next_in,E=$.input,G=$.avail_in,J=u.hold,B=u.bits,ae=G,Ne=ie,se=c;e:for(;;)switch(u.mode){case d:if(u.wrap===0){u.mode=13;break}for(;B<16;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}if(2&u.wrap&&J===35615){pe[u.check=0]=255&J,pe[1]=J>>>8&255,u.check=m(u.check,pe,2,0),B=J=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&J)<<8)+(J>>8))%31){$.msg="incorrect header check",u.mode=30;break}if((15&J)!=8){$.msg="unknown compression method",u.mode=30;break}if(B-=4,N=8+(15&(J>>>=4)),u.wbits===0)u.wbits=N;else if(N>u.wbits){$.msg="invalid window size",u.mode=30;break}u.dmax=1<<N,$.adler=u.check=1,u.mode=512&J?10:12,B=J=0;break;case 2:for(;B<16;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}if(u.flags=J,(255&u.flags)!=8){$.msg="unknown compression method",u.mode=30;break}if(57344&u.flags){$.msg="unknown header flags set",u.mode=30;break}u.head&&(u.head.text=J>>8&1),512&u.flags&&(pe[0]=255&J,pe[1]=J>>>8&255,u.check=m(u.check,pe,2,0)),B=J=0,u.mode=3;case 3:for(;B<32;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}u.head&&(u.head.time=J),512&u.flags&&(pe[0]=255&J,pe[1]=J>>>8&255,pe[2]=J>>>16&255,pe[3]=J>>>24&255,u.check=m(u.check,pe,4,0)),B=J=0,u.mode=4;case 4:for(;B<16;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}u.head&&(u.head.xflags=255&J,u.head.os=J>>8),512&u.flags&&(pe[0]=255&J,pe[1]=J>>>8&255,u.check=m(u.check,pe,2,0)),B=J=0,u.mode=5;case 5:if(1024&u.flags){for(;B<16;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}u.length=J,u.head&&(u.head.extra_len=J),512&u.flags&&(pe[0]=255&J,pe[1]=J>>>8&255,u.check=m(u.check,pe,2,0)),B=J=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&(G<(be=u.length)&&(be=G),be&&(u.head&&(N=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),h.arraySet(u.head.extra,E,H,be,N)),512&u.flags&&(u.check=m(u.check,E,be,H)),G-=be,H+=be,u.length-=be),u.length))break e;u.length=0,u.mode=7;case 7:if(2048&u.flags){if(G===0)break e;for(be=0;N=E[H+be++],u.head&&N&&u.length<65536&&(u.head.name+=String.fromCharCode(N)),N&&be<G;);if(512&u.flags&&(u.check=m(u.check,E,be,H)),G-=be,H+=be,N)break e}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if(G===0)break e;for(be=0;N=E[H+be++],u.head&&N&&u.length<65536&&(u.head.comment+=String.fromCharCode(N)),N&&be<G;);if(512&u.flags&&(u.check=m(u.check,E,be,H)),G-=be,H+=be,N)break e}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;B<16;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}if(J!==(65535&u.check)){$.msg="header crc mismatch",u.mode=30;break}B=J=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),$.adler=u.check=0,u.mode=12;break;case 10:for(;B<32;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}$.adler=u.check=R(J),B=J=0,u.mode=11;case 11:if(u.havedict===0)return $.next_out=K,$.avail_out=ie,$.next_in=H,$.avail_in=G,u.hold=J,u.bits=B,2;$.adler=u.check=1,u.mode=12;case 12:if(D===5||D===6)break e;case 13:if(u.last){J>>>=7&B,B-=7&B,u.mode=27;break}for(;B<3;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}switch(u.last=1&J,B-=1,3&(J>>>=1)){case 0:u.mode=14;break;case 1:if(Y(u),u.mode=20,D!==6)break;J>>>=2,B-=2;break e;case 2:u.mode=17;break;case 3:$.msg="invalid block type",u.mode=30}J>>>=2,B-=2;break;case 14:for(J>>>=7&B,B-=7&B;B<32;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}if((65535&J)!=(J>>>16^65535)){$.msg="invalid stored block lengths",u.mode=30;break}if(u.length=65535&J,B=J=0,u.mode=15,D===6)break e;case 15:u.mode=16;case 16:if(be=u.length){if(G<be&&(be=G),ie<be&&(be=ie),be===0)break e;h.arraySet(q,E,H,be,K),G-=be,H+=be,ie-=be,K+=be,u.length-=be;break}u.mode=12;break;case 17:for(;B<14;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}if(u.nlen=257+(31&J),J>>>=5,B-=5,u.ndist=1+(31&J),J>>>=5,B-=5,u.ncode=4+(15&J),J>>>=4,B-=4,286<u.nlen||30<u.ndist){$.msg="too many length or distance symbols",u.mode=30;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;B<3;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}u.lens[Ae[u.have++]]=7&J,J>>>=3,B-=3}for(;u.have<19;)u.lens[Ae[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,de={bits:u.lenbits},se=b(0,u.lens,0,19,u.lencode,0,u.work,de),u.lenbits=de.bits,se){$.msg="invalid code lengths set",u.mode=30;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;ne=(le=u.lencode[J&(1<<u.lenbits)-1])>>>16&255,me=65535&le,!((ee=le>>>24)<=B);){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}if(me<16)J>>>=ee,B-=ee,u.lens[u.have++]=me;else{if(me===16){for(ue=ee+2;B<ue;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}if(J>>>=ee,B-=ee,u.have===0){$.msg="invalid bit length repeat",u.mode=30;break}N=u.lens[u.have-1],be=3+(3&J),J>>>=2,B-=2}else if(me===17){for(ue=ee+3;B<ue;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}B-=ee,N=0,be=3+(7&(J>>>=ee)),J>>>=3,B-=3}else{for(ue=ee+7;B<ue;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}B-=ee,N=0,be=11+(127&(J>>>=ee)),J>>>=7,B-=7}if(u.have+be>u.nlen+u.ndist){$.msg="invalid bit length repeat",u.mode=30;break}for(;be--;)u.lens[u.have++]=N}}if(u.mode===30)break;if(u.lens[256]===0){$.msg="invalid code -- missing end-of-block",u.mode=30;break}if(u.lenbits=9,de={bits:u.lenbits},se=b(l,u.lens,0,u.nlen,u.lencode,0,u.work,de),u.lenbits=de.bits,se){$.msg="invalid literal/lengths set",u.mode=30;break}if(u.distbits=6,u.distcode=u.distdyn,de={bits:u.distbits},se=b(S,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,de),u.distbits=de.bits,se){$.msg="invalid distances set",u.mode=30;break}if(u.mode=20,D===6)break e;case 20:u.mode=21;case 21:if(6<=G&&258<=ie){$.next_out=K,$.avail_out=ie,$.next_in=H,$.avail_in=G,u.hold=J,u.bits=B,_($,Ne),K=$.next_out,q=$.output,ie=$.avail_out,H=$.next_in,E=$.input,G=$.avail_in,J=u.hold,B=u.bits,u.mode===12&&(u.back=-1);break}for(u.back=0;ne=(le=u.lencode[J&(1<<u.lenbits)-1])>>>16&255,me=65535&le,!((ee=le>>>24)<=B);){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}if(ne&&!(240&ne)){for(ge=ee,_e=ne,j=me;ne=(le=u.lencode[j+((J&(1<<ge+_e)-1)>>ge)])>>>16&255,me=65535&le,!(ge+(ee=le>>>24)<=B);){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}J>>>=ge,B-=ge,u.back+=ge}if(J>>>=ee,B-=ee,u.back+=ee,u.length=me,ne===0){u.mode=26;break}if(32&ne){u.back=-1,u.mode=12;break}if(64&ne){$.msg="invalid literal/length code",u.mode=30;break}u.extra=15&ne,u.mode=22;case 22:if(u.extra){for(ue=u.extra;B<ue;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}u.length+=J&(1<<u.extra)-1,J>>>=u.extra,B-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;ne=(le=u.distcode[J&(1<<u.distbits)-1])>>>16&255,me=65535&le,!((ee=le>>>24)<=B);){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}if(!(240&ne)){for(ge=ee,_e=ne,j=me;ne=(le=u.distcode[j+((J&(1<<ge+_e)-1)>>ge)])>>>16&255,me=65535&le,!(ge+(ee=le>>>24)<=B);){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}J>>>=ge,B-=ge,u.back+=ge}if(J>>>=ee,B-=ee,u.back+=ee,64&ne){$.msg="invalid distance code",u.mode=30;break}u.offset=me,u.extra=15&ne,u.mode=24;case 24:if(u.extra){for(ue=u.extra;B<ue;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}u.offset+=J&(1<<u.extra)-1,J>>>=u.extra,B-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){$.msg="invalid distance too far back",u.mode=30;break}u.mode=25;case 25:if(ie===0)break e;if(be=Ne-ie,u.offset>be){if((be=u.offset-be)>u.whave&&u.sane){$.msg="invalid distance too far back",u.mode=30;break}we=be>u.wnext?(be-=u.wnext,u.wsize-be):u.wnext-be,be>u.length&&(be=u.length),Te=u.window}else Te=q,we=K-u.offset,be=u.length;for(ie<be&&(be=ie),ie-=be,u.length-=be;q[K++]=Te[we++],--be;);u.length===0&&(u.mode=21);break;case 26:if(ie===0)break e;q[K++]=u.length,ie--,u.mode=21;break;case 27:if(u.wrap){for(;B<32;){if(G===0)break e;G--,J|=E[H++]<<B,B+=8}if(Ne-=ie,$.total_out+=Ne,u.total+=Ne,Ne&&($.adler=u.check=u.flags?m(u.check,q,Ne,K-Ne):p(u.check,q,Ne,K-Ne)),Ne=ie,(u.flags?J:R(J))!==u.check){$.msg="incorrect data check",u.mode=30;break}B=J=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;B<32;){if(G===0)break e;G--,J+=E[H++]<<B,B+=8}if(J!==(4294967295&u.total)){$.msg="incorrect length check",u.mode=30;break}B=J=0}u.mode=29;case 29:se=1;break e;case 30:se=-3;break e;case 31:return-4;case 32:default:return g}return $.next_out=K,$.avail_out=ie,$.next_in=H,$.avail_in=G,u.hold=J,u.bits=B,(u.wsize||Ne!==$.avail_out&&u.mode<30&&(u.mode<27||D!==4))&&O($,$.output,$.next_out,Ne-$.avail_out)?(u.mode=31,-4):(ae-=$.avail_in,Ne-=$.avail_out,$.total_in+=ae,$.total_out+=Ne,u.total+=Ne,u.wrap&&Ne&&($.adler=u.check=u.flags?m(u.check,q,Ne,$.next_out-Ne):p(u.check,q,Ne,$.next_out-Ne)),$.data_type=u.bits+(u.last?64:0)+(u.mode===12?128:0)+(u.mode===20||u.mode===15?256:0),(ae==0&&Ne===0||D===4)&&se===c&&(se=-5),se)},f.inflateEnd=function($){if(!$||!$.state)return g;var D=$.state;return D.window&&(D.window=null),$.state=null,c},f.inflateGetHeader=function($,D){var u;return $&&$.state&&2&(u=$.state).wrap?((u.head=D).done=!1,c):g},f.inflateSetDictionary=function($,D){var u,E=D.length;return $&&$.state?(u=$.state).wrap!==0&&u.mode!==11?g:u.mode===11&&p(1,D,E,0)!==u.check?-3:O($,D,E,E)?(u.mode=31,-4):(u.havedict=1,c):g},f.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(I,C,f){"use strict";var h=I("../utils/common"),p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];C.exports=function(l,S,c,g,d,w,k,R){var P,U,F,y,z,Q,Z,X,Y,O=R.bits,$=0,D=0,u=0,E=0,q=0,H=0,K=0,G=0,ie=0,J=0,B=null,ae=0,Ne=new h.Buf16(16),be=new h.Buf16(16),we=null,Te=0;for($=0;$<=15;$++)Ne[$]=0;for(D=0;D<g;D++)Ne[S[c+D]]++;for(q=O,E=15;1<=E&&Ne[E]===0;E--);if(E<q&&(q=E),E===0)return d[w++]=20971520,d[w++]=20971520,R.bits=1,0;for(u=1;u<E&&Ne[u]===0;u++);for(q<u&&(q=u),$=G=1;$<=15;$++)if(G<<=1,(G-=Ne[$])<0)return-1;if(0<G&&(l===0||E!==1))return-1;for(be[1]=0,$=1;$<15;$++)be[$+1]=be[$]+Ne[$];for(D=0;D<g;D++)S[c+D]!==0&&(k[be[S[c+D]]++]=D);if(Q=l===0?(B=we=k,19):l===1?(B=p,ae-=257,we=m,Te-=257,256):(B=_,we=b,-1),$=u,z=w,K=D=J=0,F=-1,y=(ie=1<<(H=q))-1,l===1&&852<ie||l===2&&592<ie)return 1;for(;;){for(Z=$-K,Y=k[D]<Q?(X=0,k[D]):k[D]>Q?(X=we[Te+k[D]],B[ae+k[D]]):(X=96,0),P=1<<$-K,u=U=1<<H;d[z+(J>>K)+(U-=P)]=Z<<24|X<<16|Y|0,U!==0;);for(P=1<<$-1;J&P;)P>>=1;if(P!==0?(J&=P-1,J+=P):J=0,D++,--Ne[$]==0){if($===E)break;$=S[c+k[D]]}if(q<$&&(J&y)!==F){for(K===0&&(K=q),z+=u,G=1<<(H=$-K);H+K<E&&!((G-=Ne[H+K])<=0);)H++,G<<=1;if(ie+=1<<H,l===1&&852<ie||l===2&&592<ie)return 1;d[F=J&y]=q<<24|H<<16|z-w|0}}return J!==0&&(d[z+J]=$-K<<24|4194304|0),R.bits=q,0}},{"../utils/common":41}],51:[function(I,C,f){"use strict";C.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(I,C,f){"use strict";var h=I("../utils/common"),p=0,m=1;function _(le){for(var pe=le.length;0<=--pe;)le[pe]=0}var b=0,l=29,S=256,c=S+1+l,g=30,d=19,w=2*c+1,k=15,R=16,P=7,U=256,F=16,y=17,z=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(2*(c+2));_(O);var $=new Array(2*g);_($);var D=new Array(512);_(D);var u=new Array(256);_(u);var E=new Array(l);_(E);var q,H,K,G=new Array(g);function ie(le,pe,Ae,Fe,Be){this.static_tree=le,this.extra_bits=pe,this.extra_base=Ae,this.elems=Fe,this.max_length=Be,this.has_stree=le&&le.length}function J(le,pe){this.dyn_tree=le,this.max_code=0,this.stat_desc=pe}function B(le){return le<256?D[le]:D[256+(le>>>7)]}function ae(le,pe){le.pending_buf[le.pending++]=255&pe,le.pending_buf[le.pending++]=pe>>>8&255}function Ne(le,pe,Ae){le.bi_valid>R-Ae?(le.bi_buf|=pe<<le.bi_valid&65535,ae(le,le.bi_buf),le.bi_buf=pe>>R-le.bi_valid,le.bi_valid+=Ae-R):(le.bi_buf|=pe<<le.bi_valid&65535,le.bi_valid+=Ae)}function be(le,pe,Ae){Ne(le,Ae[2*pe],Ae[2*pe+1])}function we(le,pe){for(var Ae=0;Ae|=1&le,le>>>=1,Ae<<=1,0<--pe;);return Ae>>>1}function Te(le,pe,Ae){var Fe,Be,Ue=new Array(k+1),He=0;for(Fe=1;Fe<=k;Fe++)Ue[Fe]=He=He+Ae[Fe-1]<<1;for(Be=0;Be<=pe;Be++){var Ye=le[2*Be+1];Ye!==0&&(le[2*Be]=we(Ue[Ye]++,Ye))}}function ee(le){var pe;for(pe=0;pe<c;pe++)le.dyn_ltree[2*pe]=0;for(pe=0;pe<g;pe++)le.dyn_dtree[2*pe]=0;for(pe=0;pe<d;pe++)le.bl_tree[2*pe]=0;le.dyn_ltree[2*U]=1,le.opt_len=le.static_len=0,le.last_lit=le.matches=0}function ne(le){8<le.bi_valid?ae(le,le.bi_buf):0<le.bi_valid&&(le.pending_buf[le.pending++]=le.bi_buf),le.bi_buf=0,le.bi_valid=0}function me(le,pe,Ae,Fe){var Be=2*pe,Ue=2*Ae;return le[Be]<le[Ue]||le[Be]===le[Ue]&&Fe[pe]<=Fe[Ae]}function ge(le,pe,Ae){for(var Fe=le.heap[Ae],Be=Ae<<1;Be<=le.heap_len&&(Be<le.heap_len&&me(pe,le.heap[Be+1],le.heap[Be],le.depth)&&Be++,!me(pe,Fe,le.heap[Be],le.depth));)le.heap[Ae]=le.heap[Be],Ae=Be,Be<<=1;le.heap[Ae]=Fe}function _e(le,pe,Ae){var Fe,Be,Ue,He,Ye=0;if(le.last_lit!==0)for(;Fe=le.pending_buf[le.d_buf+2*Ye]<<8|le.pending_buf[le.d_buf+2*Ye+1],Be=le.pending_buf[le.l_buf+Ye],Ye++,Fe===0?be(le,Be,pe):(be(le,(Ue=u[Be])+S+1,pe),(He=Q[Ue])!==0&&Ne(le,Be-=E[Ue],He),be(le,Ue=B(--Fe),Ae),(He=Z[Ue])!==0&&Ne(le,Fe-=G[Ue],He)),Ye<le.last_lit;);be(le,U,pe)}function j(le,pe){var Ae,Fe,Be,Ue=pe.dyn_tree,He=pe.stat_desc.static_tree,Ye=pe.stat_desc.has_stree,he=pe.stat_desc.elems,re=-1;for(le.heap_len=0,le.heap_max=w,Ae=0;Ae<he;Ae++)Ue[2*Ae]!==0?(le.heap[++le.heap_len]=re=Ae,le.depth[Ae]=0):Ue[2*Ae+1]=0;for(;le.heap_len<2;)Ue[2*(Be=le.heap[++le.heap_len]=re<2?++re:0)]=1,le.depth[Be]=0,le.opt_len--,Ye&&(le.static_len-=He[2*Be+1]);for(pe.max_code=re,Ae=le.heap_len>>1;1<=Ae;Ae--)ge(le,Ue,Ae);for(Be=he;Ae=le.heap[1],le.heap[1]=le.heap[le.heap_len--],ge(le,Ue,1),Fe=le.heap[1],le.heap[--le.heap_max]=Ae,le.heap[--le.heap_max]=Fe,Ue[2*Be]=Ue[2*Ae]+Ue[2*Fe],le.depth[Be]=(le.depth[Ae]>=le.depth[Fe]?le.depth[Ae]:le.depth[Fe])+1,Ue[2*Ae+1]=Ue[2*Fe+1]=Be,le.heap[1]=Be++,ge(le,Ue,1),2<=le.heap_len;);le.heap[--le.heap_max]=le.heap[1],function(ce,ke){var Ie,Qe,Oe,Ke,Ot,st,lt=ke.dyn_tree,bt=ke.max_code,vt=ke.stat_desc.static_tree,yt=ke.stat_desc.has_stree,ci=ke.stat_desc.extra_bits,wt=ke.stat_desc.extra_base,Tt=ke.stat_desc.max_length,Ii=0;for(Ke=0;Ke<=k;Ke++)ce.bl_count[Ke]=0;for(lt[2*ce.heap[ce.heap_max]+1]=0,Ie=ce.heap_max+1;Ie<w;Ie++)Tt<(Ke=lt[2*lt[2*(Qe=ce.heap[Ie])+1]+1]+1)&&(Ke=Tt,Ii++),lt[2*Qe+1]=Ke,bt<Qe||(ce.bl_count[Ke]++,Ot=0,wt<=Qe&&(Ot=ci[Qe-wt]),st=lt[2*Qe],ce.opt_len+=st*(Ke+Ot),yt&&(ce.static_len+=st*(vt[2*Qe+1]+Ot)));if(Ii!==0){do{for(Ke=Tt-1;ce.bl_count[Ke]===0;)Ke--;ce.bl_count[Ke]--,ce.bl_count[Ke+1]+=2,ce.bl_count[Tt]--,Ii-=2}while(0<Ii);for(Ke=Tt;Ke!==0;Ke--)for(Qe=ce.bl_count[Ke];Qe!==0;)bt<(Oe=ce.heap[--Ie])||(lt[2*Oe+1]!==Ke&&(ce.opt_len+=(Ke-lt[2*Oe+1])*lt[2*Oe],lt[2*Oe+1]=Ke),Qe--)}}(le,pe),Te(Ue,re,le.bl_count)}function N(le,pe,Ae){var Fe,Be,Ue=-1,He=pe[1],Ye=0,he=7,re=4;for(He===0&&(he=138,re=3),pe[2*(Ae+1)+1]=65535,Fe=0;Fe<=Ae;Fe++)Be=He,He=pe[2*(Fe+1)+1],++Ye<he&&Be===He||(Ye<re?le.bl_tree[2*Be]+=Ye:Be!==0?(Be!==Ue&&le.bl_tree[2*Be]++,le.bl_tree[2*F]++):Ye<=10?le.bl_tree[2*y]++:le.bl_tree[2*z]++,Ue=Be,re=(Ye=0)===He?(he=138,3):Be===He?(he=6,3):(he=7,4))}function se(le,pe,Ae){var Fe,Be,Ue=-1,He=pe[1],Ye=0,he=7,re=4;for(He===0&&(he=138,re=3),Fe=0;Fe<=Ae;Fe++)if(Be=He,He=pe[2*(Fe+1)+1],!(++Ye<he&&Be===He)){if(Ye<re)for(;be(le,Be,le.bl_tree),--Ye!=0;);else Be!==0?(Be!==Ue&&(be(le,Be,le.bl_tree),Ye--),be(le,F,le.bl_tree),Ne(le,Ye-3,2)):Ye<=10?(be(le,y,le.bl_tree),Ne(le,Ye-3,3)):(be(le,z,le.bl_tree),Ne(le,Ye-11,7));Ue=Be,re=(Ye=0)===He?(he=138,3):Be===He?(he=6,3):(he=7,4)}}_(G);var de=!1;function ue(le,pe,Ae,Fe){Ne(le,(b<<1)+(Fe?1:0),3),function(Be,Ue,He,Ye){ne(Be),Ye&&(ae(Be,He),ae(Be,~He)),h.arraySet(Be.pending_buf,Be.window,Ue,He,Be.pending),Be.pending+=He}(le,pe,Ae,!0)}f._tr_init=function(le){de||(function(){var pe,Ae,Fe,Be,Ue,He=new Array(k+1);for(Be=Fe=0;Be<l-1;Be++)for(E[Be]=Fe,pe=0;pe<1<<Q[Be];pe++)u[Fe++]=Be;for(u[Fe-1]=Be,Be=Ue=0;Be<16;Be++)for(G[Be]=Ue,pe=0;pe<1<<Z[Be];pe++)D[Ue++]=Be;for(Ue>>=7;Be<g;Be++)for(G[Be]=Ue<<7,pe=0;pe<1<<Z[Be]-7;pe++)D[256+Ue++]=Be;for(Ae=0;Ae<=k;Ae++)He[Ae]=0;for(pe=0;pe<=143;)O[2*pe+1]=8,pe++,He[8]++;for(;pe<=255;)O[2*pe+1]=9,pe++,He[9]++;for(;pe<=279;)O[2*pe+1]=7,pe++,He[7]++;for(;pe<=287;)O[2*pe+1]=8,pe++,He[8]++;for(Te(O,c+1,He),pe=0;pe<g;pe++)$[2*pe+1]=5,$[2*pe]=we(pe,5);q=new ie(O,Q,S+1,c,k),H=new ie($,Z,0,g,k),K=new ie(new Array(0),X,0,d,P)}(),de=!0),le.l_desc=new J(le.dyn_ltree,q),le.d_desc=new J(le.dyn_dtree,H),le.bl_desc=new J(le.bl_tree,K),le.bi_buf=0,le.bi_valid=0,ee(le)},f._tr_stored_block=ue,f._tr_flush_block=function(le,pe,Ae,Fe){var Be,Ue,He=0;0<le.level?(le.strm.data_type===2&&(le.strm.data_type=function(Ye){var he,re=4093624447;for(he=0;he<=31;he++,re>>>=1)if(1&re&&Ye.dyn_ltree[2*he]!==0)return p;if(Ye.dyn_ltree[18]!==0||Ye.dyn_ltree[20]!==0||Ye.dyn_ltree[26]!==0)return m;for(he=32;he<S;he++)if(Ye.dyn_ltree[2*he]!==0)return m;return p}(le)),j(le,le.l_desc),j(le,le.d_desc),He=function(Ye){var he;for(N(Ye,Ye.dyn_ltree,Ye.l_desc.max_code),N(Ye,Ye.dyn_dtree,Ye.d_desc.max_code),j(Ye,Ye.bl_desc),he=d-1;3<=he&&Ye.bl_tree[2*Y[he]+1]===0;he--);return Ye.opt_len+=3*(he+1)+5+5+4,he}(le),Be=le.opt_len+3+7>>>3,(Ue=le.static_len+3+7>>>3)<=Be&&(Be=Ue)):Be=Ue=Ae+5,Ae+4<=Be&&pe!==-1?ue(le,pe,Ae,Fe):le.strategy===4||Ue===Be?(Ne(le,2+(Fe?1:0),3),_e(le,O,$)):(Ne(le,4+(Fe?1:0),3),function(Ye,he,re,ce){var ke;for(Ne(Ye,he-257,5),Ne(Ye,re-1,5),Ne(Ye,ce-4,4),ke=0;ke<ce;ke++)Ne(Ye,Ye.bl_tree[2*Y[ke]+1],3);se(Ye,Ye.dyn_ltree,he-1),se(Ye,Ye.dyn_dtree,re-1)}(le,le.l_desc.max_code+1,le.d_desc.max_code+1,He+1),_e(le,le.dyn_ltree,le.dyn_dtree)),ee(le),Fe&&ne(le)},f._tr_tally=function(le,pe,Ae){return le.pending_buf[le.d_buf+2*le.last_lit]=pe>>>8&255,le.pending_buf[le.d_buf+2*le.last_lit+1]=255&pe,le.pending_buf[le.l_buf+le.last_lit]=255&Ae,le.last_lit++,pe===0?le.dyn_ltree[2*Ae]++:(le.matches++,pe--,le.dyn_ltree[2*(u[Ae]+S+1)]++,le.dyn_dtree[2*B(pe)]++),le.last_lit===le.lit_bufsize-1},f._tr_align=function(le){Ne(le,2,3),be(le,U,O),function(pe){pe.bi_valid===16?(ae(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)}(le)}},{"../utils/common":41}],53:[function(I,C,f){"use strict";C.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(I,C,f){(function(h){(function(p,m){"use strict";if(!p.setImmediate){var _,b,l,S,c=1,g={},d=!1,w=p.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(p);k=k&&k.setTimeout?k:p,_={}.toString.call(p.process)==="[object process]"?function(F){L.nextTick(function(){P(F)})}:function(){if(p.postMessage&&!p.importScripts){var F=!0,y=p.onmessage;return p.onmessage=function(){F=!1},p.postMessage("","*"),p.onmessage=y,F}}()?(S="setImmediate$"+Math.random()+"$",p.addEventListener?p.addEventListener("message",U,!1):p.attachEvent("onmessage",U),function(F){p.postMessage(S+F,"*")}):p.MessageChannel?((l=new MessageChannel).port1.onmessage=function(F){P(F.data)},function(F){l.port2.postMessage(F)}):w&&"onreadystatechange"in w.createElement("script")?(b=w.documentElement,function(F){var y=w.createElement("script");y.onreadystatechange=function(){P(F),y.onreadystatechange=null,b.removeChild(y),y=null},b.appendChild(y)}):function(F){setTimeout(P,0,F)},k.setImmediate=function(F){typeof F!="function"&&(F=new Function(""+F));for(var y=new Array(arguments.length-1),z=0;z<y.length;z++)y[z]=arguments[z+1];var Q={callback:F,args:y};return g[c]=Q,_(c),c++},k.clearImmediate=R}function R(F){delete g[F]}function P(F){if(d)setTimeout(P,0,F);else{var y=g[F];if(y){d=!0;try{(function(z){var Q=z.callback,Z=z.args;switch(Z.length){case 0:Q();break;case 1:Q(Z[0]);break;case 2:Q(Z[0],Z[1]);break;case 3:Q(Z[0],Z[1],Z[2]);break;default:Q.apply(m,Z)}})(y)}finally{R(F),d=!1}}}}function U(F){F.source===p&&typeof F.data=="string"&&F.data.indexOf(S)===0&&P(+F.data.slice(S.length))}})(typeof self=="undefined"?h===void 0?this:h:self)}).call(this,typeof M.g!="undefined"?M.g:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})},69749:(s,V,M)=>{"use strict";const A=M(28799),L=Symbol("max"),I=Symbol("length"),C=Symbol("lengthCalculator"),f=Symbol("allowStale"),h=Symbol("maxAge"),p=Symbol("dispose"),m=Symbol("noDisposeOnSet"),_=Symbol("lruList"),b=Symbol("cache"),l=Symbol("updateAgeOnGet"),S=()=>1;class c{constructor(F){if(typeof F=="number"&&(F={max:F}),F||(F={}),F.max&&(typeof F.max!="number"||F.max<0))throw new TypeError("max must be a non-negative number");const y=this[L]=F.max||1/0,z=F.length||S;if(this[C]=typeof z!="function"?S:z,this[f]=F.stale||!1,F.maxAge&&typeof F.maxAge!="number")throw new TypeError("maxAge must be a number");this[h]=F.maxAge||0,this[p]=F.dispose,this[m]=F.noDisposeOnSet||!1,this[l]=F.updateAgeOnGet||!1,this.reset()}set max(F){if(typeof F!="number"||F<0)throw new TypeError("max must be a non-negative number");this[L]=F||1/0,w(this)}get max(){return this[L]}set allowStale(F){this[f]=!!F}get allowStale(){return this[f]}set maxAge(F){if(typeof F!="number")throw new TypeError("maxAge must be a non-negative number");this[h]=F,w(this)}get maxAge(){return this[h]}set lengthCalculator(F){typeof F!="function"&&(F=S),F!==this[C]&&(this[C]=F,this[I]=0,this[_].forEach(y=>{y.length=this[C](y.value,y.key),this[I]+=y.length})),w(this)}get lengthCalculator(){return this[C]}get length(){return this[I]}get itemCount(){return this[_].length}rforEach(F,y){y=y||this;for(let z=this[_].tail;z!==null;){const Q=z.prev;P(this,F,z,y),z=Q}}forEach(F,y){y=y||this;for(let z=this[_].head;z!==null;){const Q=z.next;P(this,F,z,y),z=Q}}keys(){return this[_].toArray().map(F=>F.key)}values(){return this[_].toArray().map(F=>F.value)}reset(){this[p]&&this[_]&&this[_].length&&this[_].forEach(F=>this[p](F.key,F.value)),this[b]=new Map,this[_]=new A,this[I]=0}dump(){return this[_].map(F=>d(this,F)?!1:{k:F.key,v:F.value,e:F.now+(F.maxAge||0)}).toArray().filter(F=>F)}dumpLru(){return this[_]}set(F,y,z){if(z=z||this[h],z&&typeof z!="number")throw new TypeError("maxAge must be a number");const Q=z?Date.now():0,Z=this[C](y,F);if(this[b].has(F)){if(Z>this[L])return k(this,this[b].get(F)),!1;const O=this[b].get(F).value;return this[p]&&(this[m]||this[p](F,O.value)),O.now=Q,O.maxAge=z,O.value=y,this[I]+=Z-O.length,O.length=Z,this.get(F),w(this),!0}const X=new R(F,y,Z,Q,z);return X.length>this[L]?(this[p]&&this[p](F,y),!1):(this[I]+=X.length,this[_].unshift(X),this[b].set(F,this[_].head),w(this),!0)}has(F){if(!this[b].has(F))return!1;const y=this[b].get(F).value;return!d(this,y)}get(F){return g(this,F,!0)}peek(F){return g(this,F,!1)}pop(){const F=this[_].tail;return F?(k(this,F),F.value):null}del(F){k(this,this[b].get(F))}load(F){this.reset();const y=Date.now();for(let z=F.length-1;z>=0;z--){const Q=F[z],Z=Q.e||0;if(Z===0)this.set(Q.k,Q.v);else{const X=Z-y;X>0&&this.set(Q.k,Q.v,X)}}}prune(){this[b].forEach((F,y)=>g(this,y,!1))}}const g=(U,F,y)=>{const z=U[b].get(F);if(z){const Q=z.value;if(d(U,Q)){if(k(U,z),!U[f])return}else y&&(U[l]&&(z.value.now=Date.now()),U[_].unshiftNode(z));return Q.value}},d=(U,F)=>{if(!F||!F.maxAge&&!U[h])return!1;const y=Date.now()-F.now;return F.maxAge?y>F.maxAge:U[h]&&y>U[h]},w=U=>{if(U[I]>U[L])for(let F=U[_].tail;U[I]>U[L]&&F!==null;){const y=F.prev;k(U,F),F=y}},k=(U,F)=>{if(F){const y=F.value;U[p]&&U[p](y.key,y.value),U[I]-=y.length,U[b].delete(y.key),U[_].removeNode(F)}};class R{constructor(F,y,z,Q,Z){this.key=F,this.value=y,this.length=z,this.now=Q,this.maxAge=Z||0}}const P=(U,F,y,z)=>{let Q=y.value;d(U,Q)&&(k(U,y),U[f]||(Q=void 0)),Q&&F.call(z,Q.value,Q.key,U)};s.exports=c},71514:s=>{"use strict";s.exports=Math.abs},58968:s=>{"use strict";s.exports=Math.floor},94459:s=>{"use strict";s.exports=Number.isNaN||function(M){return M!==M}},6188:s=>{"use strict";s.exports=Math.max},68002:s=>{"use strict";s.exports=Math.min},75880:s=>{"use strict";s.exports=Math.pow},70414:s=>{"use strict";s.exports=Math.round},73093:(s,V,M)=>{"use strict";var A=M(94459);s.exports=function(I){return A(I)||I===0?I:I<0?-1:1}},88276:(s,V,M)=>{"use strict";var A=M(56698),L=M(4729),I=M(92861).Buffer,C=new Array(16);function f(){L.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}A(f,L),f.prototype._update=function(){for(var l=C,S=0;S<16;++S)l[S]=this._block.readInt32LE(S*4);var c=this._a,g=this._b,d=this._c,w=this._d;c=p(c,g,d,w,l[0],3614090360,7),w=p(w,c,g,d,l[1],3905402710,12),d=p(d,w,c,g,l[2],606105819,17),g=p(g,d,w,c,l[3],3250441966,22),c=p(c,g,d,w,l[4],4118548399,7),w=p(w,c,g,d,l[5],1200080426,12),d=p(d,w,c,g,l[6],2821735955,17),g=p(g,d,w,c,l[7],4249261313,22),c=p(c,g,d,w,l[8],1770035416,7),w=p(w,c,g,d,l[9],2336552879,12),d=p(d,w,c,g,l[10],4294925233,17),g=p(g,d,w,c,l[11],2304563134,22),c=p(c,g,d,w,l[12],1804603682,7),w=p(w,c,g,d,l[13],4254626195,12),d=p(d,w,c,g,l[14],2792965006,17),g=p(g,d,w,c,l[15],1236535329,22),c=m(c,g,d,w,l[1],4129170786,5),w=m(w,c,g,d,l[6],3225465664,9),d=m(d,w,c,g,l[11],643717713,14),g=m(g,d,w,c,l[0],3921069994,20),c=m(c,g,d,w,l[5],3593408605,5),w=m(w,c,g,d,l[10],38016083,9),d=m(d,w,c,g,l[15],3634488961,14),g=m(g,d,w,c,l[4],3889429448,20),c=m(c,g,d,w,l[9],568446438,5),w=m(w,c,g,d,l[14],3275163606,9),d=m(d,w,c,g,l[3],4107603335,14),g=m(g,d,w,c,l[8],1163531501,20),c=m(c,g,d,w,l[13],2850285829,5),w=m(w,c,g,d,l[2],4243563512,9),d=m(d,w,c,g,l[7],1735328473,14),g=m(g,d,w,c,l[12],2368359562,20),c=_(c,g,d,w,l[5],4294588738,4),w=_(w,c,g,d,l[8],2272392833,11),d=_(d,w,c,g,l[11],1839030562,16),g=_(g,d,w,c,l[14],4259657740,23),c=_(c,g,d,w,l[1],2763975236,4),w=_(w,c,g,d,l[4],1272893353,11),d=_(d,w,c,g,l[7],4139469664,16),g=_(g,d,w,c,l[10],3200236656,23),c=_(c,g,d,w,l[13],681279174,4),w=_(w,c,g,d,l[0],3936430074,11),d=_(d,w,c,g,l[3],3572445317,16),g=_(g,d,w,c,l[6],76029189,23),c=_(c,g,d,w,l[9],3654602809,4),w=_(w,c,g,d,l[12],3873151461,11),d=_(d,w,c,g,l[15],530742520,16),g=_(g,d,w,c,l[2],3299628645,23),c=b(c,g,d,w,l[0],4096336452,6),w=b(w,c,g,d,l[7],1126891415,10),d=b(d,w,c,g,l[14],2878612391,15),g=b(g,d,w,c,l[5],4237533241,21),c=b(c,g,d,w,l[12],1700485571,6),w=b(w,c,g,d,l[3],2399980690,10),d=b(d,w,c,g,l[10],4293915773,15),g=b(g,d,w,c,l[1],2240044497,21),c=b(c,g,d,w,l[8],1873313359,6),w=b(w,c,g,d,l[15],4264355552,10),d=b(d,w,c,g,l[6],2734768916,15),g=b(g,d,w,c,l[13],1309151649,21),c=b(c,g,d,w,l[4],4149444226,6),w=b(w,c,g,d,l[11],3174756917,10),d=b(d,w,c,g,l[2],718787259,15),g=b(g,d,w,c,l[9],3951481745,21),this._a=this._a+c|0,this._b=this._b+g|0,this._c=this._c+d|0,this._d=this._d+w|0},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var l=I.allocUnsafe(16);return l.writeInt32LE(this._a,0),l.writeInt32LE(this._b,4),l.writeInt32LE(this._c,8),l.writeInt32LE(this._d,12),l};function h(l,S){return l<<S|l>>>32-S}function p(l,S,c,g,d,w,k){return h(l+(S&c|~S&g)+d+w|0,k)+S|0}function m(l,S,c,g,d,w,k){return h(l+(S&g|c&~g)+d+w|0,k)+S|0}function _(l,S,c,g,d,w,k){return h(l+(S^c^g)+d+w|0,k)+S|0}function b(l,S,c,g,d,w,k){return h(l+(c^(S|~g))+d+w|0,k)+S|0}s.exports=f},52244:(s,V,M)=>{var A=M(39404),L=M(15037);function I(C){this.rand=C||new L.Rand}s.exports=I,I.create=function(f){return new I(f)},I.prototype._randbelow=function(f){var h=f.bitLength(),p=Math.ceil(h/8);do var m=new A(this.rand.generate(p));while(m.cmp(f)>=0);return m},I.prototype._randrange=function(f,h){var p=h.sub(f);return f.add(this._randbelow(p))},I.prototype.test=function(f,h,p){var m=f.bitLength(),_=A.mont(f),b=new A(1).toRed(_);h||(h=Math.max(1,m/48|0));for(var l=f.subn(1),S=0;!l.testn(S);S++);for(var c=f.shrn(S),g=l.toRed(_),d=!0;h>0;h--){var w=this._randrange(new A(2),l);p&&p(w);var k=w.toRed(_).redPow(c);if(!(k.cmp(b)===0||k.cmp(g)===0)){for(var R=1;R<S;R++){if(k=k.redSqr(),k.cmp(b)===0)return!1;if(k.cmp(g)===0)break}if(R===S)return!1}}return d},I.prototype.getDivisor=function(f,h){var p=f.bitLength(),m=A.mont(f),_=new A(1).toRed(m);h||(h=Math.max(1,p/48|0));for(var b=f.subn(1),l=0;!b.testn(l);l++);for(var S=f.shrn(l),c=b.toRed(m);h>0;h--){var g=this._randrange(new A(2),b),d=f.gcd(g);if(d.cmpn(1)!==0)return d;var w=g.toRed(m).redPow(S);if(!(w.cmp(_)===0||w.cmp(c)===0)){for(var k=1;k<l;k++){if(w=w.redSqr(),w.cmp(_)===0)return w.fromRed().subn(1).gcd(f);if(w.cmp(c)===0)break}if(k===l)return w=w.redSqr(),w.fromRed().subn(1).gcd(f)}}return!1}},43349:s=>{s.exports=V;function V(M,A){if(!M)throw new Error(A||"Assertion failed")}V.equal=function(A,L,I){if(A!=L)throw new Error(I||"Assertion failed: "+A+" != "+L)}},64367:(s,V)=>{"use strict";var M=V;function A(C,f){if(Array.isArray(C))return C.slice();if(!C)return[];var h=[];if(typeof C!="string"){for(var p=0;p<C.length;p++)h[p]=C[p]|0;return h}if(f==="hex"){C=C.replace(/[^a-z0-9]+/ig,""),C.length%2!==0&&(C="0"+C);for(var p=0;p<C.length;p+=2)h.push(parseInt(C[p]+C[p+1],16))}else for(var p=0;p<C.length;p++){var m=C.charCodeAt(p),_=m>>8,b=m&255;_?h.push(_,b):h.push(b)}return h}M.toArray=A;function L(C){return C.length===1?"0"+C:C}M.zero2=L;function I(C){for(var f="",h=0;h<C.length;h++)f+=L(C[h].toString(16));return f}M.toHex=I,M.encode=function(f,h){return h==="hex"?I(f):f}},21137:(s,V,M)=>{"use strict";var A=M(87568);V.certificate=M(36413);var L=A.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});V.RSAPrivateKey=L;var I=A.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});V.RSAPublicKey=I;var C=A.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(f),this.key("subjectPublicKey").bitstr())});V.PublicKey=C;var f=A.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),h=A.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(f),this.key("subjectPrivateKey").octstr())});V.PrivateKey=h;var p=A.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});V.EncryptedPrivateKey=p;var m=A.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});V.DSAPrivateKey=m,V.DSAparam=A.define("DSAparam",function(){this.int()});var _=A.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(b),this.key("publicKey").optional().explicit(1).bitstr())});V.ECPrivateKey=_;var b=A.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});V.signature=A.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},36413:(s,V,M)=>{"use strict";var A=M(87568),L=A.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),I=A.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),C=A.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),f=A.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(C),this.key("subjectPublicKey").bitstr())}),h=A.define("RelativeDistinguishedName",function(){this.setof(I)}),p=A.define("RDNSequence",function(){this.seqof(h)}),m=A.define("Name",function(){this.choice({rdnSequence:this.use(p)})}),_=A.define("Validity",function(){this.seq().obj(this.key("notBefore").use(L),this.key("notAfter").use(L))}),b=A.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),l=A.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(C),this.key("issuer").use(m),this.key("validity").use(_),this.key("subject").use(m),this.key("subjectPublicKeyInfo").use(f),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(b).optional())}),S=A.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(l),this.key("signatureAlgorithm").use(C),this.key("signatureValue").bitstr())});s.exports=S},24101:(s,V,M)=>{var A=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,L=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,I=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,C=M(68078),f=M(1241),h=M(92861).Buffer;s.exports=function(p,m){var _=p.toString(),b=_.match(A),l;if(b){var c="aes"+b[1],g=h.from(b[2],"hex"),d=h.from(b[3].replace(/[\r\n]/g,""),"base64"),w=C(m,g.slice(0,8),parseInt(b[1],10)).key,k=[],R=f.createDecipheriv(c,w,g);k.push(R.update(d)),k.push(R.final()),l=h.concat(k)}else{var S=_.match(I);l=h.from(S[2].replace(/[\r\n]/g,""),"base64")}var P=_.match(L)[1];return{tag:P,data:l}}},78170:(s,V,M)=>{var A=M(21137),L=M(15579),I=M(24101),C=M(1241),f=M(78396),h=M(92861).Buffer;s.exports=p;function p(_){var b;typeof _=="object"&&!h.isBuffer(_)&&(b=_.passphrase,_=_.key),typeof _=="string"&&(_=h.from(_));var l=I(_,b),S=l.tag,c=l.data,g,d;switch(S){case"CERTIFICATE":d=A.certificate.decode(c,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(d||(d=A.PublicKey.decode(c,"der")),g=d.algorithm.algorithm.join("."),g){case"1.2.840.113549.1.1.1":return A.RSAPublicKey.decode(d.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return d.subjectPrivateKey=d.subjectPublicKey,{type:"ec",data:d};case"1.2.840.10040.4.1":return d.algorithm.params.pub_key=A.DSAparam.decode(d.subjectPublicKey.data,"der"),{type:"dsa",data:d.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":c=A.EncryptedPrivateKey.decode(c,"der"),c=m(c,b);case"PRIVATE KEY":switch(d=A.PrivateKey.decode(c,"der"),g=d.algorithm.algorithm.join("."),g){case"1.2.840.113549.1.1.1":return A.RSAPrivateKey.decode(d.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:d.algorithm.curve,privateKey:A.ECPrivateKey.decode(d.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return d.algorithm.params.priv_key=A.DSAparam.decode(d.subjectPrivateKey,"der"),{type:"dsa",params:d.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return A.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return A.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:A.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return c=A.ECPrivateKey.decode(c,"der"),{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+S)}}p.signature=A.signature;function m(_,b){var l=_.algorithm.decrypt.kde.kdeparams.salt,S=parseInt(_.algorithm.decrypt.kde.kdeparams.iters.toString(),10),c=L[_.algorithm.decrypt.cipher.algo.join(".")],g=_.algorithm.decrypt.cipher.iv,d=_.subjectPrivateKey,w=parseInt(c.split("-")[1],10)/8,k=f.pbkdf2Sync(b,l,S,w,"sha1"),R=C.createDecipheriv(c,k,g),P=[];return P.push(R.update(d)),P.push(R.final()),h.concat(P)}},57975:(s,V,M)=>{"use strict";var A=M(65606);function L(h){if(typeof h!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(h))}function I(h,p){for(var m="",_=0,b=-1,l=0,S,c=0;c<=h.length;++c){if(c<h.length)S=h.charCodeAt(c);else{if(S===47)break;S=47}if(S===47){if(!(b===c-1||l===1))if(b!==c-1&&l===2){if(m.length<2||_!==2||m.charCodeAt(m.length-1)!==46||m.charCodeAt(m.length-2)!==46){if(m.length>2){var g=m.lastIndexOf("/");if(g!==m.length-1){g===-1?(m="",_=0):(m=m.slice(0,g),_=m.length-1-m.lastIndexOf("/")),b=c,l=0;continue}}else if(m.length===2||m.length===1){m="",_=0,b=c,l=0;continue}}p&&(m.length>0?m+="/..":m="..",_=2)}else m.length>0?m+="/"+h.slice(b+1,c):m=h.slice(b+1,c),_=c-b-1;b=c,l=0}else S===46&&l!==-1?++l:l=-1}return m}function C(h,p){var m=p.dir||p.root,_=p.base||(p.name||"")+(p.ext||"");return m?m===p.root?m+_:m+h+_:_}var f={resolve:function(){for(var p="",m=!1,_,b=arguments.length-1;b>=-1&&!m;b--){var l;b>=0?l=arguments[b]:(_===void 0&&(_=A.cwd()),l=_),L(l),l.length!==0&&(p=l+"/"+p,m=l.charCodeAt(0)===47)}return p=I(p,!m),m?p.length>0?"/"+p:"/":p.length>0?p:"."},normalize:function(p){if(L(p),p.length===0)return".";var m=p.charCodeAt(0)===47,_=p.charCodeAt(p.length-1)===47;return p=I(p,!m),p.length===0&&!m&&(p="."),p.length>0&&_&&(p+="/"),m?"/"+p:p},isAbsolute:function(p){return L(p),p.length>0&&p.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var p,m=0;m<arguments.length;++m){var _=arguments[m];L(_),_.length>0&&(p===void 0?p=_:p+="/"+_)}return p===void 0?".":f.normalize(p)},relative:function(p,m){if(L(p),L(m),p===m||(p=f.resolve(p),m=f.resolve(m),p===m))return"";for(var _=1;_<p.length&&p.charCodeAt(_)===47;++_);for(var b=p.length,l=b-_,S=1;S<m.length&&m.charCodeAt(S)===47;++S);for(var c=m.length,g=c-S,d=l<g?l:g,w=-1,k=0;k<=d;++k){if(k===d){if(g>d){if(m.charCodeAt(S+k)===47)return m.slice(S+k+1);if(k===0)return m.slice(S+k)}else l>d&&(p.charCodeAt(_+k)===47?w=k:k===0&&(w=0));break}var R=p.charCodeAt(_+k),P=m.charCodeAt(S+k);if(R!==P)break;R===47&&(w=k)}var U="";for(k=_+w+1;k<=b;++k)(k===b||p.charCodeAt(k)===47)&&(U.length===0?U+="..":U+="/..");return U.length>0?U+m.slice(S+w):(S+=w,m.charCodeAt(S)===47&&++S,m.slice(S))},_makeLong:function(p){return p},dirname:function(p){if(L(p),p.length===0)return".";for(var m=p.charCodeAt(0),_=m===47,b=-1,l=!0,S=p.length-1;S>=1;--S)if(m=p.charCodeAt(S),m===47){if(!l){b=S;break}}else l=!1;return b===-1?_?"/":".":_&&b===1?"//":p.slice(0,b)},basename:function(p,m){if(m!==void 0&&typeof m!="string")throw new TypeError('"ext" argument must be a string');L(p);var _=0,b=-1,l=!0,S;if(m!==void 0&&m.length>0&&m.length<=p.length){if(m.length===p.length&&m===p)return"";var c=m.length-1,g=-1;for(S=p.length-1;S>=0;--S){var d=p.charCodeAt(S);if(d===47){if(!l){_=S+1;break}}else g===-1&&(l=!1,g=S+1),c>=0&&(d===m.charCodeAt(c)?--c===-1&&(b=S):(c=-1,b=g))}return _===b?b=g:b===-1&&(b=p.length),p.slice(_,b)}else{for(S=p.length-1;S>=0;--S)if(p.charCodeAt(S)===47){if(!l){_=S+1;break}}else b===-1&&(l=!1,b=S+1);return b===-1?"":p.slice(_,b)}},extname:function(p){L(p);for(var m=-1,_=0,b=-1,l=!0,S=0,c=p.length-1;c>=0;--c){var g=p.charCodeAt(c);if(g===47){if(!l){_=c+1;break}continue}b===-1&&(l=!1,b=c+1),g===46?m===-1?m=c:S!==1&&(S=1):m!==-1&&(S=-1)}return m===-1||b===-1||S===0||S===1&&m===b-1&&m===_+1?"":p.slice(m,b)},format:function(p){if(p===null||typeof p!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof p);return C("/",p)},parse:function(p){L(p);var m={root:"",dir:"",base:"",ext:"",name:""};if(p.length===0)return m;var _=p.charCodeAt(0),b=_===47,l;b?(m.root="/",l=1):l=0;for(var S=-1,c=0,g=-1,d=!0,w=p.length-1,k=0;w>=l;--w){if(_=p.charCodeAt(w),_===47){if(!d){c=w+1;break}continue}g===-1&&(d=!1,g=w+1),_===46?S===-1?S=w:k!==1&&(k=1):S!==-1&&(k=-1)}return S===-1||g===-1||k===0||k===1&&S===g-1&&S===c+1?g!==-1&&(c===0&&b?m.base=m.name=p.slice(1,g):m.base=m.name=p.slice(c,g)):(c===0&&b?(m.name=p.slice(1,S),m.base=p.slice(1,g)):(m.name=p.slice(c,S),m.base=p.slice(c,g)),m.ext=p.slice(S,g)),c>0?m.dir=p.slice(0,c-1):b&&(m.dir="/"),m},sep:"/",delimiter:":",win32:null,posix:null};f.posix=f,s.exports=f},78396:(s,V,M)=>{"use strict";V.pbkdf2=M(43832),V.pbkdf2Sync=M(21352)},43832:(s,V,M)=>{"use strict";var A=M(92861).Buffer,L=M(64196),I=M(2455),C=M(21352),f=M(93382),h,p=M.g.crypto&&M.g.crypto.subtle,m={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},_=[],b;function l(){return b||(M.g.process&&M.g.process.nextTick?b=M.g.process.nextTick:M.g.queueMicrotask?b=M.g.queueMicrotask:M.g.setImmediate?b=M.g.setImmediate:b=M.g.setTimeout,b)}function S(d,w,k,R,P){return p.importKey("raw",d,{name:"PBKDF2"},!1,["deriveBits"]).then(function(U){return p.deriveBits({name:"PBKDF2",salt:w,iterations:k,hash:{name:P}},U,R<<3)}).then(function(U){return A.from(U)})}function c(d){if(M.g.process&&!M.g.process.browser||!p||!p.importKey||!p.deriveBits)return Promise.resolve(!1);if(_[d]!==void 0)return _[d];h=h||A.alloc(8);var w=S(h,h,10,128,d).then(function(){return!0},function(){return!1});return _[d]=w,w}function g(d,w){d.then(function(k){l()(function(){w(null,k)})},function(k){l()(function(){w(k)})})}s.exports=function(d,w,k,R,P,U){typeof P=="function"&&(U=P,P=void 0),P=P||"sha1";var F=m[P.toLowerCase()];if(!F||typeof M.g.Promise!="function"){l()(function(){var y;try{y=C(d,w,k,R,P)}catch(z){U(z);return}U(null,y)});return}if(L(k,R),d=f(d,I,"Password"),w=f(w,I,"Salt"),typeof U!="function")throw new Error("No callback provided to pbkdf2");g(c(F).then(function(y){return y?S(d,w,k,R,F):C(d,w,k,R,P)}),U)}},2455:(s,V,M)=>{"use strict";var A=M(65606),L;if(M.g.process&&M.g.process.browser)L="utf-8";else if(M.g.process&&M.g.process.version){var I=parseInt(A.version.split(".")[0].slice(1),10);L=I>=6?"utf-8":"binary"}else L="utf-8";s.exports=L},64196:s=>{"use strict";var V=Math.pow(2,30)-1;s.exports=function(M,A){if(typeof M!="number")throw new TypeError("Iterations not a number");if(M<0)throw new TypeError("Bad iterations");if(typeof A!="number")throw new TypeError("Key length not a number");if(A<0||A>V||A!==A)throw new TypeError("Bad key length")}},21352:(s,V,M)=>{"use strict";var A=M(6211),L=M(54304),I=M(62802),C=M(92861).Buffer,f=M(64196),h=M(2455),p=M(93382),m=C.alloc(128),_={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},b={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function l(d){return new L().update(d).digest()}function S(d){function w(k){return I(d).update(k).digest()}return d==="rmd160"||d==="ripemd160"?l:d==="md5"?A:w}function c(d,w,k){var R=S(d),P=d==="sha512"||d==="sha384"?128:64;w.length>P?w=R(w):w.length<P&&(w=C.concat([w,m],P));for(var U=C.allocUnsafe(P+_[d]),F=C.allocUnsafe(P+_[d]),y=0;y<P;y++)U[y]=w[y]^54,F[y]=w[y]^92;var z=C.allocUnsafe(P+k+4);U.copy(z,0,0,P),this.ipad1=z,this.ipad2=U,this.opad=F,this.alg=d,this.blocksize=P,this.hash=R,this.size=_[d]}c.prototype.run=function(d,w){d.copy(w,this.blocksize);var k=this.hash(w);return k.copy(this.opad,this.blocksize),this.hash(this.opad)};function g(d,w,k,R,P){f(k,R),d=p(d,h,"Password"),w=p(w,h,"Salt");var U=(P||"sha1").toLowerCase(),F=b[U]||U,y=_[F];if(typeof y!="number"||!y)throw new TypeError("Digest algorithm not supported: "+P);var z=new c(F,d,w.length),Q=C.allocUnsafe(R),Z=C.allocUnsafe(w.length+4);w.copy(Z,0,0,w.length);for(var X=0,Y=y,O=Math.ceil(R/Y),$=1;$<=O;$++){Z.writeUInt32BE($,w.length);for(var D=z.run(Z,z.ipad1),u=D,E=1;E<k;E++){u=z.run(u,z.ipad2);for(var q=0;q<Y;q++)D[q]^=u[q]}D.copy(Q,X),X+=Y}return Q}s.exports=g},93382:(s,V,M)=>{"use strict";var A=M(92861).Buffer,L=M(15377),I=typeof Uint8Array!="undefined",C=I&&typeof ArrayBuffer!="undefined",f=C&&ArrayBuffer.isView;s.exports=function(h,p,m){if(typeof h=="string"||A.isBuffer(h)||I&&h instanceof Uint8Array||f&&f(h))return L(h,p);throw new TypeError(m+" must be a string, a Buffer, a Uint8Array, or a DataView")}},52786:(s,V,M)=>{"use strict";var A=M(48287).Buffer,L=4,I=new A(L);I.fill(0);var C=8,f=16;function h(p){if(p.length%L!==0){var m=p.length+(L-p.length%L);p=A.concat([p,I],m)}for(var _=new Array(p.length>>>2),b=0,l=0;b<p.length;b+=L,l++)_[l]=p.readInt32LE(b);return _}s.exports=function(m,_){var b=_(h(m),m.length*C);m=new A(f);for(var l=0;l<b.length;l++)m.writeInt32LE(b[l],l<<2,!0);return m}},6211:(s,V,M)=>{"use strict";var A=M(52786);function L(b,l){b[l>>5]|=128<<l%32,b[(l+64>>>9<<4)+14]=l;for(var S=1732584193,c=-271733879,g=-1732584194,d=271733878,w=0;w<b.length;w+=16){var k=S,R=c,P=g,U=d;S=C(S,c,g,d,b[w+0],7,-680876936),d=C(d,S,c,g,b[w+1],12,-389564586),g=C(g,d,S,c,b[w+2],17,606105819),c=C(c,g,d,S,b[w+3],22,-1044525330),S=C(S,c,g,d,b[w+4],7,-176418897),d=C(d,S,c,g,b[w+5],12,1200080426),g=C(g,d,S,c,b[w+6],17,-1473231341),c=C(c,g,d,S,b[w+7],22,-45705983),S=C(S,c,g,d,b[w+8],7,1770035416),d=C(d,S,c,g,b[w+9],12,-1958414417),g=C(g,d,S,c,b[w+10],17,-42063),c=C(c,g,d,S,b[w+11],22,-1990404162),S=C(S,c,g,d,b[w+12],7,1804603682),d=C(d,S,c,g,b[w+13],12,-40341101),g=C(g,d,S,c,b[w+14],17,-1502002290),c=C(c,g,d,S,b[w+15],22,1236535329),S=f(S,c,g,d,b[w+1],5,-165796510),d=f(d,S,c,g,b[w+6],9,-1069501632),g=f(g,d,S,c,b[w+11],14,643717713),c=f(c,g,d,S,b[w+0],20,-373897302),S=f(S,c,g,d,b[w+5],5,-701558691),d=f(d,S,c,g,b[w+10],9,38016083),g=f(g,d,S,c,b[w+15],14,-660478335),c=f(c,g,d,S,b[w+4],20,-405537848),S=f(S,c,g,d,b[w+9],5,568446438),d=f(d,S,c,g,b[w+14],9,-1019803690),g=f(g,d,S,c,b[w+3],14,-187363961),c=f(c,g,d,S,b[w+8],20,1163531501),S=f(S,c,g,d,b[w+13],5,-1444681467),d=f(d,S,c,g,b[w+2],9,-51403784),g=f(g,d,S,c,b[w+7],14,1735328473),c=f(c,g,d,S,b[w+12],20,-1926607734),S=h(S,c,g,d,b[w+5],4,-378558),d=h(d,S,c,g,b[w+8],11,-2022574463),g=h(g,d,S,c,b[w+11],16,1839030562),c=h(c,g,d,S,b[w+14],23,-35309556),S=h(S,c,g,d,b[w+1],4,-1530992060),d=h(d,S,c,g,b[w+4],11,1272893353),g=h(g,d,S,c,b[w+7],16,-155497632),c=h(c,g,d,S,b[w+10],23,-1094730640),S=h(S,c,g,d,b[w+13],4,681279174),d=h(d,S,c,g,b[w+0],11,-358537222),g=h(g,d,S,c,b[w+3],16,-722521979),c=h(c,g,d,S,b[w+6],23,76029189),S=h(S,c,g,d,b[w+9],4,-640364487),d=h(d,S,c,g,b[w+12],11,-421815835),g=h(g,d,S,c,b[w+15],16,530742520),c=h(c,g,d,S,b[w+2],23,-995338651),S=p(S,c,g,d,b[w+0],6,-198630844),d=p(d,S,c,g,b[w+7],10,1126891415),g=p(g,d,S,c,b[w+14],15,-1416354905),c=p(c,g,d,S,b[w+5],21,-57434055),S=p(S,c,g,d,b[w+12],6,1700485571),d=p(d,S,c,g,b[w+3],10,-1894986606),g=p(g,d,S,c,b[w+10],15,-1051523),c=p(c,g,d,S,b[w+1],21,-2054922799),S=p(S,c,g,d,b[w+8],6,1873313359),d=p(d,S,c,g,b[w+15],10,-30611744),g=p(g,d,S,c,b[w+6],15,-1560198380),c=p(c,g,d,S,b[w+13],21,1309151649),S=p(S,c,g,d,b[w+4],6,-145523070),d=p(d,S,c,g,b[w+11],10,-1120210379),g=p(g,d,S,c,b[w+2],15,718787259),c=p(c,g,d,S,b[w+9],21,-343485551),S=m(S,k),c=m(c,R),g=m(g,P),d=m(d,U)}return[S,c,g,d]}function I(b,l,S,c,g,d){return m(_(m(m(l,b),m(c,d)),g),S)}function C(b,l,S,c,g,d,w){return I(l&S|~l&c,b,l,g,d,w)}function f(b,l,S,c,g,d,w){return I(l&c|S&~c,b,l,g,d,w)}function h(b,l,S,c,g,d,w){return I(l^S^c,b,l,g,d,w)}function p(b,l,S,c,g,d,w){return I(S^(l|~c),b,l,g,d,w)}function m(b,l){var S=(b&65535)+(l&65535),c=(b>>16)+(l>>16)+(S>>16);return c<<16|S&65535}function _(b,l){return b<<l|b>>>32-l}s.exports=function(l){return A(l,L)}},83706:(s,V,M)=>{"use strict";var A=M(48287).Buffer,L=M(88310).Transform,I=M(56698);function C(f){L.call(this),this._block=new A(f),this._blockSize=f,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}I(C,L),C.prototype._transform=function(f,h,p){var m=null;try{h!=="buffer"&&(f=new A(f,h)),this.update(f)}catch(_){m=_}p(m)},C.prototype._flush=function(f){var h=null;try{this.push(this._digest())}catch(p){h=p}f(h)},C.prototype.update=function(f,h){if(!A.isBuffer(f)&&typeof f!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");A.isBuffer(f)||(f=new A(f,h||"binary"));for(var p=this._block,m=0;this._blockOffset+f.length-m>=this._blockSize;){for(var _=this._blockOffset;_<this._blockSize;)p[_++]=f[m++];this._update(),this._blockOffset=0}for(;m<f.length;)p[this._blockOffset++]=f[m++];for(var b=0,l=f.length*8;l>0;++b)this._length[b]+=l,l=this._length[b]/4294967296|0,l>0&&(this._length[b]-=4294967296*l);return this},C.prototype._update=function(f){throw new Error("_update is not implemented")},C.prototype.digest=function(f){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var h=this._digest();return f!==void 0&&(h=h.toString(f)),h},C.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=C},54304:(s,V,M)=>{"use strict";var A=M(48287).Buffer,L=M(56698),I=M(83706);function C(){I.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}L(C,I),C.prototype._update=function(){for(var l=new Array(16),S=0;S<16;++S)l[S]=this._block.readInt32LE(S*4);var c=this._a,g=this._b,d=this._c,w=this._d,k=this._e;c=h(c,g,d,w,k,l[0],0,11),d=f(d,10),k=h(k,c,g,d,w,l[1],0,14),g=f(g,10),w=h(w,k,c,g,d,l[2],0,15),c=f(c,10),d=h(d,w,k,c,g,l[3],0,12),k=f(k,10),g=h(g,d,w,k,c,l[4],0,5),w=f(w,10),c=h(c,g,d,w,k,l[5],0,8),d=f(d,10),k=h(k,c,g,d,w,l[6],0,7),g=f(g,10),w=h(w,k,c,g,d,l[7],0,9),c=f(c,10),d=h(d,w,k,c,g,l[8],0,11),k=f(k,10),g=h(g,d,w,k,c,l[9],0,13),w=f(w,10),c=h(c,g,d,w,k,l[10],0,14),d=f(d,10),k=h(k,c,g,d,w,l[11],0,15),g=f(g,10),w=h(w,k,c,g,d,l[12],0,6),c=f(c,10),d=h(d,w,k,c,g,l[13],0,7),k=f(k,10),g=h(g,d,w,k,c,l[14],0,9),w=f(w,10),c=h(c,g,d,w,k,l[15],0,8),d=f(d,10),k=p(k,c,g,d,w,l[7],1518500249,7),g=f(g,10),w=p(w,k,c,g,d,l[4],1518500249,6),c=f(c,10),d=p(d,w,k,c,g,l[13],1518500249,8),k=f(k,10),g=p(g,d,w,k,c,l[1],1518500249,13),w=f(w,10),c=p(c,g,d,w,k,l[10],1518500249,11),d=f(d,10),k=p(k,c,g,d,w,l[6],1518500249,9),g=f(g,10),w=p(w,k,c,g,d,l[15],1518500249,7),c=f(c,10),d=p(d,w,k,c,g,l[3],1518500249,15),k=f(k,10),g=p(g,d,w,k,c,l[12],1518500249,7),w=f(w,10),c=p(c,g,d,w,k,l[0],1518500249,12),d=f(d,10),k=p(k,c,g,d,w,l[9],1518500249,15),g=f(g,10),w=p(w,k,c,g,d,l[5],1518500249,9),c=f(c,10),d=p(d,w,k,c,g,l[2],1518500249,11),k=f(k,10),g=p(g,d,w,k,c,l[14],1518500249,7),w=f(w,10),c=p(c,g,d,w,k,l[11],1518500249,13),d=f(d,10),k=p(k,c,g,d,w,l[8],1518500249,12),g=f(g,10),w=m(w,k,c,g,d,l[3],1859775393,11),c=f(c,10),d=m(d,w,k,c,g,l[10],1859775393,13),k=f(k,10),g=m(g,d,w,k,c,l[14],1859775393,6),w=f(w,10),c=m(c,g,d,w,k,l[4],1859775393,7),d=f(d,10),k=m(k,c,g,d,w,l[9],1859775393,14),g=f(g,10),w=m(w,k,c,g,d,l[15],1859775393,9),c=f(c,10),d=m(d,w,k,c,g,l[8],1859775393,13),k=f(k,10),g=m(g,d,w,k,c,l[1],1859775393,15),w=f(w,10),c=m(c,g,d,w,k,l[2],1859775393,14),d=f(d,10),k=m(k,c,g,d,w,l[7],1859775393,8),g=f(g,10),w=m(w,k,c,g,d,l[0],1859775393,13),c=f(c,10),d=m(d,w,k,c,g,l[6],1859775393,6),k=f(k,10),g=m(g,d,w,k,c,l[13],1859775393,5),w=f(w,10),c=m(c,g,d,w,k,l[11],1859775393,12),d=f(d,10),k=m(k,c,g,d,w,l[5],1859775393,7),g=f(g,10),w=m(w,k,c,g,d,l[12],1859775393,5),c=f(c,10),d=_(d,w,k,c,g,l[1],2400959708,11),k=f(k,10),g=_(g,d,w,k,c,l[9],2400959708,12),w=f(w,10),c=_(c,g,d,w,k,l[11],2400959708,14),d=f(d,10),k=_(k,c,g,d,w,l[10],2400959708,15),g=f(g,10),w=_(w,k,c,g,d,l[0],2400959708,14),c=f(c,10),d=_(d,w,k,c,g,l[8],2400959708,15),k=f(k,10),g=_(g,d,w,k,c,l[12],2400959708,9),w=f(w,10),c=_(c,g,d,w,k,l[4],2400959708,8),d=f(d,10),k=_(k,c,g,d,w,l[13],2400959708,9),g=f(g,10),w=_(w,k,c,g,d,l[3],2400959708,14),c=f(c,10),d=_(d,w,k,c,g,l[7],2400959708,5),k=f(k,10),g=_(g,d,w,k,c,l[15],2400959708,6),w=f(w,10),c=_(c,g,d,w,k,l[14],2400959708,8),d=f(d,10),k=_(k,c,g,d,w,l[5],2400959708,6),g=f(g,10),w=_(w,k,c,g,d,l[6],2400959708,5),c=f(c,10),d=_(d,w,k,c,g,l[2],2400959708,12),k=f(k,10),g=b(g,d,w,k,c,l[4],2840853838,9),w=f(w,10),c=b(c,g,d,w,k,l[0],2840853838,15),d=f(d,10),k=b(k,c,g,d,w,l[5],2840853838,5),g=f(g,10),w=b(w,k,c,g,d,l[9],2840853838,11),c=f(c,10),d=b(d,w,k,c,g,l[7],2840853838,6),k=f(k,10),g=b(g,d,w,k,c,l[12],2840853838,8),w=f(w,10),c=b(c,g,d,w,k,l[2],2840853838,13),d=f(d,10),k=b(k,c,g,d,w,l[10],2840853838,12),g=f(g,10),w=b(w,k,c,g,d,l[14],2840853838,5),c=f(c,10),d=b(d,w,k,c,g,l[1],2840853838,12),k=f(k,10),g=b(g,d,w,k,c,l[3],2840853838,13),w=f(w,10),c=b(c,g,d,w,k,l[8],2840853838,14),d=f(d,10),k=b(k,c,g,d,w,l[11],2840853838,11),g=f(g,10),w=b(w,k,c,g,d,l[6],2840853838,8),c=f(c,10),d=b(d,w,k,c,g,l[15],2840853838,5),k=f(k,10),g=b(g,d,w,k,c,l[13],2840853838,6),w=f(w,10);var R=this._a,P=this._b,U=this._c,F=this._d,y=this._e;R=b(R,P,U,F,y,l[5],1352829926,8),U=f(U,10),y=b(y,R,P,U,F,l[14],1352829926,9),P=f(P,10),F=b(F,y,R,P,U,l[7],1352829926,9),R=f(R,10),U=b(U,F,y,R,P,l[0],1352829926,11),y=f(y,10),P=b(P,U,F,y,R,l[9],1352829926,13),F=f(F,10),R=b(R,P,U,F,y,l[2],1352829926,15),U=f(U,10),y=b(y,R,P,U,F,l[11],1352829926,15),P=f(P,10),F=b(F,y,R,P,U,l[4],1352829926,5),R=f(R,10),U=b(U,F,y,R,P,l[13],1352829926,7),y=f(y,10),P=b(P,U,F,y,R,l[6],1352829926,7),F=f(F,10),R=b(R,P,U,F,y,l[15],1352829926,8),U=f(U,10),y=b(y,R,P,U,F,l[8],1352829926,11),P=f(P,10),F=b(F,y,R,P,U,l[1],1352829926,14),R=f(R,10),U=b(U,F,y,R,P,l[10],1352829926,14),y=f(y,10),P=b(P,U,F,y,R,l[3],1352829926,12),F=f(F,10),R=b(R,P,U,F,y,l[12],1352829926,6),U=f(U,10),y=_(y,R,P,U,F,l[6],1548603684,9),P=f(P,10),F=_(F,y,R,P,U,l[11],1548603684,13),R=f(R,10),U=_(U,F,y,R,P,l[3],1548603684,15),y=f(y,10),P=_(P,U,F,y,R,l[7],1548603684,7),F=f(F,10),R=_(R,P,U,F,y,l[0],1548603684,12),U=f(U,10),y=_(y,R,P,U,F,l[13],1548603684,8),P=f(P,10),F=_(F,y,R,P,U,l[5],1548603684,9),R=f(R,10),U=_(U,F,y,R,P,l[10],1548603684,11),y=f(y,10),P=_(P,U,F,y,R,l[14],1548603684,7),F=f(F,10),R=_(R,P,U,F,y,l[15],1548603684,7),U=f(U,10),y=_(y,R,P,U,F,l[8],1548603684,12),P=f(P,10),F=_(F,y,R,P,U,l[12],1548603684,7),R=f(R,10),U=_(U,F,y,R,P,l[4],1548603684,6),y=f(y,10),P=_(P,U,F,y,R,l[9],1548603684,15),F=f(F,10),R=_(R,P,U,F,y,l[1],1548603684,13),U=f(U,10),y=_(y,R,P,U,F,l[2],1548603684,11),P=f(P,10),F=m(F,y,R,P,U,l[15],1836072691,9),R=f(R,10),U=m(U,F,y,R,P,l[5],1836072691,7),y=f(y,10),P=m(P,U,F,y,R,l[1],1836072691,15),F=f(F,10),R=m(R,P,U,F,y,l[3],1836072691,11),U=f(U,10),y=m(y,R,P,U,F,l[7],1836072691,8),P=f(P,10),F=m(F,y,R,P,U,l[14],1836072691,6),R=f(R,10),U=m(U,F,y,R,P,l[6],1836072691,6),y=f(y,10),P=m(P,U,F,y,R,l[9],1836072691,14),F=f(F,10),R=m(R,P,U,F,y,l[11],1836072691,12),U=f(U,10),y=m(y,R,P,U,F,l[8],1836072691,13),P=f(P,10),F=m(F,y,R,P,U,l[12],1836072691,5),R=f(R,10),U=m(U,F,y,R,P,l[2],1836072691,14),y=f(y,10),P=m(P,U,F,y,R,l[10],1836072691,13),F=f(F,10),R=m(R,P,U,F,y,l[0],1836072691,13),U=f(U,10),y=m(y,R,P,U,F,l[4],1836072691,7),P=f(P,10),F=m(F,y,R,P,U,l[13],1836072691,5),R=f(R,10),U=p(U,F,y,R,P,l[8],2053994217,15),y=f(y,10),P=p(P,U,F,y,R,l[6],2053994217,5),F=f(F,10),R=p(R,P,U,F,y,l[4],2053994217,8),U=f(U,10),y=p(y,R,P,U,F,l[1],2053994217,11),P=f(P,10),F=p(F,y,R,P,U,l[3],2053994217,14),R=f(R,10),U=p(U,F,y,R,P,l[11],2053994217,14),y=f(y,10),P=p(P,U,F,y,R,l[15],2053994217,6),F=f(F,10),R=p(R,P,U,F,y,l[0],2053994217,14),U=f(U,10),y=p(y,R,P,U,F,l[5],2053994217,6),P=f(P,10),F=p(F,y,R,P,U,l[12],2053994217,9),R=f(R,10),U=p(U,F,y,R,P,l[2],2053994217,12),y=f(y,10),P=p(P,U,F,y,R,l[13],2053994217,9),F=f(F,10),R=p(R,P,U,F,y,l[9],2053994217,12),U=f(U,10),y=p(y,R,P,U,F,l[7],2053994217,5),P=f(P,10),F=p(F,y,R,P,U,l[10],2053994217,15),R=f(R,10),U=p(U,F,y,R,P,l[14],2053994217,8),y=f(y,10),P=h(P,U,F,y,R,l[12],0,8),F=f(F,10),R=h(R,P,U,F,y,l[15],0,5),U=f(U,10),y=h(y,R,P,U,F,l[10],0,12),P=f(P,10),F=h(F,y,R,P,U,l[4],0,9),R=f(R,10),U=h(U,F,y,R,P,l[1],0,12),y=f(y,10),P=h(P,U,F,y,R,l[5],0,5),F=f(F,10),R=h(R,P,U,F,y,l[8],0,14),U=f(U,10),y=h(y,R,P,U,F,l[7],0,6),P=f(P,10),F=h(F,y,R,P,U,l[6],0,8),R=f(R,10),U=h(U,F,y,R,P,l[2],0,13),y=f(y,10),P=h(P,U,F,y,R,l[13],0,6),F=f(F,10),R=h(R,P,U,F,y,l[14],0,5),U=f(U,10),y=h(y,R,P,U,F,l[0],0,15),P=f(P,10),F=h(F,y,R,P,U,l[3],0,13),R=f(R,10),U=h(U,F,y,R,P,l[9],0,11),y=f(y,10),P=h(P,U,F,y,R,l[11],0,11),F=f(F,10);var z=this._b+d+F|0;this._b=this._c+w+y|0,this._c=this._d+k+R|0,this._d=this._e+c+P|0,this._e=this._a+g+U|0,this._a=z},C.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var l=new A(20);return l.writeInt32LE(this._a,0),l.writeInt32LE(this._b,4),l.writeInt32LE(this._c,8),l.writeInt32LE(this._d,12),l.writeInt32LE(this._e,16),l};function f(l,S){return l<<S|l>>>32-S}function h(l,S,c,g,d,w,k,R){return f(l+(S^c^g)+w+k|0,R)+d|0}function p(l,S,c,g,d,w,k,R){return f(l+(S&c|~S&g)+w+k|0,R)+d|0}function m(l,S,c,g,d,w,k,R){return f(l+((S|~c)^g)+w+k|0,R)+d|0}function _(l,S,c,g,d,w,k,R){return f(l+(S&g|c&~g)+w+k|0,R)+d|0}function b(l,S,c,g,d,w,k,R){return f(l+(S^(c|~g))+w+k|0,R)+d|0}s.exports=C},76578:s=>{"use strict";s.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},65606:s=>{var V=s.exports={},M,A;function L(){throw new Error("setTimeout has not been defined")}function I(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?M=setTimeout:M=L}catch{M=L}try{typeof clearTimeout=="function"?A=clearTimeout:A=I}catch{A=I}})();function C(g){if(M===setTimeout)return setTimeout(g,0);if((M===L||!M)&&setTimeout)return M=setTimeout,setTimeout(g,0);try{return M(g,0)}catch{try{return M.call(null,g,0)}catch{return M.call(this,g,0)}}}function f(g){if(A===clearTimeout)return clearTimeout(g);if((A===I||!A)&&clearTimeout)return A=clearTimeout,clearTimeout(g);try{return A(g)}catch{try{return A.call(null,g)}catch{return A.call(this,g)}}}var h=[],p=!1,m,_=-1;function b(){!p||!m||(p=!1,m.length?h=m.concat(h):_=-1,h.length&&l())}function l(){if(!p){var g=C(b);p=!0;for(var d=h.length;d;){for(m=h,h=[];++_<d;)m&&m[_].run();_=-1,d=h.length}m=null,p=!1,f(g)}}V.nextTick=function(g){var d=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)d[w-1]=arguments[w];h.push(new S(g,d)),h.length===1&&!p&&C(l)};function S(g,d){this.fun=g,this.array=d}S.prototype.run=function(){this.fun.apply(null,this.array)},V.title="browser",V.browser=!0,V.env={},V.argv=[],V.version="",V.versions={};function c(){}V.on=c,V.addListener=c,V.once=c,V.off=c,V.removeListener=c,V.removeAllListeners=c,V.emit=c,V.prependListener=c,V.prependOnceListener=c,V.listeners=function(g){return[]},V.binding=function(g){throw new Error("process.binding is not supported")},V.cwd=function(){return"/"},V.chdir=function(g){throw new Error("process.chdir is not supported")},V.umask=function(){return 0}},97168:(s,V,M)=>{V.publicEncrypt=M(28902),V.privateDecrypt=M(77362),V.privateEncrypt=function(L,I){return V.publicEncrypt(L,I,!0)},V.publicDecrypt=function(L,I){return V.privateDecrypt(L,I,!0)}},48206:(s,V,M)=>{var A=M(47108),L=M(92861).Buffer;s.exports=function(C,f){for(var h=L.alloc(0),p=0,m;h.length<f;)m=I(p++),h=L.concat([h,A("sha1").update(C).update(m).digest()]);return h.slice(0,f)};function I(C){var f=L.allocUnsafe(4);return f.writeUInt32BE(C,0),f}},77362:(s,V,M)=>{var A=M(78170),L=M(48206),I=M(52061),C=M(39404),f=M(67332),h=M(47108),p=M(99247),m=M(92861).Buffer;s.exports=function(c,g,d){var w;c.padding?w=c.padding:d?w=1:w=4;var k=A(c),R=k.modulus.byteLength();if(g.length>R||new C(g).cmp(k.modulus)>=0)throw new Error("decryption error");var P;d?P=p(new C(g),k):P=f(g,k);var U=m.alloc(R-P.length);if(P=m.concat([U,P],R),w===4)return _(k,P);if(w===1)return b(k,P,d);if(w===3)return P;throw new Error("unknown padding")};function _(S,c){var g=S.modulus.byteLength(),d=h("sha1").update(m.alloc(0)).digest(),w=d.length;if(c[0]!==0)throw new Error("decryption error");var k=c.slice(1,w+1),R=c.slice(w+1),P=I(k,L(R,w)),U=I(R,L(P,g-w-1));if(l(d,U.slice(0,w)))throw new Error("decryption error");for(var F=w;U[F]===0;)F++;if(U[F++]!==1)throw new Error("decryption error");return U.slice(F)}function b(S,c,g){for(var d=c.slice(0,2),w=2,k=0;c[w++]!==0;)if(w>=c.length){k++;break}var R=c.slice(2,w-1);if((d.toString("hex")!=="0002"&&!g||d.toString("hex")!=="0001"&&g)&&k++,R.length<8&&k++,k)throw new Error("decryption error");return c.slice(w)}function l(S,c){S=m.from(S),c=m.from(c);var g=0,d=S.length;S.length!==c.length&&(g++,d=Math.min(S.length,c.length));for(var w=-1;++w<d;)g+=S[w]^c[w];return g}},28902:(s,V,M)=>{var A=M(78170),L=M(53209),I=M(47108),C=M(48206),f=M(52061),h=M(39404),p=M(99247),m=M(67332),_=M(92861).Buffer;s.exports=function(g,d,w){var k;g.padding?k=g.padding:w?k=1:k=4;var R=A(g),P;if(k===4)P=b(R,d);else if(k===1)P=l(R,d,w);else if(k===3){if(P=new h(d),P.cmp(R.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return w?m(P,R):p(P,R)};function b(c,g){var d=c.modulus.byteLength(),w=g.length,k=I("sha1").update(_.alloc(0)).digest(),R=k.length,P=2*R;if(w>d-P-2)throw new Error("message too long");var U=_.alloc(d-w-P-2),F=d-R-1,y=L(R),z=f(_.concat([k,U,_.alloc(1,1),g],F),C(y,F)),Q=f(y,C(z,R));return new h(_.concat([_.alloc(1),Q,z],d))}function l(c,g,d){var w=g.length,k=c.modulus.byteLength();if(w>k-11)throw new Error("message too long");var R;return d?R=_.alloc(k-w-3,255):R=S(k-w-3),new h(_.concat([_.from([0,d?1:2]),R,_.alloc(1),g],k))}function S(c){for(var g=_.allocUnsafe(c),d=0,w=L(c*2),k=0,R;d<c;)k===w.length&&(w=L(c*2),k=0),R=w[k++],R&&(g[d++]=R);return g}},99247:(s,V,M)=>{var A=M(39404),L=M(92861).Buffer;function I(C,f){return L.from(C.toRed(A.mont(f.modulus)).redPow(new A(f.publicExponent)).fromRed().toArray())}s.exports=I},52061:s=>{s.exports=function(M,A){for(var L=M.length,I=-1;++I<L;)M[I]^=A[I];return M}},53209:(s,V,M)=>{"use strict";var A=M(65606),L=65536,I=4294967295;function C(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var f=M(92861).Buffer,h=M.g.crypto||M.g.msCrypto;h&&h.getRandomValues?s.exports=p:s.exports=C;function p(m,_){if(m>I)throw new RangeError("requested too many random bytes");var b=f.allocUnsafe(m);if(m>0)if(m>L)for(var l=0;l<m;l+=L)h.getRandomValues(b.slice(l,l+L));else h.getRandomValues(b);return typeof _=="function"?A.nextTick(function(){_(null,b)}):b}},76983:(s,V,M)=>{"use strict";var A=M(65606);function L(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var I=M(92861),C=M(53209),f=I.Buffer,h=I.kMaxLength,p=M.g.crypto||M.g.msCrypto,m=Math.pow(2,32)-1;function _(g,d){if(typeof g!="number"||g!==g)throw new TypeError("offset must be a number");if(g>m||g<0)throw new TypeError("offset must be a uint32");if(g>h||g>d)throw new RangeError("offset out of range")}function b(g,d,w){if(typeof g!="number"||g!==g)throw new TypeError("size must be a number");if(g>m||g<0)throw new TypeError("size must be a uint32");if(g+d>w||g>h)throw new RangeError("buffer too small")}p&&p.getRandomValues||!A.browser?(V.randomFill=l,V.randomFillSync=c):(V.randomFill=L,V.randomFillSync=L);function l(g,d,w,k){if(!f.isBuffer(g)&&!(g instanceof M.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof d=="function")k=d,d=0,w=g.length;else if(typeof w=="function")k=w,w=g.length-d;else if(typeof k!="function")throw new TypeError('"cb" argument must be a function');return _(d,g.length),b(w,d,g.length),S(g,d,w,k)}function S(g,d,w,k){if(A.browser){var R=g.buffer,P=new Uint8Array(R,d,w);if(p.getRandomValues(P),k){A.nextTick(function(){k(null,g)});return}return g}if(k){C(w,function(F,y){if(F)return k(F);y.copy(g,d),k(null,g)});return}var U=C(w);return U.copy(g,d),g}function c(g,d,w){if(typeof d=="undefined"&&(d=0),!f.isBuffer(g)&&!(g instanceof M.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return _(d,g.length),w===void 0&&(w=g.length-d),b(w,d,g.length),S(g,d,w)}},66011:(s,V,M)=>{"use strict";var A=M(48287).Buffer,L=M(56698),I=M(4729),C=new Array(16),f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],_=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];function l(){I.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}L(l,I),l.prototype._update=function(){for(var R=C,P=0;P<16;++P)R[P]=this._block.readInt32LE(P*4);for(var U=this._a|0,F=this._b|0,y=this._c|0,z=this._d|0,Q=this._e|0,Z=this._a|0,X=this._b|0,Y=this._c|0,O=this._d|0,$=this._e|0,D=0;D<80;D+=1){var u,E;D<16?(u=c(U,F,y,z,Q,R[f[D]],_[0],p[D]),E=k(Z,X,Y,O,$,R[h[D]],b[0],m[D])):D<32?(u=g(U,F,y,z,Q,R[f[D]],_[1],p[D]),E=w(Z,X,Y,O,$,R[h[D]],b[1],m[D])):D<48?(u=d(U,F,y,z,Q,R[f[D]],_[2],p[D]),E=d(Z,X,Y,O,$,R[h[D]],b[2],m[D])):D<64?(u=w(U,F,y,z,Q,R[f[D]],_[3],p[D]),E=g(Z,X,Y,O,$,R[h[D]],b[3],m[D])):(u=k(U,F,y,z,Q,R[f[D]],_[4],p[D]),E=c(Z,X,Y,O,$,R[h[D]],b[4],m[D])),U=Q,Q=z,z=S(y,10),y=F,F=u,Z=$,$=O,O=S(Y,10),Y=X,X=E}var q=this._b+y+O|0;this._b=this._c+z+$|0,this._c=this._d+Q+Z|0,this._d=this._e+U+X|0,this._e=this._a+F+Y|0,this._a=q},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var R=A.alloc?A.alloc(20):new A(20);return R.writeInt32LE(this._a,0),R.writeInt32LE(this._b,4),R.writeInt32LE(this._c,8),R.writeInt32LE(this._d,12),R.writeInt32LE(this._e,16),R};function S(R,P){return R<<P|R>>>32-P}function c(R,P,U,F,y,z,Q,Z){return S(R+(P^U^F)+z+Q|0,Z)+y|0}function g(R,P,U,F,y,z,Q,Z){return S(R+(P&U|~P&F)+z+Q|0,Z)+y|0}function d(R,P,U,F,y,z,Q,Z){return S(R+((P|~U)^F)+z+Q|0,Z)+y|0}function w(R,P,U,F,y,z,Q,Z){return S(R+(P&F|U&~F)+z+Q|0,Z)+y|0}function k(R,P,U,F,y,z,Q,Z){return S(R+(P^(U|~F))+z+Q|0,Z)+y|0}s.exports=l},92861:(s,V,M)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var A=M(48287),L=A.Buffer;function I(f,h){for(var p in f)h[p]=f[p]}L.from&&L.alloc&&L.allocUnsafe&&L.allocUnsafeSlow?s.exports=A:(I(A,V),V.Buffer=C);function C(f,h,p){return L(f,h,p)}C.prototype=Object.create(L.prototype),I(L,C),C.from=function(f,h,p){if(typeof f=="number")throw new TypeError("Argument must not be a number");return L(f,h,p)},C.alloc=function(f,h,p){if(typeof f!="number")throw new TypeError("Argument must be a number");var m=L(f);return h!==void 0?typeof p=="string"?m.fill(h,p):m.fill(h):m.fill(0),m},C.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return L(f)},C.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return A.SlowBuffer(f)}},54774:(s,V,M)=>{"use strict";var A=M(65606),L=M(48287),I=L.Buffer,C={},f;for(f in L)L.hasOwnProperty(f)&&(f==="SlowBuffer"||f==="Buffer"||(C[f]=L[f]));var h=C.Buffer={};for(f in I)I.hasOwnProperty(f)&&(f==="allocUnsafe"||f==="allocUnsafeSlow"||(h[f]=I[f]));if(C.Buffer.prototype=I.prototype,(!h.from||h.from===Uint8Array.from)&&(h.from=function(p,m,_){if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof p);if(p&&typeof p.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);return I(p,m,_)}),h.alloc||(h.alloc=function(p,m,_){if(typeof p!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof p);if(p<0||p>=2147483648)throw new RangeError('The value "'+p+'" is invalid for option "size"');var b=I(p);return!m||m.length===0?b.fill(0):typeof _=="string"?b.fill(m,_):b.fill(m),b}),!C.kStringMaxLength)try{C.kStringMaxLength=A.binding("buffer").kStringMaxLength}catch{}C.constants||(C.constants={MAX_LENGTH:C.kMaxLength},C.kStringMaxLength&&(C.constants.MAX_STRING_LENGTH=C.kStringMaxLength)),s.exports=C},96897:(s,V,M)=>{"use strict";var A=M(70453),L=M(30041),I=M(30592)(),C=M(75795),f=M(69675),h=A("%Math.floor%");s.exports=function(m,_){if(typeof m!="function")throw new f("`fn` is not a function");if(typeof _!="number"||_<0||_>4294967295||h(_)!==_)throw new f("`length` must be a positive 32-bit integer");var b=arguments.length>2&&!!arguments[2],l=!0,S=!0;if("length"in m&&C){var c=C(m,"length");c&&!c.configurable&&(l=!1),c&&!c.writable&&(S=!1)}return(l||S||!b)&&(I?L(m,"length",_,!0,!0):L(m,"length",_)),m}},90392:(s,V,M)=>{"use strict";var A=M(92861).Buffer,L=M(15377);function I(C,f){this._block=A.alloc(C),this._finalSize=f,this._blockSize=C,this._len=0}I.prototype.update=function(C,f){C=L(C,f||"utf8");for(var h=this._block,p=this._blockSize,m=C.length,_=this._len,b=0;b<m;){for(var l=_%p,S=Math.min(m-b,p-l),c=0;c<S;c++)h[l+c]=C[b+c];_+=S,b+=S,_%p===0&&this._update(h)}return this._len+=m,this},I.prototype.digest=function(C){var f=this._len%this._blockSize;this._block[f]=128,this._block.fill(0,f+1),f>=this._finalSize&&(this._update(this._block),this._block.fill(0));var h=this._len*8;if(h<=4294967295)this._block.writeUInt32BE(h,this._blockSize-4);else{var p=(h&4294967295)>>>0,m=(h-p)/4294967296;this._block.writeUInt32BE(m,this._blockSize-8),this._block.writeUInt32BE(p,this._blockSize-4)}this._update(this._block);var _=this._hash();return C?_.toString(C):_},I.prototype._update=function(){throw new Error("_update must be implemented by subclass")},s.exports=I},62802:(s,V,M)=>{"use strict";s.exports=function(L){var I=L.toLowerCase(),C=s.exports[I];if(!C)throw new Error(I+" is not supported (we accept pull requests)");return new C},s.exports.sha=M(27816),s.exports.sha1=M(63737),s.exports.sha224=M(26710),s.exports.sha256=M(24107),s.exports.sha384=M(32827),s.exports.sha512=M(82890)},27816:(s,V,M)=>{"use strict";var A=M(56698),L=M(90392),I=M(92861).Buffer,C=[1518500249,1859775393,-1894007588,-899497514],f=new Array(80);function h(){this.init(),this._w=f,L.call(this,64,56)}A(h,L),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function p(b){return b<<5|b>>>27}function m(b){return b<<30|b>>>2}function _(b,l,S,c){return b===0?l&S|~l&c:b===2?l&S|l&c|S&c:l^S^c}h.prototype._update=function(b){for(var l=this._w,S=this._a|0,c=this._b|0,g=this._c|0,d=this._d|0,w=this._e|0,k=0;k<16;++k)l[k]=b.readInt32BE(k*4);for(;k<80;++k)l[k]=l[k-3]^l[k-8]^l[k-14]^l[k-16];for(var R=0;R<80;++R){var P=~~(R/20),U=p(S)+_(P,c,g,d)+w+l[R]+C[P]|0;w=d,d=g,g=m(c),c=S,S=U}this._a=S+this._a|0,this._b=c+this._b|0,this._c=g+this._c|0,this._d=d+this._d|0,this._e=w+this._e|0},h.prototype._hash=function(){var b=I.allocUnsafe(20);return b.writeInt32BE(this._a|0,0),b.writeInt32BE(this._b|0,4),b.writeInt32BE(this._c|0,8),b.writeInt32BE(this._d|0,12),b.writeInt32BE(this._e|0,16),b},s.exports=h},63737:(s,V,M)=>{"use strict";var A=M(56698),L=M(90392),I=M(92861).Buffer,C=[1518500249,1859775393,-1894007588,-899497514],f=new Array(80);function h(){this.init(),this._w=f,L.call(this,64,56)}A(h,L),h.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function p(l){return l<<1|l>>>31}function m(l){return l<<5|l>>>27}function _(l){return l<<30|l>>>2}function b(l,S,c,g){return l===0?S&c|~S&g:l===2?S&c|S&g|c&g:S^c^g}h.prototype._update=function(l){for(var S=this._w,c=this._a|0,g=this._b|0,d=this._c|0,w=this._d|0,k=this._e|0,R=0;R<16;++R)S[R]=l.readInt32BE(R*4);for(;R<80;++R)S[R]=p(S[R-3]^S[R-8]^S[R-14]^S[R-16]);for(var P=0;P<80;++P){var U=~~(P/20),F=m(c)+b(U,g,d,w)+k+S[P]+C[U]|0;k=w,w=d,d=_(g),g=c,c=F}this._a=c+this._a|0,this._b=g+this._b|0,this._c=d+this._c|0,this._d=w+this._d|0,this._e=k+this._e|0},h.prototype._hash=function(){var l=I.allocUnsafe(20);return l.writeInt32BE(this._a|0,0),l.writeInt32BE(this._b|0,4),l.writeInt32BE(this._c|0,8),l.writeInt32BE(this._d|0,12),l.writeInt32BE(this._e|0,16),l},s.exports=h},26710:(s,V,M)=>{"use strict";var A=M(56698),L=M(24107),I=M(90392),C=M(92861).Buffer,f=new Array(64);function h(){this.init(),this._w=f,I.call(this,64,56)}A(h,L),h.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},h.prototype._hash=function(){var p=C.allocUnsafe(28);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p},s.exports=h},24107:(s,V,M)=>{"use strict";var A=M(56698),L=M(90392),I=M(92861).Buffer,C=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=new Array(64);function h(){this.init(),this._w=f,L.call(this,64,56)}A(h,L),h.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function p(c,g,d){return d^c&(g^d)}function m(c,g,d){return c&g|d&(c|g)}function _(c){return(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10)}function b(c){return(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7)}function l(c){return(c>>>7|c<<25)^(c>>>18|c<<14)^c>>>3}function S(c){return(c>>>17|c<<15)^(c>>>19|c<<13)^c>>>10}h.prototype._update=function(c){for(var g=this._w,d=this._a|0,w=this._b|0,k=this._c|0,R=this._d|0,P=this._e|0,U=this._f|0,F=this._g|0,y=this._h|0,z=0;z<16;++z)g[z]=c.readInt32BE(z*4);for(;z<64;++z)g[z]=S(g[z-2])+g[z-7]+l(g[z-15])+g[z-16]|0;for(var Q=0;Q<64;++Q){var Z=y+b(P)+p(P,U,F)+C[Q]+g[Q]|0,X=_(d)+m(d,w,k)|0;y=F,F=U,U=P,P=R+Z|0,R=k,k=w,w=d,d=Z+X|0}this._a=d+this._a|0,this._b=w+this._b|0,this._c=k+this._c|0,this._d=R+this._d|0,this._e=P+this._e|0,this._f=U+this._f|0,this._g=F+this._g|0,this._h=y+this._h|0},h.prototype._hash=function(){var c=I.allocUnsafe(32);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c.writeInt32BE(this._h,28),c},s.exports=h},32827:(s,V,M)=>{"use strict";var A=M(56698),L=M(82890),I=M(90392),C=M(92861).Buffer,f=new Array(160);function h(){this.init(),this._w=f,I.call(this,128,112)}A(h,L),h.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},h.prototype._hash=function(){var p=C.allocUnsafe(48);function m(_,b,l){p.writeInt32BE(_,l),p.writeInt32BE(b,l+4)}return m(this._ah,this._al,0),m(this._bh,this._bl,8),m(this._ch,this._cl,16),m(this._dh,this._dl,24),m(this._eh,this._el,32),m(this._fh,this._fl,40),p},s.exports=h},82890:(s,V,M)=>{"use strict";var A=M(56698),L=M(90392),I=M(92861).Buffer,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],f=new Array(160);function h(){this.init(),this._w=f,L.call(this,128,112)}A(h,L),h.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function p(w,k,R){return R^w&(k^R)}function m(w,k,R){return w&k|R&(w|k)}function _(w,k){return(w>>>28|k<<4)^(k>>>2|w<<30)^(k>>>7|w<<25)}function b(w,k){return(w>>>14|k<<18)^(w>>>18|k<<14)^(k>>>9|w<<23)}function l(w,k){return(w>>>1|k<<31)^(w>>>8|k<<24)^w>>>7}function S(w,k){return(w>>>1|k<<31)^(w>>>8|k<<24)^(w>>>7|k<<25)}function c(w,k){return(w>>>19|k<<13)^(k>>>29|w<<3)^w>>>6}function g(w,k){return(w>>>19|k<<13)^(k>>>29|w<<3)^(w>>>6|k<<26)}function d(w,k){return w>>>0<k>>>0?1:0}h.prototype._update=function(w){for(var k=this._w,R=this._ah|0,P=this._bh|0,U=this._ch|0,F=this._dh|0,y=this._eh|0,z=this._fh|0,Q=this._gh|0,Z=this._hh|0,X=this._al|0,Y=this._bl|0,O=this._cl|0,$=this._dl|0,D=this._el|0,u=this._fl|0,E=this._gl|0,q=this._hl|0,H=0;H<32;H+=2)k[H]=w.readInt32BE(H*4),k[H+1]=w.readInt32BE(H*4+4);for(;H<160;H+=2){var K=k[H-30],G=k[H-15*2+1],ie=l(K,G),J=S(G,K);K=k[H-4],G=k[H-4+1];var B=c(K,G),ae=g(G,K),Ne=k[H-7*2],be=k[H-7*2+1],we=k[H-16*2],Te=k[H-16*2+1],ee=J+be|0,ne=ie+Ne+d(ee,J)|0;ee=ee+ae|0,ne=ne+B+d(ee,ae)|0,ee=ee+Te|0,ne=ne+we+d(ee,Te)|0,k[H]=ne,k[H+1]=ee}for(var me=0;me<160;me+=2){ne=k[me],ee=k[me+1];var ge=m(R,P,U),_e=m(X,Y,O),j=_(R,X),N=_(X,R),se=b(y,D),de=b(D,y),ue=C[me],le=C[me+1],pe=p(y,z,Q),Ae=p(D,u,E),Fe=q+de|0,Be=Z+se+d(Fe,q)|0;Fe=Fe+Ae|0,Be=Be+pe+d(Fe,Ae)|0,Fe=Fe+le|0,Be=Be+ue+d(Fe,le)|0,Fe=Fe+ee|0,Be=Be+ne+d(Fe,ee)|0;var Ue=N+_e|0,He=j+ge+d(Ue,N)|0;Z=Q,q=E,Q=z,E=u,z=y,u=D,D=$+Fe|0,y=F+Be+d(D,$)|0,F=U,$=O,U=P,O=Y,P=R,Y=X,X=Fe+Ue|0,R=Be+He+d(X,Fe)|0}this._al=this._al+X|0,this._bl=this._bl+Y|0,this._cl=this._cl+O|0,this._dl=this._dl+$|0,this._el=this._el+D|0,this._fl=this._fl+u|0,this._gl=this._gl+E|0,this._hl=this._hl+q|0,this._ah=this._ah+R+d(this._al,X)|0,this._bh=this._bh+P+d(this._bl,Y)|0,this._ch=this._ch+U+d(this._cl,O)|0,this._dh=this._dh+F+d(this._dl,$)|0,this._eh=this._eh+y+d(this._el,D)|0,this._fh=this._fh+z+d(this._fl,u)|0,this._gh=this._gh+Q+d(this._gl,E)|0,this._hh=this._hh+Z+d(this._hl,q)|0},h.prototype._hash=function(){var w=I.allocUnsafe(64);function k(R,P,U){w.writeInt32BE(R,U),w.writeInt32BE(P,U+4)}return k(this._ah,this._al,0),k(this._bh,this._bl,8),k(this._ch,this._cl,16),k(this._dh,this._dl,24),k(this._eh,this._el,32),k(this._fh,this._fl,40),k(this._gh,this._gl,48),k(this._hh,this._hl,56),w},s.exports=h},1182:(s,V,M)=>{"use strict";const A=M(38601),L=/\s/,I=/\r|\n/,C=/^(Host|Match)$/i,f=/^(GlobalKnownHostsFile|Host|IPQoS|SendEnv|UserKnownHostsFile|ProxyCommand)$/i,h=/^(?:CertificateFile|IdentityFile|User)$/i,p=/^(Include|IdentityFile)$/i,m=1,_=2,b=["IdentityFile","LocalForward","RemoteForward","DynamicForward","CertificateFile"];function l(g,d){return d.hasOwnProperty(g.param)&&d[g.param]===g.value}function S(g){for(const d of g)if(C.test(d.param)){for(const w of d.config)if(w.before)return w.before}return"  "}class c extends Array{compute(d){const w={},k=(R,P)=>{b.includes(R)?(w[R]||(w[R]=[])).push(P):w[R]==null&&(w[R]=P)};for(const R of this)R.type===m&&(R.param==="Host"?A(R.value,d)&&(k(R.param,R.value),R.config.filter(P=>P.type===m).forEach(P=>k(P.param,P.value))):R.param==="Match"||k(R.param,R.value));return w}find(d={}){if(typeof d=="function")return super.find(d);if(!(d&&("Host"in d||"Match"in d)))throw new Error("Can only find by Host or Match");return super.find(w=>l(w,d))}remove(d={}){if(!(d&&("Host"in d||"Match"in d)))throw new Error("Can only remove by Host or Match");const w=typeof d=="function"?super.findIndex(d):super.findIndex(k=>l(k,d));if(w>=0)return this.splice(w,1)}toString(){return this.constructor.stringify(this)}append(d){const w=S(this),k=this.length>0?this[this.length-1]:null;let R=k&&k.config||this,P=this,U=R.length>0?R[R.length-1]:k;U&&!U.after&&(U.after=`
`);for(const F in d){const y={type:m,param:F,separator:" ",value:d[F],before:"",after:`
`};C.test(F)?(R=P,U&&U.after===`
`&&(U.after+=`
`),R.push(y),R=y.config=new c):(y.before=R===P?"":w,R.push(y)),U=y}return P}prepend(d,w=!1){const k=S(this);let R=this,P=0;if(w){for(;P<this.length&&!C.test(this[P].param);)P+=1;if(P>=this.length)return this.append(d)}let U=!1,F=0;for(const y in d){F+=1;const z={type:m,param:y,separator:" ",value:d[y],before:"",after:`
`};if(C.test(y)){R.splice(P,0,z),R=z.config=new c,U=!0;continue}if(F===Object.keys(d).length&&(z.after+=`
`),!U){R.splice(P,0,z),P+=1,p.test(y)&&(z.after+=`
`);continue}z.before=k,R.push(z)}return R}static stringify(d){let w="";function k(U,F){return Array.isArray(U)?U.map(y=>k(y,L.test(y))).join(" "):F?`"${U}"`:U}function R(U){const F=U.quoted||h.test(U.param)&&L.test(U.value),y=k(U.value,F);return`${U.param}${U.separator}${y}`}const P=U=>{w+=U.before,U.type===_?w+=U.content:U.type===m&&b.includes(U.param)?[].concat(U.value).forEach(function(F,y,z){w+=R({...U,value:F}),y<z.length-1&&(w+=`
${U.before}`)}):U.type===m&&(w+=R(U)),w+=U.after,U.config&&U.config.forEach(P)};return d.forEach(P),w}static get DIRECTIVE(){return m}static get COMMENT(){return _}static parse(d){let w=0,k=U(),R=new c,P=R;function U(){return d[w++]}function F(){let D="";for(;L.test(k);)D+=k,k=U();return D}function y(){let D="";for(;I.test(k);)D+=k,k=U();return D}function z(){let D="";for(;k&&/[^ \t=]/.test(k);)D+=k,k=U();return D}function Q(){let D=F();return k==="="&&(D+=k,k=U()),D+F()}function Z(){let D="",u=!1,E=!1;for(;k&&!I.test(k);)E?(D+=k==='"'?k:`\\${k}`,E=!1):k==='"'&&(!D||u)?u=!u:k==="\\"?E=!0:D+=k,k=U();if(u||E)throw new Error(`Unexpected line break at ${D}`);return D.trim()}function X(){const D=_;let u="";for(;k&&!I.test(k);)u+=k,k=U();return{type:D,content:u}}function Y(){const D=[];let u="",E=!1,q=!1;for(;k&&!I.test(k);)q?(u+=k==='"'?k:`\\${k}`,q=!1):k==='"'?E=!E:k==="\\"?q=!0:E?u+=k:/[ \t]/.test(k)?u&&(D.push(u),u=""):u+=k,k=U();if(E||q)throw new Error(`Unexpected line break at ${D.concat(u).join(" ")}`);return u&&D.push(u),D.length>1?D:D[0]}function O(){const D=m,u=z(),E=f.test(u),q={type:D,param:u,separator:Q(),quoted:!E&&k==='"',value:E?Y():Z()};return q.quoted||delete q.quoted,q}function $(){const D=F(),u=k==="#"?X():O(),E=y();return u.before=D,u.after=E,u}for(;k;){let D=$();D.type===m&&C.test(D.param)?(R=P,R.push(D),R=D.config=new c):R.push(D)}return P}}s.exports=c},38601:s=>{"use strict";function V(L,I){for(let C of I)L=L.replace(new RegExp("\\"+C,"g"),"\\"+C);return L}function M(L,I){return L=V(L,"\\()[]{}.+^$|"),L=L.replace(/\*/g,".*").replace(/\?/g,".?"),new RegExp("^(?:"+L+")$").test(I)}function A(L,I){const C=Array.isArray(L)?L:L.split(/,/);let f=!1;for(const h of C){if(h[0]=="!"&&M(h.slice(1),I))return!1;M(h,I)&&(f=!0)}return f}s.exports=A},88310:(s,V,M)=>{s.exports=I;var A=M(37007).EventEmitter,L=M(56698);L(I,A),I.Readable=M(46891),I.Writable=M(81999),I.Duplex=M(88101),I.Transform=M(59083),I.PassThrough=M(3681),I.finished=M(14257),I.pipeline=M(5267),I.Stream=I;function I(){A.call(this)}I.prototype.pipe=function(C,f){var h=this;function p(g){C.writable&&C.write(g)===!1&&h.pause&&h.pause()}h.on("data",p);function m(){h.readable&&h.resume&&h.resume()}C.on("drain",m),!C._isStdio&&(!f||f.end!==!1)&&(h.on("end",b),h.on("close",l));var _=!1;function b(){_||(_=!0,C.end())}function l(){_||(_=!0,typeof C.destroy=="function"&&C.destroy())}function S(g){if(c(),A.listenerCount(this,"error")===0)throw g}h.on("error",S),C.on("error",S);function c(){h.removeListener("data",p),C.removeListener("drain",m),h.removeListener("end",b),h.removeListener("close",l),h.removeListener("error",S),C.removeListener("error",S),h.removeListener("end",c),h.removeListener("close",c),C.removeListener("close",c)}return h.on("end",c),h.on("close",c),C.on("close",c),C.emit("pipe",h),C}},12463:s=>{"use strict";function V(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var M={};function A(h,p,m){m||(m=Error);function _(l,S,c){return typeof p=="string"?p:p(l,S,c)}var b=function(l){V(S,l);function S(c,g,d){return l.call(this,_(c,g,d))||this}return S}(m);b.prototype.name=m.name,b.prototype.code=h,M[h]=b}function L(h,p){if(Array.isArray(h)){var m=h.length;return h=h.map(function(_){return String(_)}),m>2?"one of ".concat(p," ").concat(h.slice(0,m-1).join(", "),", or ")+h[m-1]:m===2?"one of ".concat(p," ").concat(h[0]," or ").concat(h[1]):"of ".concat(p," ").concat(h[0])}else return"of ".concat(p," ").concat(String(h))}function I(h,p,m){return h.substr(!m||m<0?0:+m,p.length)===p}function C(h,p,m){return(m===void 0||m>h.length)&&(m=h.length),h.substring(m-p.length,m)===p}function f(h,p,m){return typeof m!="number"&&(m=0),m+p.length>h.length?!1:h.indexOf(p,m)!==-1}A("ERR_INVALID_OPT_VALUE",function(h,p){return'The value "'+p+'" is invalid for option "'+h+'"'},TypeError),A("ERR_INVALID_ARG_TYPE",function(h,p,m){var _;typeof p=="string"&&I(p,"not ")?(_="must not be",p=p.replace(/^not /,"")):_="must be";var b;if(C(h," argument"))b="The ".concat(h," ").concat(_," ").concat(L(p,"type"));else{var l=f(h,".")?"property":"argument";b='The "'.concat(h,'" ').concat(l," ").concat(_," ").concat(L(p,"type"))}return b+=". Received type ".concat(typeof m),b},TypeError),A("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),A("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),A("ERR_STREAM_PREMATURE_CLOSE","Premature close"),A("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),A("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),A("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),A("ERR_STREAM_WRITE_AFTER_END","write after end"),A("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),A("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),A("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=M},88101:(s,V,M)=>{"use strict";var A=M(65606),L=Object.keys||function(l){var S=[];for(var c in l)S.push(c);return S};s.exports=m;var I=M(46891),C=M(81999);M(56698)(m,I);for(var f=L(C.prototype),h=0;h<f.length;h++){var p=f[h];m.prototype[p]||(m.prototype[p]=C.prototype[p])}function m(l){if(!(this instanceof m))return new m(l);I.call(this,l),C.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(m.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(m.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||A.nextTick(b,this)}function b(l){l.end()}Object.defineProperty(m.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(S){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=S,this._writableState.destroyed=S)}})},3681:(s,V,M)=>{"use strict";s.exports=L;var A=M(59083);M(56698)(L,A);function L(I){if(!(this instanceof L))return new L(I);A.call(this,I)}L.prototype._transform=function(I,C,f){f(null,I)}},46891:(s,V,M)=>{"use strict";var A=M(65606);s.exports=O;var L;O.ReadableState=Y;var I=M(37007).EventEmitter,C=function(N,se){return N.listeners(se).length},f=M(41396),h=M(48287).Buffer,p=M.g.Uint8Array||function(){};function m(j){return h.from(j)}function _(j){return h.isBuffer(j)||j instanceof p}var b=M(77199),l;b&&b.debuglog?l=b.debuglog("stream"):l=function(){};var S=M(81766),c=M(54347),g=M(66644),d=g.getHighWaterMark,w=M(12463).F,k=w.ERR_INVALID_ARG_TYPE,R=w.ERR_STREAM_PUSH_AFTER_EOF,P=w.ERR_METHOD_NOT_IMPLEMENTED,U=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,F,y,z;M(56698)(O,f);var Q=c.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function X(j,N,se){if(typeof j.prependListener=="function")return j.prependListener(N,se);!j._events||!j._events[N]?j.on(N,se):Array.isArray(j._events[N])?j._events[N].unshift(se):j._events[N]=[se,j._events[N]]}function Y(j,N,se){L=L||M(88101),j=j||{},typeof se!="boolean"&&(se=N instanceof L),this.objectMode=!!j.objectMode,se&&(this.objectMode=this.objectMode||!!j.readableObjectMode),this.highWaterMark=d(this,j,"readableHighWaterMark",se),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(F||(F=M(83141).I),this.decoder=new F(j.encoding),this.encoding=j.encoding)}function O(j){if(L=L||M(88101),!(this instanceof O))return new O(j);var N=this instanceof L;this._readableState=new Y(j,this,N),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),f.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(j,N){N(j)},O.prototype.push=function(j,N){var se=this._readableState,de;return se.objectMode?de=!0:typeof j=="string"&&(N=N||se.defaultEncoding,N!==se.encoding&&(j=h.from(j,N),N=""),de=!0),$(this,j,N,!1,de)},O.prototype.unshift=function(j){return $(this,j,null,!0,!1)};function $(j,N,se,de,ue){l("readableAddChunk",N);var le=j._readableState;if(N===null)le.reading=!1,K(j,le);else{var pe;if(ue||(pe=u(le,N)),pe)Q(j,pe);else if(le.objectMode||N&&N.length>0)if(typeof N!="string"&&!le.objectMode&&Object.getPrototypeOf(N)!==h.prototype&&(N=m(N)),de)le.endEmitted?Q(j,new U):D(j,le,N,!0);else if(le.ended)Q(j,new R);else{if(le.destroyed)return!1;le.reading=!1,le.decoder&&!se?(N=le.decoder.write(N),le.objectMode||N.length!==0?D(j,le,N,!1):J(j,le)):D(j,le,N,!1)}else de||(le.reading=!1,J(j,le))}return!le.ended&&(le.length<le.highWaterMark||le.length===0)}function D(j,N,se,de){N.flowing&&N.length===0&&!N.sync?(N.awaitDrain=0,j.emit("data",se)):(N.length+=N.objectMode?1:se.length,de?N.buffer.unshift(se):N.buffer.push(se),N.needReadable&&G(j)),J(j,N)}function u(j,N){var se;return!_(N)&&typeof N!="string"&&N!==void 0&&!j.objectMode&&(se=new k("chunk",["string","Buffer","Uint8Array"],N)),se}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(j){F||(F=M(83141).I);var N=new F(j);this._readableState.decoder=N,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,de="";se!==null;)de+=N.write(se.data),se=se.next;return this._readableState.buffer.clear(),de!==""&&this._readableState.buffer.push(de),this._readableState.length=de.length,this};var E=1073741824;function q(j){return j>=E?j=E:(j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++),j}function H(j,N){return j<=0||N.length===0&&N.ended?0:N.objectMode?1:j!==j?N.flowing&&N.length?N.buffer.head.data.length:N.length:(j>N.highWaterMark&&(N.highWaterMark=q(j)),j<=N.length?j:N.ended?N.length:(N.needReadable=!0,0))}O.prototype.read=function(j){l("read",j),j=parseInt(j,10);var N=this._readableState,se=j;if(j!==0&&(N.emittedReadable=!1),j===0&&N.needReadable&&((N.highWaterMark!==0?N.length>=N.highWaterMark:N.length>0)||N.ended))return l("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?me(this):G(this),null;if(j=H(j,N),j===0&&N.ended)return N.length===0&&me(this),null;var de=N.needReadable;l("need readable",de),(N.length===0||N.length-j<N.highWaterMark)&&(de=!0,l("length less than watermark",de)),N.ended||N.reading?(de=!1,l("reading or ended",de)):de&&(l("do read"),N.reading=!0,N.sync=!0,N.length===0&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(j=H(se,N)));var ue;return j>0?ue=ne(j,N):ue=null,ue===null?(N.needReadable=N.length<=N.highWaterMark,j=0):(N.length-=j,N.awaitDrain=0),N.length===0&&(N.ended||(N.needReadable=!0),se!==j&&N.ended&&me(this)),ue!==null&&this.emit("data",ue),ue};function K(j,N){if(l("onEofChunk"),!N.ended){if(N.decoder){var se=N.decoder.end();se&&se.length&&(N.buffer.push(se),N.length+=N.objectMode?1:se.length)}N.ended=!0,N.sync?G(j):(N.needReadable=!1,N.emittedReadable||(N.emittedReadable=!0,ie(j)))}}function G(j){var N=j._readableState;l("emitReadable",N.needReadable,N.emittedReadable),N.needReadable=!1,N.emittedReadable||(l("emitReadable",N.flowing),N.emittedReadable=!0,A.nextTick(ie,j))}function ie(j){var N=j._readableState;l("emitReadable_",N.destroyed,N.length,N.ended),!N.destroyed&&(N.length||N.ended)&&(j.emit("readable"),N.emittedReadable=!1),N.needReadable=!N.flowing&&!N.ended&&N.length<=N.highWaterMark,ee(j)}function J(j,N){N.readingMore||(N.readingMore=!0,A.nextTick(B,j,N))}function B(j,N){for(;!N.reading&&!N.ended&&(N.length<N.highWaterMark||N.flowing&&N.length===0);){var se=N.length;if(l("maybeReadMore read 0"),j.read(0),se===N.length)break}N.readingMore=!1}O.prototype._read=function(j){Q(this,new P("_read()"))},O.prototype.pipe=function(j,N){var se=this,de=this._readableState;switch(de.pipesCount){case 0:de.pipes=j;break;case 1:de.pipes=[de.pipes,j];break;default:de.pipes.push(j);break}de.pipesCount+=1,l("pipe count=%d opts=%j",de.pipesCount,N);var ue=(!N||N.end!==!1)&&j!==A.stdout&&j!==A.stderr,le=ue?Ae:ce;de.endEmitted?A.nextTick(le):se.once("end",le),j.on("unpipe",pe);function pe(ke,Ie){l("onunpipe"),ke===se&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,Ue())}function Ae(){l("onend"),j.end()}var Fe=ae(se);j.on("drain",Fe);var Be=!1;function Ue(){l("cleanup"),j.removeListener("close",he),j.removeListener("finish",re),j.removeListener("drain",Fe),j.removeListener("error",Ye),j.removeListener("unpipe",pe),se.removeListener("end",Ae),se.removeListener("end",ce),se.removeListener("data",He),Be=!0,de.awaitDrain&&(!j._writableState||j._writableState.needDrain)&&Fe()}se.on("data",He);function He(ke){l("ondata");var Ie=j.write(ke);l("dest.write",Ie),Ie===!1&&((de.pipesCount===1&&de.pipes===j||de.pipesCount>1&&_e(de.pipes,j)!==-1)&&!Be&&(l("false write response, pause",de.awaitDrain),de.awaitDrain++),se.pause())}function Ye(ke){l("onerror",ke),ce(),j.removeListener("error",Ye),C(j,"error")===0&&Q(j,ke)}X(j,"error",Ye);function he(){j.removeListener("finish",re),ce()}j.once("close",he);function re(){l("onfinish"),j.removeListener("close",he),ce()}j.once("finish",re);function ce(){l("unpipe"),se.unpipe(j)}return j.emit("pipe",se),de.flowing||(l("pipe resume"),se.resume()),j};function ae(j){return function(){var se=j._readableState;l("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&C(j,"data")&&(se.flowing=!0,ee(j))}}O.prototype.unpipe=function(j){var N=this._readableState,se={hasUnpiped:!1};if(N.pipesCount===0)return this;if(N.pipesCount===1)return j&&j!==N.pipes?this:(j||(j=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,j&&j.emit("unpipe",this,se),this);if(!j){var de=N.pipes,ue=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var le=0;le<ue;le++)de[le].emit("unpipe",this,{hasUnpiped:!1});return this}var pe=_e(N.pipes,j);return pe===-1?this:(N.pipes.splice(pe,1),N.pipesCount-=1,N.pipesCount===1&&(N.pipes=N.pipes[0]),j.emit("unpipe",this,se),this)},O.prototype.on=function(j,N){var se=f.prototype.on.call(this,j,N),de=this._readableState;return j==="data"?(de.readableListening=this.listenerCount("readable")>0,de.flowing!==!1&&this.resume()):j==="readable"&&!de.endEmitted&&!de.readableListening&&(de.readableListening=de.needReadable=!0,de.flowing=!1,de.emittedReadable=!1,l("on readable",de.length,de.reading),de.length?G(this):de.reading||A.nextTick(be,this)),se},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(j,N){var se=f.prototype.removeListener.call(this,j,N);return j==="readable"&&A.nextTick(Ne,this),se},O.prototype.removeAllListeners=function(j){var N=f.prototype.removeAllListeners.apply(this,arguments);return(j==="readable"||j===void 0)&&A.nextTick(Ne,this),N};function Ne(j){var N=j._readableState;N.readableListening=j.listenerCount("readable")>0,N.resumeScheduled&&!N.paused?N.flowing=!0:j.listenerCount("data")>0&&j.resume()}function be(j){l("readable nexttick read 0"),j.read(0)}O.prototype.resume=function(){var j=this._readableState;return j.flowing||(l("resume"),j.flowing=!j.readableListening,we(this,j)),j.paused=!1,this};function we(j,N){N.resumeScheduled||(N.resumeScheduled=!0,A.nextTick(Te,j,N))}function Te(j,N){l("resume",N.reading),N.reading||j.read(0),N.resumeScheduled=!1,j.emit("resume"),ee(j),N.flowing&&!N.reading&&j.read(0)}O.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ee(j){var N=j._readableState;for(l("flow",N.flowing);N.flowing&&j.read()!==null;);}O.prototype.wrap=function(j){var N=this,se=this._readableState,de=!1;j.on("end",function(){if(l("wrapped end"),se.decoder&&!se.ended){var pe=se.decoder.end();pe&&pe.length&&N.push(pe)}N.push(null)}),j.on("data",function(pe){if(l("wrapped data"),se.decoder&&(pe=se.decoder.write(pe)),!(se.objectMode&&pe==null)&&!(!se.objectMode&&(!pe||!pe.length))){var Ae=N.push(pe);Ae||(de=!0,j.pause())}});for(var ue in j)this[ue]===void 0&&typeof j[ue]=="function"&&(this[ue]=function(Ae){return function(){return j[Ae].apply(j,arguments)}}(ue));for(var le=0;le<Z.length;le++)j.on(Z[le],this.emit.bind(this,Z[le]));return this._read=function(pe){l("wrapped _read",pe),de&&(de=!1,j.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=M(65034)),y(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(N){this._readableState&&(this._readableState.flowing=N)}}),O._fromList=ne,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ne(j,N){if(N.length===0)return null;var se;return N.objectMode?se=N.buffer.shift():!j||j>=N.length?(N.decoder?se=N.buffer.join(""):N.buffer.length===1?se=N.buffer.first():se=N.buffer.concat(N.length),N.buffer.clear()):se=N.buffer.consume(j,N.decoder),se}function me(j){var N=j._readableState;l("endReadable",N.endEmitted),N.endEmitted||(N.ended=!0,A.nextTick(ge,N,j))}function ge(j,N){if(l("endReadableNT",j.endEmitted,j.length),!j.endEmitted&&j.length===0&&(j.endEmitted=!0,N.readable=!1,N.emit("end"),j.autoDestroy)){var se=N._writableState;(!se||se.autoDestroy&&se.finished)&&N.destroy()}}typeof Symbol=="function"&&(O.from=function(j,N){return z===void 0&&(z=M(90968)),z(O,j,N)});function _e(j,N){for(var se=0,de=j.length;se<de;se++)if(j[se]===N)return se;return-1}},59083:(s,V,M)=>{"use strict";s.exports=m;var A=M(12463).F,L=A.ERR_METHOD_NOT_IMPLEMENTED,I=A.ERR_MULTIPLE_CALLBACK,C=A.ERR_TRANSFORM_ALREADY_TRANSFORMING,f=A.ERR_TRANSFORM_WITH_LENGTH_0,h=M(88101);M(56698)(m,h);function p(l,S){var c=this._transformState;c.transforming=!1;var g=c.writecb;if(g===null)return this.emit("error",new I);c.writechunk=null,c.writecb=null,S!=null&&this.push(S),g(l);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}function m(l){if(!(this instanceof m))return new m(l);h.call(this,l),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",_)}function _(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(S,c){b(l,S,c)}):b(this,null,null)}m.prototype.push=function(l,S){return this._transformState.needTransform=!1,h.prototype.push.call(this,l,S)},m.prototype._transform=function(l,S,c){c(new L("_transform()"))},m.prototype._write=function(l,S,c){var g=this._transformState;if(g.writecb=c,g.writechunk=l,g.writeencoding=S,!g.transforming){var d=this._readableState;(g.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}},m.prototype._read=function(l){var S=this._transformState;S.writechunk!==null&&!S.transforming?(S.transforming=!0,this._transform(S.writechunk,S.writeencoding,S.afterTransform)):S.needTransform=!0},m.prototype._destroy=function(l,S){h.prototype._destroy.call(this,l,function(c){S(c)})};function b(l,S,c){if(S)return l.emit("error",S);if(c!=null&&l.push(c),l._writableState.length)throw new f;if(l._transformState.transforming)throw new C;return l.push(null)}},81999:(s,V,M)=>{"use strict";var A=M(65606);s.exports=Y;function L(ee,ne,me){this.chunk=ee,this.encoding=ne,this.callback=me,this.next=null}function I(ee){var ne=this;this.next=null,this.entry=null,this.finish=function(){Te(ne,ee)}}var C;Y.WritableState=Z;var f={deprecate:M(94643)},h=M(41396),p=M(48287).Buffer,m=M.g.Uint8Array||function(){};function _(ee){return p.from(ee)}function b(ee){return p.isBuffer(ee)||ee instanceof m}var l=M(54347),S=M(66644),c=S.getHighWaterMark,g=M(12463).F,d=g.ERR_INVALID_ARG_TYPE,w=g.ERR_METHOD_NOT_IMPLEMENTED,k=g.ERR_MULTIPLE_CALLBACK,R=g.ERR_STREAM_CANNOT_PIPE,P=g.ERR_STREAM_DESTROYED,U=g.ERR_STREAM_NULL_VALUES,F=g.ERR_STREAM_WRITE_AFTER_END,y=g.ERR_UNKNOWN_ENCODING,z=l.errorOrDestroy;M(56698)(Y,h);function Q(){}function Z(ee,ne,me){C=C||M(88101),ee=ee||{},typeof me!="boolean"&&(me=ne instanceof C),this.objectMode=!!ee.objectMode,me&&(this.objectMode=this.objectMode||!!ee.writableObjectMode),this.highWaterMark=c(this,ee,"writableHighWaterMark",me),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ge=ee.decodeStrings===!1;this.decodeStrings=!ge,this.defaultEncoding=ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){K(ne,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ee.emitClose!==!1,this.autoDestroy=!!ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new I(this)}Z.prototype.getBuffer=function(){for(var ne=this.bufferedRequest,me=[];ne;)me.push(ne),ne=ne.next;return me},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var X;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(X=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(ne){return X.call(this,ne)?!0:this!==Y?!1:ne&&ne._writableState instanceof Z}})):X=function(ne){return ne instanceof this};function Y(ee){C=C||M(88101);var ne=this instanceof C;if(!ne&&!X.call(Y,this))return new Y(ee);this._writableState=new Z(ee,this,ne),this.writable=!0,ee&&(typeof ee.write=="function"&&(this._write=ee.write),typeof ee.writev=="function"&&(this._writev=ee.writev),typeof ee.destroy=="function"&&(this._destroy=ee.destroy),typeof ee.final=="function"&&(this._final=ee.final)),h.call(this)}Y.prototype.pipe=function(){z(this,new R)};function O(ee,ne){var me=new F;z(ee,me),A.nextTick(ne,me)}function $(ee,ne,me,ge){var _e;return me===null?_e=new U:typeof me!="string"&&!ne.objectMode&&(_e=new d("chunk",["string","Buffer"],me)),_e?(z(ee,_e),A.nextTick(ge,_e),!1):!0}Y.prototype.write=function(ee,ne,me){var ge=this._writableState,_e=!1,j=!ge.objectMode&&b(ee);return j&&!p.isBuffer(ee)&&(ee=_(ee)),typeof ne=="function"&&(me=ne,ne=null),j?ne="buffer":ne||(ne=ge.defaultEncoding),typeof me!="function"&&(me=Q),ge.ending?O(this,me):(j||$(this,ge,ee,me))&&(ge.pendingcb++,_e=u(this,ge,j,ee,ne,me)),_e},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var ee=this._writableState;ee.corked&&(ee.corked--,!ee.writing&&!ee.corked&&!ee.bufferProcessing&&ee.bufferedRequest&&J(this,ee))},Y.prototype.setDefaultEncoding=function(ne){if(typeof ne=="string"&&(ne=ne.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ne+"").toLowerCase())>-1))throw new y(ne);return this._writableState.defaultEncoding=ne,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function D(ee,ne,me){return!ee.objectMode&&ee.decodeStrings!==!1&&typeof ne=="string"&&(ne=p.from(ne,me)),ne}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function u(ee,ne,me,ge,_e,j){if(!me){var N=D(ne,ge,_e);ge!==N&&(me=!0,_e="buffer",ge=N)}var se=ne.objectMode?1:ge.length;ne.length+=se;var de=ne.length<ne.highWaterMark;if(de||(ne.needDrain=!0),ne.writing||ne.corked){var ue=ne.lastBufferedRequest;ne.lastBufferedRequest={chunk:ge,encoding:_e,isBuf:me,callback:j,next:null},ue?ue.next=ne.lastBufferedRequest:ne.bufferedRequest=ne.lastBufferedRequest,ne.bufferedRequestCount+=1}else E(ee,ne,!1,se,ge,_e,j);return de}function E(ee,ne,me,ge,_e,j,N){ne.writelen=ge,ne.writecb=N,ne.writing=!0,ne.sync=!0,ne.destroyed?ne.onwrite(new P("write")):me?ee._writev(_e,ne.onwrite):ee._write(_e,j,ne.onwrite),ne.sync=!1}function q(ee,ne,me,ge,_e){--ne.pendingcb,me?(A.nextTick(_e,ge),A.nextTick(be,ee,ne),ee._writableState.errorEmitted=!0,z(ee,ge)):(_e(ge),ee._writableState.errorEmitted=!0,z(ee,ge),be(ee,ne))}function H(ee){ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0}function K(ee,ne){var me=ee._writableState,ge=me.sync,_e=me.writecb;if(typeof _e!="function")throw new k;if(H(me),ne)q(ee,me,ge,ne,_e);else{var j=B(me)||ee.destroyed;!j&&!me.corked&&!me.bufferProcessing&&me.bufferedRequest&&J(ee,me),ge?A.nextTick(G,ee,me,j,_e):G(ee,me,j,_e)}}function G(ee,ne,me,ge){me||ie(ee,ne),ne.pendingcb--,ge(),be(ee,ne)}function ie(ee,ne){ne.length===0&&ne.needDrain&&(ne.needDrain=!1,ee.emit("drain"))}function J(ee,ne){ne.bufferProcessing=!0;var me=ne.bufferedRequest;if(ee._writev&&me&&me.next){var ge=ne.bufferedRequestCount,_e=new Array(ge),j=ne.corkedRequestsFree;j.entry=me;for(var N=0,se=!0;me;)_e[N]=me,me.isBuf||(se=!1),me=me.next,N+=1;_e.allBuffers=se,E(ee,ne,!0,ne.length,_e,"",j.finish),ne.pendingcb++,ne.lastBufferedRequest=null,j.next?(ne.corkedRequestsFree=j.next,j.next=null):ne.corkedRequestsFree=new I(ne),ne.bufferedRequestCount=0}else{for(;me;){var de=me.chunk,ue=me.encoding,le=me.callback,pe=ne.objectMode?1:de.length;if(E(ee,ne,!1,pe,de,ue,le),me=me.next,ne.bufferedRequestCount--,ne.writing)break}me===null&&(ne.lastBufferedRequest=null)}ne.bufferedRequest=me,ne.bufferProcessing=!1}Y.prototype._write=function(ee,ne,me){me(new w("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(ee,ne,me){var ge=this._writableState;return typeof ee=="function"?(me=ee,ee=null,ne=null):typeof ne=="function"&&(me=ne,ne=null),ee!=null&&this.write(ee,ne),ge.corked&&(ge.corked=1,this.uncork()),ge.ending||we(this,ge,me),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(ee){return ee.ending&&ee.length===0&&ee.bufferedRequest===null&&!ee.finished&&!ee.writing}function ae(ee,ne){ee._final(function(me){ne.pendingcb--,me&&z(ee,me),ne.prefinished=!0,ee.emit("prefinish"),be(ee,ne)})}function Ne(ee,ne){!ne.prefinished&&!ne.finalCalled&&(typeof ee._final=="function"&&!ne.destroyed?(ne.pendingcb++,ne.finalCalled=!0,A.nextTick(ae,ee,ne)):(ne.prefinished=!0,ee.emit("prefinish")))}function be(ee,ne){var me=B(ne);if(me&&(Ne(ee,ne),ne.pendingcb===0&&(ne.finished=!0,ee.emit("finish"),ne.autoDestroy))){var ge=ee._readableState;(!ge||ge.autoDestroy&&ge.endEmitted)&&ee.destroy()}return me}function we(ee,ne,me){ne.ending=!0,be(ee,ne),me&&(ne.finished?A.nextTick(me):ee.once("finish",me)),ne.ended=!0,ee.writable=!1}function Te(ee,ne,me){var ge=ee.entry;for(ee.entry=null;ge;){var _e=ge.callback;ne.pendingcb--,_e(me),ge=ge.next}ne.corkedRequestsFree.next=ee}Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ne){this._writableState&&(this._writableState.destroyed=ne)}}),Y.prototype.destroy=l.destroy,Y.prototype._undestroy=l.undestroy,Y.prototype._destroy=function(ee,ne){ne(ee)}},65034:(s,V,M)=>{"use strict";var A=M(65606),L;function I(P,U,F){return U in P?Object.defineProperty(P,U,{value:F,enumerable:!0,configurable:!0,writable:!0}):P[U]=F,P}var C=M(14257),f=Symbol("lastResolve"),h=Symbol("lastReject"),p=Symbol("error"),m=Symbol("ended"),_=Symbol("lastPromise"),b=Symbol("handlePromise"),l=Symbol("stream");function S(P,U){return{value:P,done:U}}function c(P){var U=P[f];if(U!==null){var F=P[l].read();F!==null&&(P[_]=null,P[f]=null,P[h]=null,U(S(F,!1)))}}function g(P){A.nextTick(c,P)}function d(P,U){return function(F,y){P.then(function(){if(U[m]){F(S(void 0,!0));return}U[b](F,y)},y)}}var w=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((L={get stream(){return this[l]},next:function(){var U=this,F=this[p];if(F!==null)return Promise.reject(F);if(this[m])return Promise.resolve(S(void 0,!0));if(this[l].destroyed)return new Promise(function(Z,X){A.nextTick(function(){U[p]?X(U[p]):Z(S(void 0,!0))})});var y=this[_],z;if(y)z=new Promise(d(y,this));else{var Q=this[l].read();if(Q!==null)return Promise.resolve(S(Q,!1));z=new Promise(this[b])}return this[_]=z,z}},I(L,Symbol.asyncIterator,function(){return this}),I(L,"return",function(){var U=this;return new Promise(function(F,y){U[l].destroy(null,function(z){if(z){y(z);return}F(S(void 0,!0))})})}),L),w),R=function(U){var F,y=Object.create(k,(F={},I(F,l,{value:U,writable:!0}),I(F,f,{value:null,writable:!0}),I(F,h,{value:null,writable:!0}),I(F,p,{value:null,writable:!0}),I(F,m,{value:U._readableState.endEmitted,writable:!0}),I(F,b,{value:function(Q,Z){var X=y[l].read();X?(y[_]=null,y[f]=null,y[h]=null,Q(S(X,!1))):(y[f]=Q,y[h]=Z)},writable:!0}),F));return y[_]=null,C(U,function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Q=y[h];Q!==null&&(y[_]=null,y[f]=null,y[h]=null,Q(z)),y[p]=z;return}var Z=y[f];Z!==null&&(y[_]=null,y[f]=null,y[h]=null,Z(S(void 0,!0))),y[m]=!0}),U.on("readable",g.bind(null,y)),y};s.exports=R},81766:(s,V,M)=>{"use strict";function A(c,g){var d=Object.keys(c);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(c);g&&(w=w.filter(function(k){return Object.getOwnPropertyDescriptor(c,k).enumerable})),d.push.apply(d,w)}return d}function L(c){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?arguments[g]:{};g%2?A(Object(d),!0).forEach(function(w){I(c,w,d[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):A(Object(d)).forEach(function(w){Object.defineProperty(c,w,Object.getOwnPropertyDescriptor(d,w))})}return c}function I(c,g,d){return g in c?Object.defineProperty(c,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[g]=d,c}function C(c,g){if(!(c instanceof g))throw new TypeError("Cannot call a class as a function")}function f(c,g){for(var d=0;d<g.length;d++){var w=g[d];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}function h(c,g,d){return g&&f(c.prototype,g),d&&f(c,d),c}var p=M(48287),m=p.Buffer,_=M(63779),b=_.inspect,l=b&&b.custom||"inspect";function S(c,g,d){m.prototype.copy.call(c,g,d)}s.exports=function(){function c(){C(this,c),this.head=null,this.tail=null,this.length=0}return h(c,[{key:"push",value:function(d){var w={data:d,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(d){var w={data:d,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var d=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,d}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(d){if(this.length===0)return"";for(var w=this.head,k=""+w.data;w=w.next;)k+=d+w.data;return k}},{key:"concat",value:function(d){if(this.length===0)return m.alloc(0);for(var w=m.allocUnsafe(d>>>0),k=this.head,R=0;k;)S(k.data,w,R),R+=k.data.length,k=k.next;return w}},{key:"consume",value:function(d,w){var k;return d<this.head.data.length?(k=this.head.data.slice(0,d),this.head.data=this.head.data.slice(d)):d===this.head.data.length?k=this.shift():k=w?this._getString(d):this._getBuffer(d),k}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(d){var w=this.head,k=1,R=w.data;for(d-=R.length;w=w.next;){var P=w.data,U=d>P.length?P.length:d;if(U===P.length?R+=P:R+=P.slice(0,d),d-=U,d===0){U===P.length?(++k,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=P.slice(U));break}++k}return this.length-=k,R}},{key:"_getBuffer",value:function(d){var w=m.allocUnsafe(d),k=this.head,R=1;for(k.data.copy(w),d-=k.data.length;k=k.next;){var P=k.data,U=d>P.length?P.length:d;if(P.copy(w,w.length-d,0,U),d-=U,d===0){U===P.length?(++R,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=P.slice(U));break}++R}return this.length-=R,w}},{key:l,value:function(d,w){return b(this,L({},w,{depth:0,customInspect:!1}))}}]),c}()},54347:(s,V,M)=>{"use strict";var A=M(65606);function L(m,_){var b=this,l=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return l||S?(_?_(m):m&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,A.nextTick(h,this,m)):A.nextTick(h,this,m)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(m||null,function(c){!_&&c?b._writableState?b._writableState.errorEmitted?A.nextTick(C,b):(b._writableState.errorEmitted=!0,A.nextTick(I,b,c)):A.nextTick(I,b,c):_?(A.nextTick(C,b),_(c)):A.nextTick(C,b)}),this)}function I(m,_){h(m,_),C(m)}function C(m){m._writableState&&!m._writableState.emitClose||m._readableState&&!m._readableState.emitClose||m.emit("close")}function f(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(m,_){m.emit("error",_)}function p(m,_){var b=m._readableState,l=m._writableState;b&&b.autoDestroy||l&&l.autoDestroy?m.destroy(_):m.emit("error",_)}s.exports={destroy:L,undestroy:f,errorOrDestroy:p}},14257:(s,V,M)=>{"use strict";var A=M(12463).F.ERR_STREAM_PREMATURE_CLOSE;function L(h){var p=!1;return function(){if(!p){p=!0;for(var m=arguments.length,_=new Array(m),b=0;b<m;b++)_[b]=arguments[b];h.apply(this,_)}}}function I(){}function C(h){return h.setHeader&&typeof h.abort=="function"}function f(h,p,m){if(typeof p=="function")return f(h,null,p);p||(p={}),m=L(m||I);var _=p.readable||p.readable!==!1&&h.readable,b=p.writable||p.writable!==!1&&h.writable,l=function(){h.writable||c()},S=h._writableState&&h._writableState.finished,c=function(){b=!1,S=!0,_||m.call(h)},g=h._readableState&&h._readableState.endEmitted,d=function(){_=!1,g=!0,b||m.call(h)},w=function(U){m.call(h,U)},k=function(){var U;if(_&&!g)return(!h._readableState||!h._readableState.ended)&&(U=new A),m.call(h,U);if(b&&!S)return(!h._writableState||!h._writableState.ended)&&(U=new A),m.call(h,U)},R=function(){h.req.on("finish",c)};return C(h)?(h.on("complete",c),h.on("abort",k),h.req?R():h.on("request",R)):b&&!h._writableState&&(h.on("end",l),h.on("close",l)),h.on("end",d),h.on("finish",c),p.error!==!1&&h.on("error",w),h.on("close",k),function(){h.removeListener("complete",c),h.removeListener("abort",k),h.removeListener("request",R),h.req&&h.req.removeListener("finish",c),h.removeListener("end",l),h.removeListener("close",l),h.removeListener("finish",c),h.removeListener("end",d),h.removeListener("error",w),h.removeListener("close",k)}}s.exports=f},90968:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},5267:(s,V,M)=>{"use strict";var A;function L(c){var g=!1;return function(){g||(g=!0,c.apply(void 0,arguments))}}var I=M(12463).F,C=I.ERR_MISSING_ARGS,f=I.ERR_STREAM_DESTROYED;function h(c){if(c)throw c}function p(c){return c.setHeader&&typeof c.abort=="function"}function m(c,g,d,w){w=L(w);var k=!1;c.on("close",function(){k=!0}),A===void 0&&(A=M(14257)),A(c,{readable:g,writable:d},function(P){if(P)return w(P);k=!0,w()});var R=!1;return function(P){if(!k&&!R){if(R=!0,p(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();w(P||new f("pipe"))}}}function _(c){c()}function b(c,g){return c.pipe(g)}function l(c){return!c.length||typeof c[c.length-1]!="function"?h:c.pop()}function S(){for(var c=arguments.length,g=new Array(c),d=0;d<c;d++)g[d]=arguments[d];var w=l(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new C("streams");var k,R=g.map(function(P,U){var F=U<g.length-1,y=U>0;return m(P,F,y,function(z){k||(k=z),z&&R.forEach(_),!F&&(R.forEach(_),w(k))})});return g.reduce(b)}s.exports=S},66644:(s,V,M)=>{"use strict";var A=M(12463).F.ERR_INVALID_OPT_VALUE;function L(C,f,h){return C.highWaterMark!=null?C.highWaterMark:f?C[h]:null}function I(C,f,h,p){var m=L(f,p,h);if(m!=null){if(!(isFinite(m)&&Math.floor(m)===m)||m<0){var _=p?h:"highWaterMark";throw new A(_,m)}return Math.floor(m)}return C.objectMode?16:16384}s.exports={getHighWaterMark:I}},41396:(s,V,M)=>{s.exports=M(37007).EventEmitter},11568:(s,V,M)=>{var A=M(55537),L=M(6917),I=M(57510),C=M(86866),f=M(59817),h=V;h.request=function(p,m){typeof p=="string"?p=f.parse(p):p=I(p);var _=M.g.location.protocol.search(/^https?:$/)===-1?"http:":"",b=p.protocol||_,l=p.hostname||p.host,S=p.port,c=p.path||"/";l&&l.indexOf(":")!==-1&&(l="["+l+"]"),p.url=(l?b+"//"+l:"")+(S?":"+S:"")+c,p.method=(p.method||"GET").toUpperCase(),p.headers=p.headers||{};var g=new A(p);return m&&g.on("response",m),g},h.get=function(m,_){var b=h.request(m,_);return b.end(),b},h.ClientRequest=A,h.IncomingMessage=L.IncomingMessage,h.Agent=function(){},h.Agent.defaultMaxSockets=4,h.globalAgent=new h.Agent,h.STATUS_CODES=C,h.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},6688:(s,V,M)=>{V.fetch=C(M.g.fetch)&&C(M.g.ReadableStream),V.writableStream=C(M.g.WritableStream),V.abortController=C(M.g.AbortController);var A;function L(){if(A!==void 0)return A;if(M.g.XMLHttpRequest){A=new M.g.XMLHttpRequest;try{A.open("GET",M.g.XDomainRequest?"/":"https://example.com")}catch{A=null}}else A=null;return A}function I(f){var h=L();if(!h)return!1;try{return h.responseType=f,h.responseType===f}catch{}return!1}V.arraybuffer=V.fetch||I("arraybuffer"),V.msstream=!V.fetch&&I("ms-stream"),V.mozchunkedarraybuffer=!V.fetch&&I("moz-chunked-arraybuffer"),V.overrideMimeType=V.fetch||(L()?C(L().overrideMimeType):!1);function C(f){return typeof f=="function"}A=null},55537:(s,V,M)=>{var A=M(48287).Buffer,L=M(65606),I=M(6688),C=M(56698),f=M(6917),h=M(63242),p=f.IncomingMessage,m=f.readyStates;function _(c,g){return I.fetch&&g?"fetch":I.mozchunkedarraybuffer?"moz-chunked-arraybuffer":I.msstream?"ms-stream":I.arraybuffer&&c?"arraybuffer":"text"}var b=s.exports=function(c){var g=this;h.Writable.call(g),g._opts=c,g._body=[],g._headers={},c.auth&&g.setHeader("Authorization","Basic "+A.from(c.auth).toString("base64")),Object.keys(c.headers).forEach(function(k){g.setHeader(k,c.headers[k])});var d,w=!0;if(c.mode==="disable-fetch"||"requestTimeout"in c&&!I.abortController)w=!1,d=!0;else if(c.mode==="prefer-streaming")d=!1;else if(c.mode==="allow-wrong-content-type")d=!I.overrideMimeType;else if(!c.mode||c.mode==="default"||c.mode==="prefer-fast")d=!0;else throw new Error("Invalid value for opts.mode");g._mode=_(d,w),g._fetchTimer=null,g._socketTimeout=null,g._socketTimer=null,g.on("finish",function(){g._onFinish()})};C(b,h.Writable),b.prototype.setHeader=function(c,g){var d=this,w=c.toLowerCase();S.indexOf(w)===-1&&(d._headers[w]={name:c,value:g})},b.prototype.getHeader=function(c){var g=this._headers[c.toLowerCase()];return g?g.value:null},b.prototype.removeHeader=function(c){var g=this;delete g._headers[c.toLowerCase()]},b.prototype._onFinish=function(){var c=this;if(!c._destroyed){var g=c._opts;"timeout"in g&&g.timeout!==0&&c.setTimeout(g.timeout);var d=c._headers,w=null;g.method!=="GET"&&g.method!=="HEAD"&&(w=new Blob(c._body,{type:(d["content-type"]||{}).value||""}));var k=[];if(Object.keys(d).forEach(function(F){var y=d[F].name,z=d[F].value;Array.isArray(z)?z.forEach(function(Q){k.push([y,Q])}):k.push([y,z])}),c._mode==="fetch"){var R=null;if(I.abortController){var P=new AbortController;R=P.signal,c._fetchAbortController=P,"requestTimeout"in g&&g.requestTimeout!==0&&(c._fetchTimer=M.g.setTimeout(function(){c.emit("requestTimeout"),c._fetchAbortController&&c._fetchAbortController.abort()},g.requestTimeout))}M.g.fetch(c._opts.url,{method:c._opts.method,headers:k,body:w||void 0,mode:"cors",credentials:g.withCredentials?"include":"same-origin",signal:R}).then(function(F){c._fetchResponse=F,c._resetTimers(!1),c._connect()},function(F){c._resetTimers(!0),c._destroyed||c.emit("error",F)})}else{var U=c._xhr=new M.g.XMLHttpRequest;try{U.open(c._opts.method,c._opts.url,!0)}catch(F){L.nextTick(function(){c.emit("error",F)});return}"responseType"in U&&(U.responseType=c._mode),"withCredentials"in U&&(U.withCredentials=!!g.withCredentials),c._mode==="text"&&"overrideMimeType"in U&&U.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in g&&(U.timeout=g.requestTimeout,U.ontimeout=function(){c.emit("requestTimeout")}),k.forEach(function(F){U.setRequestHeader(F[0],F[1])}),c._response=null,U.onreadystatechange=function(){switch(U.readyState){case m.LOADING:case m.DONE:c._onXHRProgress();break}},c._mode==="moz-chunked-arraybuffer"&&(U.onprogress=function(){c._onXHRProgress()}),U.onerror=function(){c._destroyed||(c._resetTimers(!0),c.emit("error",new Error("XHR error")))};try{U.send(w)}catch(F){L.nextTick(function(){c.emit("error",F)});return}}}};function l(c){try{var g=c.status;return g!==null&&g!==0}catch{return!1}}b.prototype._onXHRProgress=function(){var c=this;c._resetTimers(!1),!(!l(c._xhr)||c._destroyed)&&(c._response||c._connect(),c._response._onXHRProgress(c._resetTimers.bind(c)))},b.prototype._connect=function(){var c=this;c._destroyed||(c._response=new p(c._xhr,c._fetchResponse,c._mode,c._resetTimers.bind(c)),c._response.on("error",function(g){c.emit("error",g)}),c.emit("response",c._response))},b.prototype._write=function(c,g,d){var w=this;w._body.push(c),d()},b.prototype._resetTimers=function(c){var g=this;M.g.clearTimeout(g._socketTimer),g._socketTimer=null,c?(M.g.clearTimeout(g._fetchTimer),g._fetchTimer=null):g._socketTimeout&&(g._socketTimer=M.g.setTimeout(function(){g.emit("timeout")},g._socketTimeout))},b.prototype.abort=b.prototype.destroy=function(c){var g=this;g._destroyed=!0,g._resetTimers(!0),g._response&&(g._response._destroyed=!0),g._xhr?g._xhr.abort():g._fetchAbortController&&g._fetchAbortController.abort(),c&&g.emit("error",c)},b.prototype.end=function(c,g,d){var w=this;typeof c=="function"&&(d=c,c=void 0),h.Writable.prototype.end.call(w,c,g,d)},b.prototype.setTimeout=function(c,g){var d=this;g&&d.once("timeout",g),d._socketTimeout=c,d._resetTimers(!1)},b.prototype.flushHeaders=function(){},b.prototype.setNoDelay=function(){},b.prototype.setSocketKeepAlive=function(){};var S=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},6917:(s,V,M)=>{var A=M(65606),L=M(48287).Buffer,I=M(6688),C=M(56698),f=M(63242),h=V.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},p=V.IncomingMessage=function(m,_,b,l){var S=this;if(f.Readable.call(S),S._mode=b,S.headers={},S.rawHeaders=[],S.trailers={},S.rawTrailers=[],S.on("end",function(){A.nextTick(function(){S.emit("close")})}),b==="fetch"){let P=function(){g.read().then(function(U){if(!S._destroyed){if(l(U.done),U.done){S.push(null);return}S.push(L.from(U.value)),P()}}).catch(function(U){l(!0),S._destroyed||S.emit("error",U)})};var R=P;if(S._fetchResponse=_,S.url=_.url,S.statusCode=_.status,S.statusMessage=_.statusText,_.headers.forEach(function(U,F){S.headers[F.toLowerCase()]=U,S.rawHeaders.push(F,U)}),I.writableStream){var c=new WritableStream({write:function(U){return l(!1),new Promise(function(F,y){S._destroyed?y():S.push(L.from(U))?F():S._resumeFetch=F})},close:function(){l(!0),S._destroyed||S.push(null)},abort:function(U){l(!0),S._destroyed||S.emit("error",U)}});try{_.body.pipeTo(c).catch(function(U){l(!0),S._destroyed||S.emit("error",U)});return}catch{}}var g=_.body.getReader();P()}else{S._xhr=m,S._pos=0,S.url=m.responseURL,S.statusCode=m.status,S.statusMessage=m.statusText;var d=m.getAllResponseHeaders().split(/\r?\n/);if(d.forEach(function(P){var U=P.match(/^([^:]+):\s*(.*)/);if(U){var F=U[1].toLowerCase();F==="set-cookie"?(S.headers[F]===void 0&&(S.headers[F]=[]),S.headers[F].push(U[2])):S.headers[F]!==void 0?S.headers[F]+=", "+U[2]:S.headers[F]=U[2],S.rawHeaders.push(U[1],U[2])}}),S._charset="x-user-defined",!I.overrideMimeType){var w=S.rawHeaders["mime-type"];if(w){var k=w.match(/;\s*charset=([^;])(;|$)/);k&&(S._charset=k[1].toLowerCase())}S._charset||(S._charset="utf-8")}}};C(p,f.Readable),p.prototype._read=function(){var m=this,_=m._resumeFetch;_&&(m._resumeFetch=null,_())},p.prototype._onXHRProgress=function(m){var _=this,b=_._xhr,l=null;switch(_._mode){case"text":if(l=b.responseText,l.length>_._pos){var S=l.substr(_._pos);if(_._charset==="x-user-defined"){for(var c=L.alloc(S.length),g=0;g<S.length;g++)c[g]=S.charCodeAt(g)&255;_.push(c)}else _.push(S,_._charset);_._pos=l.length}break;case"arraybuffer":if(b.readyState!==h.DONE||!b.response)break;l=b.response,_.push(L.from(new Uint8Array(l)));break;case"moz-chunked-arraybuffer":if(l=b.response,b.readyState!==h.LOADING||!l)break;_.push(L.from(new Uint8Array(l)));break;case"ms-stream":if(l=b.response,b.readyState!==h.LOADING)break;var d=new M.g.MSStreamReader;d.onprogress=function(){d.result.byteLength>_._pos&&(_.push(L.from(new Uint8Array(d.result.slice(_._pos)))),_._pos=d.result.byteLength)},d.onload=function(){m(!0),_.push(null)},d.readAsArrayBuffer(l);break}_._xhr.readyState===h.DONE&&_._mode!=="ms-stream"&&(m(!0),_.push(null))}},73157:s=>{"use strict";function V(h,p){h.prototype=Object.create(p.prototype),h.prototype.constructor=h,h.__proto__=p}var M={};function A(h,p,m){m||(m=Error);function _(l,S,c){return typeof p=="string"?p:p(l,S,c)}var b=function(l){V(S,l);function S(c,g,d){return l.call(this,_(c,g,d))||this}return S}(m);b.prototype.name=m.name,b.prototype.code=h,M[h]=b}function L(h,p){if(Array.isArray(h)){var m=h.length;return h=h.map(function(_){return String(_)}),m>2?"one of ".concat(p," ").concat(h.slice(0,m-1).join(", "),", or ")+h[m-1]:m===2?"one of ".concat(p," ").concat(h[0]," or ").concat(h[1]):"of ".concat(p," ").concat(h[0])}else return"of ".concat(p," ").concat(String(h))}function I(h,p,m){return h.substr(!m||m<0?0:+m,p.length)===p}function C(h,p,m){return(m===void 0||m>h.length)&&(m=h.length),h.substring(m-p.length,m)===p}function f(h,p,m){return typeof m!="number"&&(m=0),m+p.length>h.length?!1:h.indexOf(p,m)!==-1}A("ERR_INVALID_OPT_VALUE",function(h,p){return'The value "'+p+'" is invalid for option "'+h+'"'},TypeError),A("ERR_INVALID_ARG_TYPE",function(h,p,m){var _;typeof p=="string"&&I(p,"not ")?(_="must not be",p=p.replace(/^not /,"")):_="must be";var b;if(C(h," argument"))b="The ".concat(h," ").concat(_," ").concat(L(p,"type"));else{var l=f(h,".")?"property":"argument";b='The "'.concat(h,'" ').concat(l," ").concat(_," ").concat(L(p,"type"))}return b+=". Received type ".concat(typeof m),b},TypeError),A("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),A("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),A("ERR_STREAM_PREMATURE_CLOSE","Premature close"),A("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),A("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),A("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),A("ERR_STREAM_WRITE_AFTER_END","write after end"),A("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),A("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),A("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.F=M},63527:(s,V,M)=>{"use strict";var A=M(65606),L=Object.keys||function(l){var S=[];for(var c in l)S.push(c);return S};s.exports=m;var I=M(52341),C=M(9573);M(56698)(m,I);for(var f=L(C.prototype),h=0;h<f.length;h++){var p=f[h];m.prototype[p]||(m.prototype[p]=C.prototype[p])}function m(l){if(!(this instanceof m))return new m(l);I.call(this,l),C.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_)))}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(m.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(m.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(){this._writableState.ended||A.nextTick(b,this)}function b(l){l.end()}Object.defineProperty(m.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(S){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=S,this._writableState.destroyed=S)}})},82571:(s,V,M)=>{"use strict";s.exports=L;var A=M(95689);M(56698)(L,A);function L(I){if(!(this instanceof L))return new L(I);A.call(this,I)}L.prototype._transform=function(I,C,f){f(null,I)}},52341:(s,V,M)=>{"use strict";var A=M(65606);s.exports=O;var L;O.ReadableState=Y;var I=M(37007).EventEmitter,C=function(N,se){return N.listeners(se).length},f=M(81914),h=M(48287).Buffer,p=M.g.Uint8Array||function(){};function m(j){return h.from(j)}function _(j){return h.isBuffer(j)||j instanceof p}var b=M(86833),l;b&&b.debuglog?l=b.debuglog("stream"):l=function(){};var S=M(10272),c=M(16057),g=M(11922),d=g.getHighWaterMark,w=M(73157).F,k=w.ERR_INVALID_ARG_TYPE,R=w.ERR_STREAM_PUSH_AFTER_EOF,P=w.ERR_METHOD_NOT_IMPLEMENTED,U=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,F,y,z;M(56698)(O,f);var Q=c.errorOrDestroy,Z=["error","close","destroy","pause","resume"];function X(j,N,se){if(typeof j.prependListener=="function")return j.prependListener(N,se);!j._events||!j._events[N]?j.on(N,se):Array.isArray(j._events[N])?j._events[N].unshift(se):j._events[N]=[se,j._events[N]]}function Y(j,N,se){L=L||M(63527),j=j||{},typeof se!="boolean"&&(se=N instanceof L),this.objectMode=!!j.objectMode,se&&(this.objectMode=this.objectMode||!!j.readableObjectMode),this.highWaterMark=d(this,j,"readableHighWaterMark",se),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(F||(F=M(83141).I),this.decoder=new F(j.encoding),this.encoding=j.encoding)}function O(j){if(L=L||M(63527),!(this instanceof O))return new O(j);var N=this instanceof L;this._readableState=new Y(j,this,N),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),f.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(N){this._readableState&&(this._readableState.destroyed=N)}}),O.prototype.destroy=c.destroy,O.prototype._undestroy=c.undestroy,O.prototype._destroy=function(j,N){N(j)},O.prototype.push=function(j,N){var se=this._readableState,de;return se.objectMode?de=!0:typeof j=="string"&&(N=N||se.defaultEncoding,N!==se.encoding&&(j=h.from(j,N),N=""),de=!0),$(this,j,N,!1,de)},O.prototype.unshift=function(j){return $(this,j,null,!0,!1)};function $(j,N,se,de,ue){l("readableAddChunk",N);var le=j._readableState;if(N===null)le.reading=!1,K(j,le);else{var pe;if(ue||(pe=u(le,N)),pe)Q(j,pe);else if(le.objectMode||N&&N.length>0)if(typeof N!="string"&&!le.objectMode&&Object.getPrototypeOf(N)!==h.prototype&&(N=m(N)),de)le.endEmitted?Q(j,new U):D(j,le,N,!0);else if(le.ended)Q(j,new R);else{if(le.destroyed)return!1;le.reading=!1,le.decoder&&!se?(N=le.decoder.write(N),le.objectMode||N.length!==0?D(j,le,N,!1):J(j,le)):D(j,le,N,!1)}else de||(le.reading=!1,J(j,le))}return!le.ended&&(le.length<le.highWaterMark||le.length===0)}function D(j,N,se,de){N.flowing&&N.length===0&&!N.sync?(N.awaitDrain=0,j.emit("data",se)):(N.length+=N.objectMode?1:se.length,de?N.buffer.unshift(se):N.buffer.push(se),N.needReadable&&G(j)),J(j,N)}function u(j,N){var se;return!_(N)&&typeof N!="string"&&N!==void 0&&!j.objectMode&&(se=new k("chunk",["string","Buffer","Uint8Array"],N)),se}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(j){F||(F=M(83141).I);var N=new F(j);this._readableState.decoder=N,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,de="";se!==null;)de+=N.write(se.data),se=se.next;return this._readableState.buffer.clear(),de!==""&&this._readableState.buffer.push(de),this._readableState.length=de.length,this};var E=1073741824;function q(j){return j>=E?j=E:(j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++),j}function H(j,N){return j<=0||N.length===0&&N.ended?0:N.objectMode?1:j!==j?N.flowing&&N.length?N.buffer.head.data.length:N.length:(j>N.highWaterMark&&(N.highWaterMark=q(j)),j<=N.length?j:N.ended?N.length:(N.needReadable=!0,0))}O.prototype.read=function(j){l("read",j),j=parseInt(j,10);var N=this._readableState,se=j;if(j!==0&&(N.emittedReadable=!1),j===0&&N.needReadable&&((N.highWaterMark!==0?N.length>=N.highWaterMark:N.length>0)||N.ended))return l("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?me(this):G(this),null;if(j=H(j,N),j===0&&N.ended)return N.length===0&&me(this),null;var de=N.needReadable;l("need readable",de),(N.length===0||N.length-j<N.highWaterMark)&&(de=!0,l("length less than watermark",de)),N.ended||N.reading?(de=!1,l("reading or ended",de)):de&&(l("do read"),N.reading=!0,N.sync=!0,N.length===0&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(j=H(se,N)));var ue;return j>0?ue=ne(j,N):ue=null,ue===null?(N.needReadable=N.length<=N.highWaterMark,j=0):(N.length-=j,N.awaitDrain=0),N.length===0&&(N.ended||(N.needReadable=!0),se!==j&&N.ended&&me(this)),ue!==null&&this.emit("data",ue),ue};function K(j,N){if(l("onEofChunk"),!N.ended){if(N.decoder){var se=N.decoder.end();se&&se.length&&(N.buffer.push(se),N.length+=N.objectMode?1:se.length)}N.ended=!0,N.sync?G(j):(N.needReadable=!1,N.emittedReadable||(N.emittedReadable=!0,ie(j)))}}function G(j){var N=j._readableState;l("emitReadable",N.needReadable,N.emittedReadable),N.needReadable=!1,N.emittedReadable||(l("emitReadable",N.flowing),N.emittedReadable=!0,A.nextTick(ie,j))}function ie(j){var N=j._readableState;l("emitReadable_",N.destroyed,N.length,N.ended),!N.destroyed&&(N.length||N.ended)&&(j.emit("readable"),N.emittedReadable=!1),N.needReadable=!N.flowing&&!N.ended&&N.length<=N.highWaterMark,ee(j)}function J(j,N){N.readingMore||(N.readingMore=!0,A.nextTick(B,j,N))}function B(j,N){for(;!N.reading&&!N.ended&&(N.length<N.highWaterMark||N.flowing&&N.length===0);){var se=N.length;if(l("maybeReadMore read 0"),j.read(0),se===N.length)break}N.readingMore=!1}O.prototype._read=function(j){Q(this,new P("_read()"))},O.prototype.pipe=function(j,N){var se=this,de=this._readableState;switch(de.pipesCount){case 0:de.pipes=j;break;case 1:de.pipes=[de.pipes,j];break;default:de.pipes.push(j);break}de.pipesCount+=1,l("pipe count=%d opts=%j",de.pipesCount,N);var ue=(!N||N.end!==!1)&&j!==A.stdout&&j!==A.stderr,le=ue?Ae:ce;de.endEmitted?A.nextTick(le):se.once("end",le),j.on("unpipe",pe);function pe(ke,Ie){l("onunpipe"),ke===se&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,Ue())}function Ae(){l("onend"),j.end()}var Fe=ae(se);j.on("drain",Fe);var Be=!1;function Ue(){l("cleanup"),j.removeListener("close",he),j.removeListener("finish",re),j.removeListener("drain",Fe),j.removeListener("error",Ye),j.removeListener("unpipe",pe),se.removeListener("end",Ae),se.removeListener("end",ce),se.removeListener("data",He),Be=!0,de.awaitDrain&&(!j._writableState||j._writableState.needDrain)&&Fe()}se.on("data",He);function He(ke){l("ondata");var Ie=j.write(ke);l("dest.write",Ie),Ie===!1&&((de.pipesCount===1&&de.pipes===j||de.pipesCount>1&&_e(de.pipes,j)!==-1)&&!Be&&(l("false write response, pause",de.awaitDrain),de.awaitDrain++),se.pause())}function Ye(ke){l("onerror",ke),ce(),j.removeListener("error",Ye),C(j,"error")===0&&Q(j,ke)}X(j,"error",Ye);function he(){j.removeListener("finish",re),ce()}j.once("close",he);function re(){l("onfinish"),j.removeListener("close",he),ce()}j.once("finish",re);function ce(){l("unpipe"),se.unpipe(j)}return j.emit("pipe",se),de.flowing||(l("pipe resume"),se.resume()),j};function ae(j){return function(){var se=j._readableState;l("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&C(j,"data")&&(se.flowing=!0,ee(j))}}O.prototype.unpipe=function(j){var N=this._readableState,se={hasUnpiped:!1};if(N.pipesCount===0)return this;if(N.pipesCount===1)return j&&j!==N.pipes?this:(j||(j=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,j&&j.emit("unpipe",this,se),this);if(!j){var de=N.pipes,ue=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var le=0;le<ue;le++)de[le].emit("unpipe",this,{hasUnpiped:!1});return this}var pe=_e(N.pipes,j);return pe===-1?this:(N.pipes.splice(pe,1),N.pipesCount-=1,N.pipesCount===1&&(N.pipes=N.pipes[0]),j.emit("unpipe",this,se),this)},O.prototype.on=function(j,N){var se=f.prototype.on.call(this,j,N),de=this._readableState;return j==="data"?(de.readableListening=this.listenerCount("readable")>0,de.flowing!==!1&&this.resume()):j==="readable"&&!de.endEmitted&&!de.readableListening&&(de.readableListening=de.needReadable=!0,de.flowing=!1,de.emittedReadable=!1,l("on readable",de.length,de.reading),de.length?G(this):de.reading||A.nextTick(be,this)),se},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(j,N){var se=f.prototype.removeListener.call(this,j,N);return j==="readable"&&A.nextTick(Ne,this),se},O.prototype.removeAllListeners=function(j){var N=f.prototype.removeAllListeners.apply(this,arguments);return(j==="readable"||j===void 0)&&A.nextTick(Ne,this),N};function Ne(j){var N=j._readableState;N.readableListening=j.listenerCount("readable")>0,N.resumeScheduled&&!N.paused?N.flowing=!0:j.listenerCount("data")>0&&j.resume()}function be(j){l("readable nexttick read 0"),j.read(0)}O.prototype.resume=function(){var j=this._readableState;return j.flowing||(l("resume"),j.flowing=!j.readableListening,we(this,j)),j.paused=!1,this};function we(j,N){N.resumeScheduled||(N.resumeScheduled=!0,A.nextTick(Te,j,N))}function Te(j,N){l("resume",N.reading),N.reading||j.read(0),N.resumeScheduled=!1,j.emit("resume"),ee(j),N.flowing&&!N.reading&&j.read(0)}O.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ee(j){var N=j._readableState;for(l("flow",N.flowing);N.flowing&&j.read()!==null;);}O.prototype.wrap=function(j){var N=this,se=this._readableState,de=!1;j.on("end",function(){if(l("wrapped end"),se.decoder&&!se.ended){var pe=se.decoder.end();pe&&pe.length&&N.push(pe)}N.push(null)}),j.on("data",function(pe){if(l("wrapped data"),se.decoder&&(pe=se.decoder.write(pe)),!(se.objectMode&&pe==null)&&!(!se.objectMode&&(!pe||!pe.length))){var Ae=N.push(pe);Ae||(de=!0,j.pause())}});for(var ue in j)this[ue]===void 0&&typeof j[ue]=="function"&&(this[ue]=function(Ae){return function(){return j[Ae].apply(j,arguments)}}(ue));for(var le=0;le<Z.length;le++)j.on(Z[le],this.emit.bind(this,Z[le]));return this._read=function(pe){l("wrapped _read",pe),de&&(de=!1,j.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=M(17356)),y(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(N){this._readableState&&(this._readableState.flowing=N)}}),O._fromList=ne,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ne(j,N){if(N.length===0)return null;var se;return N.objectMode?se=N.buffer.shift():!j||j>=N.length?(N.decoder?se=N.buffer.join(""):N.buffer.length===1?se=N.buffer.first():se=N.buffer.concat(N.length),N.buffer.clear()):se=N.buffer.consume(j,N.decoder),se}function me(j){var N=j._readableState;l("endReadable",N.endEmitted),N.endEmitted||(N.ended=!0,A.nextTick(ge,N,j))}function ge(j,N){if(l("endReadableNT",j.endEmitted,j.length),!j.endEmitted&&j.length===0&&(j.endEmitted=!0,N.readable=!1,N.emit("end"),j.autoDestroy)){var se=N._writableState;(!se||se.autoDestroy&&se.finished)&&N.destroy()}}typeof Symbol=="function"&&(O.from=function(j,N){return z===void 0&&(z=M(6314)),z(O,j,N)});function _e(j,N){for(var se=0,de=j.length;se<de;se++)if(j[se]===N)return se;return-1}},95689:(s,V,M)=>{"use strict";s.exports=m;var A=M(73157).F,L=A.ERR_METHOD_NOT_IMPLEMENTED,I=A.ERR_MULTIPLE_CALLBACK,C=A.ERR_TRANSFORM_ALREADY_TRANSFORMING,f=A.ERR_TRANSFORM_WITH_LENGTH_0,h=M(63527);M(56698)(m,h);function p(l,S){var c=this._transformState;c.transforming=!1;var g=c.writecb;if(g===null)return this.emit("error",new I);c.writechunk=null,c.writecb=null,S!=null&&this.push(S),g(l);var d=this._readableState;d.reading=!1,(d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}function m(l){if(!(this instanceof m))return new m(l);h.call(this,l),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",_)}function _(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(S,c){b(l,S,c)}):b(this,null,null)}m.prototype.push=function(l,S){return this._transformState.needTransform=!1,h.prototype.push.call(this,l,S)},m.prototype._transform=function(l,S,c){c(new L("_transform()"))},m.prototype._write=function(l,S,c){var g=this._transformState;if(g.writecb=c,g.writechunk=l,g.writeencoding=S,!g.transforming){var d=this._readableState;(g.needTransform||d.needReadable||d.length<d.highWaterMark)&&this._read(d.highWaterMark)}},m.prototype._read=function(l){var S=this._transformState;S.writechunk!==null&&!S.transforming?(S.transforming=!0,this._transform(S.writechunk,S.writeencoding,S.afterTransform)):S.needTransform=!0},m.prototype._destroy=function(l,S){h.prototype._destroy.call(this,l,function(c){S(c)})};function b(l,S,c){if(S)return l.emit("error",S);if(c!=null&&l.push(c),l._writableState.length)throw new f;if(l._transformState.transforming)throw new C;return l.push(null)}},9573:(s,V,M)=>{"use strict";var A=M(65606);s.exports=Y;function L(ee,ne,me){this.chunk=ee,this.encoding=ne,this.callback=me,this.next=null}function I(ee){var ne=this;this.next=null,this.entry=null,this.finish=function(){Te(ne,ee)}}var C;Y.WritableState=Z;var f={deprecate:M(94643)},h=M(81914),p=M(48287).Buffer,m=M.g.Uint8Array||function(){};function _(ee){return p.from(ee)}function b(ee){return p.isBuffer(ee)||ee instanceof m}var l=M(16057),S=M(11922),c=S.getHighWaterMark,g=M(73157).F,d=g.ERR_INVALID_ARG_TYPE,w=g.ERR_METHOD_NOT_IMPLEMENTED,k=g.ERR_MULTIPLE_CALLBACK,R=g.ERR_STREAM_CANNOT_PIPE,P=g.ERR_STREAM_DESTROYED,U=g.ERR_STREAM_NULL_VALUES,F=g.ERR_STREAM_WRITE_AFTER_END,y=g.ERR_UNKNOWN_ENCODING,z=l.errorOrDestroy;M(56698)(Y,h);function Q(){}function Z(ee,ne,me){C=C||M(63527),ee=ee||{},typeof me!="boolean"&&(me=ne instanceof C),this.objectMode=!!ee.objectMode,me&&(this.objectMode=this.objectMode||!!ee.writableObjectMode),this.highWaterMark=c(this,ee,"writableHighWaterMark",me),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ge=ee.decodeStrings===!1;this.decodeStrings=!ge,this.defaultEncoding=ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_e){K(ne,_e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ee.emitClose!==!1,this.autoDestroy=!!ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new I(this)}Z.prototype.getBuffer=function(){for(var ne=this.bufferedRequest,me=[];ne;)me.push(ne),ne=ne.next;return me},function(){try{Object.defineProperty(Z.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var X;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(X=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(ne){return X.call(this,ne)?!0:this!==Y?!1:ne&&ne._writableState instanceof Z}})):X=function(ne){return ne instanceof this};function Y(ee){C=C||M(63527);var ne=this instanceof C;if(!ne&&!X.call(Y,this))return new Y(ee);this._writableState=new Z(ee,this,ne),this.writable=!0,ee&&(typeof ee.write=="function"&&(this._write=ee.write),typeof ee.writev=="function"&&(this._writev=ee.writev),typeof ee.destroy=="function"&&(this._destroy=ee.destroy),typeof ee.final=="function"&&(this._final=ee.final)),h.call(this)}Y.prototype.pipe=function(){z(this,new R)};function O(ee,ne){var me=new F;z(ee,me),A.nextTick(ne,me)}function $(ee,ne,me,ge){var _e;return me===null?_e=new U:typeof me!="string"&&!ne.objectMode&&(_e=new d("chunk",["string","Buffer"],me)),_e?(z(ee,_e),A.nextTick(ge,_e),!1):!0}Y.prototype.write=function(ee,ne,me){var ge=this._writableState,_e=!1,j=!ge.objectMode&&b(ee);return j&&!p.isBuffer(ee)&&(ee=_(ee)),typeof ne=="function"&&(me=ne,ne=null),j?ne="buffer":ne||(ne=ge.defaultEncoding),typeof me!="function"&&(me=Q),ge.ending?O(this,me):(j||$(this,ge,ee,me))&&(ge.pendingcb++,_e=u(this,ge,j,ee,ne,me)),_e},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var ee=this._writableState;ee.corked&&(ee.corked--,!ee.writing&&!ee.corked&&!ee.bufferProcessing&&ee.bufferedRequest&&J(this,ee))},Y.prototype.setDefaultEncoding=function(ne){if(typeof ne=="string"&&(ne=ne.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ne+"").toLowerCase())>-1))throw new y(ne);return this._writableState.defaultEncoding=ne,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function D(ee,ne,me){return!ee.objectMode&&ee.decodeStrings!==!1&&typeof ne=="string"&&(ne=p.from(ne,me)),ne}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function u(ee,ne,me,ge,_e,j){if(!me){var N=D(ne,ge,_e);ge!==N&&(me=!0,_e="buffer",ge=N)}var se=ne.objectMode?1:ge.length;ne.length+=se;var de=ne.length<ne.highWaterMark;if(de||(ne.needDrain=!0),ne.writing||ne.corked){var ue=ne.lastBufferedRequest;ne.lastBufferedRequest={chunk:ge,encoding:_e,isBuf:me,callback:j,next:null},ue?ue.next=ne.lastBufferedRequest:ne.bufferedRequest=ne.lastBufferedRequest,ne.bufferedRequestCount+=1}else E(ee,ne,!1,se,ge,_e,j);return de}function E(ee,ne,me,ge,_e,j,N){ne.writelen=ge,ne.writecb=N,ne.writing=!0,ne.sync=!0,ne.destroyed?ne.onwrite(new P("write")):me?ee._writev(_e,ne.onwrite):ee._write(_e,j,ne.onwrite),ne.sync=!1}function q(ee,ne,me,ge,_e){--ne.pendingcb,me?(A.nextTick(_e,ge),A.nextTick(be,ee,ne),ee._writableState.errorEmitted=!0,z(ee,ge)):(_e(ge),ee._writableState.errorEmitted=!0,z(ee,ge),be(ee,ne))}function H(ee){ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0}function K(ee,ne){var me=ee._writableState,ge=me.sync,_e=me.writecb;if(typeof _e!="function")throw new k;if(H(me),ne)q(ee,me,ge,ne,_e);else{var j=B(me)||ee.destroyed;!j&&!me.corked&&!me.bufferProcessing&&me.bufferedRequest&&J(ee,me),ge?A.nextTick(G,ee,me,j,_e):G(ee,me,j,_e)}}function G(ee,ne,me,ge){me||ie(ee,ne),ne.pendingcb--,ge(),be(ee,ne)}function ie(ee,ne){ne.length===0&&ne.needDrain&&(ne.needDrain=!1,ee.emit("drain"))}function J(ee,ne){ne.bufferProcessing=!0;var me=ne.bufferedRequest;if(ee._writev&&me&&me.next){var ge=ne.bufferedRequestCount,_e=new Array(ge),j=ne.corkedRequestsFree;j.entry=me;for(var N=0,se=!0;me;)_e[N]=me,me.isBuf||(se=!1),me=me.next,N+=1;_e.allBuffers=se,E(ee,ne,!0,ne.length,_e,"",j.finish),ne.pendingcb++,ne.lastBufferedRequest=null,j.next?(ne.corkedRequestsFree=j.next,j.next=null):ne.corkedRequestsFree=new I(ne),ne.bufferedRequestCount=0}else{for(;me;){var de=me.chunk,ue=me.encoding,le=me.callback,pe=ne.objectMode?1:de.length;if(E(ee,ne,!1,pe,de,ue,le),me=me.next,ne.bufferedRequestCount--,ne.writing)break}me===null&&(ne.lastBufferedRequest=null)}ne.bufferedRequest=me,ne.bufferProcessing=!1}Y.prototype._write=function(ee,ne,me){me(new w("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(ee,ne,me){var ge=this._writableState;return typeof ee=="function"?(me=ee,ee=null,ne=null):typeof ne=="function"&&(me=ne,ne=null),ee!=null&&this.write(ee,ne),ge.corked&&(ge.corked=1,this.uncork()),ge.ending||we(this,ge,me),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function B(ee){return ee.ending&&ee.length===0&&ee.bufferedRequest===null&&!ee.finished&&!ee.writing}function ae(ee,ne){ee._final(function(me){ne.pendingcb--,me&&z(ee,me),ne.prefinished=!0,ee.emit("prefinish"),be(ee,ne)})}function Ne(ee,ne){!ne.prefinished&&!ne.finalCalled&&(typeof ee._final=="function"&&!ne.destroyed?(ne.pendingcb++,ne.finalCalled=!0,A.nextTick(ae,ee,ne)):(ne.prefinished=!0,ee.emit("prefinish")))}function be(ee,ne){var me=B(ne);if(me&&(Ne(ee,ne),ne.pendingcb===0&&(ne.finished=!0,ee.emit("finish"),ne.autoDestroy))){var ge=ee._readableState;(!ge||ge.autoDestroy&&ge.endEmitted)&&ee.destroy()}return me}function we(ee,ne,me){ne.ending=!0,be(ee,ne),me&&(ne.finished?A.nextTick(me):ee.once("finish",me)),ne.ended=!0,ee.writable=!1}function Te(ee,ne,me){var ge=ee.entry;for(ee.entry=null;ge;){var _e=ge.callback;ne.pendingcb--,_e(me),ge=ge.next}ne.corkedRequestsFree.next=ee}Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ne){this._writableState&&(this._writableState.destroyed=ne)}}),Y.prototype.destroy=l.destroy,Y.prototype._undestroy=l.undestroy,Y.prototype._destroy=function(ee,ne){ne(ee)}},17356:(s,V,M)=>{"use strict";var A=M(65606),L;function I(P,U,F){return U in P?Object.defineProperty(P,U,{value:F,enumerable:!0,configurable:!0,writable:!0}):P[U]=F,P}var C=M(19959),f=Symbol("lastResolve"),h=Symbol("lastReject"),p=Symbol("error"),m=Symbol("ended"),_=Symbol("lastPromise"),b=Symbol("handlePromise"),l=Symbol("stream");function S(P,U){return{value:P,done:U}}function c(P){var U=P[f];if(U!==null){var F=P[l].read();F!==null&&(P[_]=null,P[f]=null,P[h]=null,U(S(F,!1)))}}function g(P){A.nextTick(c,P)}function d(P,U){return function(F,y){P.then(function(){if(U[m]){F(S(void 0,!0));return}U[b](F,y)},y)}}var w=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((L={get stream(){return this[l]},next:function(){var U=this,F=this[p];if(F!==null)return Promise.reject(F);if(this[m])return Promise.resolve(S(void 0,!0));if(this[l].destroyed)return new Promise(function(Z,X){A.nextTick(function(){U[p]?X(U[p]):Z(S(void 0,!0))})});var y=this[_],z;if(y)z=new Promise(d(y,this));else{var Q=this[l].read();if(Q!==null)return Promise.resolve(S(Q,!1));z=new Promise(this[b])}return this[_]=z,z}},I(L,Symbol.asyncIterator,function(){return this}),I(L,"return",function(){var U=this;return new Promise(function(F,y){U[l].destroy(null,function(z){if(z){y(z);return}F(S(void 0,!0))})})}),L),w),R=function(U){var F,y=Object.create(k,(F={},I(F,l,{value:U,writable:!0}),I(F,f,{value:null,writable:!0}),I(F,h,{value:null,writable:!0}),I(F,p,{value:null,writable:!0}),I(F,m,{value:U._readableState.endEmitted,writable:!0}),I(F,b,{value:function(Q,Z){var X=y[l].read();X?(y[_]=null,y[f]=null,y[h]=null,Q(S(X,!1))):(y[f]=Q,y[h]=Z)},writable:!0}),F));return y[_]=null,C(U,function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Q=y[h];Q!==null&&(y[_]=null,y[f]=null,y[h]=null,Q(z)),y[p]=z;return}var Z=y[f];Z!==null&&(y[_]=null,y[f]=null,y[h]=null,Z(S(void 0,!0))),y[m]=!0}),U.on("readable",g.bind(null,y)),y};s.exports=R},10272:(s,V,M)=>{"use strict";function A(c,g){var d=Object.keys(c);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(c);g&&(w=w.filter(function(k){return Object.getOwnPropertyDescriptor(c,k).enumerable})),d.push.apply(d,w)}return d}function L(c){for(var g=1;g<arguments.length;g++){var d=arguments[g]!=null?arguments[g]:{};g%2?A(Object(d),!0).forEach(function(w){I(c,w,d[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):A(Object(d)).forEach(function(w){Object.defineProperty(c,w,Object.getOwnPropertyDescriptor(d,w))})}return c}function I(c,g,d){return g in c?Object.defineProperty(c,g,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[g]=d,c}function C(c,g){if(!(c instanceof g))throw new TypeError("Cannot call a class as a function")}function f(c,g){for(var d=0;d<g.length;d++){var w=g[d];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}function h(c,g,d){return g&&f(c.prototype,g),d&&f(c,d),c}var p=M(48287),m=p.Buffer,_=M(59169),b=_.inspect,l=b&&b.custom||"inspect";function S(c,g,d){m.prototype.copy.call(c,g,d)}s.exports=function(){function c(){C(this,c),this.head=null,this.tail=null,this.length=0}return h(c,[{key:"push",value:function(d){var w={data:d,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(d){var w={data:d,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var d=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,d}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(d){if(this.length===0)return"";for(var w=this.head,k=""+w.data;w=w.next;)k+=d+w.data;return k}},{key:"concat",value:function(d){if(this.length===0)return m.alloc(0);for(var w=m.allocUnsafe(d>>>0),k=this.head,R=0;k;)S(k.data,w,R),R+=k.data.length,k=k.next;return w}},{key:"consume",value:function(d,w){var k;return d<this.head.data.length?(k=this.head.data.slice(0,d),this.head.data=this.head.data.slice(d)):d===this.head.data.length?k=this.shift():k=w?this._getString(d):this._getBuffer(d),k}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(d){var w=this.head,k=1,R=w.data;for(d-=R.length;w=w.next;){var P=w.data,U=d>P.length?P.length:d;if(U===P.length?R+=P:R+=P.slice(0,d),d-=U,d===0){U===P.length?(++k,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=P.slice(U));break}++k}return this.length-=k,R}},{key:"_getBuffer",value:function(d){var w=m.allocUnsafe(d),k=this.head,R=1;for(k.data.copy(w),d-=k.data.length;k=k.next;){var P=k.data,U=d>P.length?P.length:d;if(P.copy(w,w.length-d,0,U),d-=U,d===0){U===P.length?(++R,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=P.slice(U));break}++R}return this.length-=R,w}},{key:l,value:function(d,w){return b(this,L({},w,{depth:0,customInspect:!1}))}}]),c}()},16057:(s,V,M)=>{"use strict";var A=M(65606);function L(m,_){var b=this,l=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return l||S?(_?_(m):m&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,A.nextTick(h,this,m)):A.nextTick(h,this,m)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(m||null,function(c){!_&&c?b._writableState?b._writableState.errorEmitted?A.nextTick(C,b):(b._writableState.errorEmitted=!0,A.nextTick(I,b,c)):A.nextTick(I,b,c):_?(A.nextTick(C,b),_(c)):A.nextTick(C,b)}),this)}function I(m,_){h(m,_),C(m)}function C(m){m._writableState&&!m._writableState.emitClose||m._readableState&&!m._readableState.emitClose||m.emit("close")}function f(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(m,_){m.emit("error",_)}function p(m,_){var b=m._readableState,l=m._writableState;b&&b.autoDestroy||l&&l.autoDestroy?m.destroy(_):m.emit("error",_)}s.exports={destroy:L,undestroy:f,errorOrDestroy:p}},19959:(s,V,M)=>{"use strict";var A=M(73157).F.ERR_STREAM_PREMATURE_CLOSE;function L(h){var p=!1;return function(){if(!p){p=!0;for(var m=arguments.length,_=new Array(m),b=0;b<m;b++)_[b]=arguments[b];h.apply(this,_)}}}function I(){}function C(h){return h.setHeader&&typeof h.abort=="function"}function f(h,p,m){if(typeof p=="function")return f(h,null,p);p||(p={}),m=L(m||I);var _=p.readable||p.readable!==!1&&h.readable,b=p.writable||p.writable!==!1&&h.writable,l=function(){h.writable||c()},S=h._writableState&&h._writableState.finished,c=function(){b=!1,S=!0,_||m.call(h)},g=h._readableState&&h._readableState.endEmitted,d=function(){_=!1,g=!0,b||m.call(h)},w=function(U){m.call(h,U)},k=function(){var U;if(_&&!g)return(!h._readableState||!h._readableState.ended)&&(U=new A),m.call(h,U);if(b&&!S)return(!h._writableState||!h._writableState.ended)&&(U=new A),m.call(h,U)},R=function(){h.req.on("finish",c)};return C(h)?(h.on("complete",c),h.on("abort",k),h.req?R():h.on("request",R)):b&&!h._writableState&&(h.on("end",l),h.on("close",l)),h.on("end",d),h.on("finish",c),p.error!==!1&&h.on("error",w),h.on("close",k),function(){h.removeListener("complete",c),h.removeListener("abort",k),h.removeListener("request",R),h.req&&h.req.removeListener("finish",c),h.removeListener("end",l),h.removeListener("close",l),h.removeListener("finish",c),h.removeListener("end",d),h.removeListener("error",w),h.removeListener("close",k)}}s.exports=f},6314:s=>{s.exports=function(){throw new Error("Readable.from is not available in the browser")}},37413:(s,V,M)=>{"use strict";var A;function L(c){var g=!1;return function(){g||(g=!0,c.apply(void 0,arguments))}}var I=M(73157).F,C=I.ERR_MISSING_ARGS,f=I.ERR_STREAM_DESTROYED;function h(c){if(c)throw c}function p(c){return c.setHeader&&typeof c.abort=="function"}function m(c,g,d,w){w=L(w);var k=!1;c.on("close",function(){k=!0}),A===void 0&&(A=M(19959)),A(c,{readable:g,writable:d},function(P){if(P)return w(P);k=!0,w()});var R=!1;return function(P){if(!k&&!R){if(R=!0,p(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();w(P||new f("pipe"))}}}function _(c){c()}function b(c,g){return c.pipe(g)}function l(c){return!c.length||typeof c[c.length-1]!="function"?h:c.pop()}function S(){for(var c=arguments.length,g=new Array(c),d=0;d<c;d++)g[d]=arguments[d];var w=l(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new C("streams");var k,R=g.map(function(P,U){var F=U<g.length-1,y=U>0;return m(P,F,y,function(z){k||(k=z),z&&R.forEach(_),!F&&(R.forEach(_),w(k))})});return g.reduce(b)}s.exports=S},11922:(s,V,M)=>{"use strict";var A=M(73157).F.ERR_INVALID_OPT_VALUE;function L(C,f,h){return C.highWaterMark!=null?C.highWaterMark:f?C[h]:null}function I(C,f,h,p){var m=L(f,p,h);if(m!=null){if(!(isFinite(m)&&Math.floor(m)===m)||m<0){var _=p?h:"highWaterMark";throw new A(_,m)}return Math.floor(m)}return C.objectMode?16:16384}s.exports={getHighWaterMark:I}},81914:(s,V,M)=>{s.exports=M(37007).EventEmitter},63242:(s,V,M)=>{V=s.exports=M(52341),V.Stream=V,V.Readable=V,V.Writable=M(9573),V.Duplex=M(63527),V.Transform=M(95689),V.PassThrough=M(82571),V.finished=M(19959),V.pipeline=M(37413)},83141:(s,V,M)=>{"use strict";var A=M(92861).Buffer,L=A.isEncoding||function(R){switch(R=""+R,R&&R.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function I(R){if(!R)return"utf8";for(var P;;)switch(R){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return R;default:if(P)return;R=(""+R).toLowerCase(),P=!0}}function C(R){var P=I(R);if(typeof P!="string"&&(A.isEncoding===L||!L(R)))throw new Error("Unknown encoding: "+R);return P||R}V.I=f;function f(R){this.encoding=C(R);var P;switch(this.encoding){case"utf16le":this.text=S,this.end=c,P=4;break;case"utf8":this.fillLast=_,P=4;break;case"base64":this.text=g,this.end=d,P=3;break;default:this.write=w,this.end=k;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=A.allocUnsafe(P)}f.prototype.write=function(R){if(R.length===0)return"";var P,U;if(this.lastNeed){if(P=this.fillLast(R),P===void 0)return"";U=this.lastNeed,this.lastNeed=0}else U=0;return U<R.length?P?P+this.text(R,U):this.text(R,U):P||""},f.prototype.end=l,f.prototype.text=b,f.prototype.fillLast=function(R){if(this.lastNeed<=R.length)return R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,this.lastTotal-this.lastNeed,0,R.length),this.lastNeed-=R.length};function h(R){return R<=127?0:R>>5===6?2:R>>4===14?3:R>>3===30?4:R>>6===2?-1:-2}function p(R,P,U){var F=P.length-1;if(F<U)return 0;var y=h(P[F]);return y>=0?(y>0&&(R.lastNeed=y-1),y):--F<U||y===-2?0:(y=h(P[F]),y>=0?(y>0&&(R.lastNeed=y-2),y):--F<U||y===-2?0:(y=h(P[F]),y>=0?(y>0&&(y===2?y=0:R.lastNeed=y-3),y):0))}function m(R,P,U){if((P[0]&192)!==128)return R.lastNeed=0,"\uFFFD";if(R.lastNeed>1&&P.length>1){if((P[1]&192)!==128)return R.lastNeed=1,"\uFFFD";if(R.lastNeed>2&&P.length>2&&(P[2]&192)!==128)return R.lastNeed=2,"\uFFFD"}}function _(R){var P=this.lastTotal-this.lastNeed,U=m(this,R,P);if(U!==void 0)return U;if(this.lastNeed<=R.length)return R.copy(this.lastChar,P,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);R.copy(this.lastChar,P,0,R.length),this.lastNeed-=R.length}function b(R,P){var U=p(this,R,P);if(!this.lastNeed)return R.toString("utf8",P);this.lastTotal=U;var F=R.length-(U-this.lastNeed);return R.copy(this.lastChar,0,F),R.toString("utf8",P,F)}function l(R){var P=R&&R.length?this.write(R):"";return this.lastNeed?P+"\uFFFD":P}function S(R,P){if((R.length-P)%2===0){var U=R.toString("utf16le",P);if(U){var F=U.charCodeAt(U.length-1);if(F>=55296&&F<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1],U.slice(0,-1)}return U}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=R[R.length-1],R.toString("utf16le",P,R.length-1)}function c(R){var P=R&&R.length?this.write(R):"";if(this.lastNeed){var U=this.lastTotal-this.lastNeed;return P+this.lastChar.toString("utf16le",0,U)}return P}function g(R,P){var U=(R.length-P)%3;return U===0?R.toString("base64",P):(this.lastNeed=3-U,this.lastTotal=3,U===1?this.lastChar[0]=R[R.length-1]:(this.lastChar[0]=R[R.length-2],this.lastChar[1]=R[R.length-1]),R.toString("base64",P,R.length-U))}function d(R){var P=R&&R.length?this.write(R):"";return this.lastNeed?P+this.lastChar.toString("base64",0,3-this.lastNeed):P}function w(R){return R.toString(this.encoding)}function k(R){return R&&R.length?this.write(R):""}},9423:(s,V,M)=>{"use strict";M.d(V,{A:()=>C});function A(f){var h,p=f.Symbol;return typeof p=="function"?p.observable?h=p.observable:(h=p("observable"),p.observable=h):h="@@observable",h}s=M.hmd(s);var L;typeof self!="undefined"?L=self:typeof window!="undefined"?L=window:typeof M.g!="undefined"?L=M.g:L=s;var I=A(L);const C=I},32909:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.ExperimentationService=void 0;var A=M(67291);Object.defineProperty(V,"ExperimentationService",{enumerable:!0,get:function(){return A.ExperimentationService}})},67291:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.ExperimentationService=void 0;const A=M(32845),L=M(51924),I=M(45761);class C extends I.ExperimentationServiceAutoPolling{constructor(h){super(h.telemetry,h.filterProviders||[],h.refetchInterval!=null?h.refetchInterval:0,h.assignmentContextTelemetryPropertyName,h.telemetryEventName,h.storageKey,h.keyValueStorage),this.options=h,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new A.TasApiFeatureProvider(new L.HttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}V.ExperimentationService=C,C.REFRESH_RATE_IN_MINUTES=30},45761:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.ExperimentationServiceAutoPolling=void 0;const A=M(1714),L=M(23257);class I extends A.ExperimentationServiceBase{constructor(f,h,p,m,_,b,l){if(super(f,m,_,b,l),this.telemetry=f,this.filterProviders=h,this.refreshRateMs=p,this.assignmentContextTelemetryPropertyName=m,this.telemetryEventName=_,this.storageKey=b,this.storage=l,p<1e3&&p!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");p>0&&(this.pollingService=new L.PollingService(p),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(f=!1){if(this.pollingService){this.pollingService.StopPolling();let h=await super.getFeaturesAsync(f);return this.pollingService.StartPolling(),h}else return await super.getFeaturesAsync(f)}}V.ExperimentationServiceAutoPolling=I},1714:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.ExperimentationServiceBase=void 0;const A=M(48823);class L{get features(){return this._features}set features(C){this._features=C,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(C,f,h,p,m){this.telemetry=C,this.assignmentContextTelemetryPropertyName=f,this.telemetryEventName=h,this.storageKey=p,this.storage=m,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(m=new A.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((_,b)=>{this.resolveInitialFetchPromise=_})}async getFeaturesAsync(C=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async h=>await h.getFeatures()));const f=await this.fetchPromise;this.updateFeatures(f,C)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(C,f=!1){let h={features:[],assignmentContext:"",configs:[]};for(let p of C){for(let m of p.features)h.features.includes(m)||h.features.push(m);for(let m of p.configs){const _=h.configs.find(b=>b.Id===m.Id);_?_.Parameters=Object.assign(Object.assign({},_.Parameters),m.Parameters):h.configs.push(m)}h.assignmentContext+=p.assignmentContext}(f||!this.featuresConsumed)&&(this.features=h),this.storage&&this.storage.setValue(this.storageKey,h)}async loadCachedFeatureData(){let C;this.storage&&(C=await this.storage.getValue(this.storageKey),C!==void 0&&C.configs===void 0&&(C.configs=[])),this.features.features.length===0&&(this.features=C||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(C){return this.featuresConsumed=!0,this.PostEventToTelemetry(C),this.features.features.includes(C)}async isCachedFlightEnabled(C){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(C),this.features.features.includes(C)}async isFlightEnabledAsync(C){const f=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(C),f.features.includes(C)}getTreatmentVariable(C,f){this.featuresConsumed=!0,this.PostEventToTelemetry(`${C}.${f}`);const h=this.features.configs.find(p=>p.Id===C);return h==null?void 0:h.Parameters[f]}async getTreatmentVariableAsync(C,f,h){if(h){const p=this.featuresConsumed,m=this.getTreatmentVariable(C,f);if(m===void 0)this.featuresConsumed=p;else return m}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(C,f)}PostEventToTelemetry(C){this.cachedTelemetryEvents.includes(C)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",C]])),this.cachedTelemetryEvents.push(C))}invokeInit(){this.init()}addFeatureProvider(...C){if(!(C==null||this.featureProviders==null))for(let f of C)this.featureProviders.push(f)}}V.ExperimentationServiceBase=L},96790:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.BaseFeatureProvider=void 0;class M{constructor(L){this.telemetry=L,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let L=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,L}}V.BaseFeatureProvider=M},76492:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.FilteredFeatureProvider=void 0;const A=M(96790);class L extends A.BaseFeatureProvider{constructor(C,f){super(C),this.telemetry=C,this.filterProviders=f,this.cachedTelemetryEvents=[]}getFilters(){let C=new Map;for(let f of this.filterProviders){let h=f.getFilters();for(let p of h.keys()){let m=h.get(p);C.set(p,m)}}return C}PostEventToTelemetry(C){if(this.cachedTelemetryEvents.includes(C))return;const f=JSON.stringify(C);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",f]])),this.cachedTelemetryEvents.push(C)}}V.FilteredFeatureProvider=L},32845:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.TasApiFeatureProvider=V.TASAPI_FETCHERROR_EVENTNAME=void 0;const A=M(76492);V.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";const L="ErrorType";class I extends A.FilteredFeatureProvider{constructor(f,h,p){super(h,p),this.httpClient=f,this.telemetry=h,this.filterProviders=p}async fetch(){let f=this.getFilters(),h={};for(let l of f.keys()){const S=f.get(l);h[l]=S}let p;try{p=await this.httpClient.get({headers:h})}catch(l){const S=l,c=new Map;S.responseReceived&&!S.responseOk?c.set(L,"ServerError"):S.responseReceived===!1?c.set(L,"NoResponse"):c.set(L,"GenericError"),this.telemetry.postEvent(V.TASAPI_FETCHERROR_EVENTNAME,c)}if(!p)throw Error(V.TASAPI_FETCHERROR_EVENTNAME);f.keys.length>0&&this.PostEventToTelemetry(h);const m=p.data;let _=m.Configs,b=[];for(let l of _)if(l.Parameters)for(let S of Object.keys(l.Parameters)){const c=S+(l.Parameters[S]?"":"cf");b.includes(c)||b.push(c)}return{features:b,assignmentContext:m.AssignmentContext,configs:_}}}V.TasApiFeatureProvider=I},51924:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.HttpClient=V.FetchError=void 0;class M extends Error{constructor(I,C,f){super(I),this.responseReceived=C,this.responseOk=f}}V.FetchError=M;class A{constructor(I){this.endpoint=I}async get(I){const C=await fetch(this.endpoint,{method:"GET",headers:I==null?void 0:I.headers});if(!C)throw new M("No response received",!1);if(!C.ok)throw new M("Response not ok",!0,!1);const f=await C.json();if(!f)throw new M("No data received",!1);return{data:f}}}V.HttpClient=A},48823:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.MemoryKeyValueStorage=void 0;class M{constructor(){this.storage=new Map}async getValue(L,I){return this.storage.has(L)?await Promise.resolve(this.storage.get(L)):await Promise.resolve(I||void 0)}setValue(L,I){this.storage.set(L,I)}}V.MemoryKeyValueStorage=M},23257:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.PollingService=void 0;class M{constructor(L){this.fetchInterval=L}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(L){this.onTick=L}StartPolling(L=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(L&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}V.PollingService=M},15377:(s,V,M)=>{"use strict";var A=M(92861).Buffer,L=M(92006),I=M(74372),C=ArrayBuffer.isView||function(_){try{return I(_),!0}catch{return!1}},f=typeof Uint8Array!="undefined",h=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",p=h&&(A.prototype instanceof Uint8Array||A.TYPED_ARRAY_SUPPORT);s.exports=function(_,b){if(_ instanceof A)return _;if(typeof _=="string")return A.from(_,b);if(h&&C(_)){if(_.byteLength===0)return A.alloc(0);if(p){var l=A.from(_.buffer,_.byteOffset,_.byteLength);if(l.byteLength===_.byteLength)return l}var S=_ instanceof Uint8Array?_:new Uint8Array(_.buffer,_.byteOffset,_.byteLength),c=A.from(S);if(c.length===_.byteLength)return c}if(f&&_ instanceof Uint8Array)return A.from(_);var g=L(_);if(g)for(var d=0;d<_.length;d+=1){var w=_[d];if(typeof w!="number"||w<0||w>255||~~w!==w)throw new RangeError("Array items must be numbers in the range 0-255.")}if(g||A.isBuffer(_)&&_.constructor&&typeof _.constructor.isBuffer=="function"&&_.constructor.isBuffer(_))return A.from(_);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')}},92006:s=>{var V={}.toString;s.exports=Array.isArray||function(M){return V.call(M)=="[object Array]"}},74372:(s,V,M)=>{"use strict";var A=M(69675),L=M(36556),I=L("TypedArray.prototype.buffer",!0),C=M(88769);s.exports=I||function(h){if(!C(h))throw new A("Not a Typed Array");return h.buffer}},96056:(s,V,M)=>{"use strict";var A=M(96897),L=M(30655),I=M(73126),C=M(12205);s.exports=function(h){var p=I(arguments),m=h.length-(arguments.length-1);return A(p,1+(m>0?m:0),!0)},L?L(s.exports,"apply",{value:C}):s.exports.apply=C},88769:(s,V,M)=>{"use strict";var A=M(66524);s.exports=function(I){return!!A(I)}},66524:(s,V,M)=>{"use strict";var A=M(82682),L=M(90972),I=M(96056),C=M(36556),f=M(75795),h=M(93628),p=C("Object.prototype.toString"),m=M(49092)(),_=typeof globalThis=="undefined"?M.g:globalThis,b=L(),l=C("String.prototype.slice"),S=C("Array.prototype.indexOf",!0)||function(k,R){for(var P=0;P<k.length;P+=1)if(k[P]===R)return P;return-1},c={__proto__:null};m&&f&&h?A(b,function(w){var k=new _[w];if(Symbol.toStringTag in k&&h){var R=h(k),P=f(R,Symbol.toStringTag);if(!P&&R){var U=h(R);P=f(U,Symbol.toStringTag)}c["$"+w]=I(P.get)}}):A(b,function(w){var k=new _[w],R=k.slice||k.set;R&&(c["$"+w]=I(R))});var g=function(k){var R=!1;return A(c,function(P,U){if(!R)try{"$"+P(k)===U&&(R=l(U,1))}catch{}}),R},d=function(k){var R=!1;return A(c,function(P,U){if(!R)try{P(k),R=l(U,1)}catch{}}),R};s.exports=function(k){if(!k||typeof k!="object")return!1;if(!m){var R=l(p(k),8,-1);return S(b,R)>-1?R:R!=="Object"?!1:d(k)}return f?g(k):null}},48318:function(s,V,M){(function(A){"use strict";var L=function(){try{if(A.URLSearchParams&&new A.URLSearchParams("foo=bar").get("foo")==="bar")return A.URLSearchParams}catch{}return null}(),I=L&&new L({a:1}).toString()==="a=1",C=L&&new L("s=%2B").get("s")==="+",f="__URLSearchParams__",h=L?function(){var F=new L;return F.append("s"," &"),F.toString()==="s=+%26"}():!0,p=_.prototype,m=!!(A.Symbol&&A.Symbol.iterator);if(L&&I&&C&&h)return;function _(F){F=F||"",(F instanceof URLSearchParams||F instanceof _)&&(F=F.toString()),this[f]=k(F)}p.append=function(F,y){R(this[f],F,y)},p.delete=function(F){delete this[f][F]},p.get=function(F){var y=this[f];return this.has(F)?y[F][0]:null},p.getAll=function(F){var y=this[f];return this.has(F)?y[F].slice(0):[]},p.has=function(F){return U(this[f],F)},p.set=function(y,z){this[f][y]=[""+z]},p.toString=function(){var F=this[f],y=[],z,Q,Z,X;for(Q in F)for(Z=g(Q),z=0,X=F[Q];z<X.length;z++)y.push(Z+"="+g(X[z]));return y.join("&")};var b=!C,l=!b&&L&&!I&&A.Proxy,S;l?(S=new Proxy(L,{construct:function(F,y){return new F(new _(y[0]).toString())}}),S.toString=Function.prototype.toString.bind(_)):S=_,Object.defineProperty(A,"URLSearchParams",{value:S});var c=A.URLSearchParams.prototype;c.polyfill=!0,c.forEach=c.forEach||function(F,y){var z=k(this.toString());Object.getOwnPropertyNames(z).forEach(function(Q){z[Q].forEach(function(Z){F.call(y,Z,Q,this)},this)},this)},c.sort=c.sort||function(){var F=k(this.toString()),y=[],z,Q,Z;for(z in F)y.push(z);for(y.sort(),Q=0;Q<y.length;Q++)this.delete(y[Q]);for(Q=0;Q<y.length;Q++){var X=y[Q],Y=F[X];for(Z=0;Z<Y.length;Z++)this.append(X,Y[Z])}},c.keys=c.keys||function(){var F=[];return this.forEach(function(y,z){F.push(z)}),w(F)},c.values=c.values||function(){var F=[];return this.forEach(function(y){F.push(y)}),w(F)},c.entries=c.entries||function(){var F=[];return this.forEach(function(y,z){F.push([z,y])}),w(F)},m&&(c[A.Symbol.iterator]=c[A.Symbol.iterator]||c.entries);function g(F){var y={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(F).replace(/[!'\(\)~]|%20|%00/g,function(z){return y[z]})}function d(F){return F.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/ig,function(y){return decodeURIComponent(y)})}function w(F){var y={next:function(){var z=F.shift();return{done:z===void 0,value:z}}};return m&&(y[A.Symbol.iterator]=function(){return y}),y}function k(F){var y={};if(typeof F=="object")if(P(F))for(var z=0;z<F.length;z++){var Q=F[z];if(P(Q)&&Q.length===2)R(y,Q[0],Q[1]);else throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements")}else for(var Z in F)F.hasOwnProperty(Z)&&R(y,Z,F[Z]);else{F.indexOf("?")===0&&(F=F.slice(1));for(var X=F.split("&"),Y=0;Y<X.length;Y++){var O=X[Y],$=O.indexOf("=");-1<$?R(y,d(O.slice(0,$)),d(O.slice($+1))):O&&R(y,d(O),"")}}return y}function R(F,y,z){var Q=typeof z=="string"?z:z!=null&&typeof z.toString=="function"?z.toString():JSON.stringify(z);U(F,y)?F[y].push(Q):F[y]=[Q]}function P(F){return!!F&&Object.prototype.toString.call(F)==="[object Array]"}function U(F,y){return Object.prototype.hasOwnProperty.call(F,y)}})(typeof M.g!="undefined"?M.g:typeof window!="undefined"?window:this)},94643:(s,V,M)=>{s.exports=A;function A(I,C){if(L("noDeprecation"))return I;var f=!1;function h(){if(!f){if(L("throwDeprecation"))throw new Error(C);L("traceDeprecation")?console.trace(C):console.warn(C),f=!0}return I.apply(this,arguments)}return h}function L(I){try{if(!M.g.localStorage)return!1}catch{return!1}var C=M.g.localStorage[I];return C==null?!1:String(C).toLowerCase()==="true"}},41566:(s,V,M)=>{"use strict";var A;A={value:!0},V.Z7=A=V.M$=void 0;var L=M(12493);Object.defineProperty(V,"M$",{enumerable:!0,get:function(){return L.getExperimentationService}}),A={enumerable:!0,get:function(){return L.getExperimentationServiceAsync}};var I=M(8967);Object.defineProperty(V,"Z7",{enumerable:!0,get:function(){return I.TargetPopulation}})},98142:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.MementoKeyValueStorage=void 0;class M{constructor(L){this.mementoGlobalStorage=L}async getValue(L,I){return await this.mementoGlobalStorage.get(L)||I}setValue(L,I){this.mementoGlobalStorage.update(L,I)}}V.MementoKeyValueStorage=M},59052:(s,V)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});class M{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(L){return!1}isCachedFlightEnabled(L){return Promise.resolve(!1)}isFlightEnabledAsync(L){return Promise.resolve(!1)}getTreatmentVariable(L,I){}getTreatmentVariableAsync(L,I){return Promise.resolve(void 0)}}V.default=M},8967:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.TargetPopulation=V.Filters=V.VSCodeFilterProvider=void 0;const A=M(91398);class L{constructor(h,p,m){this.extensionName=h,this.extensionVersion=p,this.targetPopulation=m}static trimVersionSuffix(h){const p=/\-[a-zA-Z0-9]+$/;return h.split(p)[0]}getFilterValue(h){switch(h){case I.ApplicationVersion:return L.trimVersionSuffix(A.version);case I.Build:return A.env.appName;case I.ClientId:return A.env.machineId;case I.ExtensionName:return this.extensionName;case I.ExtensionVersion:return L.trimVersionSuffix(this.extensionVersion);case I.Language:return A.env.language;case I.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let h=new Map,p=Object.values(I);for(let m of p)h.set(m,this.getFilterValue(m));return h}}V.VSCodeFilterProvider=L;var I;(function(f){f.Market="X-MSEdge-Market",f.CorpNet="X-FD-Corpnet",f.ApplicationVersion="X-VSCode-AppVersion",f.Build="X-VSCode-Build",f.ClientId="X-MSEdge-ClientId",f.ExtensionName="X-VSCode-ExtensionName",f.ExtensionVersion="X-VSCode-ExtensionVersion",f.Language="X-VSCode-Language",f.TargetPopulation="X-VSCode-TargetPopulation"})(I||(V.Filters=I={}));var C;(function(f){f.Team="team",f.Internal="internal",f.Insiders="insider",f.Public="public"})(C||(V.TargetPopulation=C={}))},12493:(s,V,M)=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0}),V.getExperimentationServiceAsync=V.getExperimentationService=void 0;const A=M(8967),L=M(32909),I=M(91398),C=M(98142),f=M(59052),h="https://default.exp-tas.com/vscode/ab",p="query-expfeature",m="abexp.assignmentcontext",_="VSCode.ABExp.FeatureData",b=1e3*60*30;function l(c,g,d,w,k,...R){if(!k)throw new Error("Memento storage was not provided.");const P=I.workspace.getConfiguration("telemetry");if(!(I.env.isTelemetryEnabled===void 0?P.get("enableTelemetry",!0):I.env.isTelemetryEnabled))return new f.default;const y=[new A.VSCodeFilterProvider(c,g,d),...R],z=new C.MementoKeyValueStorage(k);return new L.ExperimentationService({filterProviders:y,telemetry:w,storageKey:_,keyValueStorage:z,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:m,telemetryEventName:p,endpoint:h,refetchInterval:b})}V.getExperimentationService=l;async function S(c,g,d,w,k,...R){const P=l(c,g,d,w,k,...R);return await P.initializePromise,P}V.getExperimentationServiceAsync=S},57510:s=>{s.exports=M;var V=Object.prototype.hasOwnProperty;function M(){for(var A={},L=0;L<arguments.length;L++){var I=arguments[L];for(var C in I)V.call(I,C)&&(A[C]=I[C])}return A}},40259:s=>{"use strict";s.exports=function(V){V.prototype[Symbol.iterator]=function*(){for(let M=this.head;M;M=M.next)yield M.value}}},28799:(s,V,M)=>{"use strict";s.exports=A,A.Node=f,A.create=A;function A(h){var p=this;if(p instanceof A||(p=new A),p.tail=null,p.head=null,p.length=0,h&&typeof h.forEach=="function")h.forEach(function(b){p.push(b)});else if(arguments.length>0)for(var m=0,_=arguments.length;m<_;m++)p.push(arguments[m]);return p}A.prototype.removeNode=function(h){if(h.list!==this)throw new Error("removing node which does not belong to this list");var p=h.next,m=h.prev;return p&&(p.prev=m),m&&(m.next=p),h===this.head&&(this.head=p),h===this.tail&&(this.tail=m),h.list.length--,h.next=null,h.prev=null,h.list=null,p},A.prototype.unshiftNode=function(h){if(h!==this.head){h.list&&h.list.removeNode(h);var p=this.head;h.list=this,h.next=p,p&&(p.prev=h),this.head=h,this.tail||(this.tail=h),this.length++}},A.prototype.pushNode=function(h){if(h!==this.tail){h.list&&h.list.removeNode(h);var p=this.tail;h.list=this,h.prev=p,p&&(p.next=h),this.tail=h,this.head||(this.head=h),this.length++}},A.prototype.push=function(){for(var h=0,p=arguments.length;h<p;h++)I(this,arguments[h]);return this.length},A.prototype.unshift=function(){for(var h=0,p=arguments.length;h<p;h++)C(this,arguments[h]);return this.length},A.prototype.pop=function(){if(this.tail){var h=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,h}},A.prototype.shift=function(){if(this.head){var h=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,h}},A.prototype.forEach=function(h,p){p=p||this;for(var m=this.head,_=0;m!==null;_++)h.call(p,m.value,_,this),m=m.next},A.prototype.forEachReverse=function(h,p){p=p||this;for(var m=this.tail,_=this.length-1;m!==null;_--)h.call(p,m.value,_,this),m=m.prev},A.prototype.get=function(h){for(var p=0,m=this.head;m!==null&&p<h;p++)m=m.next;if(p===h&&m!==null)return m.value},A.prototype.getReverse=function(h){for(var p=0,m=this.tail;m!==null&&p<h;p++)m=m.prev;if(p===h&&m!==null)return m.value},A.prototype.map=function(h,p){p=p||this;for(var m=new A,_=this.head;_!==null;)m.push(h.call(p,_.value,this)),_=_.next;return m},A.prototype.mapReverse=function(h,p){p=p||this;for(var m=new A,_=this.tail;_!==null;)m.push(h.call(p,_.value,this)),_=_.prev;return m},A.prototype.reduce=function(h,p){var m,_=this.head;if(arguments.length>1)m=p;else if(this.head)_=this.head.next,m=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var b=0;_!==null;b++)m=h(m,_.value,b),_=_.next;return m},A.prototype.reduceReverse=function(h,p){var m,_=this.tail;if(arguments.length>1)m=p;else if(this.tail)_=this.tail.prev,m=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var b=this.length-1;_!==null;b--)m=h(m,_.value,b),_=_.prev;return m},A.prototype.toArray=function(){for(var h=new Array(this.length),p=0,m=this.head;m!==null;p++)h[p]=m.value,m=m.next;return h},A.prototype.toArrayReverse=function(){for(var h=new Array(this.length),p=0,m=this.tail;m!==null;p++)h[p]=m.value,m=m.prev;return h},A.prototype.slice=function(h,p){p=p||this.length,p<0&&(p+=this.length),h=h||0,h<0&&(h+=this.length);var m=new A;if(p<h||p<0)return m;h<0&&(h=0),p>this.length&&(p=this.length);for(var _=0,b=this.head;b!==null&&_<h;_++)b=b.next;for(;b!==null&&_<p;_++,b=b.next)m.push(b.value);return m},A.prototype.sliceReverse=function(h,p){p=p||this.length,p<0&&(p+=this.length),h=h||0,h<0&&(h+=this.length);var m=new A;if(p<h||p<0)return m;h<0&&(h=0),p>this.length&&(p=this.length);for(var _=this.length,b=this.tail;b!==null&&_>p;_--)b=b.prev;for(;b!==null&&_>h;_--,b=b.prev)m.push(b.value);return m},A.prototype.splice=function(h,p,...m){h>this.length&&(h=this.length-1),h<0&&(h=this.length+h);for(var _=0,b=this.head;b!==null&&_<h;_++)b=b.next;for(var l=[],_=0;b&&_<p;_++)l.push(b.value),b=this.removeNode(b);b===null&&(b=this.tail),b!==this.head&&b!==this.tail&&(b=b.prev);for(var _=0;_<m.length;_++)b=L(this,b,m[_]);return l},A.prototype.reverse=function(){for(var h=this.head,p=this.tail,m=h;m!==null;m=m.prev){var _=m.prev;m.prev=m.next,m.next=_}return this.head=p,this.tail=h,this};function L(h,p,m){var _=p===h.head?new f(m,null,p,h):new f(m,p,p.next,h);return _.next===null&&(h.tail=_),_.prev===null&&(h.head=_),h.length++,_}function I(h,p){h.tail=new f(p,h.tail,null,h),h.head||(h.head=h.tail),h.length++}function C(h,p){h.head=new f(p,null,h.head,h),h.tail||(h.tail=h.head),h.length++}function f(h,p,m,_){if(!(this instanceof f))return new f(h,p,m,_);this.list=_,this.value=h,p?(p.next=this,this.prev=p):this.prev=null,m?(m.prev=this,this.next=m):this.next=null}try{M(40259)(A)}catch{}},16064:(s,V,M)=>{s.exports=M(43619).Observable},43619:(s,V)=>{"use strict";var M;M={value:!0},V.Observable=void 0;function A(z,Q){if(!(z instanceof Q))throw new TypeError("Cannot call a class as a function")}function L(z,Q){for(var Z=0;Z<Q.length;Z++){var X=Q[Z];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(z,X.key,X)}}function I(z,Q,Z){return Q&&L(z.prototype,Q),Z&&L(z,Z),z}var C=function(){return typeof Symbol=="function"},f=function(z){return C()&&!!Symbol[z]},h=function(z){return f(z)?Symbol[z]:"@@"+z};C()&&!f("observable")&&(Symbol.observable=Symbol("observable"));var p=h("iterator"),m=h("observable"),_=h("species");function b(z,Q){var Z=z[Q];if(Z!=null){if(typeof Z!="function")throw new TypeError(Z+" is not a function");return Z}}function l(z){var Q=z.constructor;return Q!==void 0&&(Q=Q[_],Q===null&&(Q=void 0)),Q!==void 0?Q:y}function S(z){return z instanceof y}function c(z){c.log?c.log(z):setTimeout(function(){throw z})}function g(z){Promise.resolve().then(function(){try{z()}catch(Q){c(Q)}})}function d(z){var Q=z._cleanup;if(Q!==void 0&&(z._cleanup=void 0,!!Q))try{if(typeof Q=="function")Q();else{var Z=b(Q,"unsubscribe");Z&&Z.call(Q)}}catch(X){c(X)}}function w(z){z._observer=void 0,z._queue=void 0,z._state="closed"}function k(z){var Q=z._queue;if(Q){z._queue=void 0,z._state="ready";for(var Z=0;Z<Q.length&&(R(z,Q[Z].type,Q[Z].value),z._state!=="closed");++Z);}}function R(z,Q,Z){z._state="running";var X=z._observer;try{var Y=b(X,Q);switch(Q){case"next":Y&&Y.call(X,Z);break;case"error":if(w(z),Y)Y.call(X,Z);else throw Z;break;case"complete":w(z),Y&&Y.call(X);break}}catch(O){c(O)}z._state==="closed"?d(z):z._state==="running"&&(z._state="ready")}function P(z,Q,Z){if(z._state!=="closed"){if(z._state==="buffering"){z._queue.push({type:Q,value:Z});return}if(z._state!=="ready"){z._state="buffering",z._queue=[{type:Q,value:Z}],g(function(){return k(z)});return}R(z,Q,Z)}}var U=function(){function z(Q,Z){A(this,z),this._cleanup=void 0,this._observer=Q,this._queue=void 0,this._state="initializing";var X=new F(this);try{this._cleanup=Z.call(void 0,X)}catch(Y){X.error(Y)}this._state==="initializing"&&(this._state="ready")}return I(z,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(w(this),d(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),z}(),F=function(){function z(Q){A(this,z),this._subscription=Q}return I(z,[{key:"next",value:function(Z){P(this._subscription,"next",Z)}},{key:"error",value:function(Z){P(this._subscription,"error",Z)}},{key:"complete",value:function(){P(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),z}(),y=function(){function z(Q){if(A(this,z),!(this instanceof z))throw new TypeError("Observable cannot be called as a function");if(typeof Q!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=Q}return I(z,[{key:"subscribe",value:function(Z){return(typeof Z!="object"||Z===null)&&(Z={next:Z,error:arguments[1],complete:arguments[2]}),new U(Z,this._subscriber)}},{key:"forEach",value:function(Z){var X=this;return new Promise(function(Y,O){if(typeof Z!="function"){O(new TypeError(Z+" is not a function"));return}function $(){D.unsubscribe(),Y()}var D=X.subscribe({next:function(u){try{Z(u,$)}catch(E){O(E),D.unsubscribe()}},error:O,complete:Y})})}},{key:"map",value:function(Z){var X=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var Y=l(this);return new Y(function(O){return X.subscribe({next:function($){try{$=Z($)}catch(D){return O.error(D)}O.next($)},error:function($){O.error($)},complete:function(){O.complete()}})})}},{key:"filter",value:function(Z){var X=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var Y=l(this);return new Y(function(O){return X.subscribe({next:function($){try{if(!Z($))return}catch(D){return O.error(D)}O.next($)},error:function($){O.error($)},complete:function(){O.complete()}})})}},{key:"reduce",value:function(Z){var X=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var Y=l(this),O=arguments.length>1,$=!1,D=arguments[1],u=D;return new Y(function(E){return X.subscribe({next:function(q){var H=!$;if($=!0,!H||O)try{u=Z(u,q)}catch(K){return E.error(K)}else u=q},error:function(q){E.error(q)},complete:function(){if(!$&&!O)return E.error(new TypeError("Cannot reduce an empty sequence"));E.next(u),E.complete()}})})}},{key:"concat",value:function(){for(var Z=this,X=arguments.length,Y=new Array(X),O=0;O<X;O++)Y[O]=arguments[O];var $=l(this);return new $(function(D){var u,E=0;function q(H){u=H.subscribe({next:function(K){D.next(K)},error:function(K){D.error(K)},complete:function(){E===Y.length?(u=void 0,D.complete()):q($.from(Y[E++]))}})}return q(Z),function(){u&&(u.unsubscribe(),u=void 0)}})}},{key:"flatMap",value:function(Z){var X=this;if(typeof Z!="function")throw new TypeError(Z+" is not a function");var Y=l(this);return new Y(function(O){var $=[],D=X.subscribe({next:function(E){if(Z)try{E=Z(E)}catch(H){return O.error(H)}var q=Y.from(E).subscribe({next:function(H){O.next(H)},error:function(H){O.error(H)},complete:function(){var H=$.indexOf(q);H>=0&&$.splice(H,1),u()}});$.push(q)},error:function(E){O.error(E)},complete:function(){u()}});function u(){D.closed&&$.length===0&&O.complete()}return function(){$.forEach(function(E){return E.unsubscribe()}),D.unsubscribe()}})}},{key:m,value:function(){return this}}],[{key:"from",value:function(Z){var X=typeof this=="function"?this:z;if(Z==null)throw new TypeError(Z+" is not an object");var Y=b(Z,m);if(Y){var O=Y.call(Z);if(Object(O)!==O)throw new TypeError(O+" is not an object");return S(O)&&O.constructor===X?O:new X(function($){return O.subscribe($)})}if(f("iterator")&&(Y=b(Z,p),Y))return new X(function($){g(function(){if(!$.closed){var D=!0,u=!1,E=void 0;try{for(var q=Y.call(Z)[Symbol.iterator](),H;!(D=(H=q.next()).done);D=!0){var K=H.value;if($.next(K),$.closed)return}}catch(G){u=!0,E=G}finally{try{!D&&q.return!=null&&q.return()}finally{if(u)throw E}}$.complete()}})});if(Array.isArray(Z))return new X(function($){g(function(){if(!$.closed){for(var D=0;D<Z.length;++D)if($.next(Z[D]),$.closed)return;$.complete()}})});throw new TypeError(Z+" is not observable")}},{key:"of",value:function(){for(var Z=arguments.length,X=new Array(Z),Y=0;Y<Z;Y++)X[Y]=arguments[Y];var O=typeof this=="function"?this:z;return new O(function($){g(function(){if(!$.closed){for(var D=0;D<X.length;++D)if($.next(X[D]),$.closed)return;$.complete()}})})}},{key:_,get:function(){return this}}]),z}();V.Observable=y,C()&&Object.defineProperty(y,Symbol("extensions"),{value:{symbol:m,hostReportError:c},configurable:!0})},91398:s=>{"use strict";s.exports=require("vscode")},47790:()=>{},73776:()=>{},98285:()=>{},38664:()=>{},21638:()=>{},92668:()=>{},8460:()=>{},92382:()=>{},63779:()=>{},77199:()=>{},59169:()=>{},86833:()=>{},59817:()=>{},6773:s=>{"use strict";var V;const M=function(){};M.prototype=Object.create(null);const A=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,L=/\\([\v\u0020-\u00ff])/gu,I=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,C={type:"",parameters:new M};Object.freeze(C.parameters),Object.freeze(C);function f(p){if(typeof p!="string")throw new TypeError("argument header is required and must be a string");let m=p.indexOf(";");const _=m!==-1?p.slice(0,m).trim():p.trim();if(I.test(_)===!1)throw new TypeError("invalid media type");const b={type:_.toLowerCase(),parameters:new M};if(m===-1)return b;let l,S,c;for(A.lastIndex=m;S=A.exec(p);){if(S.index!==m)throw new TypeError("invalid parameter format");m+=S[0].length,l=S[1].toLowerCase(),c=S[2],c[0]==='"'&&(c=c.slice(1,c.length-1),L.test(c)&&(c=c.replace(L,"$1"))),b.parameters[l]=c}if(m!==p.length)throw new TypeError("invalid parameter format");return b}function h(p){if(typeof p!="string")return C;let m=p.indexOf(";");const _=m!==-1?p.slice(0,m).trim():p.trim();if(I.test(_)===!1)return C;const b={type:_.toLowerCase(),parameters:new M};if(m===-1)return b;let l,S,c;for(A.lastIndex=m;S=A.exec(p);){if(S.index!==m)return C;m+=S[0].length,l=S[1].toLowerCase(),c=S[2],c[0]==='"'&&(c=c.slice(1,c.length-1),L.test(c)&&(c=c.replace(L,"$1"))),b.parameters[l]=c}return m!==p.length?C:b}V={parse:f,safeParse:h},V=f,s.exports.xL=h,V=C},90972:(s,V,M)=>{"use strict";var A=M(76578),L=typeof globalThis=="undefined"?M.g:globalThis;s.exports=function(){for(var C=[],f=0;f<A.length;f++)typeof L[A[f]]=="function"&&(C[C.length]=A[f]);return C}},3219:s=>{"use strict";s.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:s=>{"use strict";s.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:s=>{"use strict";s.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:s=>{"use strict";s.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:s=>{"use strict";s.exports={rE:"6.6.1"}},15579:s=>{"use strict";s.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},va={};function Xt(s){var V=va[s];if(V!==void 0)return V.exports;var M=va[s]={id:s,loaded:!1,exports:{}};return Rs[s].call(M.exports,M,M.exports,Xt),M.loaded=!0,M.exports}Xt.n=s=>{var V=s&&s.__esModule?()=>s.default:()=>s;return Xt.d(V,{a:V}),V},Xt.d=(s,V)=>{for(var M in V)Xt.o(V,M)&&!Xt.o(s,M)&&Object.defineProperty(s,M,{enumerable:!0,get:V[M]})},Xt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Xt.hmd=s=>(s=Object.create(s),s.children||(s.children=[]),Object.defineProperty(s,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+s.id)}}),s),Xt.o=(s,V)=>Object.prototype.hasOwnProperty.call(s,V),Xt.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},Xt.nmd=s=>(s.paths=[],s.children||(s.children=[]),s);var Ic={};(()=>{"use strict";Xt.r(Ic),Xt.d(Ic,{activate:()=>BT,deactivate:()=>VT});var s=Xt(91398),V=Xt.n(s);const M=async(n,e,t)=>{const i=await Promise.resolve().then(Xt.bind(Xt,14523)),r=await Promise.resolve().then(Xt.bind(Xt,28643)),a=new i.AppInsightsCore,o=new r.PostChannel,v={instrumentationKey:n,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[o]]};if(t){v.extensionConfig={};const W={alwaysUseXhrOverride:!0,httpXHROverride:t};v.extensionConfig[o.identifier]=W}const x=e.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(v,[]),a.addTelemetryInitializer(W=>{var te,oe;x&&(W.ext=(te=W.ext)!=null?te:{},W.ext.utc=(oe=W.ext.utc)!=null?oe:{},W.ext.utc.flags=8462029)}),a},A=async(n,e,t)=>{const i=await M(n,e,t);return{logEvent:(a,o)=>{try{i==null||i.track({name:a,baseData:{name:a,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(v){throw new Error(`Failed to log event to app insights!
`+v.message)}},flush:async()=>{try{i==null||i.unload()}catch(a){throw new Error(`Failed to flush app insights!
`+a.message)}}}};var L;(function(n){n[n.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",n[n.INSTANTIATING=1]="INSTANTIATING",n[n.INSTANTIATED=2]="INSTANTIATED"})(L||(L={}));class I{constructor(e,t){this._instantiationStatus=L.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==L.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==L.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===L.NOT_INSTANTIATED&&(this._instantiationStatus=L.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=L.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=L.INSTANTIATED}))}}class C{constructor(e,t,i){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,i),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender()}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,i,r){r?this.telemetrySender.sendEventData(e,{properties:t,measurements:i}):this.telemetryLogger.logUsage(e,{properties:t,measurements:i})}sendTelemetryEvent(e,t,i){this.internalSendTelemetryEvent(e,t,i,!1)}sendDangerousTelemetryEvent(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,i,!0)}internalSendTelemetryErrorEvent(e,t,i,r){r?this.telemetrySender.sendEventData(e,{properties:t,measurements:i}):this.telemetryLogger.logError(e,{properties:t,measurements:i})}sendTelemetryErrorEvent(e,t,i){this.internalSendTelemetryErrorEvent(e,t,i,!1)}sendDangerousTelemetryErrorEvent(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,i,!0)}internalSendTelemetryException(e,t,i,r){r?this.telemetrySender.sendErrorData(e,{properties:t,measurements:i}):this.telemetryLogger.logError(e,{properties:t,measurements:i})}sendTelemetryException(e,t,i){this.internalSendTelemetryException(e,t,i,!1)}sendDangerousTelemetryException(e,t,i){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,t,i,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}class f{static applyReplacements(e,t){for(const i of Object.keys(e))for(const r of t)r.lookup.test(i)&&(r.replacementString!==void 0?e[i]=r.replacementString:delete e[i])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.5"}}static getInstance(){return f._instance||(f._instance=new f),f._instance}}const h=async(n,e)=>{let t;try{const r=await Promise.resolve().then(Xt.bind(Xt,94731));t=new r.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),t.initialize()}catch(r){return Promise.reject(r)}return{logEvent:(r,a)=>{const o={...a==null?void 0:a.properties,...a==null?void 0:a.measurements};e!=null&&e.length&&f.applyReplacements(o,e),t==null||t.track({name:r,data:o})},flush:async()=>{t==null||t.flush()}}};class p extends C{constructor(e,t){let i=o=>h(o,t);f.shouldUseOneDataSystemSDK(e)&&(i=o=>A(o,s));const r={release:navigator.appVersion,platform:"web",architecture:"web"},a=new I(e,i);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(a,s,{additionalCommonProperties:f.getAdditionalCommonProperties(r)})}}var m=Object.defineProperty,_=(n,e,t)=>e in n?m(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,b=(n,e,t)=>_(n,typeof e!="symbol"?e+"":e,t);function l(n){return{dispose:n}}function S(n){return l(()=>c(n))}function c(n){for(;n.length;){const e=n.pop();e==null||e.dispose()}}function g(n,e){return e.push(n),n}class d{constructor(){b(this,"_isDisposed",!1),b(this,"_disposables",[])}dispose(){this._isDisposed||(this._isDisposed=!0,c(this._disposables),this._disposables=[])}_register(e){return this._isDisposed?e.dispose():this._disposables.push(e),e}get isDisposed(){return this._isDisposed}}var w=Object.defineProperty,k=(n,e,t)=>e in n?w(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,R=(n,e,t)=>k(n,typeof e!="symbol"?e+"":e,t);const P="PullRequestTree";class U extends d{constructor(){super(),R(this,"_outputChannel"),R(this,"_activePerfMarkers",new Map),this._outputChannel=this._register(s.window.createOutputChannel("GitHub Pull Request",{log:!0}))}startPerfMarker(e){const t=performance.now();this._outputChannel.appendLine(`[PERF_MARKER] Start ${e}`),this._activePerfMarkers.set(e,t)}endPerfMarker(e){const t=performance.now();this._outputChannel.appendLine(`[PERF_MARKER] End ${e}: ${t-this._activePerfMarkers.get(e)} ms`),this._activePerfMarkers.delete(e)}logString(e,t){let i;if(typeof e!="string"){const r=e;e instanceof Error?i=e.message:r.toString?i=r.toString():i=JSON.stringify(e)}else i=e;return t?`[${t}] ${i}`:i}trace(e,t){this._outputChannel.trace(this.logString(e,t))}debug(e,t){this._outputChannel.debug(this.logString(e,t))}appendLine(e,t){this._outputChannel.info(this.logString(e,t))}warn(e,t){this._outputChannel.warn(this.logString(e,t))}error(e,t){this._outputChannel.error(this.logString(e,t))}}const y=new U;var z=Xt(57975),Q=Xt(74353),Z=Xt.n(Q),X=Xt(6279),Y=Xt.n(X),O=Xt(53581),$=Xt.n(O),D=Object.defineProperty,u=(n,e,t)=>e in n?D(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,E=(n,e,t)=>u(n,typeof e!="symbol"?e+"":e,t);Z().extend(Y(),{thresholds:[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:6,d:"day"},{l:"w",r:7},{l:"ww",r:3,d:"week"},{l:"M",r:4},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}]}),Z().extend($()),Z().updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}});function q(n,e){const t=Object.create(null);return n.filter(i=>{const r=e(i);return t[r]?!1:(t[r]=!0,!0)})}function H(...n){return(e,t=null,i)=>{const r=combinedDisposable(n.map(a=>a(o=>e.call(t,o))));return i&&i.push(r),r}}function K(n,e){return(t,i=null,r)=>n(a=>e(a)&&t.call(i,a),null,r)}function G(n){return(e,t=null,i)=>{const r=n(a=>(r.dispose(),e.call(t,a)),null,i);return r}}function ie(n){return/^[a-zA-Z]:\\/.test(n)}function J(n,e,t=z.sep){return n===e?!0:(n.charAt(n.length-1)!==t&&(n+=t),ie(n)&&(n=n.toLowerCase(),e=e.toLowerCase()),e.startsWith(n))}function B(n,e){return n.reduce((t,i)=>{const r=e(i);return t[r]=[...t[r]||[],i],t},Object.create(null))}class ae extends Error{constructor(e){super(`Unreachable case: ${e}`)}}function Ne(n){return!!n.errors}function be(n){let e=!0;if(n.errors&&Array.isArray(n.errors)){for(const t of n.errors)if(!t.field||!t.value||!t.status){e=!1;break}}else e=!1;return e}function we(n){if(!(n instanceof Error))return typeof n=="string"?n:n.gitErrorCode?`${n.message}. Please check git output for more details`:n.stderr?`${n.stderr}. Please check git output for more details`:"Error";let e=n.message,t;if(n.message==="Validation Failed"&&be(n))t=n.errors.map(i=>`Value "${i.value}" cannot be set for field ${i.field} (code: ${i.status})`).join(", ");else{if(n.message.startsWith("Validation Failed:"))return n.message;if(Ne(n)&&n.errors)return n.errors.map(i=>typeof i=="string"?i:i.message).join(", ")}return t&&(e=`${e}: ${t}`),e}async function Te(n){return new Promise(e=>{const t=n(i=>{t.dispose(),e(i)})})}async function ee(n,e){return Promise.race([n,new Promise(t=>{setTimeout(()=>t(void 0),e)})])}function ne(n){const e=Z()(n),t=Date.now();return e.diff(t,"month"),e.diff(t,"month")<1?e.fromNow():e.diff(t,"year")<1?`on ${e.format("MMM D")}`:`on ${e.format("MMM D, YYYY")}`}function me(n,e,t=!1){n.startsWith("#")&&(n=n.substring(1));const i=_e(n);if(e){const r=j(i.r,i.g,i.b),a=.6,o=.18,v=.3,T=(i.r*.2126+i.g*.7152+i.b*.0722)/255,x=Math.max(0,Math.min((T-a)*-1e3,1)),W=(a-T)*100*x,te=_e(N(r.h,r.s,r.l+W)),oe=`#${N(r.h,r.s,r.l+W)}`,fe=t?`#${ge({...i,a:o})}`:`rgba(${i.r},${i.g},${i.b},${o})`,ye=t?`#${ge({...te,a:v})}`:`rgba(${te.r},${te.g},${te.b},${v})`;return{textColor:oe,backgroundColor:fe,borderColor:ye}}else return{textColor:`#${se(i)}`,backgroundColor:`#${n}`,borderColor:`#${n}`}}const ge=n=>{const e=[n.r,n.g,n.b];return n.a&&e.push(Math.floor(n.a*255)),e.map(t=>t.toString(16).padStart(2,"0")).join("")};function _e(n){const e=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:0,g:0,b:0}}function j(n,e,t){n/=255,e/=255,t/=255;let i=Math.min(n,e,t),r=Math.max(n,e,t),a=r-i,o=0,v=0,T=0;return a==0?o=0:r==n?o=(e-t)/a%6:r==e?o=(t-n)/a+2:o=(n-e)/a+4,o=Math.round(o*60),o<0&&(o+=360),T=(r+i)/2,v=a==0?0:a/(1-Math.abs(2*T-1)),v=+(v*100).toFixed(1),T=+(T*100).toFixed(1),{h:o,s:v,l:T}}function N(n,e,t){const i=t/100,r=e*Math.min(i,1-i)/100,a=o=>{const v=(o+n/30)%12,T=i-r*Math.max(Math.min(v-3,9-v,1),-1);return Math.round(255*T).toString(16).padStart(2,"0")};return`${a(0)}${a(8)}${a(4)}`}function se(n){return(.299*n.r+.587*n.g+.114*n.b)/255>.5?"000000":"ffffff"}var de=(n=>(n[n.Period=46]="Period",n[n.Slash=47]="Slash",n[n.A=65]="A",n[n.Z=90]="Z",n[n.Backslash=92]="Backslash",n[n.a=97]="a",n[n.z=122]="z",n))(de||{});function ue(n,e){return n<e?-1:n>e?1:0}function le(n,e,t=0,i=n.length,r=0,a=e.length){for(;t<i&&r<a;t++,r++){const T=n.charCodeAt(t),x=e.charCodeAt(r);if(T<x)return-1;if(T>x)return 1}const o=i-t,v=a-r;return o<v?-1:o>v?1:0}function pe(n,e){return Ae(n,e,0,n.length,0,e.length)}function Ae(n,e,t=0,i=n.length,r=0,a=e.length){for(;t<i&&r<a;t++,r++){let T=n.charCodeAt(t),x=e.charCodeAt(r);if(T===x)continue;const W=T-x;if(!(W===32&&Be(x))&&!(W===-32&&Be(T)))return Fe(T)&&Fe(x)?W:le(n.toLowerCase(),e.toLowerCase(),t,i,r,a)}const o=i-t,v=a-r;return o<v?-1:o>v?1:0}function Fe(n){return n>=97&&n<=122}function Be(n){return n>=65&&n<=90}class Ue{constructor(){E(this,"_value",""),E(this,"_pos",0)}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class He{constructor(e=!0){this._caseSensitive=e,E(this,"_value"),E(this,"_from"),E(this,"_to")}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?le(e,this._value,0,e.length,this._from,this._to):Ae(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Ye{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t,E(this,"_value"),E(this,"_from"),E(this,"_to")}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?le(e,this._value,0,e.length,this._from,this._to):Ae(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}var he=(n=>(n[n.Scheme=1]="Scheme",n[n.Authority=2]="Authority",n[n.Path=3]="Path",n[n.Query=4]="Query",n[n.Fragment=5]="Fragment",n))(he||{});class re{constructor(e){this._ignorePathCasing=e,E(this,"_pathIterator"),E(this,"_value"),E(this,"_states",[]),E(this,"_stateIdx",0)}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Ye(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return pe(e,this._value.scheme);if(this._states[this._stateIdx]===2)return pe(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return ue(e,this._value.query);if(this._states[this._stateIdx]===5)return ue(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}function ce(n){const t=n.extensionUri.path,i=t.lastIndexOf(".");return i===-1?!1:t.substr(i+1).length>1}class ke{constructor(){E(this,"segment"),E(this,"value"),E(this,"key"),E(this,"left"),E(this,"mid"),E(this,"right")}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class Ie{constructor(e){E(this,"_iter"),E(this,"_root"),this._iter=e}static forUris(e=()=>!1){return new Ie(new re(e))}static forPaths(){return new Ie(new Ye)}static forStrings(){return new Ie(new Ue)}static forConfigKeys(){return new Ie(new He)}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let r;for(this._root||(this._root=new ke,this._root.segment=i.value()),r=this._root;;){const o=i.cmp(r.segment);if(o>0)r.left||(r.left=new ke,r.left.segment=i.value()),r=r.left;else if(o<0)r.right||(r.right=new ke,r.right.segment=i.value()),r=r.right;else if(i.hasNext())i.next(),r.mid||(r.mid=new ke,r.mid.segment=i.value()),r=r.mid;else break}const a=r.value;return r.value=t,r.key=e,a}get(e){var t;return(t=this._getNode(e))==null?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const i=this._iter.reset(e),r=[];let a=this._root;for(;a;){const o=i.cmp(a.segment);if(o>0)r.push([1,a]),a=a.left;else if(o<0)r.push([-1,a]),a=a.right;else if(i.hasNext())i.next(),r.push([0,a]),a=a.mid;else{for(t?(a.left=void 0,a.mid=void 0,a.right=void 0):a.value=void 0;r.length>0&&a.isEmpty();){let[v,T]=r.pop();switch(v){case 1:T.left=void 0;break;case 0:T.mid=void 0;break;case-1:T.right=void 0;break}a=T}break}}}findSubstr(e){const t=this._iter.reset(e);let i=this._root,r;for(;i;){const a=t.cmp(i.segment);if(a>0)i=i.left;else if(a<0)i=i.right;else if(t.hasNext())t.next(),r=i.value||r,i=i.mid;else break}return i&&i.value||r}findSuperstr(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(yield*this._entries(e.left),e.value&&(yield[e.key,e.value]),yield*this._entries(e.mid),yield*this._entries(e.right))}}async function Qe(n,e,t){const i=[];n.replace(e,(o,...v)=>{const T=t(o,...v);return i.push(T),""});const r=await Promise.all(i);let a=0;return n.replace(e,()=>r[a++])}async function Oe(n,e,t){const i=Math.ceil(n.length/e);for(let r=0;r<i;r++){const a=n.slice(r*e,(r+1)*e);await Promise.all(a.map(t))}}function Ke(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Ot=Object.defineProperty,st=(n,e,t)=>e in n?Ot(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,lt=(n,e,t)=>st(n,typeof e!="symbol"?e+"":e,t),bt=(n=>(n[n.Head=0]="Head",n[n.RemoteHead=1]="RemoteHead",n[n.Tag=2]="Tag",n))(bt||{}),vt=(n=>(n.BadConfigFile="BadConfigFile",n.AuthenticationFailed="AuthenticationFailed",n.NoUserNameConfigured="NoUserNameConfigured",n.NoUserEmailConfigured="NoUserEmailConfigured",n.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",n.NotAGitRepository="NotAGitRepository",n.NotAtRepositoryRoot="NotAtRepositoryRoot",n.Conflict="Conflict",n.StashConflict="StashConflict",n.UnmergedChanges="UnmergedChanges",n.PushRejected="PushRejected",n.RemoteConnectionError="RemoteConnectionError",n.DirtyWorkTree="DirtyWorkTree",n.CantOpenResource="CantOpenResource",n.GitNotFound="GitNotFound",n.CantCreatePipe="CantCreatePipe",n.CantAccessRemote="CantAccessRemote",n.RepositoryNotFound="RepositoryNotFound",n.RepositoryIsLocked="RepositoryIsLocked",n.BranchNotFullyMerged="BranchNotFullyMerged",n.NoRemoteReference="NoRemoteReference",n.InvalidBranchName="InvalidBranchName",n.BranchAlreadyExists="BranchAlreadyExists",n.NoLocalChanges="NoLocalChanges",n.NoStashFound="NoStashFound",n.LocalChangesOverwritten="LocalChangesOverwritten",n.NoUpstreamBranch="NoUpstreamBranch",n.IsInSubmodule="IsInSubmodule",n.WrongCase="WrongCase",n.CantLockRef="CantLockRef",n.CantRebaseMultipleBranches="CantRebaseMultipleBranches",n.PatchDoesNotApply="PatchDoesNotApply",n))(vt||{}),yt=(n=>(n[n.INDEX_MODIFIED=0]="INDEX_MODIFIED",n[n.INDEX_ADDED=1]="INDEX_ADDED",n[n.INDEX_DELETED=2]="INDEX_DELETED",n[n.INDEX_RENAMED=3]="INDEX_RENAMED",n[n.INDEX_COPIED=4]="INDEX_COPIED",n[n.MODIFIED=5]="MODIFIED",n[n.DELETED=6]="DELETED",n[n.UNTRACKED=7]="UNTRACKED",n[n.IGNORED=8]="IGNORED",n[n.INTENT_TO_ADD=9]="INTENT_TO_ADD",n[n.ADDED_BY_US=10]="ADDED_BY_US",n[n.ADDED_BY_THEM=11]="ADDED_BY_THEM",n[n.DELETED_BY_US=12]="DELETED_BY_US",n[n.DELETED_BY_THEM=13]="DELETED_BY_THEM",n[n.BOTH_ADDED=14]="BOTH_ADDED",n[n.BOTH_DELETED=15]="BOTH_DELETED",n[n.BOTH_MODIFIED=16]="BOTH_MODIFIED",n))(yt||{});const ci=class Cc extends d{constructor(e){super(),this.repositoriesManager=e,lt(this,"_providers",new Map),lt(this,"_onDidOpenRepository",new s.EventEmitter),lt(this,"onDidOpenRepository",this._onDidOpenRepository.event),lt(this,"_onDidCloseRepository",new s.EventEmitter),lt(this,"onDidCloseRepository",this._onDidCloseRepository.event),lt(this,"_onDidChangeState",new s.EventEmitter),lt(this,"onDidChangeState",this._onDidChangeState.event),lt(this,"_onDidPublish",new s.EventEmitter),lt(this,"onDidPublish",this._onDidPublish.event),lt(this,"_titleAndDescriptionProviders",new Set),lt(this,"_reviewerCommentsProviders",new Set)}get repositories(){const e=[];return this._providers.forEach(({repositories:t})=>{t&&e.push(...t)}),e}get state(){if(this._providers.size!==0){for(const[,{state:e}]of this._providers)if(e!=="initialized")return"uninitialized";return"initialized"}}_updateReposContext(){const e=Array.from(this._providers.values()).reduce((t,i)=>t+i.repositories.length,0);s.commands.executeCommand("setContext","gitHubOpenRepositoryCount",e)}registerGitProvider(e){y.appendLine("Registering git provider",Cc.ID);const t=this._nextHandle();return this._providers.set(t,e),this._register(e.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._register(e.onDidOpenRepository(i=>{y.appendLine(`Repository ${i.rootUri} has been opened`,Cc.ID),this._updateReposContext(),this._onDidOpenRepository.fire(i)})),e.onDidChangeState&&this._register(e.onDidChangeState(i=>this._onDidChangeState.fire(i))),e.onDidPublish&&this._register(e.onDidPublish(i=>this._onDidPublish.fire(i))),this._updateReposContext(),e.repositories.forEach(i=>{this._onDidOpenRepository.fire(i)}),{dispose:()=>{const i=e==null?void 0:e.repositories;i&&i.length>0&&i.forEach(r=>this._onDidCloseRepository.fire(r)),this._providers.delete(t)}}}getGitProvider(e){const t=Ie.forUris();return this._providers.forEach(i=>{const r=i.repositories;if(r&&r.length>0)for(const a of r)t.set(a.rootUri,i)}),t.findSubstr(e)}registerPostCommitCommandsProvider(e){const t=Array.from(this._providers.values()).map(i=>i.registerPostCommitCommandsProvider?i.registerPostCommitCommandsProvider(e):{dispose:()=>{}});return{dispose:()=>t.forEach(i=>i.dispose())}}_nextHandle(){return Cc._handlePool++}registerTitleAndDescriptionProvider(e,t){const i={title:e,provider:t};return this._titleAndDescriptionProviders.add(i),this._register({dispose:()=>this._titleAndDescriptionProviders.delete(i)})}getTitleAndDescriptionProvider(e){if(e){for(const t of this._titleAndDescriptionProviders)if(t.title.toLowerCase().includes(e.toLowerCase()))return t}else return this._titleAndDescriptionProviders.size>0?this._titleAndDescriptionProviders.values().next().value:void 0}registerReviewerCommentsProvider(e,t){const i={title:e,provider:t};return this._reviewerCommentsProviders.add(i),this._register({dispose:()=>this._reviewerCommentsProviders.delete(i)})}getReviewerCommentsProvider(){return this._reviewerCommentsProviders.size>0?this._reviewerCommentsProviders.values().next().value:void 0}async getRepositoryDescription(e){const t=this.repositoriesManager.getManagerForFile(e);if(t&&t.gitHubRepositories.length>0){const i=await t.gitHubRepositories[0].getMetadata(),r=t.activePullRequest;if(i)return{owner:i.owner.login,repositoryName:i.name,defaultBranch:i.default_branch,pullRequest:r?{title:r.title,url:r.html_url,number:r.number,id:r.id}:void 0}}}};lt(ci,"ID","GitAPI"),lt(ci,"_handlePool",0);let wt=ci;var Tt;(n=>{function e(t){return t&&t.thread&&t.text!==void 0}n.is=e})(Tt||(Tt={}));const Ii=new Map;function It(n,e,t){Ii.set(n,{handler:e,repoRootUri:t.rootUri.toString()})}function zt(n){Ii.delete(n)}function vn(n){const e=[];for(const t of Ii.values())t.handler.hasCommentThread(n)&&e.push(t);if(e.length>0)return e.sort((t,i)=>i.repoRootUri.length-t.repoRootUri.length),e[0].handler;y.warn(`Unable to find handler for comment thread ${n.gitHubThreadId}`)}function Zt(){for(const n of Ii.values())if(n.handler.commentController.activeCommentThread)return n.handler}var Ct;(n=>{n.VIEWED_FILES="github:viewedFiles",n.UNVIEWED_FILES="github:unviewedFiles",n.IN_REVIEW_MODE="github:inReviewMode",n.REPOS_NOT_IN_REVIEW_MODE="github:reposNotInReviewMode",n.REPOS_IN_REVIEW_MODE="github:reposInReviewMode",n.ACTIVE_PR_COUNT="github:activePRCount",n.LOADING_PRS_TREE="github:loadingPrsTree",n.LOADING_ISSUES_TREE="github:loadingIssuesTree",n.CREATE_PR_PERMISSIONS="github:createPrPermissions",n.RESOLVING_CONFLICTS="github:resolvingConflicts",n.PULL_REQUEST_DESCRIPTION_VISIBLE="github:pullRequestDescriptionVisible",n.ACTIVE_COMMENT_HAS_SUGGESTION="github:activeCommentHasSuggestion",n.CREATING="pr:creating",n.NOTIFICATION_COUNT="github:notificationCount"})(Ct||(Ct={}));var ei;(n=>{n.OPEN_CHAT="workbench.action.chat.open",n.CHAT_SETUP_ACTION_ID="workbench.action.chat.triggerSetup",n.QUICK_CHAT_OPEN="workbench.action.quickchat.toggle";function e(r,a,o){return s.commands.executeCommand(r,a,o)}n.executeCommand=e;function t(r){return e(`${r}.focus`)}n.focusView=t;function i(r,a){return e("setContext",r,a)}n.setContext=i})(ei||(ei={}));let Wt;const ti={};function Qn(n){Wt=n.globalState}const xe=(n,e)=>{if(!Wt)throw new Error("Persistent store not initialized.");return Wt.get(n+":"+e,ti)},Je=(n,e,t)=>{if(!Wt)throw new Error("Persistent store not initialized.");return Wt.update(n+":"+e,t)},tt="githubPullRequests",ft="terminalLinksHandler",gt="createOnPublishBranch",si="useReviewMode",Rt="fileListLayout",Bt="assignCreated",xt="pushBranch",pt="ignoredPullRequestBranches",St="ignoreSubmodules",Pt="neverIgnoreDefaultBranch",di="overrideDefaultBranch",ni="pullBranch",Ut="pullRequestDescription",Si="notifications",fi="postCreate",ai="queries",Di="labelCreated",Qi="focusedMode",Yi="createDraft",Hi="quickDiff",Gi="setAutoMerge",Kt="showPullRequestNumberInTree",oi="defaultMergeMethod",wi="defaultDeletionMethod",qi="selectLocalBranch",hi="selectRemote",Ri="remotes",Vi="pullPullRequestBranchBeforeCheckout",on="upstreamRemote",Bi="defaultCreateOption",wn="createDefaultBaseBranch",Li="githubIssues",sn="assignWhenWorking",Mn="issueCompletions",_n="userCompletions",cn="enabled",Pi="ignoreUserCompletionTrigger",gi="createInsertFormat",In="issueBranchTitle",Wr="useBranchForIssues",Bn="workingIssueFormatScm",Br="ignoreCompletionTrigger",rr="issueCompletionFormatScm",aa="createIssueTriggers",Kr="default",Tn="ignoreMilestones",Ha="allowFetch",Rr="alwaysPromptForNewIssueRepo",Er="experimental.chat",ba="experimental.useQuickChat",sa="experimental.notificationsViewPageSize",Ga="experimental.notificationsScore",Qr="webviewRefreshInterval",vr="git",to="pullBeforeCheckout",Va="openDiffOnClick",Yr="showInlineOpenFileAction",Es="autoStash",oa="github-enterprise",as="uri",ss="editor",os="wordWrap",Cn="comments",qr="openView",ze="explorer",_t="autoReveal",kt="workbench",Mt="colorTheme",Ht=`${tt}.codingAgent`,yi="enabled",pi="autoCommitAndPush",Xe="promptForConfirmation";function ht(){const n={merged:!1,closed:!1},e=s.workspace.getConfiguration(tt).get(si,n);return e!=="auto"?e:s.env.appHost==="vscode.dev"||s.env.appHost==="github.dev"?{merged:!0,closed:!0}:n}function ot(n,e,t,i,r){const a=s.workspace.onDidChangeConfiguration(o=>{o.affectsConfiguration(`${n}.${e}`)&&t()&&(i(),a.dispose())});r.push(a)}function Dt(n,e){var t,i;const r=s.workspace.getConfiguration(n),a=r.inspect(ai),o=(i=(t=r.get(ai))==null?void 0:t.find(T=>T.label===e))==null?void 0:i.query,v=s.window.createQuickPick();v.title=s.l10n.t('Edit Query "{0}"',e!=null?e:""),v.value=o!=null?o:"",v.items=[{iconPath:new s.ThemeIcon("pencil"),label:s.l10n.t("Save edits"),alwaysShow:!0},{iconPath:new s.ThemeIcon("add"),label:s.l10n.t("Add new query"),alwaysShow:!0},{iconPath:new s.ThemeIcon("settings"),label:s.l10n.t("Edit in settings.json"),alwaysShow:!0},{iconPath:new s.ThemeIcon("copilot"),label:s.l10n.t("Edit with Copilot"),alwaysShow:!0}],v.activeItems=[],v.selectedItems=[],v.onDidAccept(async()=>{var T;if(v.busy=!0,v.selectedItems[0]===v.items[0]){const x=v.value;if(x!==o){let W,te;a!=null&&a.workspaceFolderValue?(te=s.ConfigurationTarget.WorkspaceFolder,W=a.workspaceFolderValue):a!=null&&a.workspaceValue?(te=s.ConfigurationTarget.Workspace,W=a.workspaceValue):(te=s.ConfigurationTarget.Global,W=(T=r.get(ai))!=null?T:[]),W.find(oe=>oe.label===e).query=x,await r.update(ai,W,te)}v.dispose()}else v.selectedItems[0]===v.items[1]?(Qt(r,a,v.value),v.dispose()):v.selectedItems[0]===v.items[2]?(ui(r,a,e),v.dispose()):v.selectedItems[0]===v.items[3]&&(v.ignoreFocusOut=!0,await vi(v.value),v.busy=!1)}),v.onDidHide(()=>v.dispose()),v.show()}function Qt(n,e,t){const i=s.window.createInputBox();i.title=s.l10n.t("Enter the title of the new query"),i.placeholder=s.l10n.t("Title"),i.step=1,i.totalSteps=2,i.show();let r;i.onDidAccept(async()=>{if(i.validationMessage="",i.step===1){if(!i.value){i.validationMessage=s.l10n.t("Title is required");return}r=i.value,i.value=t,i.title=s.l10n.t("Enter the GitHub search query"),i.step++}else{if(!i.value){i.validationMessage=s.l10n.t("Query is required");return}if(i.busy=!0,i.value&&r)if(e!=null&&e.workspaceValue)e.workspaceValue.push({label:r,query:i.value}),await n.update(ai,e.workspaceValue,s.ConfigurationTarget.Workspace);else{const a=n.get(ai);a==null||a.push({label:r,query:i.value}),await n.update(ai,a,s.ConfigurationTarget.Global)}i.dispose()}}),i.onDidHide(()=>i.dispose())}async function ui(n,e,t){let i;if(e!=null&&e.workspaceValue)i="workbench.action.openWorkspaceSettingsFile";else{const a=n.get(ai);e!=null&&e.defaultValue&&JSON.stringify(e==null?void 0:e.defaultValue)===JSON.stringify(a)&&await n.update(ai,e.defaultValue,s.ConfigurationTarget.Global),i="workbench.action.openSettingsJson"}await s.commands.executeCommand(i);const r=s.window.activeTextEditor;if(r){const o=r.document.getText().search(t);if(o>=0){const v=r.document.positionAt(o);r.revealRange(new s.Range(v,v)),r.selection=new s.Selection(v,v)}}}async function vi(n){const e=s.l10n.t('I want to edit this GitHub search query: "{0}". Modify it so that it ',n);await s.commands.executeCommand(ei.OPEN_CHAT,{query:e,isPartialQuery:!0})}var Ni=Xt(48287),Ui=Xt(74945),Dn=Xt.n(Ui);const bn="GitHub.vscode-pull-request-github",Ai="git",Vn="ghpr",Ir="initialize",Nr="statechange",Dr="github:focusedReview";var ji=(n=>(n[n.Query=0]="Query",n[n.All=1]="All",n[n.LocalPullRequest=2]="LocalPullRequest",n))(ji||{}),Fr=(n=>(n.Approve="APPROVE",n.RequestChanges="REQUEST_CHANGES",n.Comment="COMMENT",n))(Fr||{}),Xi=(n=>(n.Open="OPEN",n.Merged="MERGED",n.Closed="CLOSED",n))(Xi||{}),dn=(n=>(n[n.Mergeable=0]="Mergeable",n[n.NotMergeable=1]="NotMergeable",n[n.Conflict=2]="Conflict",n[n.Unknown=3]="Unknown",n[n.Behind=4]="Behind",n))(dn||{}),$r=(n=>(n[n.AwaitingChecks=0]="AwaitingChecks",n[n.Locked=1]="Locked",n[n.Mergeable=2]="Mergeable",n[n.Queued=3]="Queued",n[n.Unmergeable=4]="Unmergeable",n))($r||{}),ya=(n=>(n.User="User",n.Organization="Organization",n.Mannequin="Mannequin",n.Bot="Bot",n))(ya||{});function ja(n){switch(n){case"Organization":return"Organization";case"Mannequin":return"Mannequin";case"Bot":return"Bot";default:return"User"}}function xr(n){var e;return Fn(n)?n.id:(e=n.specialDisplayName)!=null?e:n.login}function wa(n){var e,t,i;return Fn(n)?(t=(e=n.name)!=null?e:n.slug)!=null?t:n.id:(i=n.specialDisplayName)!=null?i:n.login}function Fn(n){return!!n.org}function Ns(n){const e=n;return!!e.isAuthor&&!!e.isCommenter}var Tr=(n=>(n.Issue="Issue",n.PullRequest="PullRequest",n))(Tr||{}),kn=(n=>(n.Success="success",n.Failure="failure",n.Neutral="neutral",n.Pending="pending",n.Unknown="unknown",n))(kn||{}),za=Xt(32017),tl=Xt.n(za),ls=Xt(77358),ar=Xt.n(ls),Ft=(n=>(n[n.Committed=0]="Committed",n[n.Mentioned=1]="Mentioned",n[n.Subscribed=2]="Subscribed",n[n.Commented=3]="Commented",n[n.Reviewed=4]="Reviewed",n[n.NewCommitsSinceReview=5]="NewCommitsSinceReview",n[n.Labeled=6]="Labeled",n[n.Milestoned=7]="Milestoned",n[n.Assigned=8]="Assigned",n[n.Unassigned=9]="Unassigned",n[n.HeadRefDeleted=10]="HeadRefDeleted",n[n.Merged=11]="Merged",n[n.CrossReferenced=12]="CrossReferenced",n[n.Closed=13]="Closed",n[n.Reopened=14]="Reopened",n[n.CopilotStarted=15]="CopilotStarted",n[n.CopilotFinished=16]="CopilotFinished",n[n.CopilotFinishedError=17]="CopilotFinishedError",n[n.Other=18]="Other",n))(Ft||{});const qn="copilot-swe-agent",_a=["copilot-pull-request-reviewer",qn,"Copilot"];var xi=(n=>(n[n.None=0]="None",n[n.Started=1]="Started",n[n.Completed=2]="Completed",n[n.Failed=3]="Failed",n))(xi||{});function Zr(n){if(!n)return 0;switch(n.event){case Ft.CopilotStarted:return 1;case Ft.CopilotFinished:return 2;case Ft.CopilotFinishedError:return 3;default:return 0}}function io(n){for(let e=n.length-1;e>=0;e--)if(Zr(n[e])!==0)return n[e]}var yn=(n=>(n.LEFT="LEFT",n.RIGHT="RIGHT",n))(yn||{}),sr=(n=>(n.DISMISSED="DISMISSED",n.VIEWED="VIEWED",n.UNVIEWED="UNVIEWED",n))(sr||{}),Yn=(n=>(n.LINE="LINE",n.FILE="FILE",n))(Yn||{});const Ql={name:"Copilot",postComment:s.l10n.t("Copilot is powered by AI, so mistakes are possible. Review output carefully before use."),url:"https://github.com/apps/copilot-swe-agent"},en=Object.fromEntries(_a.map(n=>[n,Ql]));var $t=(n=>(n[n.ADD=0]="ADD",n[n.COPY=1]="COPY",n[n.DELETE=2]="DELETE",n[n.MODIFY=3]="MODIFY",n[n.RENAME=4]="RENAME",n[n.TYPE=5]="TYPE",n[n.UNKNOWN=6]="UNKNOWN",n[n.UNMERGED=7]="UNMERGED",n))($t||{});class Jr{constructor(e,t,i,r,a,o,v){this.baseCommit=e,this.status=t,this.fileName=i,this.previousFileName=r,this.patch=a,this.diffHunks=o,this.blobUrl=v}}class ka{constructor(e,t,i,r,a){this.baseCommit=e,this.blobUrl=t,this.status=i,this.fileName=r,this.previousFileName=a}}var no=Object.defineProperty,Yl=(n,e,t)=>e in n?no(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Dc=(n,e,t)=>Yl(n,typeof e!="symbol"?e+"":e,t),Wi=(n=>(n[n.Context=0]="Context",n[n.Add=1]="Add",n[n.Delete=2]="Delete",n[n.Control=3]="Control",n))(Wi||{});class ro{constructor(e,t,i,r,a,o=!0){this.type=e,this.oldLineNumber=t,this.newLineNumber=i,this.positionInHunk=r,this._raw=a,this.endwithLineBreak=o}get raw(){return this._raw}get text(){return this._raw.substr(1)}}function ao(n){switch(n[0]){case" ":return 0;case"+":return 1;case"-":return 2;default:return 3}}class so{constructor(e,t,i,r,a){this.oldLineNumber=e,this.oldLength=t,this.newLineNumber=i,this.newLength=r,this.positionInHunk=a,Dc(this,"diffLines",[])}}const Zl=/^@@ \-(\d+)(,(\d+))?( \+(\d+)(,(\d+)?)?)? @@/;function Ts(n){let e=0,t=0;for(;(t=n.indexOf("\r",t))!==-1;)t++,e++;return e}function*il(n){let e=0;for(;e!==-1&&e<n.length;){const t=e;e=n.indexOf(`
`,e);let r=(e!==-1?e:n.length)-t;e!==-1&&(e>0&&n[e-1]==="\r"&&r--,e++),yield n.substr(t,r)}}function*us(n){const e=il(n);let t=e.next(),i,r=-1,a=-1,o=-1;for(;!t.done;){const v=t.value;if(Zl.test(v)){i&&(yield i,i=void 0),r===-1&&(r=0);const T=Zl.exec(v),x=a=Number(T[1]),W=Number(T[3])||1,te=o=Number(T[5]),oe=Number(T[7])||1;i=new so(x,W,te,oe,r),i.diffLines.push(new ro(3,-1,-1,r,v))}else if(i){const T=ao(v);if(T===3)i.diffLines&&i.diffLines.length&&(i.diffLines[i.diffLines.length-1].endwithLineBreak=!1);else{i.diffLines.push(new ro(T,T!==1?a:-1,T!==2?o:-1,r,v));const x=1+Ts(v);switch(T){case 0:a+=x,o+=x;break;case 2:a+=x;break;case 1:o+=x;break}}}r!==-1&&++r,t=e.next()}i&&(yield i)}function oo(n){const e=us(n);let t=e.next();const i=[];for(;!t.done;){const r=t.value;i.push(r),t=e.next()}return i}function Jl(n){const e=[],t=T=>({diffLines:[],newLength:0,oldLength:0,oldLineNumber:T.oldLineNumber,newLineNumber:T.newLineNumber,positionInHunk:0});let i,r;const a=(T,x)=>{T.diffLines.push(x),x.type===2?T.oldLength++:x.type===1?T.newLength++:x.type===0&&(T.oldLength++,T.newLength++)},o=T=>T.diffLines.some(x=>x.type!==0),v=T=>o(T)&&T.diffLines[T.diffLines.length-1].type===0;for(const T of n.diffLines)T.type===0?(i||(i=t(T)),a(i,T),v(i)&&(r||(r=t(T)),a(r,T))):(i||n.oldLineNumber===1&&(T.type===2||T.type===1))&&(i||(i=t(T)),v(i)&&(e.push(i),i=r,r=void 0),(T.type===2||T.type===1)&&a(i,T));return i&&e.push(i),e}function nl(n,e){const t=n.split(/\r?\n/),i=us(e);let r=i.next();const a=[],o=[];let v=0,T=!0;for(;!r.done;){const x=r.value;a.push(x);const W=x.oldLineNumber;for(let te=v+1;te<W;te++)o.push(t[te-1]);v=W+x.oldLength-1;for(let te=0;te<x.diffLines.length;te++){const oe=x.diffLines[te];if(!(oe.type===2||oe.type===3))if(oe.type===1)o.push(oe.text);else{const fe=oe.text;o.push(fe)}}if(r=i.next(),r.done){for(let te=x.diffLines.length-1;te>=0;te--)if(x.diffLines[te].type!==2){T=x.diffLines[te].endwithLineBreak;break}}}if(T)if(v<t.length)for(let x=v+1;x<=t.length;x++)o.push(t[x-1]);else o.push("");return o.join(`
`)}function Cs(n){switch(n){case"removed":return $t.DELETE;case"added":return $t.ADD;case"renamed":return $t.RENAME;case"modified":return $t.MODIFY;default:return $t.UNKNOWN}}async function rl(n,e){var t;const i=[];for(let r=0;r<n.length;r++){const a=n[r],o=Cs(a.status);if(!a.patch&&o!==$t.RENAME&&o!==$t.MODIFY&&!(o===$t.ADD&&a.additions===0)){i.push(new ka(e,a.blob_url,o,a.filename,a.previous_filename));continue}const v=a.patch?oo(a.patch):void 0;i.push(new Jr(e,o,a.filename,a.previous_filename,(t=a.patch)!=null?t:"",v,a.blob_url))}return i}var mn=Xt(1182),$n=Object.defineProperty,Xl=(n,e,t)=>e in n?$n(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Pn=(n,e,t)=>Xl(n,typeof e!="symbol"?e+"":e,t);const Fc=/^(?:([^@:]+)@)?([^:/]+):?(.+)$/,Sa=/^([a-z-+]+):\/\//,Wa=n=>{const e=Sa.exec(n);if(e){const[o,v]=e;if(v.includes("ssh"))n=n.slice(o.length);else return}const t=Fc.exec(n);if(!t)return;const[,i,r,a]=t;return{User:i,Host:r,path:a}},Ka=(n,e=Lc.current)=>{const t=Wa(n);return t&&e(t)};function Ra(n){return{...n,Hostname:n.Host}}function xc(...n){const e=n.filter(t=>!!t);return t=>e.reduce((i,r)=>{try{return{...i,...r(i)}}catch{return y.warn(`Failed to parse config for '${t.Host}, this can occur when the extension configurations is invalid or system ssh config files are malformed. Skipping erroneous resolver for now.'`),i}},t)}function Oc(n){const e=(0,mn.parse)(n);return t=>e.compute(t.Host)}const Ps=class{static fromConfig(e){return xc(Ra,Oc(e))}};Pn(Ps,"default",Ra),Pn(Ps,"current",Ps.default);let Lc=Ps;var Uc=Object.defineProperty,Bc=(n,e,t)=>e in n?Uc(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cs=(n,e,t)=>Bc(n,typeof e!="symbol"?e+"":e,t),eu=(n=>(n[n.Local=0]="Local",n[n.HTTP=1]="HTTP",n[n.SSH=2]="SSH",n[n.GIT=3]="GIT",n[n.OTHER=4]="OTHER",n))(eu||{});const al=class d0{constructor(e){if(cs(this,"type",4),cs(this,"host",""),cs(this,"owner",""),cs(this,"repositoryName",""),cs(this,"url"),this.parseSshProtocol(e)){this.url=s.Uri.from({scheme:"ssh",authority:this.host,path:`/${this.nameWithOwner}`});return}try{this.url=s.Uri.parse(e),this.type=this.getType(this.url.scheme),this.host=this.getHostName(this.url.authority),this.host&&(this.repositoryName=this.getRepositoryName(this.url.path)||"",this.owner=this.getOwnerName(this.url.path)||"")}catch{y.error(`Failed to parse '${e}'`,d0.ID),s.window.showWarningMessage(s.l10n.t("Unable to parse remote '{0}'. Please check that it is correctly formatted.",e))}}get nameWithOwner(){return this.owner?`${this.owner}/${this.repositoryName}`:this.repositoryName}getType(e){switch(e){case"file":return 0;case"http":case"https":return 1;case"git":return 3;case"ssh":return 2;default:return 4}}parseSshProtocol(e){const t=Ka(e);if(!t)return!1;const{Hostname:i,HostName:r,path:a}=t;return this.host=r||i,this.owner=this.getOwnerName(a)||"",this.repositoryName=this.getRepositoryName(a)||"",this.type=2,!0}getHostName(e){const t=/^(?:.*:?@)?([^:]*)(?::.*)?$/.exec(e);return t&&t.length>=2?t[1].toLocaleLowerCase()==="www.github.com"?"github.com":t[1]:""}getRepositoryName(e){let t=e.replace(/\\/g,"/");t.endsWith("/")&&(t=t.substr(0,t.length-1));const i=t.lastIndexOf("/"),r=t.substr(i+1);if(!(r===""||r==="/"))return r.replace(/\/$/,"").replace(/\.git$/,"")}getOwnerName(e){let t=e.replace(/\\/g,"/");t.endsWith("/")&&(t=t.substr(0,t.length-1));const i=t.split("/");if(i.length>1)return i[i.length-2]}normalizeUri(){if(this.type===4&&!this.url)return;if(this.type===0)return this.url;let e="https";this.url&&(this.url.scheme==="http"||this.url.scheme==="https")&&(e=this.url.scheme);try{return s.Uri.parse(`${e}://${this.host.toLocaleLowerCase()}/${this.nameWithOwner.toLocaleLowerCase()}`)}catch{return}}toString(){if(this.type===2)return`git@${this.host}:${this.owner}/${this.repositoryName}`;if(this.type===3)return`git://git@${this.host}:${this.owner}/${this.repositoryName}`;const e=this.normalizeUri();if(e)return e.toString()}update(e){return e.type&&(this.type=e.type),e.host&&(this.host=e.host),e.owner&&(this.owner=e.owner),e.repositoryName&&(this.repositoryName=e.repositoryName),this}equals(e){const t=this.normalizeUri();if(!t)return!1;const i=e.normalizeUri();return i?t.toString().toLocaleLowerCase()===i.toString().toLocaleLowerCase():!1}};cs(al,"ID","Protocol");let br=al;var tu=Xt(91565),pn=(n=>(n[n.None=0]="None",n[n.GitHubDotCom=1]="GitHubDotCom",n[n.Enterprise=2]="Enterprise",n))(pn||{}),li=(n=>(n.github="github",n.githubEnterprise="github-enterprise",n))(li||{});class lo extends Error{constructor(){super(s.l10n.t("Not authenticated"))}}function sl(n){var e;return!!((e=n.message)!=null&&e.includes("Resource protected by organization SAML enforcement."))}const qc=/:([-+_a-z0-9]+):/g;let As,ol;async function or(n){As===void 0&&(ol===void 0&&(ol=$c(n)),await ol)}async function $c(n){const e=s.Uri.joinPath(n.extensionUri,"resources","emojis.json");As=JSON.parse(new TextDecoder("utf8").decode(await s.workspace.fs.readFile(e)))}function la(n){return As===void 0?n:n.replace(qc,(e,t)=>(As==null?void 0:As[t])||e)}var iu=Object.defineProperty,Hc=(n,e,t)=>e in n?iu(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,nu=(n,e,t)=>Hc(n,typeof e!="symbol"?e+"":e,t);const ru=class f0{static initialize(e){f0.icons={reactions:{THUMBS_UP:e.asAbsolutePath(z.join("resources","icons","reactions","thumbs_up.png")),THUMBS_DOWN:e.asAbsolutePath(z.join("resources","icons","reactions","thumbs_down.png")),CONFUSED:e.asAbsolutePath(z.join("resources","icons","reactions","confused.png")),EYES:e.asAbsolutePath(z.join("resources","icons","reactions","eyes.png")),HEART:e.asAbsolutePath(z.join("resources","icons","reactions","heart.png")),HOORAY:e.asAbsolutePath(z.join("resources","icons","reactions","hooray.png")),LAUGH:e.asAbsolutePath(z.join("resources","icons","reactions","laugh.png")),ROCKET:e.asAbsolutePath(z.join("resources","icons","reactions","rocket.png"))}}}};nu(ru,"icons");let ua=ru;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uo=function(n,e){return uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},uo(n,e)};function Ea(n,e){uo(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var At=function(){return At=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},At.apply(this,arguments)};function co(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function au(n,e,t,i){var r=arguments.length,a=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,i);else for(var v=n.length-1;v>=0;v--)(o=n[v])&&(a=(r<3?o(a):r>3?o(e,t,a):o(e,t))||a);return r>3&&a&&Object.defineProperty(e,t,a),a}function ll(n,e){return function(t,i){e(t,i,n)}}function sh(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function Na(n,e,t,i){function r(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function v(W){try{x(i.next(W))}catch(te){o(te)}}function T(W){try{x(i.throw(W))}catch(te){o(te)}}function x(W){W.done?a(W.value):r(W.value).then(v,T)}x((i=i.apply(n,e||[])).next())})}function Ta(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,o;return o={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function v(x){return function(W){return T([x,W])}}function T(x){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(a=x[0]&2?r.return:x[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,x[1])).done)return a;switch(r=0,a&&(x=[x[0]&2,a.value]),x[0]){case 0:case 1:a=x;break;case 4:return t.label++,{value:x[1],done:!1};case 5:t.label++,r=x[1],x=[0];continue;case 7:x=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(x[0]===6||x[0]===2)){t=0;continue}if(x[0]===3&&(!a||x[1]>a[0]&&x[1]<a[3])){t.label=x[1];break}if(x[0]===6&&t.label<a[1]){t.label=a[1],a=x;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(x);break}a[2]&&t.ops.pop(),t.trys.pop();continue}x=e.call(n,t)}catch(W){x=[6,W],r=0}finally{i=a=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}}function Re(n,e,t,i){i===void 0&&(i=t),n[i]=e[t]}function ve(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Ee(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Me(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,a=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(v){o={error:v}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a}function je(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Me(arguments[e]));return n}function et(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var a=arguments[e],o=0,v=a.length;o<v;o++,r++)i[r]=a[o];return i}function at(n){return this instanceof at?(this.v=n,this):new at(n)}function mt(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(oe){i[oe]&&(r[oe]=function(fe){return new Promise(function(ye,Pe){a.push([oe,fe,ye,Pe])>1||v(oe,fe)})})}function v(oe,fe){try{T(i[oe](fe))}catch(ye){te(a[0][3],ye)}}function T(oe){oe.value instanceof at?Promise.resolve(oe.value.v).then(x,W):te(a[0][2],oe)}function x(oe){v("next",oe)}function W(oe){v("throw",oe)}function te(oe,fe){oe(fe),a.shift(),a.length&&v(a[0][0],a[0][1])}}function Gt(n){var e,t;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,a){e[r]=n[r]?function(o){return(t=!t)?{value:at(n[r](o)),done:r==="return"}:a?a(o):o}:a}}function Vt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ee=="function"?Ee(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=n[a]&&function(o){return new Promise(function(v,T){o=n[a](o),r(v,T,o.done,o.value)})}}function r(a,o,v,T){Promise.resolve(T).then(function(x){a({value:x,done:v})},o)}}function ii(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function Ei(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function Oi(n){return n&&n.__esModule?n:{default:n}}function Ti(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function zi(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}var Mi=Xt(9111),ut=Xt(65606),gn="Invariant Violation",Or=Object.setPrototypeOf,ds=Or===void 0?function(n,e){return n.__proto__=e,n}:Or,Sn=function(n){Ea(e,n);function e(t){t===void 0&&(t=gn);var i=n.call(this,typeof t=="number"?gn+": "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return i.framesToPop=1,i.name=gn,ds(i,e.prototype),i}return e}(Error);function Ki(n,e){if(!n)throw new Sn(e)}function ul(n){return function(){return console[n].apply(console,arguments)}}(function(n){n.warn=ul("warn"),n.error=ul("error")})(Ki||(Ki={}));var Ms={env:{}};if(typeof ut=="object")Ms=ut;else try{Function("stub","process = stub")(Ms)}catch{}var cl=null;const oh=null;var Gc=Xt(72492),su=Xt.n(Gc),fo=Object.prototype,ho=fo.toString,Vc=fo.hasOwnProperty,Is=new Map;function Cr(n,e){try{return mo(n,e)}finally{Is.clear()}}function mo(n,e){if(n===e)return!0;var t=ho.call(n),i=ho.call(e);if(t!==i)return!1;switch(t){case"[object Array]":if(n.length!==e.length)return!1;case"[object Object]":{if(po(n,e))return!0;var r=Object.keys(n),a=Object.keys(e),o=r.length;if(o!==a.length)return!1;for(var v=0;v<o;++v)if(!Vc.call(e,r[v]))return!1;for(var v=0;v<o;++v){var T=r[v];if(!mo(n[T],e[T]))return!1}return!0}case"[object Error]":return n.name===e.name&&n.message===e.message;case"[object Number]":if(n!==n)return e!==e;case"[object Boolean]":case"[object Date]":return+n==+e;case"[object RegExp]":case"[object String]":return n==""+e;case"[object Map]":case"[object Set]":{if(n.size!==e.size)return!1;if(po(n,e))return!0;for(var x=n.entries(),W=t==="[object Map]";;){var te=x.next();if(te.done)break;var oe=te.value,fe=oe[0],ye=oe[1];if(!e.has(fe)||W&&!mo(ye,e.get(fe)))return!1}return!0}}return!1}function po(n,e){var t=Is.get(n);if(t){if(t.has(e))return!0}else Is.set(n,t=new Set);return t.add(e),!1}const jc=null;var ou=Xt(65606);function lh(n){return["StringValue","BooleanValue","EnumValue"].indexOf(n.kind)>-1}function uh(n){return["IntValue","FloatValue"].indexOf(n.kind)>-1}function zc(n){return n.kind==="StringValue"}function lu(n){return n.kind==="BooleanValue"}function nt(n){return n.kind==="IntValue"}function Lt(n){return n.kind==="FloatValue"}function Yt(n){return n.kind==="Variable"}function mi(n){return n.kind==="ObjectValue"}function $i(n){return n.kind==="ListValue"}function tn(n){return n.kind==="EnumValue"}function nn(n){return n.kind==="NullValue"}function Rn(n,e,t,i){if(nt(t)||Lt(t))n[e.value]=Number(t.value);else if(lu(t)||zc(t))n[e.value]=t.value;else if(mi(t)){var r={};t.fields.map(function(o){return Rn(r,o.name,o.value,i)}),n[e.value]=r}else if(Yt(t)){var a=(i||{})[t.name.value];n[e.value]=a}else if($i(t))n[e.value]=t.values.map(function(o){var v={};return Rn(v,e,o,i),v[e.value]});else if(tn(t))n[e.value]=t.value;else if(nn(t))n[e.value]=null;else throw new Sn(17)}function jn(n,e){var t=null;n.directives&&(t={},n.directives.forEach(function(r){t[r.name.value]={},r.arguments&&r.arguments.forEach(function(a){var o=a.name,v=a.value;return Rn(t[r.name.value],o,v,e)})}));var i=null;return n.arguments&&n.arguments.length&&(i={},n.arguments.forEach(function(r){var a=r.name,o=r.value;return Rn(i,a,o,e)})),Zn(n.name.value,i,t)}var zn=["connection","include","skip","client","rest","export"];function Zn(n,e,t){if(t&&t.connection&&t.connection.key)if(t.connection.filter&&t.connection.filter.length>0){var i=t.connection.filter?t.connection.filter:[];i.sort();var r=e,a={};return i.forEach(function(T){a[T]=r[T]}),t.connection.key+"("+JSON.stringify(a)+")"}else return t.connection.key;var o=n;if(e){var v=su()(e);o+="("+v+")"}return t&&Object.keys(t).forEach(function(T){zn.indexOf(T)===-1&&(t[T]&&Object.keys(t[T]).length?o+="@"+T+"("+JSON.stringify(t[T])+")":o+="@"+T)}),o}function Xr(n,e){if(n.arguments&&n.arguments.length){var t={};return n.arguments.forEach(function(i){var r=i.name,a=i.value;return Rn(t,r,a,e)}),t}return null}function En(n){return n.alias?n.alias.value:n.name.value}function Ca(n){return n.kind==="Field"}function uu(n){return n.kind==="InlineFragment"}function cu(n){return n&&n.type==="id"&&typeof n.generated=="boolean"}function du(n,e){return e===void 0&&(e=!1),At({type:"id",generated:e},typeof n=="string"?{id:n,typename:void 0}:n)}function S0(n){return n!=null&&typeof n=="object"&&n.type==="json"}function R0(n){throw new InvariantError(18)}function ch(n,e){switch(e===void 0&&(e=R0),n.kind){case"Variable":return e(n);case"NullValue":return null;case"IntValue":return parseInt(n.value,10);case"FloatValue":return parseFloat(n.value);case"ListValue":return n.values.map(function(o){return ch(o,e)});case"ObjectValue":{for(var t={},i=0,r=n.fields;i<r.length;i++){var a=r[i];t[a.name.value]=ch(a.value,e)}return t}default:return n.value}}function E0(n,e){if(n.directives&&n.directives.length){var t={};return n.directives.forEach(function(i){t[i.name.value]=Xr(i,e)}),t}return null}function Wc(n,e){return e===void 0&&(e={}),P0(n.directives).every(function(t){var i=t.directive,r=t.ifArgument,a=!1;return r.value.kind==="Variable"?(a=e[r.value.name.value],Ki(a!==void 0,13)):a=r.value.value,i.name.value==="skip"?!a:a})}function N0(n){var e=[];return(0,Mi.visit)(n,{Directive:function(t){e.push(t.name.value)}}),e}function fu(n,e){return N0(e).some(function(t){return n.indexOf(t)>-1})}function T0(n){return n&&fu(["client"],n)&&fu(["export"],n)}function C0(n){var e=n.name.value;return e==="skip"||e==="include"}function P0(n){return n?n.filter(C0).map(function(e){var t=e.arguments,i=e.name.value;Ki(t&&t.length===1,14);var r=t[0];Ki(r.name&&r.name.value==="if",15);var a=r.value;return Ki(a&&(a.kind==="Variable"||a.kind==="BooleanValue"),16),{directive:e,ifArgument:r}}):[]}function dh(n,e){var t=e,i=[];n.definitions.forEach(function(a){if(a.kind==="OperationDefinition")throw new Sn(11);a.kind==="FragmentDefinition"&&i.push(a)}),typeof t=="undefined"&&(Ki(i.length===1,12),t=i[0].name.value);var r=At(At({},n),{definitions:et([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],n.definitions)});return r}function Kc(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.forEach(function(i){typeof i=="undefined"||i===null||Object.keys(i).forEach(function(r){n[r]=i[r]})}),n}function KT(n){Ds(n);var e=n.definitions.filter(function(t){return t.kind==="OperationDefinition"&&t.operation==="mutation"})[0];return invariant(e,1),e}function Ds(n){Ki(n&&n.kind==="Document",2);var e=n.definitions.filter(function(t){return t.kind!=="FragmentDefinition"}).map(function(t){if(t.kind!=="OperationDefinition")throw new Sn(3);return t});return Ki(e.length<=1,4),n}function go(n){return Ds(n),n.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function QT(n){var e=go(n);return invariant(e,5),e}function Qc(n){return n.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function hu(n){return n.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function A0(n){var e=go(n);return Ki(e&&e.operation==="query",6),e}function M0(n){Ki(n.kind==="Document",7),Ki(n.definitions.length<=1,8);var e=n.definitions[0];return Ki(e.kind==="FragmentDefinition",9),e}function Yc(n){Ds(n);for(var e,t=0,i=n.definitions;t<i.length;t++){var r=i[t];if(r.kind==="OperationDefinition"){var a=r.operation;if(a==="query"||a==="mutation"||a==="subscription")return r}r.kind==="FragmentDefinition"&&!e&&(e=r)}if(e)return e;throw new Sn(10)}function mu(n){n===void 0&&(n=[]);var e={};return n.forEach(function(t){e[t.name.value]=t}),e}function Zc(n){if(n&&n.variableDefinitions&&n.variableDefinitions.length){var e=n.variableDefinitions.filter(function(t){var i=t.defaultValue;return i}).map(function(t){var i=t.variable,r=t.defaultValue,a={};return Rn(a,i.name,r),a});return Kc.apply(void 0,et([{}],e))}return{}}function YT(n){var e=new Set;if(n.variableDefinitions)for(var t=0,i=n.variableDefinitions;t<i.length;t++){var r=i[t];e.add(r.variable.name.value)}return e}function fh(n,e,t){var i=0;return n.forEach(function(r,a){e.call(this,r,a,n)&&(n[i++]=r)},t),n.length=i,n}var I0={kind:"Field",name:{kind:"Name",value:"__typename"}};function hh(n,e){return n.selectionSet.selections.every(function(t){return t.kind==="FragmentSpread"&&hh(e[t.name.value],e)})}function pu(n){return hh(go(n)||M0(n),mu(hu(n)))?null:n}function Jc(n){return function(t){return n.some(function(i){return i.name&&i.name===t.name.value||i.test&&i.test(t)})}}function mh(n,e){var t=Object.create(null),i=[],r=Object.create(null),a=[],o=pu((0,Mi.visit)(e,{Variable:{enter:function(v,T,x){x.kind!=="VariableDefinition"&&(t[v.name.value]=!0)}},Field:{enter:function(v){if(n&&v.directives){var T=n.some(function(x){return x.remove});if(T&&v.directives&&v.directives.some(Jc(n)))return v.arguments&&v.arguments.forEach(function(x){x.value.kind==="Variable"&&i.push({name:x.value.name.value})}),v.selectionSet&&vh(v.selectionSet).forEach(function(x){a.push({name:x.name.value})}),null}}},FragmentSpread:{enter:function(v){r[v.name.value]=!0}},Directive:{enter:function(v){if(Jc(n)(v))return null}}}));return o&&fh(i,function(v){return!t[v.name]}).length&&(o=L0(i,o)),o&&fh(a,function(v){return!r[v.name]}).length&&(o=U0(a,o)),o}function D0(n){return(0,Mi.visit)(Ds(n),{SelectionSet:{enter:function(e,t,i){if(!(i&&i.kind==="OperationDefinition")){var r=e.selections;if(r){var a=r.some(function(v){return Ca(v)&&(v.name.value==="__typename"||v.name.value.lastIndexOf("__",0)===0)});if(!a){var o=i;if(!(Ca(o)&&o.directives&&o.directives.some(function(v){return v.name.value==="export"})))return At(At({},e),{selections:et(r,[I0])})}}}}}})}var F0={test:function(n){var e=n.name.value==="connection";return e&&(!n.arguments||n.arguments.some(function(t){return t.name.value==="key"})),e}};function x0(n){return mh([F0],Ds(n))}function ph(n,e,t){return t===void 0&&(t=!0),e&&e.selections&&e.selections.some(function(i){return gh(n,i,t)})}function gh(n,e,t){return t===void 0&&(t=!0),Ca(e)?e.directives?e.directives.some(Jc(n))||t&&ph(n,e.selectionSet,t):!1:!0}function ZT(n,e){Ds(e);var t;return pu(visit(e,{SelectionSet:{enter:function(i,r,a,o){var v=o.join("-");if(!t||v===t||!v.startsWith(t))if(i.selections){var T=i.selections.filter(function(x){return gh(n,x)});return ph(n,i,!1)&&(t=v),__assign(__assign({},i),{selections:T})}else return null}}}))}function O0(n){return function(t){return n.some(function(i){return t.value&&t.value.kind==="Variable"&&t.value.name&&(i.name===t.value.name.value||i.test&&i.test(t))})}}function L0(n,e){var t=O0(n);return pu((0,Mi.visit)(e,{OperationDefinition:{enter:function(i){return At(At({},i),{variableDefinitions:i.variableDefinitions.filter(function(r){return!n.some(function(a){return a.name===r.variable.name.value})})})}},Field:{enter:function(i){var r=n.some(function(o){return o.remove});if(r){var a=0;if(i.arguments.forEach(function(o){t(o)&&(a+=1)}),a===1)return null}}},Argument:{enter:function(i){if(t(i))return null}}}))}function U0(n,e){function t(i){if(n.some(function(r){return r.name===i.name.value}))return null}return pu((0,Mi.visit)(e,{FragmentSpread:{enter:t},FragmentDefinition:{enter:t}}))}function vh(n){var e=[];return n.selections.forEach(function(t){(Ca(t)||uu(t))&&t.selectionSet?vh(t.selectionSet).forEach(function(i){return e.push(i)}):t.kind==="FragmentSpread"&&e.push(t)}),e}function B0(n){var e=Yc(n),t=e.operation;if(t==="query")return n;var i=(0,Mi.visit)(n,{OperationDefinition:{enter:function(r){return At(At({},r),{operation:"query"})}}});return i}function q0(n){Ds(n);var e=mh([{test:function(t){return t.name.value==="client"},remove:!0}],n);return e&&(e=(0,Mi.visit)(e,{FragmentDefinition:{enter:function(t){if(t.selectionSet){var i=t.selectionSet.selections.every(function(r){return Ca(r)&&r.name.value==="__typename"});if(i)return null}}}})),e}var Xc=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative"),$0=Object.prototype.toString;function H0(n){return ed(n,new Map)}function ed(n,e){switch($0.call(n)){case"[object Array]":{if(e.has(n))return e.get(n);var t=n.slice(0);return e.set(n,t),t.forEach(function(r,a){t[a]=ed(r,e)}),t}case"[object Object]":{if(e.has(n))return e.get(n);var i=Object.create(Object.getPrototypeOf(n));return e.set(n,i),Object.keys(n).forEach(function(r){i[r]=ed(n[r],e)}),i}default:return n}}function G0(){return typeof ou!="undefined"?"production":"development"}function td(n){return G0()===n}function bh(){return td("production")===!0}function V0(){return td("development")===!0}function id(){return td("test")===!0}function nd(n){try{return n()}catch(e){console.error&&console.error(e)}}function Fs(n){return n.errors&&n.errors.length}function yh(n){return Object.freeze(n),Object.getOwnPropertyNames(n).forEach(function(e){n[e]!==null&&(typeof n[e]=="object"||typeof n[e]=="function")&&!Object.isFrozen(n[e])&&yh(n[e])}),n}function JT(n){if(V0()||id()){var e=typeof Symbol=="function"&&typeof Symbol("")=="string";if(!e)return yh(n)}return n}var j0=Object.prototype.hasOwnProperty;function wh(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return rd(n)}function rd(n){var e=n[0]||{},t=n.length;if(t>1){var i=[];e=ad(e,i);for(var r=1;r<t;++r)e=kh(e,n[r],i)}return e}function _h(n){return n!==null&&typeof n=="object"}function kh(n,e,t){return _h(e)&&_h(n)?(Object.isExtensible&&!Object.isExtensible(n)&&(n=ad(n,t)),Object.keys(e).forEach(function(i){var r=e[i];if(j0.call(n,i)){var a=n[i];r!==a&&(n[i]=kh(ad(a,t),r,t))}else n[i]=r}),n):e}function ad(n,e){return n!==null&&typeof n=="object"&&e.indexOf(n)<0&&(Array.isArray(n)?n=n.slice(0):n=At({__proto__:Object.getPrototypeOf(n)},n),e.push(n)),n}var Sh=Object.create({});function XT(n,e){e===void 0&&(e="warn"),!bh()&&!Sh[n]&&(id()||(Sh[n]=!0),e==="error"?console.error(n):console.warn(n))}function eC(n){return JSON.parse(JSON.stringify(n))}var z0=Xt(16064),W0=Xt.n(z0),K0=W0();const Pr=K0;function Q0(n){for(var e=["query","operationName","variables","extensions","context"],t=0,i=Object.keys(n);t<i.length;t++){var r=i[t];if(e.indexOf(r)<0)throw new Sn(2)}return n}var tC=function(n){Ea(e,n);function e(t,i){var r=n.call(this,t)||this;return r.link=i,r}return e}(Error);function gu(n){return n.request.length<=1}function iC(n){var e=!1;return new Promise(function(t,i){n.subscribe({next:function(r){e||(e=!0,t(r))},error:i})})}var nC=null;function rC(n){return new Observable(function(e){n.then(function(t){e.next(t),e.complete()}).catch(e.error.bind(e))})}function Rh(n){return new Pr(function(e){e.error(n)})}function Y0(n){var e={variables:n.variables||{},extensions:n.extensions||{},operationName:n.operationName,query:n.query};return e.operationName||(e.operationName=typeof e.query!="string"?Qc(e.query):""),e}function Z0(n,e){var t=At({},n),i=function(a){typeof a=="function"?t=At({},t,a(t)):t=At({},t,a)},r=function(){return At({},t)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:i}),Object.defineProperty(e,"getContext",{enumerable:!1,value:r}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return J0(e)}}),e}function J0(n){var e=n.query,t=n.variables,i=n.operationName;return JSON.stringify([i,e,t])}function Eh(n,e){return e?e(n):Pr.of()}function dl(n){return typeof n=="function"?new ca(n):n}function Nh(){return new ca(function(){return Pr.of()})}function X0(n){return n.length===0?Nh():n.map(dl).reduce(function(e,t){return e.concat(t)})}function Th(n,e,t){var i=dl(e),r=dl(t||new ca(Eh));return gu(i)&&gu(r)?new ca(function(a){return n(a)?i.request(a)||Pr.of():r.request(a)||Pr.of()}):new ca(function(a,o){return n(a)?i.request(a,o)||Pr.of():r.request(a,o)||Pr.of()})}var eb=function(n,e){var t=dl(n);if(gu(t))return t;var i=dl(e);return gu(i)?new ca(function(r){return t.request(r,function(a){return i.request(a)||Pr.of()})||Pr.of()}):new ca(function(r,a){return t.request(r,function(o){return i.request(o,a)||Pr.of()})||Pr.of()})},ca=function(){function n(e){e&&(this.request=e)}return n.prototype.split=function(e,t,i){return this.concat(Th(e,t,i||new n(Eh)))},n.prototype.concat=function(e){return eb(this,e)},n.prototype.request=function(e,t){throw new Sn(1)},n.empty=Nh,n.from=X0,n.split=Th,n.execute=vu,n}();function vu(n,e){return n.request(Z0(e.context,Y0(Q0(e))))||Pr.of()}var tb=Xt(9423),xn;(function(n){n[n.loading=1]="loading",n[n.setVariables=2]="setVariables",n[n.fetchMore=3]="fetchMore",n[n.refetch=4]="refetch",n[n.poll=6]="poll",n[n.ready=7]="ready",n[n.error=8]="error"})(xn||(xn={}));function Ch(n){return n<7}var fl=function(n){Ea(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype[tb.A]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(Pr);function vo(n){return Array.isArray(n)&&n.length>0}function ib(n){return n.hasOwnProperty("graphQLErrors")}var nb=function(n){var e="";return vo(n.graphQLErrors)&&n.graphQLErrors.forEach(function(t){var i=t?t.message:"Error message not found.";e+="GraphQL error: "+i+`
`}),n.networkError&&(e+="Network error: "+n.networkError.message+`
`),e=e.replace(/\n$/,""),e},fs=function(n){Ea(e,n);function e(t){var i=t.graphQLErrors,r=t.networkError,a=t.errorMessage,o=t.extraInfo,v=n.call(this,a)||this;return v.graphQLErrors=i||[],v.networkError=r||null,a?v.message=a:v.message=nb(v),v.extraInfo=o,v.__proto__=e.prototype,v}return e}(Error),xs;(function(n){n[n.normal=1]="normal",n[n.refetch=2]="refetch",n[n.poll=3]="poll"})(xs||(xs={}));var rb=function(n,e){return e===void 0&&(e="none"),n&&(n.networkError||e==="none"&&vo(n.graphQLErrors))},ab=function(n){Ea(e,n);function e(t){var i=t.queryManager,r=t.options,a=t.shouldSubscribe,o=a===void 0?!0:a,v=n.call(this,function(x){return v.onSubscribe(x)})||this;v.observers=new Set,v.subscriptions=new Set,v.isTornDown=!1,v.options=r,v.variables=r.variables||{},v.queryId=i.generateQueryId(),v.shouldSubscribe=o;var T=go(r.query);return v.queryName=T&&T.name&&T.name.value,v.queryManager=i,v}return e.prototype.result=function(){var t=this;return new Promise(function(i,r){var a={next:function(v){i(v),t.observers.delete(a),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){o.unsubscribe()},0)},error:r},o=t.subscribe(a)})},e.prototype.currentResult=function(){var t=this.getCurrentResult();return t.data===void 0&&(t.data={}),t},e.prototype.getCurrentResult=function(){if(this.isTornDown){var t=this.lastResult;return{data:!this.lastError&&t&&t.data||void 0,error:this.lastError,loading:!1,networkStatus:xn.error}}var i=this.queryManager.getCurrentQueryResult(this),r=i.data,a=i.partial,o=this.queryManager.queryStore.get(this.queryId),v,T=this.options.fetchPolicy,x=T==="network-only"||T==="no-cache";if(o){var W=o.networkStatus;if(rb(o,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:W,error:new fs({graphQLErrors:o.graphQLErrors,networkError:o.networkError})};o.variables&&(this.options.variables=At(At({},this.options.variables),o.variables),this.variables=this.options.variables),v={data:r,loading:Ch(W),networkStatus:W},o.graphQLErrors&&this.options.errorPolicy==="all"&&(v.errors=o.graphQLErrors)}else{var te=x||a&&T!=="cache-only";v={data:r,loading:te,networkStatus:te?xn.loading:xn.ready}}return a||this.updateLastResult(At(At({},v),{stale:!1})),At(At({},v),{partial:a})},e.prototype.isDifferentFromLastResult=function(t){var i=this.lastResultSnapshot;return!(i&&t&&i.networkStatus===t.networkStatus&&i.stale===t.stale&&Cr(i.data,t.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var t=this.queryManager.queryStore.get(this.queryId);t&&(t.networkError=null,t.graphQLErrors=[])},e.prototype.refetch=function(t){var i=this.options.fetchPolicy;return i==="cache-only"?Promise.reject(new Sn(1)):(i!=="no-cache"&&i!=="cache-and-network"&&(i="network-only"),Cr(this.variables,t)||(this.variables=At(At({},this.variables),t)),Cr(this.options.variables,this.variables)||(this.options.variables=At(At({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,At(At({},this.options),{fetchPolicy:i}),xs.refetch))},e.prototype.fetchMore=function(t){var i=this;Ki(t.updateQuery,2);var r=At(At({},t.query?t:At(At(At({},this.options),t),{variables:At(At({},this.variables),t.variables)})),{fetchPolicy:"network-only"}),a=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(a,r,xs.normal,this.queryId).then(function(o){return i.updateQuery(function(v){return t.updateQuery(v,{fetchMoreResult:o.data,variables:r.variables})}),i.queryManager.stopQuery(a),o},function(o){throw i.queryManager.stopQuery(a),o})},e.prototype.subscribeToMore=function(t){var i=this,r=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables}).subscribe({next:function(a){var o=t.updateQuery;o&&i.updateQuery(function(v,T){var x=T.variables;return o(v,{subscriptionData:a,variables:x})})},error:function(a){if(t.onError){t.onError(a);return}}});return this.subscriptions.add(r),function(){i.subscriptions.delete(r)&&r.unsubscribe()}},e.prototype.setOptions=function(t){var i=this.options.fetchPolicy;this.options=At(At({},this.options),t),t.pollInterval?this.startPolling(t.pollInterval):t.pollInterval===0&&this.stopPolling();var r=t.fetchPolicy;return this.setVariables(this.options.variables,i!==r&&(i==="cache-only"||i==="standby"||r==="network-only"),t.fetchResults)},e.prototype.setVariables=function(t,i,r){return i===void 0&&(i=!1),r===void 0&&(r=!0),this.isTornDown=!1,t=t||this.variables,!i&&Cr(t,this.variables)?this.observers.size&&r?this.result():Promise.resolve():(this.variables=this.options.variables=t,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(t){var i=this.queryManager,r=i.getQueryWithPreviousResult(this.queryId),a=r.previousResult,o=r.variables,v=r.document,T=nd(function(){return t(a,{variables:o})});T&&(i.dataStore.markUpdateQueryResult(v,o,T),i.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(t){Ph(this),this.options.pollInterval=t,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(t){var i=this.lastResult;return this.lastResult=t,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?t:H0(t),i},e.prototype.onSubscribe=function(t){var i=this;try{var r=t._subscription._observer;r&&!r.error&&(r.error=sb)}catch{}var a=!this.observers.size;return this.observers.add(t),t.next&&this.lastResult&&t.next(this.lastResult),t.error&&this.lastError&&t.error(this.lastError),a&&this.setUpQuery(),function(){i.observers.delete(t)&&!i.observers.size&&i.tearDownQuery()}},e.prototype.setUpQuery=function(){var t=this,i=this,r=i.queryManager,a=i.queryId;this.shouldSubscribe&&r.addObservableQuery(a,this),this.options.pollInterval&&(Ph(this),r.startPollingQuery(this.options,a));var o=function(v){t.updateLastResult(At(At({},t.lastResult),{errors:v.graphQLErrors,networkStatus:xn.error,loading:!1})),sd(t.observers,"error",t.lastError=v)};r.observeQuery(a,this.options,{next:function(v){if(t.lastError||t.isDifferentFromLastResult(v)){var T=t.updateLastResult(v),x=t.options,W=x.query,te=x.variables,oe=x.fetchPolicy;r.transform(W).hasClientExports?r.getLocalState().addExportedVariables(W,te).then(function(fe){var ye=t.variables;t.variables=t.options.variables=fe,!v.loading&&T&&oe!=="cache-only"&&r.transform(W).serverQuery&&!Cr(ye,fe)?t.refetch():sd(t.observers,"next",v)}):sd(t.observers,"next",v)}},error:o}).catch(o)},e.prototype.tearDownQuery=function(){var t=this.queryManager;this.isTornDown=!0,t.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(i){return i.unsubscribe()}),this.subscriptions.clear(),t.removeObservableQuery(this.queryId),t.stopQuery(this.queryId),this.observers.clear()},e}(fl);function sb(n){}function sd(n,e,t){var i=[];n.forEach(function(r){return r[e]&&i.push(r)}),i.forEach(function(r){return r[e](t)})}function Ph(n){var e=n.options.fetchPolicy;Ki(e!=="cache-first"&&e!=="cache-only",3)}var ob=function(){function n(){this.store={}}return n.prototype.getStore=function(){return this.store},n.prototype.get=function(e){return this.store[e]},n.prototype.initMutation=function(e,t,i){this.store[e]={mutation:t,variables:i||{},loading:!0,error:null}},n.prototype.markMutationError=function(e,t){var i=this.store[e];i&&(i.loading=!1,i.error=t)},n.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},n.prototype.reset=function(){this.store={}},n}(),lb=function(){function n(){this.store={}}return n.prototype.getStore=function(){return this.store},n.prototype.get=function(e){return this.store[e]},n.prototype.initQuery=function(e){var t=this.store[e.queryId];Ki(!t||t.document===e.document||Cr(t.document,e.document),19);var i=!1,r=null;e.storePreviousVariables&&t&&t.networkStatus!==xn.loading&&(Cr(t.variables,e.variables)||(i=!0,r=t.variables));var a;i?a=xn.setVariables:e.isPoll?a=xn.poll:e.isRefetch?a=xn.refetch:a=xn.loading;var o=[];t&&t.graphQLErrors&&(o=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:r,networkError:null,graphQLErrors:o,networkStatus:a,metadata:e.metadata},typeof e.fetchMoreForQueryId=="string"&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=xn.fetchMore)},n.prototype.markQueryResult=function(e,t,i){!this.store||!this.store[e]||(this.store[e].networkError=null,this.store[e].graphQLErrors=vo(t.errors)?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=xn.ready,typeof i=="string"&&this.store[i]&&(this.store[i].networkStatus=xn.ready))},n.prototype.markQueryError=function(e,t,i){!this.store||!this.store[e]||(this.store[e].networkError=t,this.store[e].networkStatus=xn.error,typeof i=="string"&&this.markQueryResultClient(i,!0))},n.prototype.markQueryResultClient=function(e,t){var i=this.store&&this.store[e];i&&(i.networkError=null,i.previousVariables=null,t&&(i.networkStatus=xn.ready))},n.prototype.stopQuery=function(e){delete this.store[e]},n.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach(function(i){e.indexOf(i)<0?t.stopQuery(i):t.store[i].networkStatus=xn.loading})},n}();function ub(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Ah=function(){function n(e){var t=e.cache,i=e.client,r=e.resolvers,a=e.fragmentMatcher;this.cache=t,i&&(this.client=i),r&&this.addResolvers(r),a&&this.setFragmentMatcher(a)}return n.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(i){t.resolvers=wh(t.resolvers,i)}):this.resolvers=wh(this.resolvers,e)},n.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},n.prototype.getResolvers=function(){return this.resolvers||{}},n.prototype.runResolvers=function(e){var t=e.document,i=e.remoteResult,r=e.context,a=e.variables,o=e.onlyRunForcedResolvers,v=o===void 0?!1:o;return Na(this,void 0,void 0,function(){return Ta(this,function(T){return t?[2,this.resolveDocument(t,i.data,r,a,this.fragmentMatcher,v).then(function(x){return At(At({},i),{data:x.result})})]:[2,i]})})},n.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},n.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},n.prototype.clientQuery=function(e){return fu(["client"],e)&&this.resolvers?e:null},n.prototype.serverQuery=function(e){return this.resolvers?q0(e):e},n.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.cache,i=At(At({},e),{cache:t,getCacheKey:function(r){if(t.config)return t.config.dataIdFromObject(r);Ki(!1,6)}});return i},n.prototype.addExportedVariables=function(e,t,i){return t===void 0&&(t={}),i===void 0&&(i={}),Na(this,void 0,void 0,function(){return Ta(this,function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(i),t).then(function(a){return At(At({},t),a.exportedVariables)})]:[2,At({},t)]})})},n.prototype.shouldForceResolvers=function(e){var t=!1;return(0,Mi.visit)(e,{Directive:{enter:function(i){if(i.name.value==="client"&&i.arguments&&(t=i.arguments.some(function(r){return r.name.value==="always"&&r.value.kind==="BooleanValue"&&r.value.value===!0}),t))return Mi.BREAK}}}),t},n.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:B0(e),variables:t,returnPartialData:!0,optimistic:!1}).result},n.prototype.resolveDocument=function(e,t,i,r,a,o){return i===void 0&&(i={}),r===void 0&&(r={}),a===void 0&&(a=function(){return!0}),o===void 0&&(o=!1),Na(this,void 0,void 0,function(){var v,T,x,W,te,oe,fe,ye,Pe;return Ta(this,function(Ce){return v=Yc(e),T=hu(e),x=mu(T),W=v.operation,te=W?ub(W):"Query",oe=this,fe=oe.cache,ye=oe.client,Pe={fragmentMap:x,context:At(At({},i),{cache:fe,client:ye}),variables:r,fragmentMatcher:a,defaultOperationType:te,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(v.selectionSet,t,Pe).then(function(De){return{result:De,exportedVariables:Pe.exportedVariables}})]})})},n.prototype.resolveSelectionSet=function(e,t,i){return Na(this,void 0,void 0,function(){var r,a,o,v,T,x=this;return Ta(this,function(W){return r=i.fragmentMap,a=i.context,o=i.variables,v=[t],T=function(te){return Na(x,void 0,void 0,function(){var oe,fe;return Ta(this,function(ye){return Wc(te,o)?Ca(te)?[2,this.resolveField(te,t,i).then(function(Pe){var Ce;typeof Pe!="undefined"&&v.push((Ce={},Ce[En(te)]=Pe,Ce))})]:(uu(te)?oe=te:(oe=r[te.name.value],Ki(oe,7)),oe&&oe.typeCondition&&(fe=oe.typeCondition.name.value,i.fragmentMatcher(t,fe,a))?[2,this.resolveSelectionSet(oe.selectionSet,t,i).then(function(Pe){v.push(Pe)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(T)).then(function(){return rd(v)})]})})},n.prototype.resolveField=function(e,t,i){return Na(this,void 0,void 0,function(){var r,a,o,v,T,x,W,te,oe,fe=this;return Ta(this,function(ye){return r=i.variables,a=e.name.value,o=En(e),v=a!==o,T=t[o]||t[a],x=Promise.resolve(T),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(W=t.__typename||i.defaultOperationType,te=this.resolvers&&this.resolvers[W],te&&(oe=te[v?a:o],oe&&(x=Promise.resolve(oe(t,Xr(e,r),i.context,{field:e,fragmentMap:i.fragmentMap}))))),[2,x.then(function(Pe){if(Pe===void 0&&(Pe=T),e.directives&&e.directives.forEach(function(Ce){Ce.name.value==="export"&&Ce.arguments&&Ce.arguments.forEach(function(De){De.name.value==="as"&&De.value.kind==="StringValue"&&(i.exportedVariables[De.value.value]=Pe)})}),!e.selectionSet||Pe==null)return Pe;if(Array.isArray(Pe))return fe.resolveSubSelectedArray(e,Pe,i);if(e.selectionSet)return fe.resolveSelectionSet(e.selectionSet,Pe,i)})]})})},n.prototype.resolveSubSelectedArray=function(e,t,i){var r=this;return Promise.all(t.map(function(a){if(a===null)return null;if(Array.isArray(a))return r.resolveSubSelectedArray(e,a,i);if(e.selectionSet)return r.resolveSelectionSet(e.selectionSet,a,i)}))},n}();function Mh(n){var e=new Set,t=null;return new fl(function(i){return e.add(i),t=t||n.subscribe({next:function(r){e.forEach(function(a){return a.next&&a.next(r)})},error:function(r){e.forEach(function(a){return a.error&&a.error(r)})},complete:function(){e.forEach(function(r){return r.complete&&r.complete()})}}),function(){e.delete(i)&&!e.size&&t&&(t.unsubscribe(),t=null)}})}function cb(n,e){return new fl(function(t){var i=t.next,r=t.error,a=t.complete,o=0,v=!1,T={next:function(W){++o,new Promise(function(te){te(e(W))}).then(function(te){--o,i&&i.call(t,te),v&&T.complete()},function(te){--o,r&&r.call(t,te)})},error:function(W){r&&r.call(t,W)},complete:function(){v=!0,o||a&&a.call(t)}},x=n.subscribe(T);return function(){return x.unsubscribe()}})}var db=Object.prototype.hasOwnProperty,fb=function(){function n(e){var t=e.link,i=e.queryDeduplication,r=i===void 0?!1:i,a=e.store,o=e.onBroadcast,v=o===void 0?function(){}:o,T=e.ssrMode,x=T===void 0?!1:T,W=e.clientAwareness,te=W===void 0?{}:W,oe=e.localState,fe=e.assumeImmutableResults;this.mutationStore=new ob,this.queryStore=new lb,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(Xc?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=t,this.queryDeduplication=r,this.dataStore=a,this.onBroadcast=v,this.clientAwareness=te,this.localState=oe||new Ah({cache:a.getCache()}),this.ssrMode=x,this.assumeImmutableResults=!!fe}return n.prototype.stop=function(){var e=this;this.queries.forEach(function(t,i){e.stopQueryNoBroadcast(i)}),this.fetchQueryRejectFns.forEach(function(t){t(new Sn(8))})},n.prototype.mutate=function(e){var t=e.mutation,i=e.variables,r=e.optimisticResponse,a=e.updateQueries,o=e.refetchQueries,v=o===void 0?[]:o,T=e.awaitRefetchQueries,x=T===void 0?!1:T,W=e.update,te=e.errorPolicy,oe=te===void 0?"none":te,fe=e.fetchPolicy,ye=e.context,Pe=ye===void 0?{}:ye;return Na(this,void 0,void 0,function(){var Ce,De,Le,$e=this;return Ta(this,function(Ze){switch(Ze.label){case 0:return Ki(t,9),Ki(!fe||fe==="no-cache",10),Ce=this.generateQueryId(),t=this.transform(t).document,this.setQuery(Ce,function(){return{document:t}}),i=this.getVariables(t,i),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,i,Pe)]:[3,2];case 1:i=Ze.sent(),Ze.label=2;case 2:return De=function(){var rt={};return a&&$e.queries.forEach(function(Ve,We){var ct=Ve.observableQuery;if(ct){var jt=ct.queryName;jt&&db.call(a,jt)&&(rt[We]={updater:a[jt],query:$e.queryStore.get(We)})}}),rt},this.mutationStore.initMutation(Ce,t,i),this.dataStore.markMutationInit({mutationId:Ce,document:t,variables:i,updateQueries:De(),update:W,optimisticResponse:r}),this.broadcastQueries(),Le=this,[2,new Promise(function(rt,Ve){var We,ct;Le.getObservableFromLink(t,At(At({},Pe),{optimisticResponse:r}),i,!1).subscribe({next:function(jt){if(Fs(jt)&&oe==="none"){ct=new fs({graphQLErrors:jt.errors});return}Le.mutationStore.markMutationResult(Ce),fe!=="no-cache"&&Le.dataStore.markMutationResult({mutationId:Ce,result:jt,document:t,variables:i,updateQueries:De(),update:W}),We=jt},error:function(jt){Le.mutationStore.markMutationError(Ce,jt),Le.dataStore.markMutationComplete({mutationId:Ce,optimisticResponse:r}),Le.broadcastQueries(),Le.setQuery(Ce,function(){return{document:null}}),Ve(new fs({networkError:jt}))},complete:function(){if(ct&&Le.mutationStore.markMutationError(Ce,ct),Le.dataStore.markMutationComplete({mutationId:Ce,optimisticResponse:r}),Le.broadcastQueries(),ct){Ve(ct);return}typeof v=="function"&&(v=v(We));var jt=[];vo(v)&&v.forEach(function(Se){if(typeof Se=="string")Le.queries.forEach(function(Ge){var it=Ge.observableQuery;it&&it.queryName===Se&&jt.push(it.refetch())});else{var qe={query:Se.query,variables:Se.variables,fetchPolicy:"network-only"};Se.context&&(qe.context=Se.context),jt.push(Le.query(qe))}}),Promise.all(x?jt:[]).then(function(){Le.setQuery(Ce,function(){return{document:null}}),oe==="ignore"&&We&&Fs(We)&&delete We.errors,rt(We)})}})})]}})})},n.prototype.fetchQuery=function(e,t,i,r){return Na(this,void 0,void 0,function(){var a,o,v,T,x,W,te,oe,fe,ye,Pe,Ce,De,Le,$e,Ze,rt,Ve,We=this;return Ta(this,function(ct){switch(ct.label){case 0:return a=t.metadata,o=a===void 0?null:a,v=t.fetchPolicy,T=v===void 0?"cache-first":v,x=t.context,W=x===void 0?{}:x,te=this.transform(t.query).document,oe=this.getVariables(te,t.variables),this.transform(te).hasClientExports?[4,this.localState.addExportedVariables(te,oe,W)]:[3,2];case 1:oe=ct.sent(),ct.label=2;case 2:if(t=At(At({},t),{variables:oe}),ye=T==="network-only"||T==="no-cache",Pe=ye,ye||(Ce=this.dataStore.getCache().diff({query:te,variables:oe,returnPartialData:!0,optimistic:!1}),De=Ce.complete,Le=Ce.result,Pe=!De||T==="cache-and-network",fe=Le),$e=Pe&&T!=="cache-only"&&T!=="standby",fu(["live"],te)&&($e=!0),Ze=this.idCounter++,rt=T!=="no-cache"?this.updateQueryWatch(e,te,t):void 0,this.setQuery(e,function(){return{document:te,lastRequestId:Ze,invalidated:!0,cancel:rt}}),this.invalidate(r),this.queryStore.initQuery({queryId:e,document:te,storePreviousVariables:$e,variables:oe,isPoll:i===xs.poll,isRefetch:i===xs.refetch,metadata:o,fetchMoreForQueryId:r}),this.broadcastQueries(),$e){if(Ve=this.fetchRequest({requestId:Ze,queryId:e,document:te,options:t,fetchMoreForQueryId:r}).catch(function(jt){throw ib(jt)?jt:(Ze>=We.getQuery(e).lastRequestId&&(We.queryStore.markQueryError(e,jt,r),We.invalidate(e),We.invalidate(r),We.broadcastQueries()),new fs({networkError:jt}))}),T!=="cache-and-network")return[2,Ve];Ve.catch(function(){})}return this.queryStore.markQueryResultClient(e,!$e),this.invalidate(e),this.invalidate(r),this.transform(te).hasForcedResolvers?[2,this.localState.runResolvers({document:te,remoteResult:{data:fe},context:W,variables:oe,onlyRunForcedResolvers:!0}).then(function(jt){return We.markQueryResult(e,jt,t,r),We.broadcastQueries(),jt})]:(this.broadcastQueries(),[2,{data:fe}])}})})},n.prototype.markQueryResult=function(e,t,i,r){var a=i.fetchPolicy,o=i.variables,v=i.errorPolicy;a==="no-cache"?this.setQuery(e,function(){return{newData:{result:t.data,complete:!0}}}):this.dataStore.markQueryResult(t,this.getQuery(e).document,o,r,v==="ignore"||v==="all")},n.prototype.queryListenerForObserver=function(e,t,i){var r=this;function a(o,v){if(i[o])try{i[o](v)}catch{}}return function(o,v){if(r.invalidate(e,!1),!!o){var T=r.getQuery(e),x=T.observableQuery,W=T.document,te=x?x.options.fetchPolicy:t.fetchPolicy;if(te!=="standby"){var oe=Ch(o.networkStatus),fe=x&&x.getLastResult(),ye=!!(fe&&fe.networkStatus!==o.networkStatus),Pe=t.returnPartialData||!v&&o.previousVariables||ye&&t.notifyOnNetworkStatusChange||te==="cache-only"||te==="cache-and-network";if(!(oe&&!Pe)){var Ce=vo(o.graphQLErrors),De=x&&x.options.errorPolicy||t.errorPolicy||"none";if(De==="none"&&Ce||o.networkError)return a("error",new fs({graphQLErrors:o.graphQLErrors,networkError:o.networkError}));try{var Le=void 0,$e=void 0;if(v)te!=="no-cache"&&te!=="network-only"&&r.setQuery(e,function(){return{newData:null}}),Le=v.result,$e=!v.complete;else{var Ze=x&&x.getLastError(),rt=De!=="none"&&(Ze&&Ze.graphQLErrors)!==o.graphQLErrors;if(fe&&fe.data&&!rt)Le=fe.data,$e=!1;else{var Ve=r.dataStore.getCache().diff({query:W,variables:o.previousVariables||o.variables,returnPartialData:!0,optimistic:!0});Le=Ve.result,$e=!Ve.complete}}var We=$e&&!(t.returnPartialData||te==="cache-only"),ct={data:We?fe&&fe.data:Le,loading:oe,networkStatus:o.networkStatus,stale:We};De==="all"&&Ce&&(ct.errors=o.graphQLErrors),a("next",ct)}catch(jt){a("error",new fs({networkError:jt}))}}}}}},n.prototype.transform=function(e){var t=this.transformCache;if(!t.has(e)){var i=this.dataStore.getCache(),r=i.transformDocument(e),a=x0(i.transformForLink(r)),o=this.localState.clientQuery(r),v=this.localState.serverQuery(a),T={document:r,hasClientExports:T0(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:o,serverQuery:v,defaultVars:Zc(go(r))},x=function(W){W&&!t.has(W)&&t.set(W,T)};x(e),x(r),x(o),x(v)}return t.get(e)},n.prototype.getVariables=function(e,t){return At(At({},this.transform(e).defaultVars),t)},n.prototype.watchQuery=function(e,t){t===void 0&&(t=!0),Ki(e.fetchPolicy!=="standby",11),e.variables=this.getVariables(e.query,e.variables),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var i=At({},e);return new ab({queryManager:this,options:i,shouldSubscribe:t})},n.prototype.query=function(e){var t=this;return Ki(e.query,12),Ki(e.query.kind==="Document",13),Ki(!e.returnPartialData,14),Ki(!e.pollInterval,15),new Promise(function(i,r){var a=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+a.queryId,r),a.result().then(i,r).then(function(){return t.fetchQueryRejectFns.delete("query:"+a.queryId)})})},n.prototype.generateQueryId=function(){return String(this.idCounter++)},n.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},n.prototype.addQueryListener=function(e,t){this.setQuery(e,function(i){var r=i.listeners;return r.add(t),{invalidated:!1}})},n.prototype.updateQueryWatch=function(e,t,i){var r=this,a=this.getQuery(e).cancel;a&&a();var o=function(){var v=null,T=r.getQuery(e).observableQuery;if(T){var x=T.getLastResult();x&&(v=x.data)}return v};return this.dataStore.getCache().watch({query:t,variables:i.variables,optimistic:!0,previousResult:o,callback:function(v){r.setQuery(e,function(){return{invalidated:!0,newData:v}})}})},n.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}})},n.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),t&&t()},n.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(t){t(new Sn(16))});var e=[];return this.queries.forEach(function(t,i){var r=t.observableQuery;r&&e.push(i)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},n.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},n.prototype.reFetchObservableQueries=function(e){var t=this;e===void 0&&(e=!1);var i=[];return this.queries.forEach(function(r,a){var o=r.observableQuery;if(o){var v=o.options.fetchPolicy;o.resetLastResults(),v!=="cache-only"&&(e||v!=="standby")&&i.push(o.refetch()),t.setQuery(a,function(){return{newData:null}}),t.invalidate(a)}}),this.broadcastQueries(),Promise.all(i)},n.prototype.observeQuery=function(e,t,i){return this.addQueryListener(e,this.queryListenerForObserver(e,t,i)),this.fetchQuery(e,t)},n.prototype.startQuery=function(e,t,i){return this.addQueryListener(e,i),this.fetchQuery(e,t).catch(function(){}),e},n.prototype.startGraphQLSubscription=function(e){var t=this,i=e.query,r=e.fetchPolicy,a=e.variables;i=this.transform(i).document,a=this.getVariables(i,a);var o=function(T){return t.getObservableFromLink(i,{},T,!1).map(function(x){if((!r||r!=="no-cache")&&(t.dataStore.markSubscriptionResult(x,i,T),t.broadcastQueries()),Fs(x))throw new fs({graphQLErrors:x.errors});return x})};if(this.transform(i).hasClientExports){var v=this.localState.addExportedVariables(i,a).then(o);return new fl(function(T){var x=null;return v.then(function(W){return x=W.subscribe(T)},T.error),function(){return x&&x.unsubscribe()}})}return o(a)},n.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},n.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(t){return t.unsubscribe()}),this.queries.delete(e)},n.prototype.getCurrentQueryResult=function(e,t){t===void 0&&(t=!0);var i=e.options,r=i.variables,a=i.query,o=i.fetchPolicy,v=i.returnPartialData,T=e.getLastResult(),x=this.getQuery(e.queryId).newData;if(x&&x.complete)return{data:x.result,partial:!1};if(o==="no-cache"||o==="network-only")return{data:void 0,partial:!1};var W=this.dataStore.getCache().diff({query:a,variables:r,previousResult:T?T.data:void 0,returnPartialData:!0,optimistic:t}),te=W.result,oe=W.complete;return{data:oe||v?te:void 0,partial:!oe}},n.prototype.getQueryWithPreviousResult=function(e){var t;if(typeof e=="string"){var i=this.getQuery(e).observableQuery;Ki(i,17),t=i}else t=e;var r=t.options,a=r.variables,o=r.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:a,document:o}},n.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(t,i){t.invalidated&&t.listeners.forEach(function(r){r&&r(e.queryStore.get(i),t.newData)})})},n.prototype.getLocalState=function(){return this.localState},n.prototype.getObservableFromLink=function(e,t,i,r){var a=this;r===void 0&&(r=this.queryDeduplication);var o,v=this.transform(e).serverQuery;if(v){var T=this,x=T.inFlightLinkObservables,W=T.link,te={query:v,variables:i,operationName:Qc(v)||void 0,context:this.prepareContext(At(At({},t),{forceFetch:!r}))};if(t=te.context,r){var oe=x.get(v)||new Map;x.set(v,oe);var fe=JSON.stringify(i);if(o=oe.get(fe),!o){oe.set(fe,o=Mh(vu(W,te)));var ye=function(){oe.delete(fe),oe.size||x.delete(v),Pe.unsubscribe()},Pe=o.subscribe({next:ye,error:ye,complete:ye})}}else o=Mh(vu(W,te))}else o=fl.of({data:{}}),t=this.prepareContext(t);var Ce=this.transform(e).clientQuery;return Ce&&(o=cb(o,function(De){return a.localState.runResolvers({document:Ce,remoteResult:De,context:t,variables:i})})),o},n.prototype.fetchRequest=function(e){var t=this,i=e.requestId,r=e.queryId,a=e.document,o=e.options,v=e.fetchMoreForQueryId,T=o.variables,x=o.errorPolicy,W=x===void 0?"none":x,te=o.fetchPolicy,oe,fe;return new Promise(function(ye,Pe){var Ce=t.getObservableFromLink(a,o.context,T),De="fetchRequest:"+r;t.fetchQueryRejectFns.set(De,Pe);var Le=function(){t.fetchQueryRejectFns.delete(De),t.setQuery(r,function(Ze){var rt=Ze.subscriptions;rt.delete($e)})},$e=Ce.map(function(Ze){if(i>=t.getQuery(r).lastRequestId&&(t.markQueryResult(r,Ze,o,v),t.queryStore.markQueryResult(r,Ze,v),t.invalidate(r),t.invalidate(v),t.broadcastQueries()),W==="none"&&vo(Ze.errors))return Pe(new fs({graphQLErrors:Ze.errors}));if(W==="all"&&(fe=Ze.errors),v||te==="no-cache")oe=Ze.data;else{var rt=t.dataStore.getCache().diff({variables:T,query:a,optimistic:!1,returnPartialData:!0}),Ve=rt.result,We=rt.complete;(We||o.returnPartialData)&&(oe=Ve)}}).subscribe({error:function(Ze){Le(),Pe(Ze)},complete:function(){Le(),ye({data:oe,errors:fe,loading:!1,networkStatus:xn.ready,stale:!1})}});t.setQuery(r,function(Ze){var rt=Ze.subscriptions;rt.add($e)})})},n.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},n.prototype.setQuery=function(e,t){var i=this.getQuery(e),r=At(At({},i),t(i));this.queries.set(e,r)},n.prototype.invalidate=function(e,t){t===void 0&&(t=!0),e&&this.setQuery(e,function(){return{invalidated:t}})},n.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.localState.prepareContext(e);return At(At({},t),{clientAwareness:this.clientAwareness})},n.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==xn.ready&&t.networkStatus!==xn.error},n.prototype.startPollingQuery=function(e,t,i){var r=this,a=e.pollInterval;if(Ki(a,18),!this.ssrMode){var o=this.pollingInfoByQueryId.get(t);o||this.pollingInfoByQueryId.set(t,o={}),o.interval=a,o.options=At(At({},e),{fetchPolicy:"network-only"});var v=function(){var x=r.pollingInfoByQueryId.get(t);x&&(r.checkInFlight(t)?T():r.fetchQuery(t,x.options,xs.poll).then(T,T))},T=function(){var x=r.pollingInfoByQueryId.get(t);x&&(clearTimeout(x.timeout),x.timeout=setTimeout(v,x.interval))};i&&this.addQueryListener(t,i),T()}return t},n.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},n}(),hb=function(){function n(e){this.cache=e}return n.prototype.getCache=function(){return this.cache},n.prototype.markQueryResult=function(e,t,i,r,a){a===void 0&&(a=!1);var o=!Fs(e);a&&Fs(e)&&e.data&&(o=!0),!r&&o&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:i})},n.prototype.markSubscriptionResult=function(e,t,i){Fs(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:i})},n.prototype.markMutationInit=function(e){var t=this;if(e.optimisticResponse){var i;typeof e.optimisticResponse=="function"?i=e.optimisticResponse(e.variables):i=e.optimisticResponse,this.cache.recordOptimisticTransaction(function(r){var a=t.cache;t.cache=r;try{t.markMutationResult({mutationId:e.mutationId,result:{data:i},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{t.cache=a}},e.mutationId)}},n.prototype.markMutationResult=function(e){var t=this;if(!Fs(e.result)){var i=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],r=e.updateQueries;r&&Object.keys(r).forEach(function(a){var o=r[a],v=o.query,T=o.updater,x=t.cache.diff({query:v.document,variables:v.variables,returnPartialData:!0,optimistic:!1}),W=x.result,te=x.complete;if(te){var oe=nd(function(){return T(W,{mutationResult:e.result,queryName:Qc(v.document)||void 0,queryVariables:v.variables})});oe&&i.push({result:oe,dataId:"ROOT_QUERY",query:v.document,variables:v.variables})}}),this.cache.performTransaction(function(a){i.forEach(function(v){return a.write(v)});var o=e.update;o&&nd(function(){return o(a,e.result)})})}},n.prototype.markMutationComplete=function(e){var t=e.mutationId,i=e.optimisticResponse;i&&this.cache.removeOptimistic(t)},n.prototype.markUpdateQueryResult=function(e,t,i){this.cache.write({result:i,dataId:"ROOT_QUERY",variables:t,query:e})},n.prototype.reset=function(){return this.cache.reset()},n}(),mb="2.6.10",pb=!1,gb=function(){function n(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=e.cache,r=e.ssrMode,a=r===void 0?!1:r,o=e.ssrForceFetchDelay,v=o===void 0?0:o,T=e.connectToDevTools,x=e.queryDeduplication,W=x===void 0?!0:x,te=e.defaultOptions,oe=e.assumeImmutableResults,fe=oe===void 0?!1:oe,ye=e.resolvers,Pe=e.typeDefs,Ce=e.fragmentMatcher,De=e.name,Le=e.version,$e=e.link;if(!$e&&ye&&($e=ca.empty()),!$e||!i)throw new Sn(4);this.link=$e,this.cache=i,this.store=new hb(i),this.disableNetworkFetches=a||v>0,this.queryDeduplication=W,this.defaultOptions=te||{},this.typeDefs=Pe,v&&setTimeout(function(){return t.disableNetworkFetches=!1},v),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var Ze=!1;(typeof T=="undefined"?Ze:T&&typeof window!="undefined")&&(window.__APOLLO_CLIENT__=this),this.version=mb,this.localState=new Ah({cache:i,client:this,resolvers:ye,fragmentMatcher:Ce}),this.queryManager=new fb({link:this.link,store:this.store,queryDeduplication:W,ssrMode:a,clientAwareness:{name:De,version:Le},localState:this.localState,assumeImmutableResults:fe,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return n.prototype.stop=function(){this.queryManager.stop()},n.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=At(At({},this.defaultOptions.watchQuery),e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=At(At({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},n.prototype.query=function(e){return this.defaultOptions.query&&(e=At(At({},this.defaultOptions.query),e)),Ki(e.fetchPolicy!=="cache-and-network",5),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=At(At({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},n.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=At(At({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},n.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},n.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.cache.readQuery(e,t)},n.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.cache.readFragment(e,t)},n.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},n.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},n.prototype.writeData=function(e){var t=this.cache.writeData(e);return this.queryManager.broadcastQueries(),t},n.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},n.prototype.__requestRaw=function(e){return vu(this.link,e)},n.prototype.initQueryManager=function(){return this.queryManager},n.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return e.reFetchObservableQueries()})},n.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(t){return t()}))})},n.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(i){return i!==e})}},n.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(i){return i!==e})}},n.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},n.prototype.extract=function(e){return this.cache.extract(e)},n.prototype.restore=function(e){return this.cache.restore(e)},n.prototype.addResolvers=function(e){this.localState.addResolvers(e)},n.prototype.setResolvers=function(e){this.localState.setResolvers(e)},n.prototype.getResolvers=function(){return this.localState.getResolvers()},n.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},n}();const aC=null;var vb=Xt(69749),Ih=Xt.n(vb),bu,bb=new Uint8Array(16);function yb(){if(!bu&&(bu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!bu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bu(bb)}const wb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function _b(n){return typeof n=="string"&&wb.test(n)}const kb=_b;for(var lr=[],od=0;od<256;++od)lr.push((od+256).toString(16).substr(1));function Sb(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(lr[n[e+0]]+lr[n[e+1]]+lr[n[e+2]]+lr[n[e+3]]+"-"+lr[n[e+4]]+lr[n[e+5]]+"-"+lr[n[e+6]]+lr[n[e+7]]+"-"+lr[n[e+8]]+lr[n[e+9]]+"-"+lr[n[e+10]]+lr[n[e+11]]+lr[n[e+12]]+lr[n[e+13]]+lr[n[e+14]]+lr[n[e+15]]).toLowerCase();if(!kb(t))throw TypeError("Stringified UUID is invalid");return t}const Rb=Sb;function Eb(n,e,t){n=n||{};var i=n.random||(n.rng||yb)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=i[r];return e}return Rb(i)}const Dh=Eb;var Nb=Object.defineProperty,Tb=(n,e,t)=>e in n?Nb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,bo=(n,e,t)=>Tb(n,typeof e!="symbol"?e+"":e,t);const ld="PullRequestOverview";function ud(){let n="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let t=0;t<32;t++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}class Fh extends d{constructor(){super(),bo(this,"_webview"),bo(this,"_waitForReady"),bo(this,"_onIsReady",this._register(new s.EventEmitter)),bo(this,"MESSAGE_UNHANDLED","message not handled"),this._waitForReady=new Promise(e=>{const t=this._onIsReady.event(()=>{t.dispose(),e()})})}initialize(){var e;const t=(e=this._webview)==null?void 0:e.onDidReceiveMessage(async i=>{await this._onDidReceiveMessage(i)});t&&this._register(t)}async _onDidReceiveMessage(e){switch(e.command){case"ready":this._onIsReady.fire();return;default:return this.MESSAGE_UNHANDLED}}async _postMessage(e){var t;await this._waitForReady,(t=this._webview)==null||t.postMessage({res:e})}async _replyMessage(e,t){var i;const r={seq:e.req,res:t};(i=this._webview)==null||i.postMessage(r)}async _throwError(e,t){var i;const r={seq:e==null?void 0:e.req,err:t};(i=this._webview)==null||i.postMessage(r)}}class xh extends Fh{constructor(e){super(),this._extensionUri=e,bo(this,"viewType"),bo(this,"_view")}resolveWebviewView(e,t,i){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},this._register(this._view.onDidDispose(()=>{this._webview=void 0,this._view=void 0}))}show(){this._view?this._view.show():ei.focusView(this.viewType)}}const Cb="[a-zA-Z0-9-]+",Oh=["abstract","virtual","access","alias","async","augments","extends","author","borrows","callback","class","constructor","classdesc","constant","const","constructs","copyright","default","defaultvalue","deprecated","description","desc","enum","event","example","exports","external","host","file","fileoverview","overview","fires","emits","function","func","method","generator","global","hideconstructor","ignore","implements","inheritdoc","inner","instance","interface","kind","lends","license","listens","member","var","memberof","mixes","mixin","module","name","namespace","override","package","param","arg","argument","private","property","prop","protected","public","readonly","requires","returns","return","see","since","static","summary","this","throws","exception","todo","tutorial","type","typedef","variation","version","yields","yield","link"],Lh=["api","author","copyright","deprecated","generated","internal","link","method","package","param","property","return","see","since","throws","todo","uses","var","version"],Pb=["a","addindex","addtogroup","anchor","arg","attention","author","authors","b","brief","bug","c","callergraph","callgraph","category","cite","class","code","collaborationgraph","concept","cond","copybrief","copydetails","copydoc","copyright","date","def","defgroup","deprecated","details","diafile","dir","directorygraph","docbookinclude","docbookonly","dontinclude","dot","dotfile","doxyconfig","e","else","elseif","em","emoji","endcode","endcond","enddocbookonly","enddot","endhtmlonly","endif","endinternal","endlatexonly","endlink","endmanonly","endmsc","endparblock","endrtfonly","endsecreflist","endverbatim","enduml","endxmlonly","enum","example","exception","extends","f(","f)","f$","f[","f]","f{","f}","file","fileinfo","fn","groupgraph","headerfile","hidecallergraph","hidecallgraph","hidecollaborationgraph","hidedirectorygraph","hidegroupgraph","hideincludedbygraph","hideincludegraph","hideinheritancegraph","hideinlinesource","hiderefby","hiderefs","hideinitializer","htmlinclude","htmlonly","idlexcept","if","ifnot","image","implements","important","include","includedoc","includedbygraph","includegraph","includelineno","ingroup","inheritancegraph","internal","invariant","interface","latexinclude","latexonly","li","line","lineinfo","link","mainpage","maninclude","manonly","memberof","module","msc","mscfile","n","name","namespace","noop","nosubgrouping","note","overload","p","package","page","par","paragraph","param","parblock","post","pre","private","privatesection","property","protected","protectedsection","protocol","public","publicsection","pure","qualifier","raisewarning","ref","refitem","related","relates","relatedalso","relatesalso","remark","remarks","result","return","returns","retval","rtfinclude","rtfonly","sa","secreflist","section","see","short","showdate","showinitializer","showinlinesource","showrefby","showrefs","since","skip","skipline","snippet","snippetdoc","snippetlineno","static","startuml","struct","subpage","subparagraph","subsection","subsubparagraph","subsubsection","tableofcontents","test","throw","throws","todo","tparam","typedef","union","until","var","verbatim","verbinclude","version","vhdlflow","warning","weakgroup","xmlinclude","xmlonly","xrefitem"];var Ab=Object.defineProperty,Mb=(n,e,t)=>e in n?Ab(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ur=(n,e,t)=>Mb(n,typeof e!="symbol"?e+"":e,t),cd;(n=>{function e(t){return t&&typeof t.gitHubThreadId=="string"}n.is=e})(cd||(cd={}));class hl{constructor(e){ur(this,"parent"),ur(this,"mode"),ur(this,"originalAuthor"),ur(this,"label"),ur(this,"reactions"),ur(this,"contextValue"),this.parent=e}startEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof hl&&e.commentEditId()===this.commentEditId()&&(e.mode=s.CommentMode.Editing),e))}cancelEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof hl&&e.commentEditId()===this.commentEditId()&&(e.mode=s.CommentMode.Preview,this.doSetBody(this.getCancelEditBody(),!0)),e))}}const Uh=class h0 extends hl{constructor(e,t,i,r,a){var o;super(e),this.input=t,ur(this,"commentId"),ur(this,"id"),ur(this,"originalBody"),this.mode=s.CommentMode.Preview,this.originalAuthor={name:(o=r.specialDisplayName)!=null?o:r.login,iconPath:r.avatarUrl?s.Uri.parse(`${r.avatarUrl}&s=64`):void 0},this.label=i?s.l10n.t("Pending"):void 0,this.contextValue="temporary,canEdit,canDelete",this.originalBody=a?a.rawComment.body:void 0,this.reactions=a?a.reactions:void 0,this.id=h0.idPool++}async doSetBody(e){typeof e=="string"&&(this.input=e)}set body(e){this.doSetBody(e)}get body(){return new s.MarkdownString(this.input)}get author(){return this.originalAuthor}commentEditId(){return this.id}getCancelEditBody(){return this.originalBody||this.body}};ur(Uh,"idPool",0);let ea=Uh;const Bh=/```suggestion(\u0020*(\r\n|\n))((?<suggestion>[\s\S]*?)(\r\n|\n))?```/,Ib=/<img .*src=['"](?<src>.+?)['"].*?>/g,Db=/[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}/,qh=class m0 extends hl{constructor(e,t,i,r){var a,o;super(i),this.context=e,ur(this,"commentId"),ur(this,"timestamp"),ur(this,"rawComment"),ur(this,"_rawBody"),ur(this,"replacedBody"),ur(this,"githubRepository"),this.rawComment=t,this.originalAuthor={name:(o=(a=t.user)==null?void 0:a.specialDisplayName)!=null?o:t.user.login,iconPath:t.user&&t.user.avatarUrl?s.Uri.parse(t.user.avatarUrl):void 0};const v=s.Uri.parse(t.url);this.githubRepository=r==null?void 0:r.find(W=>W.remote.host===v.authority);const T=t.user?cr.avatarCirclesAsImageDataUris(e,[t.user],28,28):Promise.resolve([]);this.doSetBody(t.body,!t.user).then(async()=>{const W=await T;W.length>0&&(this.author.iconPath=W[0]),this.refresh()}),this.commentId=t.id.toString(),bm(this,t.reactions),this.label=t.isDraft?s.l10n.t("Pending"):void 0;const x=[];t.canEdit&&x.push("canEdit"),t.canDelete&&x.push("canDelete"),this.suggestion!==void 0&&x.push("hasSuggestion"),this.contextValue=x.join(","),this.timestamp=new Date(t.createdAt)}get author(){var e;return(e=this.rawComment.user)!=null&&e.specialDisplayName?{name:this.rawComment.user.specialDisplayName,iconPath:this.originalAuthor.iconPath}:this.originalAuthor}update(e){const t=this.rawComment;this.rawComment=e;let i=!1;bm(this,e.reactions)&&(i=!0);const r=this.label;this.label=e.isDraft?s.l10n.t("Pending"):void 0,this.label!==r&&(i=!0);const a=[];e.canEdit&&a.push("canEdit"),e.canDelete&&a.push("canDelete"),this.suggestion!==void 0&&a.push("hasSuggestion");const o=this.contextValue;this.contextValue=a.join(","),o!==this.contextValue&&(i=!0),t.body!==e.body&&(this.doSetBody(e.body,!0),i=!1),i&&this.refresh()}refresh(){this.parent.comments=this.parent.comments}get suggestion(){var e;const t=this.rawComment.body.match(Bh),i=(e=t==null?void 0:t.groups)==null?void 0:e.suggestion;if(t)return i||""}commentEditId(){return this.commentId}replaceImg(e){return e.replace(Ib,(t,i,r,a,{src:o})=>`![image](${o})`)}replaceSuggestion(e){return e.replace(new RegExp(Bh,"g"),(t,...i)=>{var r;return`***
Suggested change:
\`\`\`
${(r=i[3])!=null?r:""}
\`\`\`
***`})}async createLocalFilePath(e,t,i,r){const a=s.Uri.joinPath(e,t);try{if((await s.workspace.fs.stat(a)).type===s.FileType.File)return`${a.with({fragment:`${i}-${r}`}).toString()}`}catch{return}}async replacePermalink(e){const t=this.githubRepository;if(!t)return e;const i=Ke(t.remote.repositoryName),r=new RegExp(`https://github.com/(.+)/${i}/blob/([0-9a-f]{40})/(.*)#L([0-9]+)(-L([0-9]+))?`,"g");return Qe(e,r,async(a,o,v,T,x,W,te,oe)=>{if(oe&&oe>0&&e.charAt(oe-1)==="(")return a;const fe=parseInt(x),ye=te?parseInt(te):fe+1,Pe=await t.getLines(v,T,fe,ye);if(!Pe)return a;const Ce=await this.createLocalFilePath(t.rootUri,T,fe,ye),De=te?`Lines ${fe} to ${ye} in \`${v.substring(0,7)}\``:`Line ${fe} in \`${v.substring(0,7)}\``;return`
***
[${T}](${Ce!=null?Ce:a})${Ce?` ([view on GitHub](${a}))`:""}

${De}
\`\`\`
${Pe}
\`\`\`
***`})}replaceImages(e){var t;const i=this.rawComment.bodyHTML;return i?Fb(e,i,(t=this.githubRepository)==null?void 0:t.remote.host):e}replaceNewlines(e){return e.replace(/(?<!\s)(\r\n|\n)/g,`  
`)}postpendSpecialAuthorComment(e){return this.rawComment.specialDisplayBodyPostfix?`${e}  

_${this.rawComment.specialDisplayBodyPostfix}_`:e}async replaceBody(e){const t=or(this.context);if(y.trace("Replace comment body",m0.ID),e instanceof s.MarkdownString){const x=await this.replacePermalink(e.value);return this.replaceImg(this.replaceSuggestion(x))}const i=this.replaceImages(e),r=this.replaceNewlines(i),a=(await s.workspace.openTextDocument(this.parent.uri)).languageId,o=new RegExp(`([^/[\`]|^)@(${Cb})`,"g"),v=r.replace(o,(x,W,te,oe)=>{var fe,ye,Pe,Ce;if(((ye=(fe=r.substring(0,oe).match(/```/g))==null?void 0:fe.length)!=null?ye:0)%2===1||x.includes("]")||x.includes(")"))return x;const De=x.substring(x.startsWith("@")?1:2);if((a==="javascript"||a==="typescript")&&Oh.includes(De)||a==="php"&&Lh.includes(De))return x;const Le=(Ce=(Pe=en[De])==null?void 0:Pe.url)!=null?Ce:`${z.dirname(this.rawComment.user.url)}/${De}`;return`${x.startsWith("@")?"":x.charAt(0)}[@${De}](${Le})`}),T=await this.replacePermalink(v);return await t,this.postpendSpecialAuthorComment(la(this.replaceImg(this.replaceSuggestion(T))))}async doSetBody(e,t){this._rawBody=e;const i=await this.replaceBody(e);i!==this.replacedBody&&(this.replacedBody=i,t&&this.refresh())}set body(e){this.doSetBody(e,!1)}get body(){return this.mode===s.CommentMode.Editing?this._rawBody:new s.MarkdownString(this.replacedBody)}getCancelEditBody(){return new s.MarkdownString(this.rawComment.body)}};ur(qh,"ID","GHPRComment");let Hn=qh;function Fb(n,e,t="github.com"){var i;const r=new RegExp(`https://${t}/.+/assets/([^/]+/)?(?<uuid>${Db.source})`);let a=n.match(r);const o=Ke(t==="github.com"?"githubusercontent.com":t);for(;a;){if((i=a.groups)!=null&&i.uuid){const v=Ke(a.groups.uuid),T=new RegExp(`https://([^"]*${o})/[^?]+${v}[^"]+`),x=e.match(T);if(x&&x[0])n=n.replace(a[0],x[0]);else return n}a=n.match(r)}return n}var xb=Xt(71710),Ob=Xt.n(xb),Lb=Object.defineProperty,Ub=(n,e,t)=>e in n?Lb(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Bb=(n,e,t)=>Ub(n,typeof e!="symbol"?e+"":e,t);const qb="https://aka.ms/coding-agent-docs",$b="https://docs.github.com/en/copilot/concepts/copilot-billing/understanding-and-managing-requests-in-copilot#what-are-premium-requests",dd=29950,$h=class Xo{constructor(e,t,i,r){this.octokit=e,this.token=t,this.credentialStore=i,this.telemetry=r}get baseUrl(){return"https://api.githubcopilot.com"}async makeApiCallFullUrl(e,t){const i=()=>Dn()(e,t);return this.octokit.call(i)}async makeApiCall(e,t){return this.makeApiCallFullUrl(`${this.baseUrl}${e}`,t)}async postRemoteAgentJob(e,t,i,r){const a=`${e}/${t}`,o=`/agents/swe/v0/jobs/${a}`;let v;const T=i.problem_statement.length.toString(),x=JSON.stringify(i),W=x.length.toString();y.trace(`postRemoteAgentJob: Posting job to ${o} with payload: ${JSON.stringify(i)}`,Xo.ID);try{const te=await this.makeApiCall(o,{method:"POST",headers:{"Copilot-Integration-Id":"copilot-developer-dev",Authorization:`Bearer ${this.token}`,"Content-Type":"application/json",Accept:"application/json"},body:x});if(v=te.status,!te.ok)throw new Error(await this.formatRemoteAgentJobError(v,a,te));const oe=await te.json();return this.validateRemoteAgentJobResponse(oe),this.telemetry.sendTelemetryEvent("remoteAgent.postRemoteAgentJob",{status:v.toString(),payloadLength:W,problemStatementLength:T,isTruncated:r.toString()}),oe}catch(te){throw this.telemetry.sendTelemetryErrorEvent("remoteAgent.postRemoteAgentJob",{status:(v==null?void 0:v.toString())||"999",payloadLength:W,problemStatementLength:T,isTruncated:r.toString()}),te}}async formatRemoteAgentJobError(e,t,i){switch(y.error(`Error in remote agent job: ${await i.text()}`,Xo.ID),e){case 400:return s.l10n.t("Bad request");case 401:return s.l10n.t("Unauthorized");case 402:return s.l10n.t("[Premium request]({0}) quota exceeded",$b);case 403:return s.l10n.t("[GitHub coding agent]({0}) is not enabled for repository '{1}'",qb,t);case 404:return s.l10n.t("Repository '{0}' not found",t);case 409:return s.l10n.t("A coding agent pull request already exists");case 500:return s.l10n.t("Server error. Please see logs for details.");default:return s.l10n.t("Error: {0}. Please see logs for details",e)}}validateRemoteAgentJobResponse(e){if(!e||typeof e!="object")throw new Error("Invalid response from coding agent");if(!e.pull_request||typeof e.pull_request!="object")throw new Error("Invalid pull_request in response");if(typeof e.pull_request.html_url!="string")throw new Error("Invalid pull_request.html_url in response");if(typeof e.pull_request.number!="number")throw new Error("Invalid pull_request.number in response");if(typeof e.session_id!="string")throw new Error("Invalid session_id in response")}async getLogsFromZipUrl(e){const t=await this.makeApiCallFullUrl(e,{headers:{Authorization:`Bearer ${this.token}`,Accept:"application/json"}});if(!t.ok)throw new Error(`Failed to fetch logs zip: ${t.statusText}`);const i=await t.arrayBuffer(),r=[],a=await Ob().loadAsync(i);for(const o of Object.keys(a.files)){const v=a.files[o];if(!v.dir&&o.endsWith("Processing Request.txt")){const T=await v.async("string");r.push(...T.split(`
`))}}return r}async getAllSessions(e){const t=await this.makeApiCall(e?`/agents/sessions/resource/pull/${e}`:"/agents/sessions",{headers:{Authorization:`Bearer ${this.token}`,Accept:"application/json"}});if(!t.ok)throw new Error(`Failed to fetch sessions: ${t.statusText}`);return(await t.json()).sessions}async getAllCodingAgentPRs(e){var t;const i=this.getHub(),r=(t=await(i==null?void 0:i.currentUser))==null?void 0:t.login;if(!r)return y.error("Failed to get GitHub username from auth provider",Xo.ID),[];const a=`is:open author:${qn}[bot] assignee:${r} is:pr repo:\${owner}/\${repository}`;return(await Promise.all(e.folderManagers.map(async v=>(await v.getPullRequests(ji.Query,void 0,a)).items))).flat()}async getSessionInfo(e){const t=await this.makeApiCall(`/agents/sessions/${e}`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`,Accept:"application/json"}});if(!t.ok)throw new Error(`Failed to fetch session: ${t.statusText}`);return await t.json()}async getLogsFromSession(e){const t=await this.makeApiCall(`/agents/sessions/${e}/logs`,{method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Failed to fetch logs: ${t.statusText}`);return await t.text()}async getJobBySessionId(e,t,i){try{const r=await this.makeApiCall(`/agents/swe/v0/jobs/${e}/${t}/session/${i}`,{method:"GET",headers:{"Copilot-Integration-Id":"copilot-developer-dev",Authorization:`Bearer ${this.token}`,"Content-Type":"application/json",Accept:"application/json"}});if(!r.ok){y.warn(`Failed to fetch job info for session ${i}: ${r.statusText}`,Xo.ID);return}return await r.json()}catch(r){y.warn(`Error fetching job info for session ${i}: ${r}`,Xo.ID);return}}getHub(){let e;if(this.credentialStore.isAuthenticated(li.githubEnterprise)&&Lr())e=li.githubEnterprise;else if(this.credentialStore.isAuthenticated(li.github))e=li.github;else return;return this.credentialStore.getHub(e)}};Bb($h,"ID","copilotApi");let Hb=$h;async function ml(n,e,t){if(!t)if(n.isAuthenticated(li.githubEnterprise)&&Lr())t=li.githubEnterprise;else if(n.isAuthenticated(li.github))t=li.github;else return;const i=n.getHub(t);if(!i||!i.octokit)return;const{token:r}=await i.octokit.api.auth();return new Hb(i.octokit,r,n,e)}function fd(n,e=!1){const t=n.length;let i=0,r="",a=0,o=16,v=0,T=0,x=0,W=0,te=0;function oe($e,Ze){let rt=0,Ve=0;for(;rt<$e||!Ze;){let We=n.charCodeAt(i);if(We>=48&&We<=57)Ve=Ve*16+We-48;else if(We>=65&&We<=70)Ve=Ve*16+We-65+10;else if(We>=97&&We<=102)Ve=Ve*16+We-97+10;else break;i++,rt++}return rt<$e&&(Ve=-1),Ve}function fe($e){i=$e,r="",a=0,o=16,te=0}function ye(){let $e=i;if(n.charCodeAt(i)===48)i++;else for(i++;i<n.length&&yo(n.charCodeAt(i));)i++;if(i<n.length&&n.charCodeAt(i)===46)if(i++,i<n.length&&yo(n.charCodeAt(i)))for(i++;i<n.length&&yo(n.charCodeAt(i));)i++;else return te=3,n.substring($e,i);let Ze=i;if(i<n.length&&(n.charCodeAt(i)===69||n.charCodeAt(i)===101))if(i++,(i<n.length&&n.charCodeAt(i)===43||n.charCodeAt(i)===45)&&i++,i<n.length&&yo(n.charCodeAt(i))){for(i++;i<n.length&&yo(n.charCodeAt(i));)i++;Ze=i}else te=3;return n.substring($e,Ze)}function Pe(){let $e="",Ze=i;for(;;){if(i>=t){$e+=n.substring(Ze,i),te=2;break}const rt=n.charCodeAt(i);if(rt===34){$e+=n.substring(Ze,i),i++;break}if(rt===92){if($e+=n.substring(Ze,i),i++,i>=t){te=2;break}switch(n.charCodeAt(i++)){case 34:$e+='"';break;case 92:$e+="\\";break;case 47:$e+="/";break;case 98:$e+="\b";break;case 102:$e+="\f";break;case 110:$e+=`
`;break;case 114:$e+="\r";break;case 116:$e+="	";break;case 117:const We=oe(4,!0);We>=0?$e+=String.fromCharCode(We):te=4;break;default:te=5}Ze=i;continue}if(rt>=0&&rt<=31)if(pl(rt)){$e+=n.substring(Ze,i),te=2;break}else te=6;i++}return $e}function Ce(){if(r="",te=0,a=i,T=v,W=x,i>=t)return a=t,o=17;let $e=n.charCodeAt(i);if(hd($e)){do i++,r+=String.fromCharCode($e),$e=n.charCodeAt(i);while(hd($e));return o=15}if(pl($e))return i++,r+=String.fromCharCode($e),$e===13&&n.charCodeAt(i)===10&&(i++,r+=`
`),v++,x=i,o=14;switch($e){case 123:return i++,o=1;case 125:return i++,o=2;case 91:return i++,o=3;case 93:return i++,o=4;case 58:return i++,o=6;case 44:return i++,o=5;case 34:return i++,r=Pe(),o=10;case 47:const Ze=i-1;if(n.charCodeAt(i+1)===47){for(i+=2;i<t&&!pl(n.charCodeAt(i));)i++;return r=n.substring(Ze,i),o=12}if(n.charCodeAt(i+1)===42){i+=2;const rt=t-1;let Ve=!1;for(;i<rt;){const We=n.charCodeAt(i);if(We===42&&n.charCodeAt(i+1)===47){i+=2,Ve=!0;break}i++,pl(We)&&(We===13&&n.charCodeAt(i)===10&&i++,v++,x=i)}return Ve||(i++,te=1),r=n.substring(Ze,i),o=13}return r+=String.fromCharCode($e),i++,o=16;case 45:if(r+=String.fromCharCode($e),i++,i===t||!yo(n.charCodeAt(i)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return r+=ye(),o=11;default:for(;i<t&&De($e);)i++,$e=n.charCodeAt(i);if(a!==i){switch(r=n.substring(a,i),r){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return r+=String.fromCharCode($e),i++,o=16}}function De($e){if(hd($e)||pl($e))return!1;switch($e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function Le(){let $e;do $e=Ce();while($e>=12&&$e<=15);return $e}return{setPosition:fe,getPosition:()=>i,scan:e?Le:Ce,getToken:()=>o,getTokenValue:()=>r,getTokenOffset:()=>a,getTokenLength:()=>i-a,getTokenStartLine:()=>T,getTokenStartCharacter:()=>a-W,getTokenError:()=>te}}function hd(n){return n===32||n===9}function pl(n){return n===10||n===13}function yo(n){return n>=48&&n<=57}var Hh;(function(n){n[n.lineFeed=10]="lineFeed",n[n.carriageReturn=13]="carriageReturn",n[n.space=32]="space",n[n._0=48]="_0",n[n._1=49]="_1",n[n._2=50]="_2",n[n._3=51]="_3",n[n._4=52]="_4",n[n._5=53]="_5",n[n._6=54]="_6",n[n._7=55]="_7",n[n._8=56]="_8",n[n._9=57]="_9",n[n.a=97]="a",n[n.b=98]="b",n[n.c=99]="c",n[n.d=100]="d",n[n.e=101]="e",n[n.f=102]="f",n[n.g=103]="g",n[n.h=104]="h",n[n.i=105]="i",n[n.j=106]="j",n[n.k=107]="k",n[n.l=108]="l",n[n.m=109]="m",n[n.n=110]="n",n[n.o=111]="o",n[n.p=112]="p",n[n.q=113]="q",n[n.r=114]="r",n[n.s=115]="s",n[n.t=116]="t",n[n.u=117]="u",n[n.v=118]="v",n[n.w=119]="w",n[n.x=120]="x",n[n.y=121]="y",n[n.z=122]="z",n[n.A=65]="A",n[n.B=66]="B",n[n.C=67]="C",n[n.D=68]="D",n[n.E=69]="E",n[n.F=70]="F",n[n.G=71]="G",n[n.H=72]="H",n[n.I=73]="I",n[n.J=74]="J",n[n.K=75]="K",n[n.L=76]="L",n[n.M=77]="M",n[n.N=78]="N",n[n.O=79]="O",n[n.P=80]="P",n[n.Q=81]="Q",n[n.R=82]="R",n[n.S=83]="S",n[n.T=84]="T",n[n.U=85]="U",n[n.V=86]="V",n[n.W=87]="W",n[n.X=88]="X",n[n.Y=89]="Y",n[n.Z=90]="Z",n[n.asterisk=42]="asterisk",n[n.backslash=92]="backslash",n[n.closeBrace=125]="closeBrace",n[n.closeBracket=93]="closeBracket",n[n.colon=58]="colon",n[n.comma=44]="comma",n[n.dot=46]="dot",n[n.doubleQuote=34]="doubleQuote",n[n.minus=45]="minus",n[n.openBrace=123]="openBrace",n[n.openBracket=91]="openBracket",n[n.plus=43]="plus",n[n.slash=47]="slash",n[n.formFeed=12]="formFeed",n[n.tab=9]="tab"})(Hh||(Hh={}));const sC=new Array(20).fill(0).map((n,e)=>" ".repeat(e)),wo=200,oC={" ":{"\n":new Array(wo).fill(0).map((n,e)=>`
`+" ".repeat(e)),"\r":new Array(wo).fill(0).map((n,e)=>"\r"+" ".repeat(e)),"\r\n":new Array(wo).fill(0).map((n,e)=>`\r
`+" ".repeat(e))},"	":{"\n":new Array(wo).fill(0).map((n,e)=>`
`+"	".repeat(e)),"\r":new Array(wo).fill(0).map((n,e)=>"\r"+"	".repeat(e)),"\r\n":new Array(wo).fill(0).map((n,e)=>`\r
`+"	".repeat(e))}},lC=null;function uC(n,e,t){var rt;let i,r,a,o,v;if(e){for(o=e.offset,v=o+e.length,a=o;a>0&&!Gh(n,a-1);)a--;let Ve=v;for(;Ve<n.length&&!Gh(n,Ve);)Ve++;r=n.substring(a,Ve),i=Gb(r,t)}else r=n,i=0,a=0,o=0,v=n.length;const T=Vb(t,n),x=supportedEols.includes(T);let W=0,te=0,oe;t.insertSpaces?oe=(rt=cachedSpaces[t.tabSize||4])!=null?rt:_o(cachedSpaces[1],t.tabSize||4):oe="	";const fe=oe==="	"?"	":" ";let ye=createScanner(r,!1),Pe=!1;function Ce(){if(W>1)return _o(T,W)+_o(oe,i+te);const Ve=oe.length*(i+te);return!x||Ve>cachedBreakLinesWithSpaces[fe][T].length?T+_o(oe,i+te):Ve<=0?T:cachedBreakLinesWithSpaces[fe][T][Ve]}function De(){let Ve=ye.scan();for(W=0;Ve===15||Ve===14;)Ve===14&&t.keepLines?W+=1:Ve===14&&(W=1),Ve=ye.scan();return Pe=Ve===16||ye.getTokenError()!==0,Ve}const Le=[];function $e(Ve,We,ct){!Pe&&(!e||We<v&&ct>o)&&n.substring(We,ct)!==Ve&&Le.push({offset:We,length:ct-We,content:Ve})}let Ze=De();if(t.keepLines&&W>0&&$e(_o(T,W),0,0),Ze!==17){let Ve=ye.getTokenOffset()+a,We=oe.length*i<20&&t.insertSpaces?cachedSpaces[oe.length*i]:_o(oe,i);$e(We,a,Ve)}for(;Ze!==17;){let Ve=ye.getTokenOffset()+ye.getTokenLength()+a,We=De(),ct="",jt=!1;for(;W===0&&(We===12||We===13);){let qe=ye.getTokenOffset()+a;$e(cachedSpaces[1],Ve,qe),Ve=ye.getTokenOffset()+ye.getTokenLength()+a,jt=We===12,ct=jt?Ce():"",We=De()}if(We===2)Ze!==1&&te--,t.keepLines&&W>0||!t.keepLines&&Ze!==1?ct=Ce():t.keepLines&&(ct=cachedSpaces[1]);else if(We===4)Ze!==3&&te--,t.keepLines&&W>0||!t.keepLines&&Ze!==3?ct=Ce():t.keepLines&&(ct=cachedSpaces[1]);else{switch(Ze){case 3:case 1:te++,t.keepLines&&W>0||!t.keepLines?ct=Ce():ct=cachedSpaces[1];break;case 5:t.keepLines&&W>0||!t.keepLines?ct=Ce():ct=cachedSpaces[1];break;case 12:ct=Ce();break;case 13:W>0?ct=Ce():jt||(ct=cachedSpaces[1]);break;case 6:t.keepLines&&W>0?ct=Ce():jt||(ct=cachedSpaces[1]);break;case 10:t.keepLines&&W>0?ct=Ce():We===6&&!jt&&(ct="");break;case 7:case 8:case 9:case 11:case 2:case 4:t.keepLines&&W>0?ct=Ce():(We===12||We===13)&&!jt?ct=cachedSpaces[1]:We!==5&&We!==17&&(Pe=!0);break;case 16:Pe=!0;break}W>0&&(We===12||We===13)&&(ct=Ce())}We===17&&(t.keepLines&&W>0?ct=Ce():ct=t.insertFinalNewline?T:"");const Se=ye.getTokenOffset()+a;$e(ct,Ve,Se),Ze=We}return Le}function _o(n,e){let t="";for(let i=0;i<e;i++)t+=n;return t}function Gb(n,e){let t=0,i=0;const r=e.tabSize||4;for(;t<n.length;){let a=n.charAt(t);if(a===cachedSpaces[1])i++;else if(a==="	")i+=r;else break;t++}return Math.floor(i/r)}function Vb(n,e){for(let t=0;t<e.length;t++){const i=e.charAt(t);if(i==="\r")return t+1<e.length&&e.charAt(t+1)===`
`?`\r
`:"\r";if(i===`
`)return`
`}return n&&n.eol||`
`}function Gh(n,e){return`\r
`.indexOf(n.charAt(e))!==-1}var gl;(function(n){n.DEFAULT={allowTrailingComma:!1}})(gl||(gl={}));function jb(n,e){const t=[],i=new Object;let r;const a={value:{},offset:0,length:0,type:"object",parent:void 0};let o=!1;function v(T,x,W,te){a.value=T,a.offset=x,a.length=W,a.type=te,a.colonOffset=void 0,r=a}try{yu(n,{onObjectBegin:(T,x)=>{if(e<=T)throw i;r=void 0,o=e>T,t.push("")},onObjectProperty:(T,x,W)=>{if(e<x||(v(T,x,W,"property"),t[t.length-1]=T,e<=x+W))throw i},onObjectEnd:(T,x)=>{if(e<=T)throw i;r=void 0,t.pop()},onArrayBegin:(T,x)=>{if(e<=T)throw i;r=void 0,t.push(0)},onArrayEnd:(T,x)=>{if(e<=T)throw i;r=void 0,t.pop()},onLiteralValue:(T,x,W)=>{if(e<x||(v(T,x,W,zh(T)),e<=x+W))throw i},onSeparator:(T,x,W)=>{if(e<=x)throw i;if(T===":"&&r&&r.type==="property")r.colonOffset=x,o=!1,r=void 0;else if(T===","){const te=t[t.length-1];typeof te=="number"?t[t.length-1]=te+1:(o=!0,t[t.length-1]=""),r=void 0}}})}catch(T){if(T!==i)throw T}return{path:t,previousNode:r,isAtPropertyKey:o,matches:T=>{let x=0;for(let W=0;x<T.length&&W<t.length;W++)if(T[x]===t[W]||T[x]==="*")x++;else if(T[x]!=="**")return!1;return x===T.length}}}function zb(n,e=[],t=gl.DEFAULT){let i=null,r=[];const a=[];function o(T){Array.isArray(r)?r.push(T):i!==null&&(r[i]=T)}return yu(n,{onObjectBegin:()=>{const T={};o(T),a.push(r),r=T,i=null},onObjectProperty:T=>{i=T},onObjectEnd:()=>{r=a.pop()},onArrayBegin:()=>{const T=[];o(T),a.push(r),r=T,i=null},onArrayEnd:()=>{r=a.pop()},onLiteralValue:o,onError:(T,x,W)=>{e.push({error:T,offset:x,length:W})}},t),r[0]}function Wb(n,e=[],t=gl.DEFAULT){let i={type:"array",offset:-1,length:-1,children:[],parent:void 0};function r(T){i.type==="property"&&(i.length=T-i.offset,i=i.parent)}function a(T){return i.children.push(T),T}yu(n,{onObjectBegin:T=>{i=a({type:"object",offset:T,length:-1,parent:i,children:[]})},onObjectProperty:(T,x,W)=>{i=a({type:"property",offset:x,length:-1,parent:i,children:[]}),i.children.push({type:"string",value:T,offset:x,length:W,parent:i})},onObjectEnd:(T,x)=>{r(T+x),i.length=T+x-i.offset,i=i.parent,r(T+x)},onArrayBegin:(T,x)=>{i=a({type:"array",offset:T,length:-1,parent:i,children:[]})},onArrayEnd:(T,x)=>{i.length=T+x-i.offset,i=i.parent,r(T+x)},onLiteralValue:(T,x,W)=>{a({type:zh(T),offset:x,length:W,parent:i,value:T}),r(x+W)},onSeparator:(T,x,W)=>{i.type==="property"&&(T===":"?i.colonOffset=x:T===","&&r(x))},onError:(T,x,W)=>{e.push({error:T,offset:x,length:W})}},t);const v=i.children[0];return v&&delete v.parent,v}function Kb(n,e){if(!n)return;let t=n;for(let i of e)if(typeof i=="string"){if(t.type!=="object"||!Array.isArray(t.children))return;let r=!1;for(const a of t.children)if(Array.isArray(a.children)&&a.children[0].value===i&&a.children.length===2){t=a.children[1],r=!0;break}if(!r)return}else{const r=i;if(t.type!=="array"||r<0||!Array.isArray(t.children)||r>=t.children.length)return;t=t.children[r]}return t}function Vh(n){if(!n.parent||!n.parent.children)return[];const e=Vh(n.parent);if(n.parent.type==="property"){const t=n.parent.children[0].value;e.push(t)}else if(n.parent.type==="array"){const t=n.parent.children.indexOf(n);t!==-1&&e.push(t)}return e}function md(n){switch(n.type){case"array":return n.children.map(md);case"object":const e=Object.create(null);for(let t of n.children){const i=t.children[1];i&&(e[t.children[0].value]=md(i))}return e;case"null":case"string":case"number":case"boolean":return n.value;default:return}}function Qb(n,e,t=!1){return e>=n.offset&&e<n.offset+n.length||t&&e===n.offset+n.length}function jh(n,e,t=!1){if(Qb(n,e,t)){const i=n.children;if(Array.isArray(i))for(let r=0;r<i.length&&i[r].offset<=e;r++){const a=jh(i[r],e,t);if(a)return a}return n}}function yu(n,e,t=gl.DEFAULT){const i=fd(n,!1),r=[];let a=0;function o(dt){return dt?()=>a===0&&dt(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter()):()=>!0}function v(dt){return dt?Et=>a===0&&dt(Et,i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter()):()=>!0}function T(dt){return dt?Et=>a===0&&dt(Et,i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter(),()=>r.slice()):()=>!0}function x(dt){return dt?()=>{a>0?a++:dt(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter(),()=>r.slice())===!1&&(a=1)}:()=>!0}function W(dt){return dt?()=>{a>0&&a--,a===0&&dt(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:()=>!0}const te=x(e.onObjectBegin),oe=T(e.onObjectProperty),fe=W(e.onObjectEnd),ye=x(e.onArrayBegin),Pe=W(e.onArrayEnd),Ce=T(e.onLiteralValue),De=v(e.onSeparator),Le=o(e.onComment),$e=v(e.onError),Ze=t&&t.disallowComments,rt=t&&t.allowTrailingComma;function Ve(){for(;;){const dt=i.scan();switch(i.getTokenError()){case 4:We(14);break;case 5:We(15);break;case 3:We(13);break;case 1:Ze||We(11);break;case 2:We(12);break;case 6:We(16);break}switch(dt){case 12:case 13:Ze?We(10):Le();break;case 16:We(1);break;case 15:case 14:break;default:return dt}}}function We(dt,Et=[],Jt=[]){if($e(dt),Et.length+Jt.length>0){let _i=i.getToken();for(;_i!==17;){if(Et.indexOf(_i)!==-1){Ve();break}else if(Jt.indexOf(_i)!==-1)break;_i=Ve()}}}function ct(dt){const Et=i.getTokenValue();return dt?Ce(Et):(oe(Et),r.push(Et)),Ve(),!0}function jt(){switch(i.getToken()){case 11:const dt=i.getTokenValue();let Et=Number(dt);isNaN(Et)&&(We(2),Et=0),Ce(Et);break;case 7:Ce(null);break;case 8:Ce(!0);break;case 9:Ce(!1);break;default:return!1}return Ve(),!0}function Se(){return i.getToken()!==10?(We(3,[],[2,5]),!1):(ct(!1),i.getToken()===6?(De(":"),Ve(),it()||We(4,[],[2,5])):We(5,[],[2,5]),r.pop(),!0)}function qe(){te(),Ve();let dt=!1;for(;i.getToken()!==2&&i.getToken()!==17;){if(i.getToken()===5){if(dt||We(4,[],[]),De(","),Ve(),i.getToken()===2&&rt)break}else dt&&We(6,[],[]);Se()||We(4,[],[2,5]),dt=!0}return fe(),i.getToken()!==2?We(7,[2],[]):Ve(),!0}function Ge(){ye(),Ve();let dt=!0,Et=!1;for(;i.getToken()!==4&&i.getToken()!==17;){if(i.getToken()===5){if(Et||We(4,[],[]),De(","),Ve(),i.getToken()===4&&rt)break}else Et&&We(6,[],[]);dt?(r.push(0),dt=!1):r[r.length-1]++,it()||We(4,[],[4,5]),Et=!0}return Pe(),dt||r.pop(),i.getToken()!==4?We(8,[4],[]):Ve(),!0}function it(){switch(i.getToken()){case 3:return Ge();case 1:return qe();case 10:return ct(!0);default:return jt()}}return Ve(),i.getToken()===17?t.allowEmptyContent?!0:(We(4,[],[]),!1):it()?(i.getToken()!==17&&We(9,[],[]),!0):(We(4,[],[]),!1)}function Yb(n,e){let t=fd(n),i=[],r,a=0,o;do switch(o=t.getPosition(),r=t.scan(),r){case 12:case 13:case 17:a!==o&&i.push(n.substring(a,o)),e!==void 0&&i.push(t.getTokenValue().replace(/[^\r\n]/g,e)),a=t.getPosition();break}while(r!==17);return i.join("")}function zh(n){switch(typeof n){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(n){if(Array.isArray(n))return"array"}else return"null";return"object"}default:return"null"}}function cC(n,e,t){return Zb(n,e,void 0,t)}function Zb(n,e,t,i){const r=e.slice(),a=[],o=parseTree(n,a);let v,T;for(;r.length>0&&(T=r.pop(),v=findNodeAtLocation(o,r),v===void 0&&t!==void 0);)typeof T=="string"?t={[T]:t}:t=[t];if(v)if(v.type==="object"&&typeof T=="string"&&Array.isArray(v.children)){const x=findNodeAtLocation(v,[T]);if(x!==void 0)if(t===void 0){if(!x.parent)throw new Error("Malformed AST");const W=v.children.indexOf(x.parent);let te,oe=x.parent.offset+x.parent.length;if(W>0){let fe=v.children[W-1];te=fe.offset+fe.length}else te=v.offset+1,v.children.length>1&&(oe=v.children[1].offset);return Os(n,{offset:te,length:oe-te,content:""},i)}else return Os(n,{offset:x.offset,length:x.length,content:JSON.stringify(t)},i);else{if(t===void 0)return[];const W=`${JSON.stringify(T)}: ${JSON.stringify(t)}`,te=i.getInsertionIndex?i.getInsertionIndex(v.children.map(fe=>fe.children[0].value)):v.children.length;let oe;if(te>0){let fe=v.children[te-1];oe={offset:fe.offset+fe.length,length:0,content:","+W}}else v.children.length===0?oe={offset:v.offset+1,length:0,content:W}:oe={offset:v.offset+1,length:0,content:W+","};return Os(n,oe,i)}}else if(v.type==="array"&&typeof T=="number"&&Array.isArray(v.children)){const x=T;if(x===-1){const W=`${JSON.stringify(t)}`;let te;if(v.children.length===0)te={offset:v.offset+1,length:0,content:W};else{const oe=v.children[v.children.length-1];te={offset:oe.offset+oe.length,length:0,content:","+W}}return Os(n,te,i)}else if(t===void 0&&v.children.length>=0){const W=T,te=v.children[W];let oe;if(v.children.length===1)oe={offset:v.offset+1,length:v.length-2,content:""};else if(v.children.length-1===W){let fe=v.children[W-1],ye=fe.offset+fe.length,Pe=v.offset+v.length;oe={offset:ye,length:Pe-2-ye,content:""}}else oe={offset:te.offset,length:v.children[W+1].offset-te.offset,content:""};return Os(n,oe,i)}else if(t!==void 0){let W;const te=`${JSON.stringify(t)}`;if(!i.isArrayInsertion&&v.children.length>T){const oe=v.children[T];W={offset:oe.offset,length:oe.length,content:te}}else if(v.children.length===0||T===0)W={offset:v.offset+1,length:0,content:v.children.length===0?te:te+","};else{const oe=T>v.children.length?v.children.length:T,fe=v.children[oe-1];W={offset:fe.offset+fe.length,length:0,content:","+te}}return Os(n,W,i)}else throw new Error(`Can not ${t===void 0?"remove":i.isArrayInsertion?"insert":"modify"} Array index ${x} as length is not sufficient`)}else throw new Error(`Can not add ${typeof T!="number"?"index":"property"} to parent of type ${v.type}`);else{if(t===void 0)throw new Error("Can not delete in empty document");return Os(n,{offset:o?o.offset:0,length:o?o.length:0,content:JSON.stringify(t)},i)}}function Os(n,e,t){if(!t.formattingOptions)return[e];let i=Wh(n,e),r=e.offset,a=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;r>0&&!isEOL(i,r-1);)r--;for(;a<i.length&&!isEOL(i,a);)a++}const o=format(i,{offset:r,length:a-r},{...t.formattingOptions,keepLines:!1});for(let T=o.length-1;T>=0;T--){const x=o[T];i=Wh(i,x),r=Math.min(r,x.offset),a=Math.max(a,x.offset+x.length),a+=x.content.length-x.length}const v=n.length-(i.length-a)-r;return[{offset:r,length:v,content:i.substring(r,a)}]}function Wh(n,e){return n.substring(0,e.offset)+e.content+n.substring(e.offset+e.length)}function dC(n,e){return`\r
 	`.indexOf(n.charAt(e))!==-1}const fC=fd;var Kh;(function(n){n[n.None=0]="None",n[n.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",n[n.UnexpectedEndOfString=2]="UnexpectedEndOfString",n[n.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",n[n.InvalidUnicode=4]="InvalidUnicode",n[n.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",n[n.InvalidCharacter=6]="InvalidCharacter"})(Kh||(Kh={}));var Qh;(function(n){n[n.OpenBraceToken=1]="OpenBraceToken",n[n.CloseBraceToken=2]="CloseBraceToken",n[n.OpenBracketToken=3]="OpenBracketToken",n[n.CloseBracketToken=4]="CloseBracketToken",n[n.CommaToken=5]="CommaToken",n[n.ColonToken=6]="ColonToken",n[n.NullKeyword=7]="NullKeyword",n[n.TrueKeyword=8]="TrueKeyword",n[n.FalseKeyword=9]="FalseKeyword",n[n.StringLiteral=10]="StringLiteral",n[n.NumericLiteral=11]="NumericLiteral",n[n.LineCommentTrivia=12]="LineCommentTrivia",n[n.BlockCommentTrivia=13]="BlockCommentTrivia",n[n.LineBreakTrivia=14]="LineBreakTrivia",n[n.Trivia=15]="Trivia",n[n.Unknown=16]="Unknown",n[n.EOF=17]="EOF"})(Qh||(Qh={}));const hC=jb,Jb=zb,mC=Wb,pC=Kb,gC=jh,vC=Vh,bC=md,yC=yu,wC=Yb;var Yh;(function(n){n[n.InvalidSymbol=1]="InvalidSymbol",n[n.InvalidNumberFormat=2]="InvalidNumberFormat",n[n.PropertyNameExpected=3]="PropertyNameExpected",n[n.ValueExpected=4]="ValueExpected",n[n.ColonExpected=5]="ColonExpected",n[n.CommaExpected=6]="CommaExpected",n[n.CloseBraceExpected=7]="CloseBraceExpected",n[n.CloseBracketExpected=8]="CloseBracketExpected",n[n.EndOfFileExpected=9]="EndOfFileExpected",n[n.InvalidCommentToken=10]="InvalidCommentToken",n[n.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",n[n.UnexpectedEndOfString=12]="UnexpectedEndOfString",n[n.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",n[n.InvalidUnicode=14]="InvalidUnicode",n[n.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",n[n.InvalidCharacter=16]="InvalidCharacter"})(Yh||(Yh={}));function _C(n){switch(n){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function kC(n,e,t){return formatter.format(n,e,t)}function SC(n,e,t,i){return edit.setProperty(n,e,t,i)}function RC(n,e){let t=e.slice(0).sort((r,a)=>{const o=r.offset-a.offset;return o===0?r.length-a.length:o}),i=n.length;for(let r=t.length-1;r>=0;r--){let a=t[r];if(a.offset+a.length<=i)n=edit.applyEdit(n,a);else throw new Error("Overlapping edit");i=a.offset}return n}async function pd(){let n=null;const e=s.workspace.getConfiguration(kt).get(Mt);if(e){const t=Xb(e);t&&(n=await Zh(t))}return n}async function Zh(n){const t=new TextDecoder().decode(await s.workspace.fs.readFile(n));let i=Jb(t);if(i.include)try{const r=s.Uri.joinPath(n,"..",i.include),a=await Zh(r);i={...i,colors:{...a.colors||{},...i.colors||{}},tokenColors:[...a.tokenColors||[],...i.tokenColors||[]],semanticTokenColors:{...a.semanticTokenColors||{},...i.semanticTokenColors||{}}}}catch(r){console.warn(`Failed to load theme include file: ${r}`)}return i}function Xb(n){for(const e of s.extensions.all){const t=e.packageJSON.contributes&&e.packageJSON.contributes.themes;if(!t)continue;const i=t.find(r=>r.label===n||r.id===n);if(i)return s.Uri.joinPath(e.extensionUri,i.path)}}function ko(n,e){var t;return(t=n.colors?n.colors["icon.foreground"]:void 0)!=null?t:e==="dark"?"#C5C5C5":"#424242"}function Jh(n,e){var t;return(t=n.colors?n.colors["list.warningForeground"]:void 0)!=null?t:e==="dark"?"#CCA700":"#855F00"}function Xh(n,e){var t;return(t=n.colors?n.colors["list.errorForeground"]:void 0)!=null?t:e==="dark"?"#F88070":"#B01011"}function em(n,e){var t;return(t=n.colors?n.colors["notebookStatusSuccessIcon.foreground"]:void 0)!=null?t:e==="dark"?"#89D185":"#388A34"}var ey=Object.defineProperty,ty=(n,e,t)=>e in n?ey(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Qa=(n,e,t)=>ty(n,typeof e!="symbol"?e+"":e,t);const gd=class Wl extends d{constructor(e,t,i,r,a){super(),this.credentialStore=e,this.context=t,this.reposManagers=i,this.telemetry=r,this.copilotAgentManager=a,Qa(this,"_panels",new Set),Qa(this,"_activePanel"),Wl.instance=this,this._register(s.window.registerWebviewPanelSerializer(Wl.viewType,this)),this._register(s.commands.registerCommand("codingAgent.openSessionLog",async()=>{const o=await s.window.withProgress({location:s.ProgressLocation.Window,title:s.l10n.t("Loading sessions...")},async()=>{const x=await ml(e,r);if(!x){s.window.showErrorMessage(s.l10n.t("You must be authenticated to view sessions."));return}const W=await x.getAllSessions(void 0);if(!(W!=null&&W.length)){s.window.showErrorMessage(s.l10n.t("No sessions found."));return}return W});if(!(o!=null&&o.length))return;const v=o.map(x=>({label:x.name||x.id,description:x.created_at?new Date(x.created_at).toLocaleString():void 0,detail:x.id,sessionId:x.id})),T=await s.window.showQuickPick(v,{placeHolder:s.l10n.t("Select a session log to view")});if(T)return this.openForSession(T.sessionId,!1)}))}dispose(){Wl.instance=void 0;for(const e of this._panels)c(e.disposables);super.dispose()}async openForSession(e,t){const i=this.getPanelForSession(e);if(i){i.revealAndRefresh({type:"session",sessionId:e});return}else return this.open({type:"session",sessionId:e},t)}async openForPull(e,t,i){const r={type:"pull",pullRequest:{...t,title:e.title},link:t},a=this.getPanelForPullRequest(e);if(a){a.revealAndRefresh(r);return}else return this.open(r,i)}getPanelForSession(e){var t;return(t=Array.from(this._panels).find(i=>i.view.isForSession(e)))==null?void 0:t.view}getPanelForPullRequest(e){var t;return(t=Array.from(this._panels).find(i=>i.view.isForPullRequest(e)))==null?void 0:t.view}async open(e,t){const i=await ml(this.credentialStore,this.telemetry);if(!i){s.window.showErrorMessage(s.l10n.t("Could not get copilot API for this pull request."));return}const r=t?s.ViewColumn.Beside:s.ViewColumn.Active,a=s.window.createWebviewPanel(Wl.viewType,s.l10n.t("Session Log"),r,{retainContextWhenHidden:!0,enableFindWidget:!0});return this.setupWebview(a,e,i)}async deserializeWebviewPanel(e,t){if(!t||!t.sessionId){e.dispose();return}const i=await ml(this.credentialStore,this.telemetry);if(!i){e.dispose();return}await this.setupWebview(e,{type:"session",sessionId:t.sessionId},i)}async setupWebview(e,t,i){const r=new iy(t,e,i,this.context,this.reposManagers,this.telemetry,this.copilotAgentManager),a=[],o={view:r,disposables:a};this._panels.add(o),a.push(r.onDidDispose(()=>{this._panels.delete(o),c(a)})),a.push(e.onDidChangeViewState(()=>{e.active?this._activePanel=r:this._activePanel===r&&!e.active&&(this._activePanel=void 0)}))}};Qa(gd,"instance"),Qa(gd,"viewType","pr.codingAgentSessionLogView");let vd=gd;class iy extends d{constructor(e,t,i,r,a,o,v){super(),this.webviewPanel=t,this.copilotApi=i,this.context=r,this.reposManagers=a,this.copilotAgentManager=v,Qa(this,"_onDidDispose",new s.EventEmitter),Qa(this,"onDidDispose",this._onDidDispose.event),Qa(this,"_sessionId"),Qa(this,"_source"),Qa(this,"_ready"),this._source=e,this._register(t.onDidDispose(()=>{this.dispose()})),this._register(s.workspace.onDidChangeConfiguration(async T=>{if(T.affectsConfiguration("workbench.colorTheme")){const x=await pd();t.webview.postMessage({type:"changeTheme",themeData:x})}})),this._register(this.webviewPanel.webview.onDidReceiveMessage(async T=>{var x;if(T.type==="openPullRequestView"){let W;if(this._source.type==="pull"&&(W=await this.getPullRequestModel(this._source.pullRequest)),!W){s.window.showErrorMessage(s.l10n.t("No pull request information available for this session."));return}const te=(x=a.getManagerForIssueModel(W))!=null?x:a.folderManagers[0];await Jn.createOrShow(o,r.extensionUri,te,W)}else if(T.type==="openOnWeb"){if(this._source.type!=="pull"){s.window.showErrorMessage(s.l10n.t("No pull request information available for this session."));return}const W=this._source.pullRequest,te=s.Uri.parse(`https://${W.host}/${W.owner}/${W.repo}/pull/${W.pullNumber}/agent-sessions/${this._sessionId}`);return s.env.openExternal(te)}})),this.initialize().then(()=>{this._isDisposed||this.updateContent()})}dispose(){this._isDisposed||(this._onDidDispose.fire(),this._onDidDispose.dispose(),super.dispose())}isForPullRequest(e){return this._source.type==="pull"&&this._source.pullRequest.id===e.id}isForSession(e){return this._sessionId===e}revealAndRefresh(e){if(this._source.type==="session"&&e.type==="session"&&this._source.sessionId===e.sessionId||this._source.type==="pull"&&e.type==="pull"&&ny(this._source.pullRequest,e.pullRequest)){this.webviewPanel.reveal();return}this._source=e,this.updateContent()}async initialize(){this.webviewPanel.title=this._source.type==="pull"?s.l10n.t("Session Log (Pull #{0})",this._source.pullRequest.pullNumber):s.l10n.t("Session Log"),this.webviewPanel.iconPath={light:s.Uri.joinPath(this.context.extensionUri,"resources/icons/output.svg"),dark:s.Uri.joinPath(this.context.extensionUri,"resources/icons/dark/output.svg")};const e=s.Uri.joinPath(this.context.extensionUri,"dist");this.webviewPanel.webview.options={enableScripts:!0,localResourceRoots:[e]},this.webviewPanel.webview.html=`<!DOCTYPE html>
			<html lang="en">
			<head>
				<meta charset="UTF-8">
				<meta name="viewport" content="width=device-width, initial-scale=1.0">
				<title>${s.l10n.t("Session Log")}</title>
				<meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src 'unsafe-inline' ${this.webviewPanel.webview.cspSource}; script-src ${this.webviewPanel.webview.cspSource} 'unsafe-eval' blob:; font-src ${this.webviewPanel.webview.cspSource};">
			</head>
			<body>
				<div id="app"></div>

				<script type="module" src="${this.webviewPanel.webview.asWebviewUri(s.Uri.joinPath(e,"webview-session-log-view.js"))}"><\/script>
			</body>
			</html>`;let t;const i=new Promise(a=>{t=a});this._register(this.webviewPanel.webview.onDidReceiveMessage(a=>{a.type==="ready"&&t()}));const r=await pd();this._isDisposed||(await i,!this._isDisposed&&this.webviewPanel.webview.postMessage({type:"init",themeData:r}))}async updateContent(){this.webviewPanel.webview.postMessage({type:"reset"});const e=async()=>{if(this._source.type==="session"){const[i,r]=await Promise.all([this.copilotApi.getSessionInfo(this._source.sessionId),this.copilotApi.getLogsFromSession(this._source.sessionId)]);return{logs:r,info:i,setupSteps:void 0}}else{const i=await this.getPullRequestModel(this._source.pullRequest);return i?this.copilotAgentManager.getSessionLogFromPullRequest(i,-1-this._source.link.sessionIndex,!1):void 0}};this._source.type==="session"?this._sessionId=this._source.sessionId:this._sessionId=void 0;let t;try{t=await e()}catch{if(this._isDisposed)return;if(this._source.type==="pull"){const r=await this.getPullRequestModel(this._source.pullRequest);if(r){const a=await this.copilotAgentManager.getSessionUrlFromPullRequest(r);this.webviewPanel.webview.postMessage({type:"error",logsWebLink:a});return}}this.webviewPanel.webview.postMessage({type:"error",logsWebLink:void 0});return}if(!(this._isDisposed||!t)&&(this._sessionId=t.info.id,this.webviewPanel.webview.postMessage({type:"loaded",pullInfo:this._source.type==="pull"?this._source.pullRequest:void 0,info:t.info,logs:t.logs,setupSteps:t.setupSteps}),t.info.state==="in_progress")){const i=setInterval(async()=>{if(this._isDisposed){clearInterval(i);return}const r=await e();r&&(this.webviewPanel.webview.postMessage({type:"update",pullInfo:this._source.type==="pull"?this._source.pullRequest:void 0,info:r.info,logs:r.logs,setupSteps:r.setupSteps}),r.info.state!=="in_progress"&&clearInterval(i))},3e3);this._register({dispose:()=>clearInterval(i)})}}async getPullRequestModel(e){var t;const i=(t=this.reposManagers.getManagerForRepository(e.owner,e.repo))!=null?t:this.reposManagers.folderManagers.at(0);return i==null?void 0:i.resolvePullRequest(e.owner,e.repo,e.pullNumber)}}function ny(n,e){return n.id===e.id&&n.sessionIndex===e.sessionIndex}async function ta(n,e,t){var i;if(n.length===0)return;if(n.length===1)return n[0];const r=n.map(a=>({label:e(a),itemValue:a}));return(i=await s.window.showQuickPick(r,t))==null?void 0:i.itemValue}async function Ls(n,e,t,i,r=!1){var a;const o=[],v=[];for(const x of t){const W=xr(x);e.has(W)||(v.push(x),e.add(W))}const T=await cr.avatarCirclesAsImageDataUris(n,v,16,16,r);for(let x=0;x<v.length;x++){const W=v[x];let te;Ns(W)&&(te=W.isAuthor&&W.isCommenter?s.l10n.t("Recently edited and reviewed changes to these files"):W.isAuthor?s.l10n.t("Recently edited these files"):W.isCommenter?s.l10n.t("Recently reviewed changes to these files"):s.l10n.t("Suggested reviewer")),o.push({label:Fn(W)?`${W.org}/${W.slug}`:en[W.login]?en[W.login].name:W.login,description:W.name,user:W,picked:i,detail:te,iconPath:(a=T[x])!=null?a:ry(W)})}return o}async function tm(n,e,t,i,r,a){var o;const[v,T]=await Promise.all([n.getAssignableUsers(),r?n.getPullRequestParticipants(r.githubRepository,r.number):void 0]),x=T==null?void 0:T.viewer,W=(o=T==null?void 0:T.participants)!=null?o:[];let te=v[t];te=te!=null?te:[];const oe=new Set,fe=[];if(i.length&&fe.push(Ls(n.context,oe,i!=null?i:[],!0)),x&&!oe.has(x.login)&&te.findIndex(Pe=>Pe.login===x.login)!==-1&&fe.push(Ls(n.context,oe,[x],!1)),W.length&&fe.push(Ls(n.context,oe,W,!1)),fe.length!==0&&fe.unshift(Promise.resolve([{kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Suggestions")}])),te.length){const Pe=te.length>80;fe.push(Ls(n.context,oe,te,!1,Pe))}const ye=(await Promise.all(fe)).flat();if(ye.length===0&&ye.push({label:s.l10n.t("No assignees available for this repository")}),a){const Pe=x!=null?x:await n.getCurrentUser(e);ye.length!==0&&ye.unshift({kind:s.QuickPickItemKind.Separator,label:s.l10n.t("Users")}),ye.unshift({label:s.l10n.t("Assign yourself"),user:Pe})}return ye}function ry(n){return Fn(n)?new s.ThemeIcon("organization"):new s.ThemeIcon("account")}async function ay(n,e,t,i,r,a,o){var v;if(r=r.filter(De=>Fn(De.reviewer)||De.reviewer.accountType!==ya.Bot),!a)return[];const T=await n.getAssignableUsers(),te=[...(v=(t?await n.getTeamReviewers(o):[])[e])!=null?v:[]],oe=T[e].filter(De=>De.login!==qn);oe&&te.push(...oe);const fe=new Set([i.login]),ye=[];r.length&&ye.push(Ls(n.context,fe,r.map(De=>De.reviewer),!0)),ye.push(Ls(n.context,fe,a,!1));const Pe=te.length>60;ye.push(Ls(n.context,fe,te,!1,Pe));const Ce=(await Promise.all(ye)).flat();return Ce.length===0&&Ce.push({label:s.l10n.t("No reviewers available for this repository")}),Ce}async function im(n,e,t,i,r,a,o){const v=s.window.createQuickPick(),T=100,x=s.l10n.t("Add reviewers");v.busy=!0,v.canSelectMany=!0,v.matchOnDescription=!0,v.placeholder=x,t&&(v.buttons=[{iconPath:new s.ThemeIcon("organization"),tooltip:s.l10n.t("Show or refresh team reviewers")}]),v.show();const W=async te=>{const oe=setTimeout(()=>{v.placeholder=s.l10n.t("Getting team reviewers can take several minutes. Results will be cached.")},3e3),fe=performance.now();v.items=await ay(n,e,t,r,a,o,te),y.appendLine(`Setting quick pick reviewers took ${performance.now()-fe}ms`,"QuickPicks"),clearTimeout(oe),v.selectedItems=v.items.filter(ye=>ye.picked),v.placeholder=x};return await W(i!==0&&i<=T?Ro.Try:Ro.None),v.onDidTriggerButton(()=>{v.busy=!0,v.ignoreFocusOut=!0,W(Ro.Force).then(()=>{v.ignoreFocusOut=!1,v.busy=!1})}),v}function sy(n){return!!n.id&&!!n.project}async function nm(n,e,t,i){try{let r=[];async function a(){const v=await n.getAllProjects(e);return!v||!v.length?[{label:s.l10n.t("No projects created for this repository.")}]:v.map(x=>{const W={iconPath:new s.ThemeIcon("github-project"),label:x.title,id:x.id,project:x};return t&&t.find(te=>te.id===x.id)&&r.push(W),W})}const o=s.window.createQuickPick();o.busy=!0,o.canSelectMany=!0,o.title=s.l10n.t("Set projects"),o.ignoreFocusOut=!0,o.show(),o.items=await a(),o.ignoreFocusOut=!1,o.items.length===1&&(o.canSelectMany=!1),o.selectedItems=r,o.busy=!1,n.getOrgProjects(!0),o.onDidAccept(async()=>{o.hide();const v=o.selectedItems.map(T=>sy(T)?T.project:void 0).filter(T=>T!==void 0);v&&await i(v)})}catch(r){s.window.showErrorMessage(`Failed to add project: ${we(r)}`)}}function oy(n){return!!n.id&&!!n.milestone}async function rm(n,e,t,i){try{const r={label:s.l10n.t("Remove Milestone")};let a;async function o(){var T;const x=(T=await e.getMilestones())==null?void 0:T.sort((te,oe)=>te.dueOn&&oe.dueOn?new Date(te.dueOn).getTime()-new Date(oe.dueOn).getTime():te.dueOn?-1:oe.dueOn?1:te.title.localeCompare(oe.title));if(!x||!x.length)return[{label:s.l10n.t("No milestones created for this repository.")}];const W=x.map(te=>{const oe={iconPath:new s.ThemeIcon("milestone"),label:te.title,id:te.id,milestone:te};return t&&t.id===te.id&&(a=oe),oe});return t&&(W.unshift({label:"Milestones",kind:s.QuickPickItemKind.Separator}),W.unshift(r)),W}const v=s.window.createQuickPick();v.busy=!0,v.canSelectMany=!1,v.title=s.l10n.t("Set milestone"),v.buttons=[{iconPath:new s.ThemeIcon("add"),tooltip:"Create"}],v.onDidTriggerButton(T=>{v.hide();const x=s.window.createInputBox();x.title=s.l10n.t("Create new milestone"),x.placeholder=s.l10n.t("New milestone title"),v.value!==""&&(x.value=v.value),x.show(),x.onDidAccept(async()=>{if(x.hide(),x.value!==""){if(x.value.length>255){s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The title can contain a maximum of 255 characters"));return}for(const W of v.items)if(W.label===x.value){s.window.showErrorMessage(s.l10n.t("Failed to create milestone: The milestone '{0}' already exists",x.value));return}try{const W=await n.createMilestone(e,x.value);W!==void 0&&await i(W)}catch(W){s.window.showErrorMessage(`Failed to create milestone: ${we(W)}`)}}})}),v.show(),v.items=await o(),v.activeItems=a?[a]:t?[v.items[1]]:[v.items[0]],v.busy=!1,v.onDidAccept(async()=>{v.hide();const T=v.selectedItems[0];T&&oy(T)?await i(T.milestone):T&&T===r&&await i(void 0)})}catch(r){s.window.showErrorMessage(`Failed to add milestone: ${we(r)}`)}}async function am(n,e,t,i){await or(n.context);const r=(await n.getLabels(void 0,{owner:t,repo:i})).map(o=>({...o,displayName:la(o.name)})),a=r.map(o=>{var v;return{label:o.displayName,name:o.name,description:(v=o.description)!=null?v:void 0,picked:e.some(T=>T.name===o.name),iconPath:cr.asImageDataURI(Ni.Buffer.from(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
				<rect x="2" y="2" width="12" height="12" rx="6" fill="#${o.color}"/>
				</svg>`,"utf8"))}}).sort((o,v)=>o.picked===v.picked?o.label.localeCompare(v.label):o.picked?-1:1);return{newLabels:r,labelPicks:a}}async function ly(n,e){async function t(){return(await n.getAuthenticatedUserEmails()).map(a=>({label:a,picked:a.toLowerCase()===e.toLowerCase()}))}const i=await s.window.showQuickPick(t(),{canPickMany:!1,title:s.l10n.t("Choose an email")});return i?i.label:void 0}var uy=Xt(65606),cy=Object.defineProperty,dy=(n,e,t)=>e in n?cy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Pa=(n,e,t)=>dy(n,typeof e!="symbol"?e+"":e,t);const wu=class ga extends Fh{constructor(e,t,i,r,a,o=ga.viewType,v,T){super(),this._telemetry=e,this._extensionUri=t,this.type=o,Pa(this,"_panel"),Pa(this,"_item"),Pa(this,"_folderRepositoryManager"),Pa(this,"_scrollPosition",{x:0,y:0}),Pa(this,"timeout"),Pa(this,"lastRefreshTime"),Pa(this,"_scheduledRefresh"),this._folderRepositoryManager=a,this._panel=v!=null?v:this._register(s.window.createWebviewPanel(o,r,i,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[s.Uri.joinPath(t,"dist")],enableFindWidget:!0})),T&&(this._panel.iconPath={dark:s.Uri.joinPath(t,T.dark),light:s.Uri.joinPath(t,T.light)}),this._webview=this._panel.webview,super.initialize(),this._register(this._panel.onDidDispose(()=>this.dispose())),this._register(this._folderRepositoryManager.onDidChangeActiveIssue(x=>{if(this._folderRepositoryManager&&this._item){const W=this._item.equals(this._folderRepositoryManager.activeIssue);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:W})}})),this._register(a.credentialStore.onDidUpgradeSession(()=>{this.updateItem(this._item)})),this._register(this._panel.onDidChangeViewState(x=>this.onDidChangeViewState(x))),this.lastRefreshTime=new Date,this.pollForUpdates(!0),this._register(s.workspace.onDidChangeConfiguration(x=>{x.affectsConfiguration(`${tt}.${Qr}`)&&this.pollForUpdates(this._panel.visible,!0)})),this._register({dispose:()=>clearTimeout(this.timeout)})}static async createOrShow(e,t,i,r,a=!1,o=!0,v){await or(i.context);const T=a?s.ViewColumn.Beside:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.One;if(ga.currentPanel)ga.currentPanel._panel.reveal(T,!0);else{const x=`Issue #${r.number.toString()}`;ga.currentPanel=new ga(e,t,T||s.ViewColumn.Active,x,i,void 0,v,void 0)}await ga.currentPanel.update(i,r)}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}setPanelTitle(e){try{this._panel.title=e}catch{}}getRefreshInterval(){return s.workspace.getConfiguration().get(`${tt}.${Qr}`)||60}onDidChangeViewState(e){e.webviewPanel.visible&&this.pollForUpdates(!!this._item,!0)}pollForUpdates(e,t=!1){clearTimeout(this.timeout);const i=async()=>{const o=this.lastRefreshTime;if(this.lastRefreshTime=await this._item.getLastUpdateTime(o),this.lastRefreshTime.getTime()>o.getTime())return this.refreshPanel()};t&&i();const a=1e3*(e||s.window.tabGroups.all.find(o=>{var v;return((v=o.activeTab)==null?void 0:v.input)instanceof s.TabInputWebview&&o.activeTab.input.viewType.endsWith(this.type)})?this.getRefreshInterval():5*60);this.timeout=setTimeout(async()=>{await i(),this.pollForUpdates(this._panel.visible)},a)}async refreshPanel(){this._panel&&this._panel.visible&&await this.update(this._folderRepositoryManager,this._item)}continueOnGitHub(){return Du()}getInitializeContext(e,t,i,r,a,o){var v;const T=r.hasWritePermission,x=T||a,W=t.item.labels.map(oe=>({...oe,displayName:la(oe.name)}));return{owner:t.remote.owner,repo:t.remote.repositoryName,number:t.number,title:t.title,titleHTML:t.titleHTML,url:t.html_url,createdAt:t.createdAt,body:t.body,bodyHTML:t.bodyHTML,labels:W,author:t.author,state:t.state,stateReason:t.stateReason,events:i,continueOnGitHub:this.continueOnGitHub(),canEdit:x,hasWritePermission:T,isIssue:!0,projectItems:t.item.projectItems,milestone:t.milestone,assignees:(v=t.assignees)!=null?v:[],isEnterprise:t.githubRepository.remote.isEnterprise,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,canAssignCopilot:o.find(oe=>en[oe.login])!==void 0,reactions:t.item.reactions,isAuthor:t.author.login===e.login}}async updateItem(e){var t;try{const[i,r,a,o,v,T]=await Promise.all([this._folderRepositoryManager.resolveIssue(e.remote.owner,e.remote.repositoryName,e.number),e.getIssueTimelineEvents(e),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.canEdit(),this._folderRepositoryManager.getAssignableUsers(),this._folderRepositoryManager.getCurrentUser()]);if(!i)throw new Error(`Fail to resolve issue #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);this._item=i,this.setPanelTitle(`Issue #${e.number.toString()}`),y.debug("pr.initialize",ga.ID),this._postMessage({command:"pr.initialize",pullrequest:this.getInitializeContext(T,i,r,a,o,(t=v[this._item.remote.remoteName])!=null?t:[])})}catch(i){s.window.showErrorMessage(`Error updating issue description: ${we(i)}`)}}registerPrListeners(){}async update(e,t,i){return this._folderRepositoryManager!==e&&(this._folderRepositoryManager=e,this.registerPrListeners()),this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),(!this._item||this._item.number!==t.number||!this._panel.webview.html)&&(this._panel.webview.html=this.getHtmlForWebview(),this._postMessage({command:"pr.clear"})),i?s.window.withProgress({location:{viewId:i}},()=>this.updateItem(t)):this.updateItem(t)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":s.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.submit":return this.submitReviewMessage(e);case"scroll":this._scrollPosition=e.args.scrollPosition;return;case"pr.edit-comment":return this.editComment(e);case"pr.delete-comment":return this.deleteComment(e);case"pr.edit-description":return this.editDescription(e);case"pr.edit-title":return this.editTitle(e);case"pr.refresh":this.refreshPanel();return;case"pr.add-labels":return this.addLabels(e);case"pr.remove-label":return this.removeLabel(e);case"pr.change-assignees":return this.changeAssignees(e);case"pr.remove-milestone":return this.removeMilestone(e);case"pr.add-milestone":return this.addMilestone(e);case"pr.change-projects":return this.changeProjects(e);case"pr.remove-project":return this.removeProject(e);case"pr.add-assignee-yourself":return this.addAssigneeYourself(e);case"pr.add-assignee-copilot":return this.addAssigneeCopilot(e);case"pr.copy-prlink":return this.copyItemLink();case"pr.copy-vscodedevlink":return this.copyVscodeDevLink();case"pr.openOnGitHub":return xa(this._item,this._item._telemetry);case"pr.debug":return this.webviewDebug(e);default:return this.MESSAGE_UNHANDLED}}async submitReviewMessage(e){const t=await this._item.createIssueComment(e.args),i={...t,event:Ft.Commented},a={events:await this._getTimeline(),reviewedEvent:i};return this.tryScheduleCopilotRefresh(t.body),this._replyMessage(e,a)}async tryScheduleCopilotRefresh(e,t){this._scheduledRefresh||(this._scheduledRefresh=this.doScheduleCopilotRefresh(e,t).finally(()=>{this._scheduledRefresh=void 0}))}async doScheduleCopilotRefresh(e,t){if(!en[this._item.author.login]||!e.includes("@copilot")&&!e.includes("@Copilot")&&t!=="CHANGES_REQUESTED")return;const i=await this._getTimeline(),r=[250,500,1e3,2e3];for(const a of r){if(await new Promise(o=>setTimeout(o,a)),this._isDisposed)return;try{if((await this._getTimeline()).length>i.length){this.refreshPanel();return}}catch(o){y.warn(`Failed to fetch timeline during Copilot refresh retry: ${o}`,ga.ID)}}this._isDisposed||this.refreshPanel()}async addLabels(e){const t=s.window.createQuickPick();try{let i=[];t.busy=!0,t.canSelectMany=!0,t.show(),t.items=await am(this._folderRepositoryManager,this._item.item.labels,this._item.remote.owner,this._item.remote.repositoryName).then(v=>(i=v.newLabels,v.labelPicks)),t.selectedItems=t.items.filter(v=>v.picked),t.busy=!1;const r=Te(t.onDidAccept).then(()=>t.selectedItems),a=Te(t.onDidHide),o=await Promise.race([r,a]);if(t.busy=!0,t.enabled=!1,o){await this._item.setLabels(o.map(T=>T.name));const v=o.map(T=>i.find(x=>x.name===T.name));await this._replyMessage(e,{added:v})}}catch(i){s.window.showErrorMessage(we(i))}finally{t.hide(),t.dispose()}}async removeLabel(e){try{await this._item.removeLabel(e.args),this._replyMessage(e,{})}catch(t){s.window.showErrorMessage(we(t))}}webviewDebug(e){y.debug(e.args,ga.ID)}editDescription(e){this._item.edit({body:e.args.text}).then(t=>{this._replyMessage(e,{body:t.body,bodyHTML:t.bodyHTML})}).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(`Editing description failed: ${we(t)}`)})}editTitle(e){return this._item.edit({title:e.args.text}).then(t=>this._replyMessage(e,{titleHTML:t.titleHTML})).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(`Editing title failed: ${we(t)}`)})}_getTimeline(){return this._item.getIssueTimelineEvents(this._item)}async changeAssignees(e){var t;const i=s.window.createQuickPick();try{i.busy=!0,i.canSelectMany=!0,i.matchOnDescription=!0,i.show(),i.items=await tm(this._folderRepositoryManager,void 0,this._item.remote.remoteName,(t=this._item.assignees)!=null?t:[],this._item),i.selectedItems=i.items.filter(v=>v.picked),i.busy=!1;const r=Te(i.onDidAccept).then(()=>i.selectedItems.filter(v=>v.user)),a=Te(i.onDidHide),o=await Promise.race([r,a]);if(i.busy=!0,i.enabled=!1,o){const v=o.map(W=>W.user);await this._item.replaceAssignees(v);const T=await this._getTimeline(),x={assignees:v,events:T};await this._replyMessage(e,x)}}catch(r){s.window.showErrorMessage(we(r))}finally{i.hide(),i.dispose()}}async addMilestone(e){return rm(this._folderRepositoryManager,this._item.githubRepository,this._item.milestone,t=>this.updateMilestone(t,e))}async updateMilestone(e,t){if(!e)return this.removeMilestone(t);await this._item.updateMilestone(e.id),this._replyMessage(t,{added:e})}async removeMilestone(e){try{await this._item.updateMilestone("null"),this._replyMessage(e,{})}catch(t){s.window.showErrorMessage(we(t))}}async changeProjects(e){var t;return nm(this._folderRepositoryManager,this._item.githubRepository,(t=this._item.item.projectItems)==null?void 0:t.map(i=>i.project),i=>this.updateProjects(i,e))}async updateProjects(e,t){var i;let r=[];e&&(r=(i=await this._item.updateProjects(e))!=null?i:[]);const a={projectItems:r};return this._replyMessage(t,a)}async removeProject(e){return await this._item.removeProjects([e.args]),this._replyMessage(e,{})}async addAssigneeYourself(e){var t,i,r;try{const a=await this._folderRepositoryManager.getCurrentUser();if(!((t=this._item.assignees)==null?void 0:t.find(x=>x.login===a.login))){const x=((i=this._item.assignees)!=null?i:[]).concat(a);await this._item.replaceAssignees(x)}const v=await this._getTimeline(),T={assignees:(r=this._item.assignees)!=null?r:[],events:v};this._replyMessage(e,T)}catch(a){s.window.showErrorMessage(we(a))}}async addAssigneeCopilot(e){var t,i;try{const r=(await this._folderRepositoryManager.getAssignableUsers())[this._item.remote.remoteName].find(v=>en[v.login]);if(r){const v=((t=this._item.assignees)!=null?t:[]).concat(r);await this._item.replaceAssignees(v)}const a=await this._getTimeline(),o={assignees:(i=this._item.assignees)!=null?i:[],events:a};this._replyMessage(e,o)}catch(r){s.window.showErrorMessage(we(r))}}async copyItemLink(){return s.env.clipboard.writeText(this._item.html_url)}async copyVscodeDevLink(){return s.env.clipboard.writeText(Fu(this._item))}editCommentPromise(e,t){return this._item.editIssueComment(e,t)}editComment(e){this.editCommentPromise(e.args.comment,e.args.text).then(t=>{this._replyMessage(e,{body:t.body,bodyHTML:t.bodyHTML})}).catch(t=>{this._throwError(e,t),s.window.showErrorMessage(we(t))})}deleteCommentPromise(e){return this._item.deleteIssueComment(e.id.toString())}deleteComment(e){s.window.showWarningMessage(s.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},"Delete").then(t=>{t==="Delete"&&this.deleteCommentPromise(e.args).then(i=>{this._replyMessage(e,{})}).catch(i=>{this._throwError(e,i),s.window.showErrorMessage(we(i))})})}async close(e){let t;e.args&&(t=await this._item.createIssueComment(e.args));const i=await this._item.close(),r={state:i.item.state.toUpperCase(),commentEvent:t?{...t,event:Ft.Commented}:void 0,closeEvent:i.closedEvent};this._replyMessage(e,r)}set _currentPanel(e){ga.currentPanel=e}dispose(){super.dispose(),this._currentPanel=void 0,this._webview=void 0}getHtmlForWebview(){const e=ud(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-pr-description.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; media-src https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body class="${uy.platform}">
		<div id=app></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}getCurrentTitle(){return this._panel.title}getCurrentItem(){return this._item}};Pa(wu,"ID","IssueOverviewPanel"),Pa(wu,"currentPanel"),Pa(wu,"viewType","IssueOverview");let So=wu;var _u;(n=>{async function e(t,i){var r;const a=await t.getBranchNameForPullRequest(i),o=[],v=await t.getPullRequestRepositoryDefaultBranch(i);if(i.isResolved()){const W=i.head.ref,te=t.findRepo(fe=>fe.remote.owner===i.head.owner&&fe.remote.repositoryName===i.remote.repositoryName);!(v===i.head.ref)&&!i.isRemoteHeadDeleted&&o.push({label:s.l10n.t("Delete remote branch {0}",`${te==null?void 0:te.remote.remoteName}/${W}`),description:`${i.remote.normalizedHost}/${i.head.repositoryCloneUrl.owner}/${i.remote.repositoryName}`,type:"remoteHead",picked:!0})}if(a){const W=s.workspace.getConfiguration(tt).get(`${wi}.${qi}`);o.push({label:s.l10n.t("Delete local branch {0}",a.branch),type:"local",picked:!!W});const te=s.workspace.getConfiguration(tt).get(`${wi}.${hi}`);a.remote&&a.createdForPullRequest&&!a.remoteInUse&&o.push({label:s.l10n.t("Delete remote {0}, which is no longer used by any other branch",a.remote),type:"remote",picked:!!te})}if(s.env.remoteName==="codespaces"&&o.push({label:s.l10n.t("Suspend Codespace"),type:"suspend"}),!o.length)return s.window.showWarningMessage(s.l10n.t("There is no longer an upstream or local branch for Pull Request #{0}",i.number)),{isReply:!0,message:{cancelled:!0}};const T=await s.window.showQuickPick(o,{canPickMany:!0,ignoreFocusOut:!0}),x=[];if(T){const W=i.equals(t.activePullRequest)||((r=t.repository.state.HEAD)==null?void 0:r.name)&&t.repository.state.HEAD.name===(a==null?void 0:a.branch),te=T.map(async oe=>{switch(oe.type){case"remoteHead":await t.deleteBranch(i),x.push(oe.type),await t.repository.fetch({prune:!0}),t.repository.rootUri.scheme===qt.VscodeVfs&&await t.repository.checkout(v);return;case"local":if(W){if(t.repository.state.workingTreeChanges.length){const fe=s.l10n.t("Yes");if(await s.window.showWarningMessage(s.l10n.t("Your local changes will be lost, do you want to continue?"),{modal:!0},fe)===fe)await s.commands.executeCommand("git.cleanAll");else return}await t.repository.checkout(v)}return await t.repository.deleteBranch(a.branch,!0),x.push(oe.type);case"remote":return x.push(oe.type),t.repository.removeRemote(a.remote);case"suspend":return x.push(oe.type),s.commands.executeCommand("github.codespaces.disconnectSuspend")}});return await Promise.all(te),s.commands.executeCommand("pr.refreshList"),{isReply:!1,message:{command:"pr.deleteBranch",branchTypes:x}}}else return{isReply:!0,message:{cancelled:!0}}}n.deleteBranch=e})(_u||(_u={}));var Us=(n=>(n.Comment="comment",n.Approve="approve",n.RequestChanges="requestChanges",n))(Us||{}),ku=(n=>(n[n.None=0]="None",n[n.Available=1]="Available",n[n.ReviewedWithComments=2]="ReviewedWithComments",n[n.ReviewedWithoutComments=3]="ReviewedWithoutComments",n))(ku||{}),fy=Object.defineProperty,hy=(n,e,t)=>e in n?fy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Aa=(n,e,t)=>hy(n,typeof e!="symbol"?e+"":e,t);const Bs=class nr extends So{constructor(e,t,i,r,a,o){super(e,t,i,r,a,nr.viewType,o,{light:"resources/icons/pr_webview.svg",dark:"resources/icons/dark/pr_webview.svg"}),Aa(this,"_repositoryDefaultBranch"),Aa(this,"_existingReviewers",[]),Aa(this,"_teamsCount",0),Aa(this,"_prListeners",[]),Aa(this,"_isUpdating",!1),this.registerPrListeners(),this.setVisibilityContext(),this._register(a.onDidMergePullRequest(v=>{this._postMessage({command:"update-state",state:Xi.Merged})})),this._register(s.commands.registerCommand("review.approveDescription",v=>this.approvePullRequestCommand(v))),this._register(s.commands.registerCommand("review.commentDescription",v=>this.submitReviewCommand(v))),this._register(s.commands.registerCommand("review.requestChangesDescription",v=>this.requestChangesCommand(v))),this._register(s.commands.registerCommand("review.approveOnDotComDescription",()=>xa(this._item,this._item._telemetry))),this._register(s.commands.registerCommand("review.requestChangesOnDotComDescription",()=>xa(this._item,this._item._telemetry)))}static async createOrShow(e,t,i,r,a=!1,o=!0,v){e.sendTelemetryEvent("pr.openDescription",{isCopilot:r.author.login===qn?"true":"false"});const T=a?s.ViewColumn.Beside:s.window.activeTextEditor?s.window.activeTextEditor.viewColumn:s.ViewColumn.One;if(nr.currentPanel)nr.currentPanel._panel.reveal(T,o);else{const x=`Pull Request #${r.number.toString()}`;nr.currentPanel=new nr(e,t,T||s.ViewColumn.Active,x,i,v)}await nr.currentPanel.update(i,r)}set _currentPanel(e){nr.currentPanel=e}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}static scrollToReview(){this.currentPanel&&this.currentPanel._postMessage({command:"pr.scrollToPendingReview"})}static getCurrentPullRequest(){var e;return(e=this.currentPanel)==null?void 0:e._item}registerPrListeners(){c(this._prListeners),this._prListeners.push(this._folderRepositoryManager.onDidChangeActivePullRequest(e=>{if(this._folderRepositoryManager&&this._item){const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:t})}})),this._item&&this._prListeners.push(this._item.onDidChange(e=>{e.comments&&!this._isUpdating&&this.refreshPanel()}))}onDidChangeViewState(e){super.onDidChangeViewState(e),this.setVisibilityContext(),this._panel.visible&&this._item&&nr._onVisible.fire(this._item)}setVisibilityContext(){return ei.setContext(Ct.PULL_REQUEST_DESCRIPTION_VISIBLE,this._panel.visible)}getCurrentUserReviewState(e,t){const i=e.find(r=>xr(r.reviewer)===t.login);return i==null?void 0:i.state}isUpdateBranchWithGitHubEnabled(){return this._item.isActive||s.workspace.getConfiguration(tt).get("experimentalUpdateBranchWithGitHub",!1)}continueOnGitHub(){const e=!!this._item.base&&!!this._item.head&&!this._item.base.repositoryCloneUrl.equals(this._item.head.repositoryCloneUrl);return super.continueOnGitHub()&&e}preLoadInfoNotRequiredForOverview(e){e.getFileChangesInfo()}async updateItem(e){var t,i;try{const[r,a,o,v,T,x,W,te,oe,fe,ye,Pe,Ce,De,Le,$e]=await Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),e.getTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e),e.getStatusChecks(),e.getReviewRequests(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),this._folderRepositoryManager.getBranchNameForPullRequest(e),this._folderRepositoryManager.getCurrentUser(e.githubRepository),e.canEdit(),this._folderRepositoryManager.getOrgTeamsCount(e.githubRepository),this._folderRepositoryManager.mergeQueueMethodForBranch(e.base.ref,e.remote.owner,e.remote.repositoryName),this._folderRepositoryManager.isHeadUpToDateWithBase(e),e.getMergeability(),this._folderRepositoryManager.getPreferredEmail(e),e.getCoAuthors(),e.validateDraftMode()]);if(!r)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);this._item=r,this.registerPrListeners(),this._repositoryDefaultBranch=o,this._teamsCount=fe,this.setPanelTitle(`Pull Request #${e.number.toString()}`);const Ze=e.equals(this._folderRepositoryManager.activePullRequest),rt=x.mergeMethodsAvailability,Ve=Su(rt);this._existingReviewers=Dm(T,a,r.author);const We=this.isUpdateBranchWithGitHubEnabled(),ct=this.getCurrentUserReviewState(this._existingReviewers,te);y.debug("pr.initialize",nr.ID);const jt=this.getInitializeContext(te,r,a,x,oe,[]);this.preLoadInfoNotRequiredForOverview(r);const Se={...jt,isCurrentlyCheckedOut:Ze,isRemoteBaseDeleted:r.isRemoteBaseDeleted,base:r.base.label,isRemoteHeadDeleted:r.isRemoteHeadDeleted,isLocalHeadDeleted:!W,head:(i=(t=r.head)==null?void 0:t.label)!=null?i:"",repositoryDefaultBranch:o,status:v[0],reviewRequirement:v[1],canUpdateBranch:r.item.viewerCanUpdate&&!Pe&&We,mergeable:Ce.mergeability,reviewers:this._existingReviewers,isDraft:r.isDraft,mergeMethodsAvailability:rt,defaultMergeMethod:Ve,hasReviewDraft:$e,autoMerge:r.autoMerge,allowAutoMerge:r.allowAutoMerge,autoMergeMethod:r.autoMergeMethod,mergeQueueMethod:ye,mergeQueueEntry:r.mergeQueueEntry,mergeCommitMeta:r.mergeCommitMeta,squashCommitMeta:r.squashCommitMeta,isIssue:!1,emailForCommit:De,currentUserReviewState:ct,revertable:r.state===Xi.Merged,isCopilotOnMyBehalf:await Qm(r,te,Le)};this._postMessage({command:"pr.initialize",pullrequest:Se}),r.isResolved()&&this._folderRepositoryManager.checkBranchUpToDate(r,!0)}catch(r){s.window.showErrorMessage(`Error updating pull request description: ${we(r)}`)}}async update(e,t){const i=super.update(e,t,"pr:github");return this._folderRepositoryManager!==e&&this.registerPrListeners(),await i,nr._onVisible.fire(t),i}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.checkout":return this.checkoutPullRequest(e);case"pr.merge":return this.mergePullRequest(e);case"pr.change-email":return this.changeEmail(e);case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequestMessage(e);case"pr.request-changes":return this.requestChangesMessage(e);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e);case"pr.apply-patch":return this.applyPatch(e);case"pr.open-diff":return this.openDiff(e);case"pr.open-changes":return this.openChanges(e);case"pr.resolve-comment-thread":return this.resolveCommentThread(e);case"pr.checkMergeability":return this._replyMessage(e,await this._item.getMergeability());case"pr.change-reviewers":return this.changeReviewers(e);case"pr.update-automerge":return this.updateAutoMerge(e);case"pr.dequeue":return this.dequeue(e);case"pr.enqueue":return this.enqueue(e);case"pr.update-branch":return this.updateBranch(e);case"pr.gotoChangesSinceReview":return this.gotoChangesSinceReview(e);case"pr.re-request-review":return this.reRequestReview(e);case"pr.revert":return this.revert(e);case"pr.open-session-log":return this.openSessionLog(e);case"pr.cancel-coding-agent":return this.cancelCodingAgent(e);case"pr.openCommitChanges":return this.openCommitChanges(e)}}gotoChangesSinceReview(e){return this._item.showChangesSinceReview?fn.openChanges(this._folderRepositoryManager,this._item):this._item.showChangesSinceReview=!0,this._replyMessage(e,{})}async changeReviewers(e){let t;try{t=await im(this._folderRepositoryManager,this._item.remote.remoteName,this._item.base.isInOrganization,this._teamsCount,this._item.author,this._existingReviewers,this._item.suggestedReviewers),t.busy=!1;const i=Te(t.onDidAccept).then(()=>{const o=t==null?void 0:t.selectedItems.filter(T=>T.user).map(T=>T.user),v=this._existingReviewers.filter(T=>!Fn(T.reviewer)&&T.reviewer.accountType==="Bot").map(T=>T.reviewer);return o.concat(v)}),r=Te(t.onDidHide),a=await Promise.race([i,r]);if(t.busy=!0,t.enabled=!1,a){const o=[],v=[];a.forEach(te=>{(Fn(te)?v:o).push(te)});const T=[],x=[];this._existingReviewers.forEach(te=>{let oe=Fn(te.reviewer)?v:o,fe=Fn(te.reviewer)?x:T;oe.find(ye=>ye.id===te.reviewer.id)||fe.push(te.reviewer)}),await this._item.requestReview(o,v),await this._item.deleteReviewRequest(T,x);const W=a.map(te=>({reviewer:te,state:"REQUESTED"}));this._existingReviewers=W,await this._replyMessage(e,{reviewers:W})}}catch(i){y.error(we(i),nr.ID),s.window.showErrorMessage(we(i))}finally{t==null||t.hide(),t==null||t.dispose()}}async applyPatch(e){try{const t=e.args.comment,r=/```diff\n([\s\S]*)\n```/g.exec(t.body),a=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,".git",`${t.id}.diff`),o=new TextEncoder;await s.workspace.fs.writeFile(a,o.encode(r[1])),await this._folderRepositoryManager.repository.apply(a.fsPath),await s.workspace.fs.delete(a),s.window.showInformationMessage("Patch applied!")}catch(t){y.error(`Applying patch failed: ${t}`,nr.ID),s.window.showErrorMessage(`Applying patch failed: ${we(t)}`)}}_getTimeline(){return this._item.getTimelineEvents()}async openDiff(e){try{const t=e.args.comment;return fn.openDiffFromComment(this._folderRepositoryManager,this._item,t)}catch(t){y.error(`Open diff view failed: ${we(t)}`,nr.ID)}}async openSessionLog(e){var t,i;try{await((i=vd.instance)==null?void 0:i.openForPull(this._item,e.args.link,(t=e.args.link.openToTheSide)!=null?t:!1))}catch(r){y.error(`Open session log view failed: ${we(r)}`,nr.ID)}}async cancelCodingAgent(e){try{let t=!1;if(e.args.event!==Ft.CopilotStarted)return this._replyMessage(e,{success:!1,error:"Invalid event type"});{const a=await ml(this._folderRepositoryManager.credentialStore,this._telemetry,this._item.remote.authProviderId);if(a){const o=(await a.getAllSessions(this._item.id))[0];o.state!=="completed"&&(t=await this._item.githubRepository.cancelWorkflow(o.workflow_run_id))}}let i=[];if(t)do i=await this._getTimeline();while(Zr(io(i))!==xi.Completed&&await new Promise(a=>setTimeout(()=>a(!0),2e3)));const r={events:i};this._replyMessage(e,r)}catch(t){y.error(`Cancelling coding agent failed: ${we(t)}`,nr.ID),s.window.showErrorMessage(s.l10n.t("Cannot cancel coding agent"));const i={events:[]};this._replyMessage(e,i)}}async openCommitChanges(e){try{const{commitSha:t}=e.args;await fn.openCommitChanges(this._item.githubRepository,t),this._replyMessage(e,{})}catch(t){y.error(`Failed to open commit changes: ${we(t)}`,nr.ID),s.window.showErrorMessage(s.l10n.t("Failed to open commit changes: {0}",we(t)))}}async openChanges(e){var t;const i=((t=e==null?void 0:e.args)==null?void 0:t.openToTheSide)||!1;return fn.openChanges(this._folderRepositoryManager,this._item,i)}async resolveCommentThread(e){try{e.args.toResolve?await this._item.resolveReviewThread(e.args.threadId):await this._item.unresolveReviewThread(e.args.threadId);const t=await this._getTimeline();this._replyMessage(e,t)}catch(t){s.window.showErrorMessage(t),this._replyMessage(e,void 0)}}checkoutPullRequest(e){s.commands.executeCommand("pr.pick",this._item).then(()=>{const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(e,{isCurrentlyCheckedOut:t})},()=>{const t=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(e,{isCurrentlyCheckedOut:t})})}mergePullRequest(e){const{title:t,description:i,method:r,email:a}=e.args;this._folderRepositoryManager.mergePullRequest(this._item,t,i,r,a).then(o=>{s.commands.executeCommand("pr.refreshList"),o.merged||s.window.showErrorMessage(`Merging pull request failed: ${o.message}`);const v={state:o.merged?Xi.Merged:Xi.Open,revertable:o.merged,events:o.timeline};this._replyMessage(e,v)}).catch(o=>{s.window.showErrorMessage(`Unable to merge pull request. ${we(o)}`),this._throwError(e,"")})}async changeEmail(e){const t=await ly(this._item.githubRepository,e.args);return t&&this._folderRepositoryManager.saveLastUsedEmail(t),this._replyMessage(e,t!=null?t:e.args)}async deleteBranch(e){const t=await _u.deleteBranch(this._folderRepositoryManager,this._item);t.isReply?this._replyMessage(e,t.message):(this.refreshPanel(),this._postMessage(t.message))}setReadyForReview(e){this._item.setReadyForReview().then(t=>{this._replyMessage(e,t)}).catch(t=>{s.window.showErrorMessage(`Unable to set pull request ready for review. ${we(t)}`),this._throwError(e,"")})}async checkoutDefaultBranch(e){var t;try{const i=(t=this._folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name;await this._folderRepositoryManager.checkoutDefaultBranch(e.args),i&&await this._folderRepositoryManager.cleanupAfterPullRequest(i,this._item)}finally{this._replyMessage(e,{})}}updateReviewers(e){if(e&&e.state){const t=this._existingReviewers.find(i=>e.user.login===i.reviewer.login);t?t.state=e.state:this._existingReviewers.push({reviewer:e.user,state:e.state})}}async doReviewCommand(e,t,i){const r={command:"pr.submitting-review",lastReviewType:t};this._postMessage(r);try{const a=await i(e.body);this.updateReviewers(a);const o=await this._getTimeline(),v={command:"pr.append-review",reviewedEvent:a,events:o,reviewers:this._existingReviewers};this.tryScheduleCopilotRefresh(a.body,a.state),await this._postMessage(v)}catch(a){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",we(a))),this._throwError(void 0,`${we(a)}`)}finally{this._postMessage({command:"pr.append-review"})}}async doReviewMessage(e,t){try{const i=await t(e.args);this.updateReviewers(i);const r=await this._getTimeline(),a={reviewedEvent:i,events:r,reviewers:this._existingReviewers};this.tryScheduleCopilotRefresh(i.body,i.state),this._replyMessage(e,a)}catch(i){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",we(i))),this._throwError(e,`${we(i)}`)}}approvePullRequest(e){return this._item.approve(this._folderRepositoryManager.repository,e)}approvePullRequestMessage(e){return this.doReviewMessage(e,t=>this.approvePullRequest(t))}approvePullRequestCommand(e){return this.doReviewCommand(e,Us.Approve,t=>this.approvePullRequest(t))}requestChanges(e){return this._item.requestChanges(e)}requestChangesCommand(e){return this.doReviewCommand(e,Us.RequestChanges,t=>this.requestChanges(t))}requestChangesMessage(e){return this.doReviewMessage(e,t=>this.requestChanges(t))}submitReview(e){return this._item.submitReview(Fr.Comment,e)}submitReviewCommand(e){return this.doReviewCommand(e,Us.Comment,t=>this.submitReview(t))}submitReviewMessage(e){return this.doReviewMessage(e,t=>this.submitReview(t))}reRequestReview(e){let t;const i=[],r=[];for(const a of this._existingReviewers){let o=a.reviewer.id;o&&(a.state==="REQUESTED"||o===e.args)&&o===e.args&&(t=a)}t&&Fn(t.reviewer)?r.push(t.reviewer):t&&!Fn(t.reviewer)&&i.push(t.reviewer),this._item.requestReview(i,r,!0).then(()=>{t&&(t.state="REQUESTED"),this._replyMessage(e,{reviewers:this._existingReviewers})})}async revert(e){await this._folderRepositoryManager.createPullRequestHelper.revert(this._telemetry,this._extensionUri,this._folderRepositoryManager,this._item,async t=>{const i={revertable:!t};return this._replyMessage(e,i)})}async updateAutoMerge(e){let t;!e.args.autoMerge&&!this._item.autoMerge?t={autoMerge:!1}:e.args.autoMerge===!1&&this._item.autoMerge?(await this._item.disableAutoMerge(),t={autoMerge:this._item.autoMerge}):(this._item.autoMerge&&e.args.autoMergeMethod!==this._item.autoMergeMethod&&await this._item.disableAutoMerge(),await this._item.enableAutoMerge(e.args.autoMergeMethod),t={autoMerge:this._item.autoMerge,autoMergeMethod:this._item.autoMergeMethod}),this._replyMessage(e,t)}async dequeue(e){const t=await this._item.dequeuePullRequest();this._replyMessage(e,t)}async enqueue(e){const t=await this._item.enqueuePullRequest();this._replyMessage(e,{mergeQueueEntry:t})}async updateBranch(e){if(!this.isUpdateBranchWithGitHubEnabled())return await s.window.showErrorMessage(s.l10n.t("The pull request branch must be checked out to be updated."),{modal:!0}),this._replyMessage(e,{});if(this._folderRepositoryManager.repository.state.workingTreeChanges.length>0||this._folderRepositoryManager.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),this._replyMessage(e,{});await this._folderRepositoryManager.tryMergeBaseIntoHead(this._item,!0)||this._replyMessage(e,{});let i=dn.Unknown,r=5;do i=(await this._item.getMergeability()).mergeability,r--,await new Promise(o=>setTimeout(o,1e3));while(r>0&&i===dn.Unknown);const a={events:await this._getTimeline(),mergeable:i};await this.refreshPanel(),this._replyMessage(e,a)}editCommentPromise(e,t){return this._item.editReviewComment(e,t)}deleteCommentPromise(e){return this._item.deleteReviewComment(e.id.toString())}dispose(){super.dispose(),c(this._prListeners)}static dispose(){nr._onVisible.dispose()}};Aa(Bs,"ID","PullRequestOverviewPanel"),Aa(Bs,"viewType",ld),Aa(Bs,"currentPanel"),Aa(Bs,"_onVisible",new s.EventEmitter),Aa(Bs,"onVisible",Bs._onVisible.event);let Jn=Bs;function Su(n){const e=s.workspace.getConfiguration(tt).get(oi);return e&&n.hasOwnProperty(e)&&n[e]?e:["merge","squash","rebase"].find(i=>n[i])}var my=Object.defineProperty,py=(n,e,t)=>e in n?my(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gy=(n,e,t)=>py(n,typeof e!="symbol"?e+"":e,t);class sm extends d{constructor(e,t){super(),this._folderRepoManager=e,this._telemetry=t,gy(this,"_commentController"),this._register(s.window.onDidChangeActiveTextEditor(i=>this.onDidChangeActiveTextEditor(i)))}get commentController(){return this._commentController}githubReposForPullRequest(e){const t=e?[e.githubRepository]:void 0;if(t&&(e!=null&&e.head)){const i=this._folderRepoManager.findExistingGitHubRepository({owner:e.head.owner,repositoryName:e.remote.repositoryName});i&&t.push(i)}return t}async tryAddCopilotMention(e,t){if(e.document.uri.scheme!==qt.Comment||e.document.lineCount<1||e.document.lineAt(0).text.length>0)return;const i=await this._folderRepoManager.getCurrentUser();if(await Qm(t,i))return e.edit(r=>{r.insert(new s.Position(0,0),"@copilot ")})}}var vy=Object.defineProperty,by=(n,e,t)=>e in n?vy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qs=(n,e,t)=>by(n,typeof e!="symbol"?e+"":e,t);const bd=class eh extends sm{constructor(e,t,i,r){if(super(t,r),this.pullRequestModel=e,qs(this,"_pendingCommentThreadAdds",[]),qs(this,"_commentHandlerId"),qs(this,"_commentThreadCache",{}),qs(this,"_context"),qs(this,"_githubRepositories"),this._commentController=i,this._context=t.context,this._commentHandlerId=Dh(),It(this._commentHandlerId,this,t.repository),this.pullRequestModel.reviewThreadsCacheReady)this.initializeThreadsInOpenEditors().then(()=>{this.registerListeners()});else{const a=this.pullRequestModel.onDidChangeReviewThreads(async()=>{a.dispose(),await this.initializeThreadsInOpenEditors(),this.registerListeners()})}this._githubRepositories=this.githubReposForPullRequest(e)}registerListeners(){this._register(this.pullRequestModel.onDidChangeReviewThreads(e=>this.onDidChangeReviewThreads(e))),this._register(s.window.tabGroups.onDidChangeTabs(async e=>this.onDidChangeOpenTabs(e))),this._register(this.pullRequestModel.onDidChangePendingReviewState(e=>{for(const t in this._commentThreadCache)this._commentThreadCache[t].forEach(i=>{ym(i,e)})})),this._register(s.window.onDidChangeActiveTextEditor(e=>{this.refreshContextKey(e)}))}refreshContextKey(e){if(!e)return;const t=e.document.uri;if(t.scheme!==qt.Pr)return;const i=Nn(t);!i||i.prNumber!==this.pullRequestModel.number||this.setContextKey(this.pullRequestModel.hasPendingReview)}async getPREditors(e){const t=[],i=r=>{const a=Nn(r.uri);if(a&&a.prNumber===this.pullRequestModel.number)return r.editor?Promise.resolve(r.editor.document):(y.trace(`Opening text document for PR editor ${r.uri.toString()}`,eh.ID),s.workspace.openTextDocument(r.uri))};for(const r of e){const a=[];r instanceof s.TabInputText?a.push({uri:r.uri}):r instanceof s.TabInputTextDiff?a.push({uri:r.original},{uri:r.modified}):a.push({uri:r.document.uri,editor:r}),t.push(...a.map(i).filter(o=>!!o))}return Promise.all(t)}getCommentThreadCacheKey(e,t){return`${e}-${t?"original":"modified"}`}async addThreadsForEditors(e){const t=this.pullRequestModel.reviewThreadsCache,i=B(t,a=>a.path),r=await this._folderRepoManager.getCurrentUser();for(const a of e){const{fileName:o,isBase:v}=Nn(a.uri),T=this.getCommentThreadCacheKey(o,v);this._commentThreadCache[T]||i[o]&&(this._commentThreadCache[T]=i[o].filter(x=>(x.diffSide===yn.LEFT&&v||x.diffSide===yn.RIGHT&&!v)&&x.endLine!==null).map(x=>{const W=x.endLine-1,te=x.subjectType===Yn.FILE?void 0:wl(x.startLine-1,W,a.lineAt(W).range.end.character);return _l(this._context,a.uri,te,x,this._commentController,r,this._githubRepositories)}))}}async initializeThreadsInOpenEditors(){const e=await this.getPREditors(s.window.visibleTextEditors);return this.addThreadsForEditors(e)}allTabs(){return this.filterTabsToPrTabs(s.window.tabGroups.all.map(e=>e.tabs).flat())}filterTabsToPrTabs(e){return e.filter(t=>t.input instanceof s.TabInputText||t.input instanceof s.TabInputTextDiff).map(t=>t.input)}prDescriptionOpened(e){return e.some(t=>t.input instanceof s.TabInputWebview&&t.label.includes(`#${this.pullRequestModel.number}`)&&t.input.viewType.includes(ld))}async cleanClosedPrs(){const e=await this.getPREditors(this.allTabs()),t=this.prDescriptionOpened(s.window.tabGroups.all.map(i=>i.tabs).flat());e.length===0&&!t&&this.removeAllCommentsThreads()}async openAllTextDocuments(){const e=await fn.getChangeModels(this._folderRepoManager,this.pullRequestModel),t=[];for(const i of e)t.push(await s.workspace.openTextDocument(i.filePath));return t}async onDidChangeOpenTabs(e){const t=await this.getPREditors(this.filterTabsToPrTabs(e.opened));if(t.length)await this.addThreadsForEditors(t);else if(this.prDescriptionOpened(e.opened)){const i=await this.openAllTextDocuments();await this.addThreadsForEditors(i)}e.closed.length>0&&(await new Promise(i=>setTimeout(i,100)),await this.cleanClosedPrs())}onDidChangeReviewThreads(e){e.added.forEach(async t=>{const i=t.path,r=this._pendingCommentThreadAdds.findIndex(v=>{const T=this._folderRepoManager.gitRelativeRootPath(v.uri.path)===t.path,x=v.range===void 0&&t.subjectType===Yn.FILE||v.range&&v.range.end.line+1===t.endLine;return T&&x});let a;if(r>-1)a=this._pendingCommentThreadAdds[r],a.gitHubThreadId=t.id,a.comments=t.comments.map(v=>new Hn(this._context,v,a,this._githubRepositories)),vm(this._context,a,t,this._githubRepositories),this._pendingCommentThreadAdds.splice(r,1);else{const T=(await this.getPREditors(s.window.visibleTextEditors)).find(x=>{const W=Nn(x.uri),te=t.diffSide===yn.RIGHT&&!(W!=null&&W.isBase)||t.diffSide===yn.LEFT&&(W==null?void 0:W.isBase);return(W==null?void 0:W.fileName)===i&&te});if(T){const x=t.endLine-1,W=t.subjectType===Yn.FILE?void 0:wl(t.startLine-1,x,T.lineAt(x).range.end.character);a=_l(this._context,T.uri,W,t,this._commentController,await this._folderRepoManager.getCurrentUser(),this._githubRepositories)}}if(!a)return;const o=this.getCommentThreadCacheKey(t.path,t.diffSide===yn.LEFT);this._commentThreadCache[o]?this._commentThreadCache[o].push(a):this._commentThreadCache[o]=[a]}),e.changed.forEach(t=>{const i=this.getCommentThreadCacheKey(t.path,t.diffSide===yn.LEFT),r=this._commentThreadCache[i]?this._commentThreadCache[i].findIndex(a=>a.gitHubThreadId===t.id):-1;if(r>-1){const a=this._commentThreadCache[i][r];Tu(this._context,a,t,this._githubRepositories)}}),e.removed.forEach(async t=>{const i=this.getCommentThreadCacheKey(t.path,t.diffSide===yn.LEFT),r=this._commentThreadCache[i].findIndex(a=>a.gitHubThreadId===t.id);if(r>-1){const a=this._commentThreadCache[i][r];this._commentThreadCache[i].splice(r,1),a.dispose()}})}onDidChangeActiveTextEditor(e){const t=s.window.tabGroups.activeTabGroup.activeTab,i=(t==null?void 0:t.input)instanceof s.TabInputText?t.input.uri:(t==null?void 0:t.input)instanceof s.TabInputTextDiff?t.input.original:void 0;if(e===void 0||!e.document.uri.authority.startsWith(eh.PREFIX)||!i||i.scheme!==qt.Pr)return;const r=Nn(i);if(!(!r||r.prNumber!==this.pullRequestModel.number))return this.tryAddCopilotMention(e,this.pullRequestModel)}hasCommentThread(e){if(e.uri.scheme!==qt.Pr)return!1;const t=Nn(e.uri);return!(!t||t.prNumber!==this.pullRequestModel.number)}getCommentSide(e){const t=Nn(e.uri);return t!=null&&t.isBase?yn.LEFT:yn.RIGHT}async createOrReplyComment(e,t,i,r){var a;const o=e.comments.length,v=i?!1:r!==void 0?r:this.pullRequestModel.hasPendingReview,T=await this.optimisticallyAddComment(e,t,v);try{if(o)await this.reply(e,t,i);else{const x=this._folderRepoManager.gitRelativeRootPath(e.uri.path),W=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await Promise.all([this.pullRequestModel.createReviewThread(t,x,e.range?e.range.start.line+1:void 0,e.range?e.range.end.line+1:void 0,W,i),Nu(e,await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),this._context)])}i&&await this.pullRequestModel.submitReview()}catch(x){(a=x.graphQLErrors)!=null&&a.length&&x.graphQLErrors[0].type==="NOT_FOUND"?s.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then(W=>{W==="Refresh"&&this.pullRequestModel.githubRepository.getPullRequest(this.pullRequestModel.number)}):s.window.showErrorMessage(`Creating comment failed: ${x}`),e.comments=e.comments.map(W=>(W instanceof ea&&W.id===T&&(W.mode=s.CommentMode.Editing),W))}}reply(e,t,i){const r=e.comments[0];if(r instanceof Hn)return this.pullRequestModel.createCommentReply(t,r.rawComment.graphNodeId,i);throw new Error("Cannot respond to temporary comment")}async optimisticallyEditComment(e,t){const i=await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),r=new ea(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!!t.label,i,t);return e.comments=e.comments.map(a=>a instanceof Hn&&a.commentId===t.commentId?r:a),r.id}async editComment(e,t){if(t instanceof Hn){const i=await this.optimisticallyEditComment(e,t);try{await this.pullRequestModel.editReviewComment(t.rawComment,t.body instanceof s.MarkdownString?t.body.value:t.body)}catch(r){s.window.showErrorMessage(`Editing comment failed ${r}`),e.comments=e.comments.map(a=>a instanceof ea&&a.id===i?new Hn(this._context,t.rawComment,e):a)}}else this.createOrReplyComment(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!1)}async deleteComment(e,t){t instanceof Hn?await this.pullRequestModel.deleteReviewComment(t.commentId):e.comments=e.comments.filter(i=>!(i instanceof ea&&i.id===t.id)),await this.pullRequestModel.validateDraftMode()}async startReview(e,t){var i;const r=e.comments.length;let a;try{if(a=await this.optimisticallyAddComment(e,t,!0),r)await this.reply(e,t,!1);else{const o=this._folderRepoManager.gitRelativeRootPath(e.uri.path),v=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(t,o,e.range?e.range.start.line+1:void 0,e.range?e.range.end.line+1:void 0,v)}this.setContextKey(!0)}catch(o){s.window.showErrorMessage("Starting review failed. Any review comments may be lost.",{modal:!0,detail:(i=o==null?void 0:o.message)!=null?i:o}),e.comments=e.comments.map(v=>(v instanceof ea&&v.id===a&&(v.mode=s.CommentMode.Editing),v))}}async openReview(){await Jn.createOrShow(this._telemetry,this._folderRepoManager.context.extensionUri,this._folderRepoManager,this.pullRequestModel),Jn.scrollToReview(),this._folderRepoManager.telemetry.sendTelemetryEvent("pr.openDescription")}async optimisticallyAddComment(e,t,i){const r=await this._folderRepoManager.getCurrentUser(this.pullRequestModel.githubRepository),a=new ea(e,t,i,r);return this.updateCommentThreadComments(e,[...e.comments,a]),a.id}updateCommentThreadComments(e,t){e.comments=t,Eo(e)}async createCommentOnResolve(e,t){const i=await this.pullRequestModel.getPendingReviewId();await this.createOrReplyComment(e,t,!i)}async resolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this.pullRequestModel.resolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this.pullRequestModel.unresolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async toggleReaction(e,t){e.parent.uri.scheme===qt.Pr&&(e.reactions&&!e.reactions.find(i=>i.label===t.label&&!!i.authorHasReacted)?await this.pullRequestModel.addCommentReaction(e.rawComment.graphNodeId,t):await this.pullRequestModel.deleteCommentReaction(e.rawComment.graphNodeId,t))}setContextKey(e){s.commands.executeCommand("setContext","prInDraft",e)}removeAllCommentsThreads(){Object.keys(this._commentThreadCache).forEach(e=>{c(this._commentThreadCache[e]),delete this._commentThreadCache[e]})}dispose(){super.dispose(),this.removeAllCommentsThreads(),zt(this._commentHandlerId)}};qs(bd,"ID","PullRequestCommentController"),qs(bd,"PREFIX","github-browse");let om=bd;var yy=Object.defineProperty,wy=(n,e,t)=>e in n?yy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ru=(n,e,t)=>wy(n,typeof e!="symbol"?e+"":e,t);class _y extends d{constructor(e,t){super(),this.commentsController=e,this._telemetry=t,Ru(this,"_prCommentHandlers",{}),Ru(this,"_prCommentingRangeProviders",{}),Ru(this,"_activeChangeListeners",new Map),Ru(this,"resourceHints",{schemes:[qt.Pr]}),this.commentsController.commentingRangeProvider=this,this.commentsController.reactionHandler=this.toggleReaction.bind(this)}async provideCommentingRanges(e,t){const i=e.uri,r=Nn(i);return!r||!this._prCommentingRangeProviders[r.prNumber]?void 0:this._prCommentingRangeProviders[r.prNumber].provideCommentingRanges.bind(this._prCommentingRangeProviders[r.prNumber])(e,t)}async toggleReaction(e,t){const i=e.parent.uri,r=Nn(i);return!r||!this._prCommentHandlers[r.prNumber]||!this._prCommentHandlers[r.prNumber].handler.toggleReaction?void 0:this._prCommentHandlers[r.prNumber].handler.toggleReaction.bind(this._prCommentHandlers[r.prNumber].handler)(e,t)}unregisterCommentController(e){this._prCommentHandlers[e]&&(this._prCommentHandlers[e].dispose(),delete this._prCommentHandlers[e])}registerCommentController(e,t,i){if(this._prCommentHandlers[e])return this._prCommentHandlers[e].refCount+=1,this._prCommentHandlers[e];this._activeChangeListeners.has(i)||this._activeChangeListeners.set(i,i.onDidChangeActivePullRequest(a=>{var o;a.old&&((o=this._prCommentHandlers[a.old.number])==null||o.dispose())}));const r=new om(t,i,this.commentsController,this._telemetry);return this._prCommentHandlers[e]={handler:r,refCount:1,dispose:()=>{this._prCommentHandlers[e]&&(this._prCommentHandlers[e].refCount-=1,this._prCommentHandlers[e].refCount===0&&(this._prCommentHandlers[e].handler.dispose(),delete this._prCommentHandlers[e]))}},this._prCommentHandlers[e]}registerCommentingRangeProvider(e,t){return this._prCommentingRangeProviders[e]=t,{dispose:()=>{delete this._prCommentingRangeProviders[e]}}}dispose(){super.dispose(),Object.keys(this._prCommentHandlers).forEach(e=>{this._prCommentHandlers[e].handler.dispose()}),this._prCommentingRangeProviders={},this._prCommentHandlers={}}}function vl(n,e){const t=n.definitions,r=e.definitions.concat(t);return{...e,...n,definitions:r}}function ky(n){if(!n)return s.ChatSessionStatus.InProgress;switch(n.event){case Ft.CopilotStarted:return s.ChatSessionStatus.InProgress;case Ft.CopilotFinished:return s.ChatSessionStatus.Completed;case Ft.CopilotFinishedError:return s.ChatSessionStatus.Failed;default:return s.ChatSessionStatus.InProgress}}function Sy(n){switch(n){case xi.Started:return s.ChatSessionStatus.InProgress;case xi.Completed:return s.ChatSessionStatus.Completed;case xi.Failed:return s.ChatSessionStatus.Failed;default:return s.ChatSessionStatus.InProgress}}function Ry(n){const e=n;return!!e&&!!(e!=null&&e.name)&&(e==null?void 0:e.email)!==void 0}function Ey(n){const e=n;return!!e&&!!(e!=null&&e.slug)}var bl=(n=>(n.prTitle="PR_TITLE",n.commitOrPrTitle="COMMIT_OR_PR_TITLE",n.mergeMessage="MERGE_MESSAGE",n))(bl||{}),Eu=(n=>(n.prBody="PR_BODY",n.commitMessages="COMMIT_MESSAGES",n.blank="BLANK",n.prTitle="PR_TITLE",n))(Eu||{});function Ny(n){return n.__typename==="CheckRun"}var Ty=Object.defineProperty,Cy=(n,e,t)=>e in n?Ty(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,An=(n,e,t)=>Cy(n,typeof e!="symbol"?e+"":e,t);const lm=class $a extends d{constructor(e,t,i,r,a=!1){super(),An(this,"id"),An(this,"graphNodeId"),An(this,"number"),An(this,"title"),An(this,"titleHTML"),An(this,"html_url"),An(this,"state",Xi.Open),An(this,"stateReason"),An(this,"author"),An(this,"assignees"),An(this,"createdAt"),An(this,"updatedAt"),An(this,"milestone"),An(this,"githubRepository"),An(this,"_telemetry"),An(this,"remote"),An(this,"item"),An(this,"body"),An(this,"bodyHTML"),An(this,"_timelineEvents"),An(this,"_onDidChange",this._register(new s.EventEmitter)),An(this,"onDidChange",this._onDidChange.event),this._telemetry=e,this.githubRepository=t,this.remote=i,this.item=r,a||this.update(r)}get timelineEvents(){var e;return(e=this._timelineEvents)!=null?e:[]}set timelineEvents(e){(!this._timelineEvents||this._timelineEvents.length!==e.length)&&(this._timelineEvents=e,this._onDidChange.fire({timeline:!0}))}get isOpen(){return this.state===Xi.Open}get isClosed(){return this.state===Xi.Closed}get isMerged(){return this.state===Xi.Merged}get userAvatar(){if(this.item)return this.item.user.avatarUrl}get userAvatarUri(){if(this.item){const e=this.userAvatar;if(e){const t=s.Uri.parse(`${e}&s=64`),i=t.toString;return t.toString=function(r){return i.call(t,!0)},t}}}stateToStateEnum(e){let t=Xi.Closed;return e.toLowerCase()==="open"&&(t=Xi.Open),t}doUpdate(e){var t,i,r,a;const o={};this.id=e.id,this.graphNodeId=e.graphNodeId,this.number=e.number,this.html_url=e.url,this.author=e.user,this.createdAt=e.createdAt,this.title!==e.title&&(o.title=!0,this.title=e.title),e.titleHTML&&this.titleHTML!==e.titleHTML&&(this.titleHTML=e.titleHTML),(!this.bodyHTML||e.body!==this.body)&&this.bodyHTML!==e.bodyHTML&&(this.bodyHTML=e.bodyHTML),this.body!==e.body&&(o.body=!0,this.body=e.body),((t=this.milestone)==null?void 0:t.id)!==((i=e.milestone)==null?void 0:i.id)&&(o.milestone=!0,this.milestone=e.milestone),this.updatedAt!==e.updatedAt&&(this.updatedAt=e.updatedAt);const v=this.stateToStateEnum(e.state);return this.state!==v&&(o.state=!0,this.state=v),this.stateReason!==e.stateReason&&e.stateReason&&(o.state=!0,this.stateReason=e.stateReason),e.assignees&&(e.assignees.length!==((a=(r=this.assignees)==null?void 0:r.length)!=null?a:0)||e.assignees.some(T=>{var x;return(x=this.assignees)==null?void 0:x.every(W=>W.id!==T.id)}))&&(o.assignees=!0,this.assignees=e.assignees),o}update(e){const t=this.doUpdate(e);this.item=e,Object.keys(t).length>0&&this._onDidChange.fire(t)}equals(e){return!(!e||this.number!==e.number||this.html_url!==e.html_url)}updateIssueInput(e){return{id:e}}updateIssueSchema(e){return e.UpdateIssue}async edit(e){try{const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:this.updateIssueSchema(i),variables:{input:{...this.updateIssueInput(this.graphNodeId),body:e.body,title:e.title}}});if(r!=null&&r.updateIssue.issue){const a={};this.body!==r.updateIssue.issue.body&&(a.body=!0,this.item.body=r.updateIssue.issue.body,this.bodyHTML=r.updateIssue.issue.bodyHTML),this.title!==r.updateIssue.issue.title&&(a.title=!0,this.title=r.updateIssue.issue.title,this.titleHTML=r.updateIssue.issue.titleHTML),this._onDidChange.fire(a)}return r.updateIssue.issue}catch(t){throw new Error(we(t))}}canEdit(){const e=this.author&&this.author.login;return this.githubRepository.isCurrentUser(this.remote.authProviderId,e)}async createIssueComment(e){const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:i.AddIssueComment,variables:{input:{subjectId:this.graphNodeId,body:e}}});return this._onDidChange.fire({timeline:!0}),Sm(r.addComment.commentEdge.node,this.githubRepository)}async editIssueComment(e,t){try{const{mutate:i,schema:r}=await this.githubRepository.ensure(),{data:a}=await i({mutation:r.EditIssueComment,variables:{input:{id:e.graphNodeId,body:t}}});return this._onDidChange.fire({timeline:!0}),Sm(a.updateIssueComment.issueComment,this.githubRepository)}catch(i){throw new Error(we(i))}}async deleteIssueComment(e){try{const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.deleteComment,{owner:i.owner,repo:i.repositoryName,comment_id:Number(e)}),this._onDidChange.fire({timeline:!0})}catch(t){throw new Error(we(t))}}async setLabels(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();try{const r=await t.call(t.api.issues.setLabels,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,labels:e});this.item.labels=r.data.map(a=>{var o;return{name:a.name,color:a.color,description:(o=a.description)!=null?o:void 0}}),this._onDidChange.fire({labels:!0})}catch{y.error(`Failed to add labels to PR #${this.number}`,$a.ID),s.window.showWarningMessage(s.l10n.t("Some, or all, labels could not be added to the pull request."))}}async removeLabel(e){const{octokit:t,remote:i}=await this.githubRepository.ensure(),r=await t.call(t.api.issues.removeLabel,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,name:e});this.item.labels=r.data.map(a=>{var o;return{name:a.name,color:a.color,description:(o=a.description)!=null?o:void 0}}),this._onDidChange.fire({labels:!0})}async removeProjects(e){await this.doRemoveProjects(e)&&this._onDidChange.fire({projects:!0})}async doRemoveProjects(e){var t;const{mutate:i,schema:r}=await this.githubRepository.ensure();try{return await Promise.all(e.map(a=>i({mutation:r.RemovePullRequestFromProject,variables:{input:{itemId:a.id,projectId:a.project.id}}}))),this.item.projectItems=(t=this.item.projectItems)==null?void 0:t.filter(a=>!e.find(o=>o.project.id===a.project.id)),!0}catch(a){return y.error(a,$a.ID),!1}}async addProjects(e){const{mutate:t,schema:i}=await this.githubRepository.ensure();try{const r=await Promise.all(e.map(a=>t({mutation:i.AddPullRequestToProject,variables:{input:{contentId:this.item.graphNodeId,projectId:a.id}}})));this.item.projectItems||(this.item.projectItems=[]),this.item.projectItems.push(...e.map((a,o)=>({project:a,id:r[o].data.addProjectV2ItemById.item.id})))}catch(r){y.error(r,$a.ID)}}async updateProjects(e){var t,i;const r=e.filter(o=>{var v;return!((v=this.item.projectItems)!=null&&v.find(T=>T.project.id===o.id))}),a=(i=(t=this.item.projectItems)==null?void 0:t.filter(o=>!e.find(v=>v.id===o.project.id)))!=null?i:[];return await this.removeProjects(a),await this.addProjects(r),this._onDidChange.fire({projects:!0}),this.item.projectItems}getUpdatesQuery(e){return e.LatestIssueUpdates}async getLastUpdateTime(e){y.debug(`Fetch timeline events of issue #${this.number} - enter`,$a.ID);const t=this.githubRepository,{query:i,remote:r,schema:a}=await t.ensure();try{const{data:o}=await i({query:this.getUpdatesQuery(a),variables:{owner:r.owner,name:r.repositoryName,number:this.number,since:new Date(e)}}),v=[e,new Date(o.repository.pullRequest.updatedAt),...o.repository.pullRequest.reactions.nodes.map(T=>new Date(T.createdAt)),...o.repository.pullRequest.comments.nodes.map(T=>new Date(T.updatedAt)),...o.repository.pullRequest.comments.nodes.flatMap(T=>T.reactions.nodes.map(x=>new Date(x.createdAt))),...o.repository.pullRequest.timelineItems.nodes.map(T=>{var x,W,te;const oe=T;if((x=oe.commit)!=null&&x.committedDate)return new Date(oe.commit.committedDate);const fe=T;return((te=(W=fe.comments)==null?void 0:W.nodes.length)!=null?te:0)>0?new Date(fe.comments.nodes[0].createdAt):new Date(T.createdAt)})];return new Date(Math.max(...v.map(T=>T.getTime())))}catch(o){return y.error(`Error fetching timeline events of issue #${this.number} - ${we(o)}`,$a.ID),e}}async getIssueTimelineEvents(e){y.debug(`Fetch timeline events of issue #${e.number} - enter`,Wn.ID);const{query:t,remote:i,schema:r}=await this.githubRepository.ensure();try{const{data:a}=await t({query:r.IssueTimelineEvents,variables:{owner:i.owner,name:i.repositoryName,number:e.number}});if(a.repository===null)return y.error("Unexpected null repository when getting issue timeline events",Wn.ID),[];const o=a.repository.pullRequest.timelineItems.nodes,v=await wd(o,await this.getCopilotTimelineEvents(e,!0),this.githubRepository),T=v.filter(x=>x.event===Ft.CrossReferenced&&!x.source.isIssue?!this.githubRepository.getExistingPullRequestModel(x.source.number)&&pe(x.source.owner,e.remote.owner)===0&&pe(x.source.repo,e.remote.repositoryName)===0:!1);for(const x of T)this.githubRepository.getPullRequest(x.source.number);return e.timelineEvents=v,v}catch(a){return console.log(a),[]}}async getCopilotTimelineEvents(e,t=!1){var i;if(!en[e.author.login])return[];y.debug(`Fetch Copilot timeline events of issue #${e.number} - enter`,Wn.ID);const{octokit:r,remote:a}=await this.githubRepository.ensure();try{const o=await Sl(r.api.issues.listEventsForTimeline,{issue_number:e.number,owner:a.owner,repo:a.repositoryName,per_page:100}),v=Yy(e,o);if(v.length===0)return[];if(!t){const T=e.timelineEvents.length>0?e.timelineEvents[e.timelineEvents.length-1]:void 0;let x;if(!T)x=v;else{const W=(i=Mu(T))!=null?i:0,te=v.filter(oe=>{var fe;return((fe=Mu(oe))!=null?fe:0)>W});x=[...e.timelineEvents,...te]}e.timelineEvents=x}return y.debug(`Fetch Copilot timeline events of issue #${e.number} - exit`,Wn.ID),v}catch(o){return y.error(`Error fetching Copilot timeline events of issue #${e.number} - ${we(o)}`,Wn.ID),[]}}async copilotWorkingStatus(e){const t=await this.getCopilotTimelineEvents(e);if(t.length>0){const i=t[t.length-1];if(i.event===Ft.CopilotFinished)return Ma.Done;if(i.event===Ft.CopilotStarted)return Ma.InProgress;if(i.event===Ft.CopilotFinishedError)return Ma.Error}return Ma.NotCopilotIssue}async updateMilestone(e){const{mutate:t,schema:i}=await this.githubRepository.ensure(),r=e==="null"?null:e;try{const a=await t({mutation:this.updateIssueSchema(i),variables:{input:{...this.updateIssueInput(this.graphNodeId),milestoneId:r}}});this.milestone=Au(a.data.updateIssue.issue.milestone),this._onDidChange.fire({milestone:!0})}catch(a){y.error(a,$a.ID)}}async replaceAssignees(e){var t,i,r;y.debug(`Replace assignees of issue #${this.number} - enter`,$a.ID);const{mutate:a,schema:o}=await this.githubRepository.ensure();try{if(o.ReplaceActorsForAssignable){const v=e.find(W=>en[W.login]),T=((t=this.assignees)==null?void 0:t.find(W=>en[W.login]))!==void 0;v&&!T&&this._telemetry.sendTelemetryEvent("pr.assignCopilot");const x=e.map(W=>W.id);await a({mutation:o.ReplaceActorsForAssignable,variables:{input:{actorIds:x,assignableId:this.graphNodeId}}})}else{const v=e.map(x=>x.login),T=((r=(i=this.assignees)==null?void 0:i.filter(x=>!e.find(W=>W.login===x.login)))!=null?r:[]).map(x=>x.login);await this.addAssignees(v),await this.deleteAssignees(T)}this.assignees=e,this._onDidChange.fire({assignees:!0})}catch(v){y.error(v,$a.ID)}y.debug(`Replace assignees of issue #${this.number} - done`,$a.ID)}async addAssignees(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.addAssignees,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,assignees:e})}async deleteAssignees(e){const{octokit:t,remote:i}=await this.githubRepository.ensure();await t.call(t.api.issues.removeAssignees,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,assignees:e})}async close(){var e;const{octokit:t,remote:i}=await this.githubRepository.ensure(),r=await t.call(t.api.issues.update,{owner:i.owner,repo:i.repositoryName,issue_number:this.number,state:"closed"});return this.state=Xi.Closed,this._onDidChange.fire({state:!0}),{item:km(r.data,this.githubRepository),closedEvent:{createdAt:(e=r.data.closed_at)!=null?e:"",event:Ft.Closed,id:`${r.data.id}`,actor:{login:r.data.closed_by.login,avatarUrl:r.data.closed_by.avatar_url,url:r.data.closed_by.url}}}}};An(lm,"ID","IssueModel");let Gn=lm;var Py=Xt(58667),um=Xt.n(Py),Ay=Xt(8575),My=Xt.n(Ay),Iy=Xt(87831),cm=Xt.n(Iy),Dy=Xt(72256),yl=Xt.n(Dy),Fy=Object.defineProperty,xy=(n,e,t)=>e in n?Fy(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xn=(n,e,t)=>xy(n,typeof e!="symbol"?e+"":e,t);const dm=20,fm="GraphQL";var ia=(n=>(n.Unknown="unknown",n.Admin="ADMIN",n.Maintain="MAINTAIN",n.Read="READ",n.Triage="TRIAGE",n.Write="WRITE",n))(ia||{}),Ro=(n=>(n[n.None=0]="None",n[n.Try=1]="Try",n[n.Force=2]="Force",n))(Ro||{}),hm=(n=>(n.Unprocessable="UNPROCESSABLE",n))(hm||{}),Ma=(n=>(n.NotCopilotIssue="NotCopilotIssue",n.InProgress="InProgress",n.Error="Error",n.Done="Done",n))(Ma||{});const mm=class p0 extends d{constructor(e,t,i,r,a,o=!1){super(),this._id=e,this.remote=t,this.rootUri=i,this._credentialStore=r,this.telemetry=a,Xn(this,"_initialized",!1),Xn(this,"_hub"),Xn(this,"_metadata"),Xn(this,"commentsController"),Xn(this,"commentsHandler"),Xn(this,"_pullRequestModelsByNumber",new(Ih())({maxAge:1e3*60*60*4,stale:!0,updateAgeOnGet:!0,dispose:(v,T)=>{c(T.disposables),T.model.dispose()}})),Xn(this,"_queriesSchema"),Xn(this,"_areQueriesLimited",!1),Xn(this,"_onDidAddPullRequest",this._register(new s.EventEmitter)),Xn(this,"onDidAddPullRequest",this._onDidAddPullRequest.event),Xn(this,"_onDidChangePullRequests",this._register(new s.EventEmitter)),Xn(this,"onDidChangePullRequests",this._onDidChangePullRequests.event),Xn(this,"query",async(v,T=!1,x)=>{var W,te,oe;const fe=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!fe){const Pe=(W=v.query.definitions[0].name)==null?void 0:W.value;return y.debug(`Not available for query: ${Pe!=null?Pe:"unknown"}`,fm),{data:null,loading:!1,networkStatus:xn.error,stale:!1}}let ye;try{ye=await fe.query(v)}catch(Pe){const Ce=(te=v.query.definitions[0].name)==null?void 0:te.value,De=Pe.graphQLErrors?Pe.graphQLErrors:void 0;if(y.error(`Error querying GraphQL API (${Ce}): ${Pe.message}${De?`. ${De.map(Le=>{var $e;return($e=Le.extensions)==null?void 0:$e.code}).join(",")}`:""}`,this.id),x)return v.query=x.query,this.query(v,T);if(De&&De.length&&De.some(Le=>{var $e;return(($e=Le.extensions)==null?void 0:$e.code)==="undefinedField"})&&!this._areQueriesLimited)this._areQueriesLimited=!0,this._queriesSchema=vl(yl(),cm()),v.query=this.schema[v.query.definitions[0].name.value],ye=await fe.query(v);else if(!(T&&sl(Pe)))if((oe=Pe.message)!=null&&oe.includes("401 Unauthorized"))await this._credentialStore.recreate(s.l10n.t("Your authentication session has lost authorization. You need to sign in again to regain authorization.")),ye=await fe.query(v);else throw Pe.graphQLErrors&&Pe.graphQLErrors.length&&Pe.graphQLErrors[0].message==="Resource not accessible by integration"&&await this.codespacesTokenError(v),Pe}return ye}),Xn(this,"mutate",async(v,T)=>{var x;const W=this.authMatchesServer&&this.hub&&this.hub.graphql;if(!W)return y.debug(`Not available for query: ${v.context}`,fm),{data:null,loading:!1,networkStatus:xn.error,stale:!1};let te;try{te=await W.mutate(v)}catch(oe){if(T){if(v.mutation=T.mutation,(x=v.variables)!=null&&x.input)for(const fe of T.deleteProps)delete v.variables.input[fe];return this.mutate(v)}else oe.graphQLErrors&&oe.graphQLErrors.length&&oe.graphQLErrors[0].message==="Resource not accessible by integration"&&await this.codespacesTokenError(v);throw oe}return te}),Xn(this,"_repoAccessAndMergeMethods"),Xn(this,"_branchHasMergeQueue",new Map),Xn(this,"_useFallbackChecks",!1),this._queriesSchema=vl(yl(),um()),o||this.ensureCommentsController()}get hub(){if(!this._hub)throw this._initialized?new lo:new Error("Call ensure() before accessing this property.");return this._hub}equals(e){return this.remote.equals(e.remote)}getExistingPullRequestModel(e){var t;return(t=this._pullRequestModelsByNumber.get(e))==null?void 0:t.model}get pullRequestModels(){return Array.from(this._pullRequestModelsByNumber.values().map(e=>e.model))}async ensureCommentsController(){var e;try{if(this.commentsController)return;await this.ensure(),this.commentsController=s.comments.createCommentController(`${om.PREFIX}-${(e=this.remote.gitProtocol.normalizeUri())==null?void 0:e.authority}-${this.remote.owner}-${this.remote.repositoryName}`,`Pull Request (${this.remote.owner}/${this.remote.repositoryName})`),this.commentsHandler=new _y(this.commentsController,this.telemetry),this._register(this.commentsHandler),this._register(this.commentsController)}catch(t){console.log(t)}}dispose(){super.dispose(),this.commentsController=void 0,this.commentsHandler=void 0}get octokit(){return this.hub&&this.hub.octokit}get id(){return`${p0.ID}+${this._id}`}get authMatchesServer(){return this.remote.githubServerType===pn.GitHubDotCom&&this._credentialStore.isAuthenticated(li.github)?!0:!!(this.remote.githubServerType===pn.Enterprise&&this._credentialStore.isAuthenticated(li.githubEnterprise))}async codespacesTokenError(e){var t;if(Du()&&((t=await this._metadata)!=null&&t.fork))throw this.telemetry.sendTelemetryErrorEvent("pr.codespacesTokenError",{action:e.context}),new Error(s.l10n.t("This action cannot be completed in a GitHub Codespace on a fork."))}get schema(){return this._queriesSchema}async getMetadataForRepo(e,t){if(this._metadata&&this.remote.owner===e&&this.remote.repositoryName===t)return y.debug(`Using cached metadata for repo ${e}/${t}`,this.id),this._metadata;y.debug("Fetch metadata for repo - enter",this.id);const{octokit:i}=await this.ensure(),r=await i.call(i.api.repos.get,{owner:e,repo:t});return y.debug(`Fetch metadata for repo ${e}/${t} - done`,this.id),{...r.data,currentUser:i.currentUser}}async getMetadata(){var e;if(this._metadata){const i=await this._metadata;return y.debug(`Using cached metadata ${(e=i.owner)==null?void 0:e.login}/${i.name}`,this.id),i}y.debug("Fetch metadata - enter",this.id);const{remote:t}=await this.ensure();return this._metadata=this.getMetadataForRepo(t.owner,t.repositoryName),y.debug(`Fetch metadata ${t.owner}/${t.repositoryName} - done`,this.id),this._metadata}async resolveRemote(){try{const{clone_url:e}=await this.getMetadata();this.remote=ps.remoteAsGitHub(El(this.remote.remoteName,e,this.remote.gitProtocol),this.remote.githubServerType)}catch(e){if(y.warn(`Unable to resolve remote: ${e}`),sl(e))return!1}return!0}async ensure(e=!1){this._initialized=!0;const t=this._hub;return this._credentialStore.isAuthenticated(this.remote.authProviderId)?e?this._hub=await this._credentialStore.getHubEnsureAdditionalScopes(this.remote.authProviderId):this._hub=this._credentialStore.getHub(this.remote.authProviderId):(await this._credentialStore.create(void 0,e),this._credentialStore.isAuthenticated(this.remote.authProviderId)||(this._hub=await this._credentialStore.showSignInNotification(this.remote.authProviderId))),t!==this._hub&&(this._areQueriesLimited||this._credentialStore.areScopesOld(this.remote.authProviderId)?(this._areQueriesLimited=!0,this._queriesSchema=vl(yl(),cm())):this._credentialStore.areScopesExtra(this.remote.authProviderId)?this._queriesSchema=vl(yl(),My()):this._queriesSchema=vl(yl(),um())),this}async ensureAdditionalScopes(){return this.ensure(!0)}async getDefaultBranch(){const e=Om();if(e)return e;try{return(await this.getMetadata()).default_branch}catch(t){y.warn(`Fetching default branch failed: ${t}`,this.id)}return"master"}async getPullRequestTemplates(){try{y.debug("Fetch pull request templates - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),r=await e({query:i.PullRequestTemplates,variables:{owner:t.owner,name:t.repositoryName}});return y.debug("Fetch pull request templates - done",this.id),r.data.repository.pullRequestTemplates.map(a=>a.body)}catch{}}async getRepoAccessAndMergeMethods(e=!1){var t,i,r,a,o,v;try{if(!this._repoAccessAndMergeMethods||e){y.debug("Fetch repo permissions and available merge methods - enter",this.id);const T=await this.getMetadata();y.debug("Fetch repo permissions and available merge methods - done",this.id);const x=(i=(t=T.permissions)==null?void 0:t.push)!=null?i:!1;this._repoAccessAndMergeMethods={hasWritePermission:x,mergeMethodsAvailability:{merge:(r=T.allow_merge_commit)!=null?r:!1,squash:(a=T.allow_squash_merge)!=null?a:!1,rebase:(o=T.allow_rebase_merge)!=null?o:!1},viewerCanAutoMerge:(v=T.allow_auto_merge&&x)!=null?v:!1}}return this._repoAccessAndMergeMethods}catch(T){y.warn(`GitHubRepository> Fetching repo permissions and available merge methods failed: ${T}`)}return{hasWritePermission:!0,mergeMethodsAvailability:{merge:!0,squash:!0,rebase:!0},viewerCanAutoMerge:!1}}async mergeQueueMethodForBranch(e){var t,i;if(this._branchHasMergeQueue.has(e))return this._branchHasMergeQueue.get(e);try{y.debug("Fetch branch has merge queue - enter",this.id);const{query:r,remote:a,schema:o}=await this.ensure();if(!o.MergeQueueForBranch)return;const v=await r({query:o.MergeQueueForBranch,variables:{owner:a.owner,name:a.repositoryName,branch:e}});y.debug("Fetch branch has merge queue - done",this.id);const T=Cm((i=(t=v.data.repository.mergeQueue)==null?void 0:t.configuration)==null?void 0:i.mergeMethod);return T&&this._branchHasMergeQueue.set(e,T),T}catch(r){y.error(`Fetching branch has merge queue failed: ${r}`,this.id)}}async commit(e,t,i){y.debug(`Committing files to branch ${e} - enter`,this.id);let r=!1;try{const{octokit:a,remote:o}=await this.ensure(),v=(await a.call(a.api.repos.getBranch,{owner:o.owner,repo:o.repositoryName,branch:e})).data.commit.sha,T=(await a.call(a.api.repos.getCommit,{owner:o.owner,repo:o.repositoryName,ref:v})).data.commit.tree.sha,x=[];for(const[oe,fe]of i)x.push({path:oe.substring(1),mode:"100644",content:fe.toString()});const W=(await a.call(a.api.git.createTree,{owner:o.owner,repo:o.repositoryName,base_tree:T,tree:x})).data.sha,te=(await a.call(a.api.git.createCommit,{owner:o.owner,repo:o.repositoryName,message:t,tree:W,parents:[v]})).data.sha;await a.call(a.api.git.updateRef,{owner:o.owner,repo:o.repositoryName,ref:`heads/${e}`,sha:te}),r=!0}catch(a){y.error(`Committing files to branch ${e} failed: ${a}`,this.id)}return y.debug(`Committing files to branch ${e} - done`,this.id),r}async getCommitParent(e){y.debug(`Fetch commit for ref ${e} - enter`,this.id);try{const{octokit:t,remote:i}=await this.ensure();return(await t.call(t.api.repos.getCommit,{owner:i.owner,repo:i.repositoryName,ref:e})).data.parents[0].sha}catch(t){y.error(`Fetching commit for ref ${e} failed: ${t}`,this.id)}y.debug(`Fetch commit for ref ${e} - done`,this.id)}async getAllPullRequests(e){let t;try{y.debug("Fetch all pull requests - enter",this.id);const i=await this.ensure();t=i.remote;const r=i.octokit,a=await r.call(r.api.pulls.list,{owner:t.owner,repo:t.repositoryName,per_page:dm,page:e||1}),o=!!a.headers.link&&a.headers.link.indexOf('rel="next"')>-1;if(!a.data)return y.warn(`No result data for ${t.owner}/${t.repositoryName} Status: ${a.status}`),{items:[],hasMorePages:!1,totalCount:0};const v=a.data.map(T=>T.head.repo?this.createOrUpdatePullRequestModel(Cu(T,this)):(y.appendLine("The remote branch for this PR was already deleted.",this.id),null)).filter(T=>T!==null);return y.debug("Fetch all pull requests - done",this.id),{items:v,hasMorePages:o}}catch(i){if(y.error(`Fetching all pull requests failed: ${i}`,this.id),i.status===404)s.window.showWarningMessage(`Fetching all pull requests for remote '${t==null?void 0:t.remoteName}' failed, please check if the repository ${t==null?void 0:t.owner}/${t==null?void 0:t.repositoryName} is valid.`);else throw i}}async getPullRequestForBranch(e,t){var i;let r;try{y.debug("Fetch pull requests for branch - enter",this.id);const a=await this.ensure();r=a.remote;const{query:o,schema:v}=a,{data:T}=await o({query:v.PullRequestForHead,variables:{owner:r.owner,name:r.repositoryName,headRefName:e}});if(y.debug("Fetch pull requests for branch - done",this.id),T!=null&&T.repository&&T.repository.pullRequests.nodes.length>0){const x=(await Promise.all(T.repository.pullRequests.nodes.map(te=>kl(te,this)))).filter(te=>{var oe;return((oe=te.head)==null?void 0:oe.repo.owner)===t});if(x.length===0)return;const W=(i=x.find(te=>te.state.toLowerCase()==="open"))!=null?i:x[0];return this.createOrUpdatePullRequestModel(W)}}catch(a){y.error(`Fetching pull request for branch failed: ${a}`,this.id),a.status===404&&s.window.showWarningMessage(`Fetching pull request for branch for remote '${r==null?void 0:r.remoteName}' failed, please check if the repository ${r==null?void 0:r.owner}/${r==null?void 0:r.repositoryName} is valid.`)}}async canGetProjectsNow(){let{schema:e}=await this.ensure();return!!(e.GetRepoProjects&&e.GetOrgProjects)}async getOrgProjects(){y.debug("Fetch org projects - enter",this.id);let{query:e,remote:t,schema:i}=await this.ensure();const r=[];try{const{data:a}=await e({query:i.GetOrgProjects,variables:{owner:t.owner,after:null}});a&&a.organization.projectsV2&&a.organization.projectsV2.nodes&&a.organization.projectsV2.nodes.forEach(o=>{r.push(o)})}catch(a){return y.error(`Unable to fetch org projects: ${a}`,this.id),r}return y.debug("Fetch org projects - done",this.id),r}async getProjects(){var e;try{y.debug("Fetch projects - enter",this.id);let{query:t,remote:i,schema:r}=await this.ensure();if(!r.GetRepoProjects){const v=await this.ensureAdditionalScopes();t=v.query,i=v.remote,r=v.schema}const{data:a}=await t({query:r.GetRepoProjects,variables:{owner:i.owner,name:i.repositoryName}});y.debug("Fetch projects - done",this.id);const o=[];return a&&((e=a.repository)!=null&&e.projectsV2)&&a.repository.projectsV2.nodes&&a.repository.projectsV2.nodes.forEach(v=>{o.push(v)}),o}catch(t){y.error(`Unable to fetch projects: ${t}`,this.id);return}}async getMilestones(e=!1){var t;try{y.debug("Fetch milestones - enter",this.id);const{query:i,remote:r,schema:a}=await this.ensure(),o=["OPEN"];e&&o.push("CLOSED");const{data:v}=await i({query:a.GetMilestones,variables:{owner:r.owner,name:r.repositoryName,states:o}});y.debug("Fetch milestones - done",this.id);const T=[];return v&&((t=v.repository)!=null&&t.milestones)&&v.repository.milestones.nodes&&v.repository.milestones.nodes.forEach(x=>{const W=Au(x);W&&T.push(W)}),T}catch(i){y.error(`Unable to fetch milestones: ${i}`,this.id);return}}async getLines(e,t,i,r){var a;y.debug("Fetch milestones - enter",this.id);const{query:o,remote:v,schema:T}=await this.ensure(),{data:x}=await o({query:T.GetFileContent,variables:{owner:v.owner,name:v.repositoryName,expression:`${e}:${t}`}});if((a=x.repository)!=null&&a.object.text)return x.repository.object.text.split(`
`).slice(i-1,r).join(`
`)}async getIssues(e,t){try{y.debug("Fetch issues with query - enter",this.id);const{query:i,schema:r}=await this.ensure(),{data:a}=await i({query:r.Issues,variables:{query:`${t} type:issue`}});y.debug("Fetch issues with query - done",this.id);const o=[];return a&&a.search.edges&&await Promise.all(a.search.edges.map(async v=>{v.node.id&&o.push(await Am(v.node,this))})),{items:o,hasMorePages:a.search.pageInfo.hasNextPage,totalCount:a.search.issueCount}}catch(i){y.error(`Unable to fetch issues with query: ${i}`,this.id);return}}async getMaxIssue(){try{y.debug("Fetch max issue - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),{data:r}=await e({query:i.MaxIssue,variables:{owner:t.owner,name:t.repositoryName}});return y.debug("Fetch max issue - done",this.id),r!=null&&r.repository&&r.repository.issues.edges.length===1?r.repository.issues.edges[0].node.number:void 0}catch(e){y.error(`Unable to fetch issues with query: ${e}`,this.id);return}}async getViewerPermission(){try{y.debug("Fetch viewer permission - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),{data:r}=await e({query:i.GetViewerPermission,variables:{owner:t.owner,name:t.repositoryName}});return y.debug("Fetch viewer permission - done",this.id),ew(r)}catch(e){return y.error(`Unable to fetch viewer permission: ${e}`,this.id),"unknown"}}async getWorkflowRunsFromAction(e){const{octokit:t,remote:i}=await this.ensure(),r=new Date(e),a=`>=${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`;return await Sl(t.api.actions.listWorkflowRunsForRepo,{owner:i.owner,repo:i.repositoryName,event:"dynamic",created:a})}async getWorkflowJobs(e){const{octokit:t,remote:i}=await this.ensure();return(await t.call(t.api.actions.listJobsForWorkflowRun,{owner:i.owner,repo:i.repositoryName,run_id:e})).data.jobs}async fork(){try{y.debug("Fork repository",this.id);const{octokit:e,remote:t}=await this.ensure(),i=await e.call(e.api.repos.createFork,{owner:t.owner,repo:t.repositoryName});y.debug("Fork repository - done",this.id);const r=Date.now();let a=async()=>{try{return await e.call(e.api.repos.get,{owner:i.data.owner.login,repo:i.data.name}),y.appendLine("Fork ready",this.id),!0}catch{return y.appendLine("Fork not ready yet",this.id),!1}};for(;!await a()&&Date.now()-r<5e3;)await new Promise(o=>setTimeout(o,500));return i.data.clone_url}catch(e){y.error(`GitHubRepository> Forking repository failed: ${e}`,this.id);return}}async getRepositoryForkDetails(){try{y.debug("Fetch repository fork details - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure(),{data:r}=await e({query:i.GetRepositoryForkDetails,variables:{owner:t.owner,name:t.repositoryName}});return y.debug("Fetch repository fork details - done",this.id),r.repository}catch(e){y.error(`Unable to fetch repository fork details: ${e}`,this.id);return}}async getAuthenticatedUser(){return await this._credentialStore.getCurrentUser(this.remote.authProviderId)}async getAuthenticatedUserEmails(){try{y.debug("Fetch authenticated user emails - enter",this.id);const{octokit:e}=await this.ensure(),{data:t}=await e.call(e.api.users.listEmailsForAuthenticatedUser,{});y.debug("Fetch authenticated user emails - done",this.id);const i=t.some(r=>r.visibility==="private");return t.filter(r=>i?r.email.endsWith("@users.noreply.github.com"):r.verified).sort((r,a)=>+a.primary-+r.primary).map(r=>r.email)}catch(e){return y.error(`Unable to fetch authenticated user emails: ${e}`,this.id),[]}}createOrUpdatePullRequestModel(e,t=!1){var i;let r=(i=this._pullRequestModelsByNumber.get(e.number))==null?void 0:i.model;if(r)r.update(e);else{r=new fn(this._credentialStore,this.telemetry,this,this.remote,e);const a=r,o=[];o.push(r.onDidChange(v=>this._onPullRequestModelChanged(a,v))),this._pullRequestModelsByNumber.set(e.number,{model:r,disposables:o}),t||this._onDidAddPullRequest.fire(r)}return r}_onPullRequestModelChanged(e,t){this._onDidChangePullRequests.fire([{model:e,event:t}])}async createPullRequest(e){try{y.debug("Create pull request - enter",this.id);const t=await this.getMetadata(),{mutate:i,schema:r}=await this.ensure(),{data:a}=await i({mutation:r.CreatePullRequest,variables:{input:{repositoryId:t.node_id,baseRefName:e.base,headRefName:e.head,title:e.title,body:e.body,draft:e.draft}}});if(y.debug("Create pull request - done",this.id),!a)throw new Error("Failed to create pull request.");return this.createOrUpdatePullRequestModel(await kl(a.createPullRequest.pullRequest,this))}catch(t){throw y.error(`Unable to create PR: ${t}`,this.id),t}}async revertPullRequest(e,t,i,r){try{y.debug("Revert pull request - enter",this.id);const{mutate:a,schema:o}=await this.ensure(),{data:v}=await a({mutation:o.RevertPullRequest,variables:{input:{pullRequestId:e,title:t,body:i,draft:r}}});if(y.debug("Revert pull request - done",this.id),!v)throw new Error("Failed to create revert pull request.");return this.createOrUpdatePullRequestModel(await kl(v.revertPullRequest.revertPullRequest,this))}catch(a){throw y.error(`Unable to create revert PR: ${a}`,this.id),a}}async getPullRequest(e,t=!1){if(t&&this._pullRequestModelsByNumber.has(e))return y.debug(`Using cached pull request model for ${e}`,this.id),this._pullRequestModelsByNumber.get(e).model;try{const{query:i,remote:r,schema:a}=await this.ensure();y.debug(`Fetch pull request ${r.owner}/${r.repositoryName} ${e} - enter`,this.id);const{data:o}=await i({query:a.PullRequest,variables:{owner:r.owner,name:r.repositoryName,number:e}},!0);if(o.repository===null){y.error("Unexpected null repository when getting PR",this.id);return}return y.debug(`Fetch pull request ${e} - done`,this.id),this.createOrUpdatePullRequestModel(await kl(o.repository.pullRequest,this))}catch(i){y.error(`Unable to fetch PR: ${i}`,this.id);return}}async getIssue(e,t=!1){try{y.debug(`Fetch issue ${e} - enter`,this.id);const{query:i,remote:r,schema:a}=await this.ensure(),{data:o}=await i({query:t?a.IssueWithComments:a.Issue,variables:{owner:r.owner,name:r.repositoryName,number:e}},!0);if(o.repository===null){y.error("Unexpected null repository when getting issue",this.id);return}return y.debug(`Fetch issue ${e} - done`,this.id),new Gn(this.telemetry,this,r,await Am(o.repository.issue,this))}catch(i){y.error(`Unable to fetch issue: ${i}`,this.id);return}}async getFile(e,t){var i;const{octokit:r,remote:a}=await this.ensure();let o="",v;y.debug(`Fetch file ${e} - enter`,this.id);try{if(v=await r.call(r.api.repos.getContent,{owner:a.owner,repo:a.repositoryName,path:e,ref:t}),Array.isArray(v.data))throw new Error(`Unexpected array response when getting file ${e}`);o=(i=v.data.content)!=null?i:""}catch(x){if(y.error(`Unable to fetch file ${e}: ${x}`,this.id),x.status===404)return new Uint8Array(0);throw x}if(o===""&&v.data.encoding==="none"){y.debug(`Fetch blob file ${e} - enter`,this.id);const x=v.data.sha;v=await r.call(r.api.git.getBlob,{owner:a.owner,repo:a.repositoryName,file_sha:x}),o=v.data.content,y.debug(`Fetch blob file ${e} - done`,this.id)}const T=Ni.Buffer.from(o,v.data.encoding);return y.debug(`Fetch file ${e}, file length ${o.length} - done`,this.id),T}async hasBranch(e){var t,i,r;y.appendLine(`Fetch branch ${e} - enter`,this.id);const{query:a,remote:o,schema:v}=await this.ensure(),{data:T}=await a({query:v.GetBranch,variables:{owner:o.owner,name:o.repositoryName,qualifiedName:`refs/heads/${e}`}});return y.appendLine(`Fetch branch ${e} - done: ${((t=T.repository)==null?void 0:t.ref)!==null}`,this.id),(r=(i=T.repository)==null?void 0:i.ref)==null?void 0:r.target.oid}async listBranches(e,t){const{query:i,remote:r,schema:a}=await this.ensure();y.debug(`List branches for ${e}/${t} - enter`,this.id);let o=null,v=!1;const T=[],x=(await this.getMetadataForRepo(e,t)).default_branch,W=new Date().getTime();do try{const{data:te}=await i({query:a.ListBranches,variables:{owner:r.owner,name:r.repositoryName,first:100,after:o}});if(T.push(...te.repository.refs.nodes.map(oe=>oe.name)),new Date().getTime()-W>5e3){y.warn("List branches timeout hit.",this.id);break}v=te.repository.refs.pageInfo.hasNextPage,o=te.repository.refs.pageInfo.endCursor}catch(te){throw y.debug(`List branches for ${e}/${t} failed`,this.id),te}while(v);return y.debug(`List branches for ${e}/${t} - done`,this.id),T.includes(x)||T.unshift(x),T}async deleteBranch(e){const{octokit:t}=await this.ensure();if(e.validatePullRequestModel("Unable to delete branch"))try{await t.call(t.api.git.deleteRef,{owner:e.head.repositoryCloneUrl.owner,repo:e.head.repositoryCloneUrl.repositoryName,ref:`heads/${e.head.ref}`})}catch(i){y.error(`Unable to delete branch: ${i}`,this.id);return}}async getMentionableUsers(){y.debug("Fetch mentionable users - enter",this.id);const{query:e,remote:t,schema:i}=await this.ensure();let r=null,a=!1;const o=[];do try{const v=await e({query:i.GetMentionableUsers,variables:{owner:t.owner,name:t.repositoryName,first:100,after:r}});if(v.data.repository===null)return y.error("Unexpected null repository when getting mentionable users",this.id),[];o.push(...v.data.repository.mentionableUsers.nodes.map(T=>ln(T,this))),a=v.data.repository.mentionableUsers.pageInfo.hasNextPage,r=v.data.repository.mentionableUsers.pageInfo.endCursor}catch(v){return y.debug(`Unable to fetch mentionable users: ${v}`,this.id),o}while(a);return o}async resolveUser(e){var t;y.debug(`Fetch user ${e}`,this.id);const{query:i,schema:r}=await this.ensure();try{const{data:a}=await i({query:r.GetUser,variables:{login:e}});return Zy(a,this)}catch(a){(t=a.message)!=null&&t.startsWith("GraphQL error: Could not resolve to a User with the login of")||y.warn(a.message)}}async getAssignableUsers(){var e,t,i;y.debug("Fetch assignable users - enter",this.id);const{query:r,remote:a,schema:o}=await this.ensure();let v=null,T=!1;const x=[];do try{let W;if(o.GetSuggestedActors?W=await r({query:o.GetSuggestedActors,variables:{owner:a.owner,name:a.repositoryName,capabilities:["CAN_BE_ASSIGNED"],first:100,after:v}}):W=await r({query:o.GetAssignableUsers,variables:{owner:a.owner,name:a.repositoryName,first:100,after:v}},!0),W.data.repository===null)return y.error("Unexpected null repository when getting assignable users",this.id),[];const te=(i=(e=W.data.repository)==null?void 0:e.assignableUsers)!=null?i:(t=W.data.repository)==null?void 0:t.suggestedActors;x.push(...te==null?void 0:te.nodes.map(oe=>ln(oe,this))),T=te==null?void 0:te.pageInfo.hasNextPage,v=te==null?void 0:te.pageInfo.endCursor}catch(W){return y.debug(`Unable to fetch assignable users: ${W}`,this.id),W.graphQLErrors&&W.graphQLErrors.length>0&&W.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub user features will not work. ${W.graphQLErrors[0].message}`),x}while(T);return x}async cancelWorkflow(e){y.debug("Cancel workflow run - enter",this.id);const{octokit:t,remote:i}=await this.ensure();try{return(await t.call(t.api.actions.cancelWorkflowRun,{owner:i.owner,repo:i.repositoryName,run_id:e})).status===202}catch(r){return y.error(`Unable to cancel workflow run: ${r}`,this.id),!1}}async getOrgTeamsCount(){if(y.debug("Fetch Teams Count - enter",this.id),!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return 0;const{query:e,remote:t,schema:i}=await this.ensureAdditionalScopes();try{const a=(await e({query:i.GetOrganizationTeamsCount,variables:{login:t.owner}})).data.organization.teams.totalCount;return y.debug("Fetch Teams Count - done",this.id),a}catch(r){return y.debug(`Unable to fetch teams Count: ${r}`,this.id),r.graphQLErrors&&r.graphQLErrors.length>0&&r.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub teams features will not work. ${r.graphQLErrors[0].message}`),0}}async getOrgTeams(e){if(y.debug("Fetch Teams - enter",this.id),e===0||e===1&&!this._credentialStore.isAuthenticatedWithAdditionalScopes(this.remote.authProviderId))return y.debug("Fetch Teams - exit without fetching teams",this.id),[];const{query:t,remote:i,schema:r}=await this.ensureAdditionalScopes();let a=null,o=!1;const v=[];do try{const T=await t({query:r.GetOrganizationTeams,variables:{login:i.owner,after:a,repoName:i.repositoryName}});T.data.organization.teams.nodes.forEach(x=>{const W={avatarUrl:Hs(x.avatarUrl,void 0,this.remote.isEnterprise),name:x.name,url:x.url,slug:x.slug,id:x.id,org:i.owner};v.push({...W,repositoryNames:x.repositories.nodes.map(te=>te.name)})}),o=T.data.organization.teams.pageInfo.hasNextPage,a=T.data.organization.teams.pageInfo.endCursor}catch(T){return y.debug(`Unable to fetch teams: ${T}`,this.id),T.graphQLErrors&&T.graphQLErrors.length>0&&T.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub teams features will not work. ${T.graphQLErrors[0].message}`),v}while(o);return y.debug("Fetch Teams - exit",this.id),v}async getPullRequestParticipants(e){y.debug("Fetch participants from a Pull Request",this.id);const{query:t,remote:i,schema:r}=await this.ensure(),a=[];try{const o=await t({query:r.GetParticipants,variables:{owner:i.owner,name:i.repositoryName,number:e,first:18}});if(o.data.repository===null)return y.error("Unexpected null repository when fetching participants",this.id),[];a.push(...o.data.repository.pullRequest.participants.nodes.map(v=>ln(v,this)))}catch(o){y.debug(`Unable to fetch participants from a PullRequest: ${o}`,this.id),o.graphQLErrors&&o.graphQLErrors.length>0&&o.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&s.window.showWarningMessage(`GitHub user features will not work. ${o.graphQLErrors[0].message}`)}return a}async compareCommits(e,t){y.debug("Compare commits - enter",this.id);try{const{remote:i,octokit:r}=await this.ensure(),{data:a}=await r.call(r.api.repos.compareCommits,{repo:i.repositoryName,owner:i.owner,base:e,head:t});return y.debug("Compare commits - done",this.id),a}catch(i){y.error(`Unable to compare commits between ${e} and ${t}: ${i}`,this.id)}}isCurrentUser(e,t){return this._credentialStore.isCurrentUser(e,t)}async getStatusChecks(e){var t,i,r;y.debug("Get Status Checks - enter",this.id);const{query:a,remote:o,schema:v}=await this.ensure(),T=this._useFallbackChecks;let x;try{x=await a({query:T?v.GetChecksWithoutSuite:v.GetChecks,variables:{owner:o.owner,name:o.repositoryName,number:e}})}catch(ye){if(sl(ye)&&!T)return this._useFallbackChecks=!0,this.getStatusChecks(e);throw y.error(`Unable to fetch PR checks: ${ye}`,this.id),ye}if(x.data.repository===null||x.data.repository.pullRequest.commits.nodes===void 0||x.data.repository.pullRequest.commits.nodes.length===0)return y.error(`Unable to fetch PR checks: ${(t=x.errors)==null?void 0:t.map(ye=>ye.message).join(", ")}`,this.id),[null,null];const W=x.data.repository.pullRequest.commits.nodes[0].commit.statusCheckRollup,te=W?{state:this.mapStateAsCheckState(W.state),statuses:W.contexts.nodes.map(ye=>{var Pe,Ce,De,Le,$e,Ze,rt,Ve,We;return Ny(ye)?{id:ye.id,url:(Ce=(Pe=ye.checkSuite)==null?void 0:Pe.app)==null?void 0:Ce.url,avatarUrl:((Le=(De=ye.checkSuite)==null?void 0:De.app)==null?void 0:Le.logoUrl)&&Hs(ye.checkSuite.app.logoUrl,void 0,this.remote.isEnterprise),state:this.mapStateAsCheckState(ye.conclusion),description:ye.title,context:ye.name,workflowName:(Ze=($e=ye.checkSuite)==null?void 0:$e.workflowRun)==null?void 0:Ze.workflow.name,event:(Ve=(rt=ye.checkSuite)==null?void 0:rt.workflowRun)==null?void 0:Ve.event,targetUrl:ye.detailsUrl,isRequired:ye.isRequired}:{id:ye.id,url:(We=ye.targetUrl)!=null?We:void 0,avatarUrl:ye.avatarUrl?Hs(ye.avatarUrl,void 0,this.remote.isEnterprise):void 0,state:this.mapStateAsCheckState(ye.state),description:ye.description,context:ye.context,workflowName:void 0,event:void 0,targetUrl:ye.targetUrl,isRequired:ye.isRequired}})}:{state:kn.Success,statuses:[]};let oe=null;const fe=(i=x.data.repository.pullRequest.baseRef)==null?void 0:i.refUpdateRule;if(fe){const ye=x.data.repository.pullRequest.url;for(const $e of fe.requiredStatusCheckContexts||[])te.statuses.some(Ze=>Ze.context===$e)||(te.state=kn.Pending,te.statuses.push({id:"",url:void 0,avatarUrl:void 0,state:kn.Pending,description:s.l10n.t("Waiting for status to be reported"),context:$e,workflowName:void 0,event:void 0,targetUrl:ye,isRequired:!0}));const Pe=(r=fe.requiredApprovingReviewCount)!=null?r:0,Ce=x.data.repository.pullRequest.latestReviews.nodes.filter($e=>$e.authorCanPushToRepository&&$e.state==="APPROVED"),De=x.data.repository.pullRequest.reviewsRequestingChanges.nodes.filter($e=>$e.authorCanPushToRepository);let Le=kn.Success;Ce.length<Pe&&(Le=kn.Failure,De.length&&(Le=kn.Pending)),Pe>0&&(oe={count:Pe,approvals:Ce.map($e=>$e.author.login),requestedChanges:De.map($e=>$e.author.login),state:Le})}return y.debug("Get Status Checks - done",this.id),[te.statuses.length?te:null,oe]}mapStateAsCheckState(e){switch(e){case"EXPECTED":case"PENDING":case"ACTION_REQUIRED":case"STALE":return kn.Pending;case"ERROR":case"FAILURE":case"TIMED_OUT":case"STARTUP_FAILURE":return kn.Failure;case"SUCCESS":return kn.Success;case"NEUTRAL":case"SKIPPED":return kn.Neutral}return kn.Unknown}};Xn(mm,"ID","GitHubRepository");let Wn=mm;const Oy=/(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/,hs=/(https?:\/\/github\.com\/(([^\s]+)\/([^\s]+))\/([^\s]+\/)?(issues|pull)\/([0-9]+)(#issuecomment\-([0-9]+))?)|(([A-Za-z0-9_.\-]+)\/([A-Za-z0-9_.\-]+))?(#|GH-)([1-9][0-9]*)($|\b)/;function $s(n){if(!n)return;const e={owner:void 0,name:void 0,issueNumber:0};return n.length===7?(e.owner=n[2],e.name=n[3],e.issueNumber=parseInt(n[5]),e):n.length===16?(e.owner=n[3]||n[11],e.name=n[4]||n[12],e.issueNumber=parseInt(n[7]||n[14]),e.commentNumber=n[9]!==void 0?parseInt(n[9]):void 0,e):void 0}function wl(n,e,t){return n!==e&&t===void 0?t=300:t||(t=0),new s.Range(n,0,e,t)}async function Nu(n,e,t){var i,r;if(e.avatarUrl){const a=n;a.canReply={name:(i=e.name)!=null?i:e.login,iconPath:s.Uri.parse(e.avatarUrl)};const o=await cr.avatarCirclesAsImageDataUris(t,[e],28,28);a.canReply={name:(r=e.name)!=null?r:e.login,iconPath:o[0]}}else n.canReply=!0}function _l(n,e,t,i,r,a,o){const v=r.createCommentThread(e,t,[]);v.gitHubThreadId=i.id,v.comments=i.comments.map(W=>new Hn(n,W,v,o));const T=pm(i.isResolved);let x=s.CommentThreadApplicability.Current;return i.viewerCanResolve&&!i.isResolved?v.contextValue="canResolve":i.viewerCanUnresolve&&i.isResolved&&(v.contextValue="canUnresolve"),i.isOutdated&&(v.contextValue+="outdated",x=s.CommentThreadApplicability.Outdated),v.state={resolved:T,applicability:x},Eo(v),v.collapsibleState=gm(i,void 0,a.login),Nu(v,a,n),v}function pm(n){return n?s.CommentThreadState.Resolved:s.CommentThreadState.Unresolved}const Ly="commentExpandState",EC="collapseAll",Uy="expandUnresolved";function gm(n,e,t){var i,r;const a=t&&((i=n.comments[n.comments.length-1].user)==null?void 0:i.login)===t,o=n.comments.length===1&&n.comments[0].body.startsWith("```suggestion")&&n.comments[0].body.endsWith("```");return n.isResolved||!n.isOutdated&&a&&!o?s.CommentThreadCollapsibleState.Collapsed:(e===void 0&&(e=((r=s.workspace.getConfiguration(tt))==null?void 0:r.get(Ly))===Uy),e?s.CommentThreadCollapsibleState.Expanded:s.CommentThreadCollapsibleState.Collapsed)}function vm(n,e,t,i,r){if(!e.range)return;const a=s.window.visibleTextEditors;for(let o of a)if(o.document.uri.toString()===e.uri.toString()){const v=o.document.lineAt(e.range.end.line),T=new s.Range(e.range.start.line,0,e.range.end.line,v.text.length);Tu(n,e,t,i,r,T);break}}function Tu(n,e,t,i,r,a){var o,v;t.viewerCanResolve&&!t.isResolved?e.contextValue="canResolve":t.viewerCanUnresolve&&t.isResolved&&(e.contextValue="canUnresolve"),t.isOutdated&&(e.contextValue+="outdated");const T=pm(t.isResolved),x=t.isOutdated?s.CommentThreadApplicability.Outdated:s.CommentThreadApplicability.Current;if((((o=e.state)==null?void 0:o.resolved)!==T||((v=e.state)==null?void 0:v.applicability)!==x)&&(e.state={resolved:T,applicability:x}),e.collapsibleState=gm(t,r),a&&(e.range=a),e.comments.length===t.comments.length&&e.comments.every((W,te)=>W.commentId===`${t.comments[te].id}`)){let W=0;for(const te of e.comments)te instanceof Hn&&te.update(t.comments[W]),W++}else e.comments=t.comments.map(W=>new Hn(n,W,e,i));Eo(e)}function Eo(n){var e;if(((e=n.state)==null?void 0:e.resolved)===s.CommentThreadState.Resolved){n.label=s.l10n.t("Marked as resolved");return}if(n.comments.length){const t=q(n.comments,i=>i.originalAuthor.name).map(i=>`@${i.originalAuthor.name}`).join(", ");n.label=s.l10n.t("Participants: {0}",t)}else n.label=s.l10n.t("Start discussion")}function bm(n,e){let t=!1;const i=n.reactions,r=Iu().map((a,o)=>{if(!e)return{label:a.label,authorHasReacted:!1,count:0,iconPath:a.icon||""};const v=e.find(x=>x.label===a.label);let T;return v?T={label:v.label,authorHasReacted:v.viewerHasReacted,count:v.count,iconPath:a.icon||"",reactors:v.reactors.map(x=>({name:x}))}:T={label:a.label,authorHasReacted:!1,count:0,iconPath:a.icon||""},!t&&(!i||i[o].authorHasReacted!==T.authorHasReacted||i[o].count!==T.count)&&(t=!0),T});return n.reactions=r,t}function ym(n,e){e||(n.comments=n.comments.map(t=>(t instanceof Hn&&(t.rawComment.isDraft=!1),t.label=void 0,t)))}function yr(n){return n===li.githubEnterprise}function No(n,e){return ln(n,e)}function wm(n){return{label:n.label,ref:n.ref,sha:n.sha,repo:{cloneUrl:n.repo.clone_url,isInOrganization:n.repo.owner.type==="Organization",owner:n.repo.owner.login,name:n.repo.name}}}async function _m(n,e){const t=new RegExp(`href="https?://${Ke(e.remote.gitProtocol.url.authority)}\\/${Ke(e.remote.owner)}\\/${Ke(e.remote.repositoryName)}\\/(issues|pull)\\/([0-9]+)"`,"g");return Qe(n,t,async(i,r,a)=>r==="issues"?`href="${(await rp({owner:e.remote.owner,repo:e.remote.repositoryName,issueNumber:Number(a)})).toString()}""`:`href="${(await Mo({owner:e.remote.owner,repo:e.remote.repositoryName,pullRequestNumber:Number(a)})).toString()}"`)}function Cu(n,e){const{number:t,body:i,title:r,html_url:a,user:o,state:v,assignees:T,created_at:x,updated_at:W,head:te,base:oe,labels:fe,node_id:ye,id:Pe,draft:Ce}=n,De={id:Pe,graphNodeId:ye,number:t,body:i!=null?i:"",title:r,titleHTML:r,url:a,user:No(o,e),state:v,merged:n.merged||!1,assignees:T?T.map(Le=>No(Le,e)):void 0,createdAt:x,updatedAt:W,viewerCanUpdate:!1,head:te.repo?wm(te):void 0,base:wm(oe),labels:fe.map(Le=>({name:"",color:"",...Le})),isDraft:Ce,suggestedReviewers:[],projectItems:[],commits:[],reactionCount:0,reactions:[],commentCount:0};return n.mergeable!==void 0&&(De.mergeable=n.mergeable?dn.Mergeable:dn.NotMergeable),De}function km(n,e){const{number:t,body:i,title:r,html_url:a,user:o,state:v,assignees:T,created_at:x,updated_at:W,labels:te,node_id:oe,id:fe,comments:ye}=n;return{id:fe,graphNodeId:oe,number:t,body:i!=null?i:"",title:r,titleHTML:r,url:a,user:No(o,e),state:v,assignees:T?T.map(Ce=>No(Ce,e)):void 0,createdAt:x,updatedAt:W,labels:te.map(Ce=>{var De,Le,$e;return typeof Ce=="string"?{name:Ce,color:""}:{name:(De=Ce.name)!=null?De:"",color:(Le=Ce.color)!=null?Le:"",description:($e=Ce.description)!=null?$e:void 0}}),projectItems:[],reactionCount:0,reactions:[],commentCount:ye}}function By(n,e){return{event:Ft.Reviewed,comments:[],submittedAt:n.submitted_at,body:n.body,bodyHTML:n.body,htmlUrl:n.html_url,user:No(n.user,e),authorAssociation:n.user.type,state:n.state,id:n.id,reactions:void 0}}function qy(n){const e=[],t=us(n.diffHunk);let i=t.next();for(;!i.done;){const r=i.value;e.push(r),i=t.next()}return e}function $y(n){switch(n){case"PullRequestCommit":return Ft.Committed;case"LabeledEvent":return Ft.Labeled;case"MilestonedEvent":return Ft.Milestoned;case"AssignedEvent":return Ft.Assigned;case"UnassignedEvent":return Ft.Unassigned;case"HeadRefDeletedEvent":return Ft.HeadRefDeleted;case"IssueComment":return Ft.Commented;case"PullRequestReview":return Ft.Reviewed;case"MergedEvent":return Ft.Merged;case"CrossReferencedEvent":return Ft.CrossReferenced;case"ClosedEvent":return Ft.Closed;case"ReopenedEvent":return Ft.Reopened;default:return Ft.Other}}function Pu(n,e){var t,i,r,a;return{id:n.id,prReviewDatabaseId:n.comments.edges&&n.comments.edges.length?(t=n.comments.edges[0].node.pullRequestReview)==null?void 0:t.databaseId:void 0,isResolved:n.isResolved,viewerCanResolve:n.viewerCanResolve,viewerCanUnresolve:n.viewerCanUnresolve,path:n.path,startLine:(i=n.startLine)!=null?i:n.line,endLine:n.line,originalStartLine:(r=n.originalStartLine)!=null?r:n.originalLine,originalEndLine:n.originalLine,diffSide:n.diffSide,isOutdated:n.isOutdated,comments:n.comments.nodes.map(o=>To(o,n.isResolved,e)),subjectType:(a=n.subjectType)!=null?a:Yn.LINE}}function To(n,e,t){var i,r;const a=en[(r=(i=n.author)==null?void 0:i.login)!=null?r:""],o={id:n.databaseId,url:n.url,body:n.body,specialDisplayBodyPostfix:a==null?void 0:a.postComment,bodyHTML:n.bodyHTML,path:n.path,canEdit:n.viewerCanDelete,canDelete:n.viewerCanDelete,pullRequestReviewId:n.pullRequestReview&&n.pullRequestReview.databaseId,diffHunk:n.diffHunk,position:n.position,commitId:n.commit.oid,originalPosition:n.originalPosition,originalCommitId:n.originalCommit&&n.originalCommit.oid,user:n.author?ln(n.author,t):void 0,createdAt:n.createdAt,htmlUrl:n.url,graphNodeId:n.id,isDraft:n.state==="PENDING",inReplyToId:n.replyTo&&n.replyTo.databaseId,reactions:ms(n.reactionGroups),isResolved:e},v=qy(o);return o.diffHunks=v,o}function Sm(n,e){var t,i,r;return{id:n.databaseId,url:n.url,body:n.body,specialDisplayBodyPostfix:(r=en[(i=(t=n.author)==null?void 0:t.login)!=null?i:""])==null?void 0:r.postComment,bodyHTML:n.bodyHTML,canEdit:n.viewerCanDelete,canDelete:n.viewerCanDelete,user:ln(n.author,e),createdAt:n.createdAt,htmlUrl:n.url,graphNodeId:n.id,diffHunk:"",reactions:ms(n.reactionGroups)}}function ms(n){const e=Iu().reduce((i,r)=>(i[r.title]=r,i),{});return n.filter(i=>i.reactors.totalCount>0).map(i=>({label:e[i.content].label,count:i.reactors.totalCount,icon:e[i.content].icon,viewerHasReacted:i.viewerHasReacted,reactors:i.reactors.nodes.map(a=>{var o,v;return(v=(o=en[a.login])==null?void 0:o.name)!=null?v:a.login})}))}function Rm(n,e,t){if(t)return{label:`${t.owner.login}:${n}`,ref:n,sha:e,repo:{cloneUrl:t.url,isInOrganization:t.isInOrganization,owner:t.owner.login,name:n}}}function ln(n,e){var t,i,r,a,o,v,T;if(n){let x,W,te,oe;if(n.html_url){const fe=n;x=fe.avatar_url,W=fe.node_id,te=fe.html_url,oe=fe.type}else{const fe=n;x=fe.avatarUrl,W=fe.id,te=fe.url,oe=fe.__typename}return{login:n.login,url:(i=(t=en[n.login])==null?void 0:t.url)!=null?i:te,avatarUrl:e?Hs(x,void 0,e.remote.isEnterprise):x,email:(r=n.email)!=null?r:void 0,id:W,name:(v=(o=n.name)!=null?o:(a=en[n.login])==null?void 0:a.name)!=null?v:void 0,specialDisplayName:en[n.login]?(T=n.name)!=null?T:en[n.login].name:void 0,accountType:ja(oe)}}else return{login:"",url:"",id:"",accountType:ya.User}}function Hy(n,e){return{name:n.name,url:n.url,avatarUrl:Hs(n.avatarUrl,void 0,e.remote.isEnterprise),id:n.id,org:e.remote.owner,slug:n.slug}}function Em(n,e){if(!n.repository)return[];const t=[];for(const i of n.repository.pullRequest.reviewRequests.nodes)if(Ey(i.requestedReviewer)){const r=Hy(i.requestedReviewer,e);t.push(r)}else if(Ry(i.requestedReviewer)){const r=ln(i.requestedReviewer,e);t.push(r)}return t}function Gy(n,e){return n?{login:n.login,url:n.url,avatarUrl:Hs(n.avatarUrl,void 0,e.remote.isEnterprise)}:{login:"",url:""}}function Nm(n){if(n)return n.map(e=>({id:e.id,project:e.project}))}function Au(n){if(n)return{title:n.title,dueOn:n.dueOn,createdAt:n.createdAt,id:n.id,number:n.number}}function Tm(n){if(!n)return null;let e;switch(n.state){case"AWAITING_CHECKS":{e=$r.AwaitingChecks;break}case"LOCKED":{e=$r.Locked;break}case"QUEUED":{e=$r.Queued;break}case"MERGEABLE":{e=$r.Mergeable;break}case"UNMERGEABLE":{e=$r.Unmergeable;break}}return{position:n.position,state:e,url:n.mergeQueue.url}}function Cm(n){switch(n){case"MERGE":return"merge";case"REBASE":return"rebase";case"SQUASH":return"squash"}}function yd(n,e){let t;switch(n){case void 0:case"UNKNOWN":t=dn.Unknown;break;case"MERGEABLE":t=dn.Mergeable;break;case"CONFLICTING":t=dn.Conflict;break}return t!==dn.Conflict&&(e==="BLOCKED"?t=dn.NotMergeable:e==="BEHIND"&&(t=dn.Behind)),t}async function kl(n,e){var t,i,r,a,o,v,T,x;const W={id:n.databaseId,graphNodeId:n.id,url:n.url,number:n.number,state:n.state,body:n.body,bodyHTML:await _m(n.bodyHTML,e),title:n.title,titleHTML:n.titleHTML,createdAt:n.createdAt,updatedAt:n.updatedAt,isRemoteHeadDeleted:!n.headRef,head:Rm((i=(t=n.headRef)==null?void 0:t.name)!=null?i:n.headRefName,n.headRefOid,n.headRepository),isRemoteBaseDeleted:!n.baseRef,base:Rm((a=(r=n.baseRef)==null?void 0:r.name)!=null?a:n.baseRefName,n.baseRefOid,n.baseRepository),user:ln(n.author,e),merged:n.merged,mergeable:yd(n.mergeable,n.mergeStateStatus),mergeQueueEntry:Tm(n.mergeQueueEntry),hasComments:n.reviewThreads.totalCount>0,autoMerge:!!n.autoMergeRequest,autoMergeMethod:Cm((o=n.autoMergeRequest)==null?void 0:o.mergeMethod),allowAutoMerge:n.viewerCanEnableAutoMerge||n.viewerCanDisableAutoMerge,viewerCanUpdate:n.viewerCanUpdate,labels:n.labels.nodes,isDraft:n.isDraft,suggestedReviewers:Wy(n.suggestedReviewers),comments:jy((v=n.comments)==null?void 0:v.nodes,e),projectItems:Nm((T=n.projectItems)==null?void 0:T.nodes),milestone:Au(n.milestone),assignees:(x=n.assignees)==null?void 0:x.nodes.map(te=>ln(te,e)),commits:Vy(n.commits.nodes),reactionCount:n.reactions.totalCount,reactions:ms(n.reactionGroups),commentCount:n.comments.totalCount,additions:n.additions,deletions:n.deletions};return W.mergeCommitMeta=Pm(n.baseRepository.mergeCommitTitle,n.baseRepository.mergeCommitMessage,W),W.squashCommitMeta=Pm(n.baseRepository.squashMergeCommitTitle,n.baseRepository.squashMergeCommitMessage,W),W}function Pm(n,e,t){var i,r;if(n===void 0||e===void 0)return;let a="",o="";const v=`(#${t.number})`;switch(n){case bl.prTitle:{a=`${t.title} ${v}`;break}case bl.mergeMessage:{a=`Merge pull request #${t.number} from ${(r=(i=t.head)==null?void 0:i.label)!=null?r:""}`;break}case bl.commitOrPrTitle:{t.commits.length===1?a=`${t.commits[0].message.split(`
`)[0]} ${v}`:a=`${t.title} ${v}`;break}}switch(e){case Eu.prBody:{o=t.body;break}case Eu.commitMessages:{if(t.commits.length===1&&n===bl.commitOrPrTitle){const T=t.commits[0].message.split(`
`);o=T.length>1?T.slice(1).join(`
`).trim():""}else o=t.commits.map(T=>`* ${T.message}`).join(`

`);break}case Eu.prTitle:{o=t.title;break}}return{title:a,description:o}}function Vy(n){return n.map(e=>({message:e.commit.message}))}function jy(n,e){if(!n)return;const t=[];for(const i of n)t.push({author:ln(i.author,e),body:i.body,databaseId:i.databaseId,reactionCount:i.reactions.totalCount,createdAt:i.createdAt});return t}async function Am(n,e){var t,i,r,a,o,v,T,x,W;return{id:n.databaseId,graphNodeId:n.id,url:n.url,number:n.number,state:n.state,stateReason:n.stateReason,body:n.body,bodyHTML:await _m(n.bodyHTML,e),title:n.title,titleHTML:n.titleHTML,createdAt:n.createdAt,updatedAt:n.updatedAt,assignees:(t=n.assignees)==null?void 0:t.nodes.map(te=>ln(te,e)),user:ln(n.author,e),labels:n.labels.nodes,milestone:Au(n.milestone),repositoryName:(r=(i=n.repository)==null?void 0:i.name)!=null?r:e.remote.repositoryName,repositoryOwner:(o=(a=n.repository)==null?void 0:a.owner.login)!=null?o:e.remote.owner,repositoryUrl:(T=(v=n.repository)==null?void 0:v.url)!=null?T:e.remote.url,projectItems:Nm((x=n.projectItems)==null?void 0:x.nodes),comments:(W=n.comments.nodes)==null?void 0:W.map(te=>zy(te,e)),reactionCount:n.reactions.totalCount,reactions:ms(n.reactionGroups),commentCount:n.comments.totalCount}}function zy(n,e){return{author:ln(n.author,e),body:n.body,databaseId:n.databaseId,reactionCount:n.reactions.totalCount,createdAt:n.createdAt}}function Wy(n){return n?n.map(t=>({...ln(t.reviewer,void 0),isAuthor:t.isAuthor,isCommenter:t.isCommenter})).sort(Mm):[]}function Mm(n,e){return n.login.localeCompare(e.login,"en",{sensitivity:"accent"})}function Ky(n,e){var t,i,r,a;const o=(i=(t=n.name)!=null?t:n.slug)!=null?i:n.id,v=(a=(r=e.name)!=null?r:e.slug)!=null?a:e.id;return o.localeCompare(v,"en",{sensitivity:"accent"})}function Qy(n,e){return{event:Ft.Reviewed,comments:n.comments.nodes.map(t=>To(t,!1,e)).filter(t=>!t.inReplyToId),submittedAt:n.submittedAt,body:n.body,bodyHTML:n.bodyHTML,htmlUrl:n.url,user:ln(n.author,e),authorAssociation:n.authorAssociation,state:n.state,id:n.databaseId,reactions:ms(n.reactionGroups)}}function Yy(n,e){const t=[],i={id:n.id,host:n.githubRepository.remote.gitProtocol.host,owner:n.githubRepository.remote.owner,repo:n.githubRepository.remote.repositoryName,pullNumber:n.number};let r=0;for(const a of e){const o=a;o.created_at&&o.node_id&&(a.event==="copilot_work_started"?t.push({id:o.node_id,event:Ft.CopilotStarted,createdAt:o.created_at,onBehalfOf:ln(o.actor),sessionLink:{...i,sessionIndex:r}}):a.event==="copilot_work_finished"?(t.push({id:o.node_id,event:Ft.CopilotFinished,createdAt:o.created_at,onBehalfOf:ln(o.actor)}),r++):a.event==="copilot_work_finished_failure"&&(r++,t.push({id:o.node_id,event:Ft.CopilotFinishedError,createdAt:o.created_at,onBehalfOf:ln(o.actor),sessionLink:{...i,sessionIndex:r}})))}return t}function Mu(n){switch(n.event){case Ft.Committed:return new Date(n.committedDate);case Ft.Commented:case Ft.Assigned:case Ft.HeadRefDeleted:case Ft.Merged:case Ft.CrossReferenced:case Ft.Closed:case Ft.Reopened:case Ft.CopilotStarted:case Ft.CopilotFinished:case Ft.CopilotFinishedError:return new Date(n.createdAt);case Ft.Reviewed:return new Date(n.submittedAt);default:return}}async function wd(n,e,t){const i=[];let r=-1,a;const o=()=>{var T;r++,a=e.length>r?(T=Mu(e[r]))==null?void 0:T.getTime():void 0};o();const v=T=>{var x;if(!a){i.push(T);return}const W=(x=Mu(T))==null?void 0:x.getTime();if(W)for(;a&&W>a;)i.push(e[r]),o();i.push(T)};for(const T of n){const x=$y(T.__typename);switch(x){case Ft.Commented:const W=T;v({htmlUrl:W.url,body:W.body,bodyHTML:W.bodyHTML,user:ln(W.author,t),event:x,canEdit:W.viewerCanUpdate,canDelete:W.viewerCanDelete,id:W.databaseId,graphNodeId:W.id,createdAt:W.createdAt,reactions:ms(W.reactionGroups)});break;case Ft.Reviewed:const te=T;v({event:x,comments:[],submittedAt:te.submittedAt,body:te.body,bodyHTML:te.bodyHTML,htmlUrl:te.url,user:ln(te.author,t),authorAssociation:te.authorAssociation,state:te.state,id:te.databaseId,reactions:ms(te.reactionGroups)});break;case Ft.Committed:const oe=T;v({id:oe.id,event:x,sha:oe.commit.oid,author:oe.commit.author.user?ln(oe.commit.author.user,t):{login:oe.commit.committer.name},htmlUrl:oe.url,message:oe.commit.message,committedDate:new Date(oe.commit.committedDate)});break;case Ft.Merged:const fe=T;v({id:fe.id,event:x,user:Gy(fe.actor,t),createdAt:fe.createdAt,mergeRef:fe.mergeRef.name,sha:fe.commit.oid,commitUrl:fe.commit.commitUrl,url:fe.url,graphNodeId:fe.id});break;case Ft.Assigned:const ye=T;v({id:ye.id,event:x,assignees:[ln(ye.user,t)],actor:ln(ye.actor),createdAt:ye.createdAt});break;case Ft.Unassigned:const Pe=T;i.push({id:Pe.id,event:x,unassignees:[ln(Pe.user,t)],actor:ln(Pe.actor),createdAt:Pe.createdAt});break;case Ft.HeadRefDeleted:const Ce=T;v({id:Ce.id,event:x,actor:ln(Ce.actor,t),createdAt:Ce.createdAt,headRef:Ce.headRefName});break;case Ft.CrossReferenced:const De=T,Le=De.source.__typename==="Issue",$e=Le?await rp({owner:De.source.repository.owner.login,repo:De.source.repository.name,issueNumber:De.source.number}):await Mo({owner:De.source.repository.owner.login,repo:De.source.repository.name,pullRequestNumber:De.source.number});v({id:De.id,event:x,actor:ln(De.actor,t),createdAt:De.createdAt,source:{url:De.source.url,extensionUrl:$e.toString(),number:De.source.number,title:De.source.title,isIssue:Le,owner:De.source.repository.owner.login,repo:De.source.repository.name},willCloseTarget:De.willCloseTarget});break;case Ft.Closed:const Ze=T;v({id:Ze.id,event:x,actor:ln(Ze.actor,t),createdAt:Ze.createdAt});break;case Ft.Reopened:const rt=T;v({id:rt.id,event:x,actor:ln(rt.actor,t),createdAt:rt.createdAt});break;default:break}}for(;a;)i.push(e[r]),o();return i}function Zy(n,e){var t;return{login:n.user.login,name:n.user.name,avatarUrl:Hs((t=n.user.avatarUrl)!=null?t:"",void 0,e.remote.isEnterprise),url:n.user.url,bio:n.user.bio,company:n.user.company,location:n.user.location,commitContributions:Jy(n.user.contributionsCollection),id:n.user.id,accountType:ja(n.user.__typename)}}function Jy(n){const e=[];return n.commitContributionsByRepository.forEach(t=>{t.contributions.nodes.forEach(i=>{e.push({createdAt:new Date(i.occurredAt),repoNameWithOwner:t.repository.nameWithOwner})})}),e}function Iu(){return[{title:"THUMBS_UP",label:"\u{1F44D}",icon:ua.icons.reactions.THUMBS_UP},{title:"THUMBS_DOWN",label:"\u{1F44E}",icon:ua.icons.reactions.THUMBS_DOWN},{title:"LAUGH",label:"\u{1F604}",icon:ua.icons.reactions.LAUGH},{title:"HOORAY",label:"\u{1F389}",icon:ua.icons.reactions.HOORAY},{title:"CONFUSED",label:"\u{1F615}",icon:ua.icons.reactions.CONFUSED},{title:"HEART",label:"\u2764\uFE0F",icon:ua.icons.reactions.HEART},{title:"ROCKET",label:"\u{1F680}",icon:ua.icons.reactions.ROCKET},{title:"EYES",label:"\u{1F440}",icon:ua.icons.reactions.EYES}]}async function Sl(n,e,t=100){let i=1,r=[],a=!1;do{const o=await n({...e,per_page:t,page:i});r=r.concat(o.data),a=!!o.headers.link&&o.headers.link.indexOf('rel="next"')>-1,i+=1}while(a);return r}function Xy(n){const e=[];return n.forEach(t=>{var i,r;t.event===Ft.Committed&&e.push({login:t.author.login,name:t.author.name||""}),t.event===Ft.Reviewed&&e.push({login:t.user.login,name:(i=t.user.name)!=null?i:t.user.login}),t.event===Ft.Commented&&t.user&&e.push({login:t.user.login,name:(r=t.user.name)!=null?r:t.user.login})}),e}function ew(n){var e;return n&&((e=n.repository)!=null&&e.viewerPermission)&&Object.values(ia).includes(n.repository.viewerPermission)?n.repository.viewerPermission:ia.Unknown}function Im(n,e){return e.path.toLowerCase()===n.rootUri.path.toLowerCase()||e.path.toLowerCase().startsWith(n.rootUri.path.toLowerCase())&&e.path.substring(n.rootUri.path.length).startsWith("/")}function _d(n,e){const t=[];for(const i of n.repositories.reverse())Im(i,e)&&t.push(i);if(t.length>0)return t.sort((i,r)=>r.rootUri.path.length-i.rootUri.path.length),t[0]}function Dm(n,e,t){const i=e.filter(o=>o.event===Ft.Reviewed).filter(o=>o.state!=="PENDING");let r=[];const a=new Map;a.set(t.login,!0);for(let o=i.length-1;o>=0;o--){const v=i[o],T=v.user;v.state&&!a.get(T.login)&&(a.set(T.login,!0),r.push({reviewer:T,state:v.state}))}return n.forEach(o=>{if(!a.get(xr(o)))r.push({reviewer:o,state:"REQUESTED"});else{const v=r.find(T=>xr(T.reviewer)===xr(o));v.state="REQUESTED"}}),r=r.sort((o,v)=>o.state==="REQUESTED"&&v.state!=="REQUESTED"?1:v.state==="REQUESTED"&&o.state!=="REQUESTED"||wa(o.reviewer).toLowerCase()<wa(v.reviewer).toLowerCase()?-1:1),r}function tw(n){if(!n.subject.url)return;const e=n.repository.owner.login,t=n.repository.name,i=n.subject.url.split("/").pop();return{owner:e,name:t,key:Fm(e,t,i),id:n.id,itemID:i,subject:{title:n.subject.title,type:n.subject.type,url:n.subject.url},lastReadAt:n.last_read_at?new Date(n.last_read_at):void 0,reason:n.reason,unread:n.unread,updatedAd:new Date(n.updated_at)}}function Fm(n,e,t){return`${n}/${e}#${t}`}function iw(n,e,t,i){if(e&&i&&i.sha!==e){let r=n.length-1,a=!1,o=[];for(let v=n.length-1;v>0;v--)if(n[v].event===Ft.Committed&&n[v].sha===e){o.unshift({id:e,event:Ft.NewCommitsSinceReview}),n.splice(r+1,0,...o);break}else a&&n[v].event===Ft.Committed?(o.unshift(n[v]),n.splice(v,1)):!a&&n[v].event===Ft.Reviewed&&n[v].user.login===t&&(r=v,a=!0)}}function nw(n,e){return`is:pull-request ${e.replace(/\$\{user\}/g,n)} type:pr`}function Du(){return s.env.remoteName==="codespaces"&&s.env.uiKind===s.UIKind.Web}async function kd(n){return s.workspace.getConfiguration(oa).update(as,n,s.ConfigurationTarget.Workspace)}function Co(){const n=s.workspace.getConfiguration(oa).get(as,"");if(n){let e=s.Uri.parse(n,!0);return e.scheme==="http"&&(e=e.with({scheme:"https"})),e}}function Lr(){return!!Co()}function rw(n,e=200){return n?`https://www.gravatar.com/avatar/${n}?s=${e}&d=retro`:void 0}function Hs(n,e,t){var i;return t?e?rw(tu.n1("sha256").update((i=e==null?void 0:e.trim())==null?void 0:i.toLowerCase()).digest("hex")):void 0:n}function aw(n){return s.Uri.parse(`https://${n.remote.host}/${n.remote.owner}/${n.remote.repositoryName}/pulls`)}function sw(n){return s.Uri.parse(`https://${n.remote.host}/${n.remote.owner}/${n.remote.repositoryName}/issues`)}function xm(n){const e=/[~^:;'".,~#?%*&[\]@\\{}()/]|\/\//g;return n.replace(e,"").trim().substring(0,150).replace(/\s+/g,"-")}const ow=/-([0-9]+)([d])/;function lw(n){const e=n?ow.exec(n):void 0,t=new Date;if(e&&e.length===3&&e[2]==="d"){const a=parseInt(e[1])*864e5;t.setTime(t.getTime()-a)}const i=`${t.getMonth()+1}`,r=`${t.getDate()}`;return`${t.getFullYear()}-${i.padStart(2,"0")}-${r.padStart(2,"0")}`}const uw=/\:(Copilot|copilot)(\s|$)/g,cw=/\$\{([^-]*?)(-.*?)?\}/g;async function Po(n,e,t,i){return n.replace(cw,(o,v,T)=>{let x;switch(v){case"user":x=i||o;break;case"issueNumber":x=e?`${e.number}`:o;break;case"issueNumberLabel":x=e?`${Rl(e,t)}`:o;break;case"issueTitle":x=e?e.title:o;break;case"repository":x=t?t.repo:o;break;case"owner":x=t?t.owner:o;break;case"sanitizedIssueTitle":x=e?xm(e.title):o;break;case"sanitizedLowercaseIssueTitle":x=e?xm(e.title).toLowerCase():o;break;case"today":x=lw(T);break;default:x=o;break}return y.debug(`${o} -> ${x}`,"VariableSubstitution"),x}).replace(uw,()=>`:${qn}[bot] `)}function Rl(n,e){const t={issueNumber:n.number,owner:void 0,name:void 0};return e&&(e.owner.toLowerCase()!==n.remote.owner.toLowerCase()||e.repo.toLowerCase()!==n.remote.repositoryName.toLowerCase())&&(t.owner=n.remote.owner,t.name=n.remote.repositoryName),Sd(t)}function Sd(n){return!n.owner||!n.name?`#${n.issueNumber}`:`${n.owner}/${n.name}#${n.issueNumber}`}function Om(){const n=s.workspace.getConfiguration(tt).get(di);if(n)return y.debug("Using override setting for default branch",Wn.ID),n}async function Lm(n){const e=[],t=[],i=[];for(const r of n){for(const a of await r.computeAllGitHubRemotes())a.githubServerType===pn.GitHubDotCom?e.push(a):a.githubServerType===pn.Enterprise&&t.push(a);i.push(...await r.computeAllUnknownRemotes())}return{dotComRemotes:e,enterpriseRemotes:t,unknownRemotes:i}}function Fu(n){const e=s.Uri.parse(n.html_url);return`https://${s.env.appName.toLowerCase().includes("insider")?"insiders.":""}vscode.dev/github${e.path}`}function Um(n){const e=s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,t=me(n.color,e,!0),i=la(n.name.trim());return`<span style="color:${t.textColor};background-color:${t.backgroundColor};border-radius:10px;">&nbsp;&nbsp;${i}&nbsp;&nbsp;</span>`}var Ar=(n=>(n[n.None=0]="None",n[n.ReviewRequired=1]="ReviewRequired",n[n.ChangesRequested=2]="ChangesRequested",n[n.CIFailed=4]="CIFailed",n[n.CIPending=8]="CIPending",n))(Ar||{});class xu{constructor(e,t,i){this.remoteName=e,this.url=t,this.gitProtocol=i}get host(){return this.gitProtocol.host}get owner(){return this.gitProtocol.owner}get repositoryName(){return this.gitProtocol.repositoryName}get normalizedHost(){const e=this.gitProtocol.normalizeUri();return`${e.scheme}://${e.authority}`}get authProviderId(){var e;return this.host===((e=Co())==null?void 0:e.authority)?li.githubEnterprise:li.github}get isEnterprise(){return yr(this.authProviderId)}equals(e){return!(this.remoteName!==e.remoteName||!this.host.includes(e.host)&&!e.host.includes(this.host)||this.owner.toLocaleLowerCase()!==e.owner.toLocaleLowerCase()||this.repositoryName.toLocaleLowerCase()!==e.repositoryName.toLocaleLowerCase())}}function El(n,e,t){if(!e)return null;const i=new br(e);return t&&i.update({type:t.type}),i.host?new xu(n,e,i):null}function Ya(n){const e=[];for(const t of n.state.remotes){const i=[];t.fetchUrl&&i.push(t.fetchUrl),t.pushUrl&&t.pushUrl!==t.fetchUrl&&i.push(t.pushUrl),i.forEach(r=>{const a=El(t.name,r);a&&e.push(a)})}return e}class ps extends xu{constructor(e,t,i,r){super(e,t,i),this.githubServerType=r}static remoteAsGitHub(e,t){return new ps(e.remoteName,e.url,e.gitProtocol,t)}}var dw=Object.defineProperty,fw=(n,e,t)=>e in n?dw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,hw=(n,e,t)=>fw(n,typeof e!="symbol"?e+"":e,t);class Bm{constructor(e,t,i,r,a,o,v){this.ref=e,this.label=t,this.sha=i,this.owner=a,this.name=o,this.isInOrganization=v,hw(this,"repositoryCloneUrl"),this.repositoryCloneUrl=new br(r)}}function mw(n,e){var t;const i=e.repositoryCloneUrl.repositoryName.toLowerCase(),r=e.owner.toLowerCase();for(const a of n.state.remotes){const o=(t=a.fetchUrl)!=null?t:a.pushUrl;if(!o)continue;const v=El(a.name,o),T=v==null?void 0:v.owner.toLowerCase(),x=v==null?void 0:v.repositoryName.toLowerCase();if(T===r&&x===i)return a}}var pw=Object.defineProperty,gw=(n,e,t)=>e in n?pw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gs=(n,e,t)=>gw(n,typeof e!="symbol"?e+"":e,t);const qm=class th{constructor(e,t,i,r){this.pullRequest=e,this.folderRepoManager=t,this.change=i,this.sha=r,Gs(this,"_filePath"),Gs(this,"_parentFilePath"),Gs(this,"_viewed")}get filePath(){return this._filePath}get parentFilePath(){return this._parentFilePath}get status(){return this.change.status}get fileName(){return this.change.fileName}get blobUrl(){return this.change.blobUrl}get viewed(){return this._viewed}updateViewed(e){this._viewed!==e&&(this._viewed=e)}async diffHunks(){var e;let t=[];if(this.change instanceof Jr&&this.change.diffHunks)return this.change.diffHunks;if(this.status!==$t.RENAME)try{const i=(e=this.sha)!=null?e:this.pullRequest.head.sha,r=await this.folderRepoManager.repository.diffBetween(this.pullRequest.base.sha,i,this.fileName);t=oo(r)}catch(i){y.error(`Failed to parse patch for outdated comments: ${i}`,th.ID)}return t}async calculateChangedLinesCount(){try{const e=await this.diffHunks();let t=0,i=0;for(const r of e)for(const a of r.diffLines)a.type===Wi.Add?++t:a.type===Wi.Delete&&++i;return{added:t,removed:i}}catch(e){return y.warn(`Failed to calculate added/removed lines for ${this.fileName}: ${e}`,th.ID),{added:0,removed:0}}}};Gs(qm,"ID","FileChangeModel");let Rd=qm;class Ed extends Rd{constructor(e,t,i,r,a,o,v){if(super(t,e,i,o),Gs(this,"_show"),this._filePath=r,this._parentFilePath=a,v)try{this.showBase()}catch{y.warn(`Unable to preload file content for ${r.fsPath} at commit ${o}`)}}async showBase(){if(!this._show&&this.change.status!==$t.ADD){const e=this.change instanceof Jr||this.change instanceof ka?this.change.baseCommit:this.sha,t=s.Uri.joinPath(this.folderRepoManager.repository.rootUri,this.fileName).fsPath;this._show=this.folderRepoManager.repository.show(e,t)}return this._show}}class Vs extends Rd{constructor(e,t,i,r,a){super(t,e,i),this.change=i;const o=t.head.sha,v=i.status===$t.RENAME?i.previousFileName:i.fileName,T=e.repository.rootUri.with({path:s.Uri.file(Io(e.repository.rootUri,i.fileName)).path}),x=e.repository.rootUri.with({path:s.Uri.file(Io(e.repository.rootUri,v)).path});this._filePath=r?i.status===$t.DELETE?na(T,void 0,void 0,"",!1,{base:!1},e.repository.rootUri):T:Za(T,t,i.baseCommit,o,i.fileName,!1,i.status,i.previousFileName),this._parentFilePath=r?na(x,i.status===$t.RENAME?i.previousFileName:i.fileName,void 0,i.status===$t.ADD?"":a,!1,{base:!0},e.repository.rootUri):Za(x,t,i.baseCommit,o,i.fileName,!0,i.status,i.previousFileName)}get previousFileName(){return this.change.previousFileName}async isPartial(){let e=!1,t;if(this.change.patch===""&&(this.change.status===$t.MODIFY||this.change.status===$t.RENAME||this.change.status===$t.ADD))return!0;this.change.status===$t.DELETE||this.change.status===$t.MODIFY?t=this.change.fileName:this.change.status===$t.RENAME&&(t=this.change.previousFileName);try{t&&(await this.folderRepoManager.repository.getObjectDetails(this.change.baseCommit,t),e=!0)}catch{}return!e}get patch(){return this.change.patch}}class Ao extends Rd{constructor(e,t,i){super(i,e,t),this.change=t,Gs(this,"fileChangeResourceUri"),Gs(this,"childrenDisposables",[]);const r=i.head.sha,a=t.status===$t.RENAME?t.previousFileName:t.fileName;this._filePath=Za(s.Uri.file(Io(e.repository.rootUri,t.fileName)),i,t.baseCommit,r,t.fileName,!1,t.status,t.previousFileName),this._parentFilePath=Za(s.Uri.file(Io(e.repository.rootUri,a)),i,t.baseCommit,r,t.fileName,!0,t.status,t.previousFileName)}get previousFileName(){return this.change.previousFileName}}const Nd=new AbortController().signal,$m=new AbortController;$m.abort();const NC=$m.signal,TC=n=>{const e=new AbortController;if(!n)return e;if(n.aborted&&e.abort(),n!==Nd){const t=new WeakRef(e);onAbort(n)(()=>{var i;return(i=t.deref())==null?void 0:i.abort()})}return e},vw=()=>{let n,e;const t=new Promise((i,r)=>{n=i,e=r});return{resolve:n,reject:e,promise:t}};class Td extends Error{constructor(e="Operation cancelled"){super(e),this.message=e,this.isTaskCancelledError=!0}}const Hm={dispose:()=>{}};var Gm;(function(n){n.once=(e,t)=>{let i=!1,r;return r=e(a=>{t(a),r?r.dispose():i=!0}),i?(r.dispose(),Hm):r},n.toPromise=(e,t)=>t?t.aborted?Promise.reject(new Td):new Promise((i,r)=>{const a=bw(t)(()=>{o.dispose(),r(new Td)}),o=n.once(e,v=>{a.dispose(),i(v)})}):new Promise(i=>n.once(e,i))})(Gm||(Gm={}));const bw=n=>{const e=new yw;if(n.aborted)return e.emit(),e.addListener;const t=()=>{e.emit(),n.removeEventListener("abort",t)};return n.addEventListener("abort",t),e.addListener};class Nl{constructor(){this.addListener=e=>this.addListenerInner(e)}get size(){return this.listeners?typeof this.listeners=="function"?1:this.listeners.length:0}emit(e){if(this.listeners)if(typeof this.listeners=="function")this.listeners(e);else for(const t of this.listeners)t(e)}addListenerInner(e){return this.listeners?typeof this.listeners=="function"?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.removeListener(e)}}removeListener(e){if(!this.listeners)return;if(typeof this.listeners=="function"){this.listeners===e&&(this.listeners=void 0);return}const t=this.listeners.indexOf(e);t!==-1&&(this.listeners.length===2?this.listeners=t===0?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,t).concat(this.listeners.slice(t+1)))}}class CC extends Nl{constructor(){super(...arguments),this.addListener=e=>{const t=this.addListenerInner(e);return this.lastValue&&e(this.lastValue.value),t}}get hasEmitted(){return!!this.lastValue}emit(e){this.lastValue={value:e},super.emit(e)}}class yw extends Nl{constructor(){super(...arguments),this.addListener=e=>this.lastValue?(e(this.lastValue.value),Hm):this.addListenerInner(e)}emit(e){this.lastValue={value:e},super.emit(e),this.listeners=void 0}}var Vm=Xt(65606);const ww=n=>{if("error"in n)throw n.error;return"success"in n?n.success:n.value},_w=()=>{if(typeof performance!="undefined"){const n=performance.now();return()=>performance.now()-n}else{const n=Vm.hrtime.bigint();return()=>Number(Vm.hrtime.bigint()-n)/1e6}};class Ou{constructor(e=()=>!1,t=()=>!1){this.errorFilter=e,this.resultFilter=t,this.successEmitter=new Nl,this.failureEmitter=new Nl,this.onSuccess=this.successEmitter.addListener,this.onFailure=this.failureEmitter.addListener}clone(){return new Ou(this.errorFilter,this.resultFilter)}async invoke(e,...t){const i=this.successEmitter.size||this.failureEmitter.size?_w():null;try{const r=await e(...t);return this.resultFilter(r)?(i&&this.failureEmitter.emit({duration:i(),handled:!0,reason:{value:r}}),{value:r}):(i&&this.successEmitter.emit({duration:i()}),{success:r})}catch(r){const a=r,o=this.errorFilter(a);if(i&&this.failureEmitter.emit({duration:i(),handled:o,reason:{error:a}}),!o)throw a;return{error:a}}}}class kw extends Error{constructor(e,t){super(`Bulkhead capacity exceeded (0/${e} execution slots, 0/${t} available)`),this.isBulkheadRejectedError=!0}}class Sw{constructor(e,t){this.capacity=e,this.queueCapacity=t,this.active=0,this.queue=[],this.onRejectEmitter=new Nl,this.executor=new Ou,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onReject=this.onRejectEmitter.addListener}get executionSlots(){return this.capacity-this.active}get queueSlots(){return this.queueCapacity-this.queue.length}async execute(e,t=Nd){if(t.aborted)throw new Td;if(this.active<this.capacity){this.active++;try{return await e({signal:t})}finally{this.active--,this.dequeue()}}if(this.queue.length<this.queueCapacity){const{resolve:i,reject:r,promise:a}=vw();return this.queue.push({signal:t,fn:e,resolve:i,reject:r}),a}throw this.onRejectEmitter.emit(),new kw(this.capacity,this.queueCapacity)}dequeue(){const e=this.queue.shift();e&&Promise.resolve().then(()=>this.execute(e.fn,e.signal)).then(e.resolve).catch(e.reject)}}class Rw{constructor(){this.executor=new Ou,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(e,t=Nd){return ww(await this.executor.invoke(e,{signal:t}))}}const Lu=(n,e)=>e?t=>t instanceof n&&e(t):t=>t instanceof n,Ew=()=>!0,Tl=()=>!1;class Ia{constructor(e){this.options=e}orType(e,t){const i=Lu(e,t);return new Ia({...this.options,errorFilter:r=>this.options.errorFilter(r)||i(r)})}orWhen(e){return new Ia({...this.options,errorFilter:t=>this.options.errorFilter(t)||e(t)})}orWhenResult(e){return new Ia({...this.options,resultFilter:t=>this.options.resultFilter(t)||e(t)})}orResultType(e,t){const i=Lu(e,t);return new Ia({...this.options,resultFilter:r=>this.options.resultFilter(r)||i(r)})}}const PC=new Rw,AC=new Ia({errorFilter:Ew,resultFilter:Tl});function MC(n,e){return new Ia({errorFilter:Lu(n,e),resultFilter:Tl})}function IC(n){return new Ia({errorFilter:n,resultFilter:Tl})}function DC(n,e){return new Ia({errorFilter:Tl,resultFilter:Lu(n,e)})}function FC(n){return new Ia({errorFilter:Tl,resultFilter:n})}function jm(n,e=0){return new Sw(n,e)}function xC(n){return(e,t,i)=>{const r=i.value;if(typeof r!="function")throw new Error(`Can only decorate functions with @cockatiel, got ${typeof r}`);i.value=function(...a){const o=a[a.length-1]instanceof AbortSignal?a.pop():void 0;return n.execute(v=>r.apply(this,[...a,v]),o)}}}function OC(n,e){return new TimeoutPolicy(n,typeof e=="string"?{strategy:e}:e)}function LC(...n){return{_altReturn:void 0,onFailure:n[0].onFailure,onSuccess:n[0].onSuccess,wrapped:n,execute(e,t){const i=(r,a)=>a===n.length?e(r):n[a].execute(o=>i({...r,...o},a+1),r.signal);return Promise.resolve(i({signal:t},0))}}}function UC(n,e){var t;return new RetryPolicy({backoff:e.backoff||new ConstantBackoff(0),maxAttempts:(t=e.maxAttempts)!=null?t:1/0},new ExecuteWrapper(n.options.errorFilter,n.options.resultFilter))}function BC(n,e){return new CircuitBreakerPolicy(e,new ExecuteWrapper(n.options.errorFilter,n.options.resultFilter))}function qC(n,e){return new FallbackPolicy(new ExecuteWrapper(n.options.errorFilter,n.options.resultFilter),typeof e=="function"?e:()=>e)}var Nw=Object.defineProperty,Tw=(n,e,t)=>e in n?Nw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Cd=(n,e,t)=>Tw(n,typeof e!="symbol"?e+"":e,t);const zm=class ks{constructor(e,t){this.telemetry=e,this.errorOnFlood=t,Cd(this,"bulkhead",jm(140)),Cd(this,"hasLoggedLowRateLimit",!1)}logAndLimit(e,t){if(this.bulkhead.executionSlots===0)if(y.error("API call count has exceeded 140 concurrent calls.",ks.ID),this.telemetry.sendTelemetryErrorEvent("pr.highApiCallRate"),this.errorOnFlood){s.window.showErrorMessage(s.l10n.t('The GitHub Pull Requests extension is making too many requests to GitHub. This indicates a bug in the extension. Please file an issue on GitHub and include the output from "GitHub Pull Request".'));return}else return t();const i=`Extension rate limit remaining: ${this.bulkhead.executionSlots}, ${e}`;return this.bulkhead.executionSlots<5?y.appendLine(i,ks.ID):y.debug(i,ks.ID),this.bulkhead.execute(()=>t())}async logRateLimit(e,t,i=!1){var r,a,o,v;let T;try{const te=await t;T=(r=te==null?void 0:te.data)==null?void 0:r.rateLimit}catch{return}const x=e==null?void 0:e.startsWith("/search/");((a=T==null?void 0:T.limit)!=null?a:5e3)<5e3&&(x?((o=T==null?void 0:T.limit)!=null?o:30)<30&&y.appendLine(`Unexpectedly low SEARCH rate limit: ${T==null?void 0:T.limit}`,ks.ID):y.appendLine(`Unexpectedly low rate limit: ${T==null?void 0:T.limit}`,ks.ID));const W=`${i?"REST":"GraphQL"} Rate limit remaining: ${T==null?void 0:T.remaining}, cost: ${T==null?void 0:T.cost}, ${e}`;((v=T==null?void 0:T.remaining)!=null?v:1e3)<1e3&&!x?(this.hasLoggedLowRateLimit||(this.telemetry.sendTelemetryErrorEvent("pr.lowRateLimitRemaining"),this.hasLoggedLowRateLimit=!0),y.warn(W,ks.ID)):y.debug(W,ks.ID)}async logRestRateLimit(e,t){let i;try{i=await t}catch{return}const r={cost:-1,limit:Number(i.headers["x-ratelimit-limit"]),remaining:Number(i.headers["x-ratelimit-remaining"]),resetAt:""};this.logRateLimit(e,Promise.resolve({data:{rateLimit:r}}),!0)}};Cd(zm,"ID","RateLimit");let Cw=zm;class Pw{constructor(e,t){this._graphql=e,this._rateLogger=t}query(e){var t;const i=(t=e.query.definitions[0].name)==null?void 0:t.value,r=this._rateLogger.logAndLimit(i,()=>this._graphql.query(e));if(r===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(i,r),r}mutate(e){const t=e.context,i=this._rateLogger.logAndLimit(t,()=>this._graphql.mutate(e));if(i===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRateLimit(t,i),i}}class Aw{constructor(e,t){this.api=e,this._rateLogger=t}call(e,...t){var i,r;const a=(r=(i=e.endpoint)==null?void 0:i.DEFAULTS)==null?void 0:r.url,o=this._rateLogger.logAndLimit(a,()=>e(...t));if(o===void 0)throw new Error("API call count has exceeded a rate limit.");return this._rateLogger.logRestRateLimit(a,o),o}}async function Mw(n,e,t,i,r,a,o){y.debug(`Comparing commits for ${n.owner}/${n.repositoryName} with base ${t.repositoryCloneUrl.owner}:${r} and head ${i.repositoryCloneUrl.owner}:${i.sha}`,o);let v,T;const x=async W=>Sl(e.api.pulls.listFiles,{owner:t.repositoryCloneUrl.owner,pull_number:a,repo:n.repositoryName},W);try{const{data:W}=await e.call(e.api.repos.compareCommits,{repo:n.repositoryName,owner:n.owner,base:`${t.repositoryCloneUrl.owner}:${r}`,head:`${i.repositoryCloneUrl.owner}:${i.sha}`}),te=100;W.files&&W.files.length>=te?(y.appendLine(`More than ${te} files changed in #${a}`,o),v=await x()):v=W.files?W.files:[],T=W.merge_base_commit.sha}catch(W){if(W.message==="Server Error")v=await x(3),T=t.sha;else throw W}return{mergeBaseSha:T,files:v}}var Iw=Object.defineProperty,Dw=(n,e,t)=>e in n?Iw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rn=(n,e,t)=>Dw(n,typeof e!="symbol"?e+"":e,t);const Wm=100,Km=class Ji extends Gn{constructor(e,t,i,r,a,o){super(t,i,r,a,!0),this.credentialStore=e,rn(this,"isDraft"),rn(this,"reviewers"),rn(this,"localBranchName"),rn(this,"mergeBase"),rn(this,"mergeQueueEntry"),rn(this,"conflicts"),rn(this,"suggestedReviewers"),rn(this,"hasChangesSinceLastReview"),rn(this,"_showChangesSinceReview"),rn(this,"_hasPendingReview",!1),rn(this,"_onDidChangePendingReviewState",this._register(new s.EventEmitter)),rn(this,"onDidChangePendingReviewState",this._onDidChangePendingReviewState.event),rn(this,"_reviewThreadsCache",[]),rn(this,"_reviewThreadsCacheInitialized",!1),rn(this,"_onDidChangeReviewThreads",this._register(new s.EventEmitter)),rn(this,"onDidChangeReviewThreads",this._onDidChangeReviewThreads.event),rn(this,"_fileChangeViewedState",{}),rn(this,"_viewedFiles",new Set),rn(this,"_unviewedFiles",new Set),rn(this,"_onDidChangeFileViewedState",this._register(new s.EventEmitter)),rn(this,"onDidChangeFileViewedState",this._onDidChangeFileViewedState.event),rn(this,"_onDidChangeChangesSinceReview",this._register(new s.EventEmitter)),rn(this,"onDidChangeChangesSinceReview",this._onDidChangeChangesSinceReview.event),rn(this,"_hasComments"),rn(this,"_comments"),rn(this,"_isActive"),rn(this,"isRemoteHeadDeleted"),rn(this,"head"),rn(this,"isRemoteBaseDeleted"),rn(this,"base"),rn(this,"_fileChanges",new Map),rn(this,"markFilesInProgressRefCount",new Map),this.isActive=!!o,this._showChangesSinceReview=!1,this.update(a)}get isActive(){return this._isActive}set isActive(e){this._isActive=e}clear(){this.comments=[],this._reviewThreadsCacheInitialized=!1,this._reviewThreadsCache=[]}async initializeReviewThreadCache(){await this.getReviewThreads(),this._reviewThreadsCacheInitialized=!0}get reviewThreadsCache(){return this._reviewThreadsCache}get reviewThreadsCacheReady(){return this._reviewThreadsCacheInitialized}get hasPendingReview(){return this._hasPendingReview}set hasPendingReview(e){this._hasPendingReview!==e&&(this._hasPendingReview=e,this._onDidChangePendingReviewState.fire(this._hasPendingReview))}get showChangesSinceReview(){return this._showChangesSinceReview}set showChangesSinceReview(e){this._showChangesSinceReview!==e&&(this._showChangesSinceReview=e,this._fileChanges.clear(),this._onDidChangeChangesSinceReview.fire())}get comments(){var e;return(e=this._comments)!=null?e:[]}set comments(e){this._comments=e,this._onDidChange.fire({comments:!0})}get fileChangeViewedState(){return this._fileChangeViewedState}stateToStateEnum(e){let t=Xi.Closed;return e.toLowerCase()==="open"?t=Xi.Open:(e.toLowerCase()==="merged"||this.item.merged)&&(t=Xi.Merged),t}doUpdate(e){var t;const i=super.doUpdate(e);return this.isDraft!==e.isDraft&&(i.draft=!0,this.isDraft=e.isDraft),this.suggestedReviewers=e.suggestedReviewers,e.isRemoteHeadDeleted!=null&&(this.isRemoteHeadDeleted=e.isRemoteHeadDeleted),e.head&&(this.head=new Bm(e.head.ref,e.head.label,e.head.sha,e.head.repo.cloneUrl,e.head.repo.owner,e.head.repo.name,e.head.repo.isInOrganization)),e.isRemoteBaseDeleted!=null&&(this.isRemoteBaseDeleted=e.isRemoteBaseDeleted),e.base&&(this.base=new Bm(e.base.ref,e.base.label,e.base.sha,e.base.repo.cloneUrl,e.base.repo.owner,e.base.repo.name,e.base.repo.isInOrganization)),e.mergeQueueEntry!==void 0&&(this.mergeQueueEntry=(t=e.mergeQueueEntry)!=null?t:void 0),e.hasComments!==void 0&&(this._hasComments=e.hasComments),i}isResolved(){return!!this.head}validatePullRequestModel(e){if(this.head)return!0;const t=s.l10n.t("There is no upstream branch for Pull Request #{0}. View it on GitHub for more details",this.number);e?e+=`: ${t}`:e=t;const i=s.l10n.t("Open on GitHub");return s.window.showWarningMessage(e,i).then(r=>{r&&r===i&&s.commands.executeCommand("vscode.open",s.Uri.parse(this.html_url))}),!1}updateIssueInput(e){return{pullRequestId:e}}updateIssueSchema(e){return e.UpdatePullRequest}async approve(e,t){var i,r,a,o,v,T;let x,W,te;return this.isActive?(W=(i=e.state.HEAD)==null?void 0:i.commit,x=(a=(r=await this.githubRepository.getPullRequest(this.number))==null?void 0:r.head)==null?void 0:a.sha,te=s.l10n.t("The remote head of the pull request branch has changed. Please pull the latest changes from the remote branch before approving.")):(W=(o=this.head)==null?void 0:o.sha,x=(T=(v=await this.githubRepository.getPullRequest(this.number))==null?void 0:v.head)==null?void 0:T.sha,te=s.l10n.t("The remote head of the pull request branch has changed. Please refresh the pull request before approving.")),!x||x!==W?Promise.reject(te):(await this.getPendingReviewId()?this.submitReview(Fr.Approve,t):this.createReview(Fr.Approve,t)).then(fe=>(this._telemetry.sendTelemetryEvent("pr.approve"),this._onDidChange.fire({comments:!0,timeline:!0}),fe))}async requestChanges(e){const t=await this.getPendingReviewId()?await this.submitReview(Fr.RequestChanges,e):await this.createReview(Fr.RequestChanges,e);return this._telemetry.sendTelemetryEvent("pr.requestChanges"),this._onDidChange.fire({timeline:!0,comments:!0}),t}async close(){var e;const{octokit:t,remote:i}=await this.githubRepository.ensure(),r=await t.call(t.api.pulls.update,{owner:i.owner,repo:i.repositoryName,pull_number:this.number,state:"closed"});this._telemetry.sendTelemetryEvent("pr.close");const a=await this.githubRepository.getAuthenticatedUser();return this.state=this.stateToStateEnum(r.data.state),setTimeout(()=>this._onDidChange.fire({state:!0}),1500),{item:Cu(r.data,this.githubRepository),closedEvent:{createdAt:(e=r.data.closed_at)!=null?e:"",event:Ft.Closed,id:`${r.data.id}`,actor:{login:a.login,avatarUrl:a.avatarUrl,url:a.url}}}}async createReview(e,t){const{octokit:i,remote:r}=await this.githubRepository.ensure(),{data:a}=await i.call(i.api.pulls.createReview,{owner:r.owner,repo:r.repositoryName,pull_number:this.number,event:e,body:t});return this._onDidChange.fire({timeline:!0}),By(a,this.githubRepository)}async submitReview(e,t){let i=await this.getPendingReviewId();const{mutate:r,schema:a}=await this.githubRepository.ensure();if(!i&&e===Fr.Comment&&(i=await this.startReview()),i){const{data:o}=await r({mutation:a.SubmitReview,variables:{id:i,event:e||Fr.Comment,body:t}});this.hasPendingReview=!1,await this.updateDraftModeContext();const v=Qy(o.submitPullRequestReview.pullRequestReview,this.githubRepository),T=this._reviewThreadsCache.find(x=>x.comments.length?x.comments[0].pullRequestReviewId===v.id:void 0);return T&&(T.comments=v.comments,T.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[T],removed:[]})),this._onDidChange.fire({timeline:!0,comments:!0}),v}else throw new Error(`Submitting review failed, no pending review for current pull request: ${this.number}.`)}async getPendingReviewId(){const{query:e,schema:t}=await this.githubRepository.ensure(),i=(await this.githubRepository.getAuthenticatedUser()).login;try{const{data:r}=await e({query:t.GetPendingReviewId,variables:{pullRequestId:this.item.graphNodeId,author:i}});return r.node.reviews.nodes.length>0?r.node.reviews.nodes[0].id:void 0}catch{return}}async getViewerLatestReviewCommit(){var e,t;y.debug("Fetch viewers latest review commit",Gn.ID);const{query:i,remote:r,schema:a}=await this.githubRepository.ensure();try{const{data:o}=await i({query:a.LatestReviewCommit,variables:{owner:r.owner,name:r.repositoryName,number:this.number}});return o.repository===null&&y.error("Unexpected null repository while getting last review commit",Ji.ID),(e=o.repository)!=null&&e.pullRequest.viewerLatestReview?{sha:(t=o.repository)==null?void 0:t.pullRequest.viewerLatestReview.commit.oid}:void 0}catch{return}}async deleteReview(){const e=await this.getPendingReviewId(),{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:i.DeleteReview,variables:{input:{pullRequestReviewId:e}}}),{comments:a,databaseId:o}=r.deletePullRequestReview.pullRequestReview;return this.hasPendingReview=!1,await this.updateDraftModeContext(),this.getReviewThreads(),this._onDidChange.fire({timeline:!0}),{deletedReviewId:o,deletedReviewComments:a.nodes.map(v=>To(v,!1,this.githubRepository))}}async startReview(e){var t;const{mutate:i,schema:r}=await this.githubRepository.ensure(),{data:a}=await i({mutation:r.StartReview,variables:{input:{body:"",pullRequestId:this.item.graphNodeId,commitOID:e||((t=this.head)==null?void 0:t.sha)}}});if(!a)throw new Error("Failed to start review");return this.hasPendingReview=!0,a.addPullRequestReview.pullRequestReview.id}async createReviewThread(e,t,i,r,a,o){if(!this.validatePullRequestModel("Creating comment failed"))return;const v=await this.getPendingReviewId(),{mutate:T,schema:x}=await this.githubRepository.ensure(),{data:W}=await T({mutation:x.AddReviewThread,variables:{input:{path:t,body:e,pullRequestId:this.graphNodeId,pullRequestReviewId:v,startLine:i===r?void 0:i,line:r===void 0?0:r,side:a,subjectType:i===void 0||r===void 0?Yn.FILE:Yn.LINE}}},{mutation:x.LegacyAddReviewThread,deleteProps:["subjectType"]});if(!W)throw new Error("Creating review thread failed.");if(!W.addPullRequestReviewThread.thread)throw new Error("File has been deleted.");o||(this.hasPendingReview=!0,await this.updateDraftModeContext());const te=W.addPullRequestReviewThread.thread,oe=Pu(te,this.githubRepository);return this._reviewThreadsCache.push(oe),this._onDidChangeReviewThreads.fire({added:[oe],changed:[],removed:[]}),this._onDidChange.fire({timeline:!0}),oe}async createCommentReply(e,t,i,r){var a;if(!this.validatePullRequestModel("Creating comment failed"))return;let o=await this.getPendingReviewId();o||(o=await this.startReview(r));const{mutate:v,schema:T}=await this.githubRepository.ensure(),{data:x}=await v({mutation:T.AddComment,variables:{input:{pullRequestReviewId:o,body:e,inReplyTo:t,commitOID:r||((a=this.head)==null?void 0:a.sha)}}});if(!x)throw new Error("Creating comment reply failed.");const{comment:W}=x.addPullRequestReviewComment,te=To(W,!1,this.githubRepository);i&&(te.isDraft=!1);const oe=this._reviewThreadsCache.find(fe=>fe.comments.some(ye=>ye.graphNodeId===t));return oe&&(oe.comments.push(te),this._onDidChangeReviewThreads.fire({added:[],changed:[oe],removed:[]})),this._onDidChange.fire({timeline:!0,comments:!0}),te}async validateDraftMode(){const e=!!await this.getPendingReviewId();return e!==this.hasPendingReview&&(this.hasPendingReview=e),await this.updateDraftModeContext(),e}async updateDraftModeContext(){this.isActive&&await s.commands.executeCommand("setContext","reviewInDraftMode",this.hasPendingReview)}async getTimelineEvents(){var e,t;const i=async()=>{y.debug(`Fetch timeline events of PR #${this.number} - enter`,Ji.ID);const{query:W,remote:te,schema:oe}=await this.githubRepository.ensure();try{const{data:fe}=await W({query:oe.TimelineEvents,variables:{owner:te.owner,name:te.repositoryName,number:this.number}});return fe.repository===null&&y.error("Unexpected null repository when fetching timeline",Ji.ID),fe}catch(fe){y.error(`Failed to get pull request timeline events: ${fe}`,Ji.ID),console.log(fe);return}},[r,a,o,v]=await Promise.all([i(),this.getViewerLatestReviewCommit(),(await this.githubRepository.getAuthenticatedUser()).login,this.getReviewThreads()]),T=(t=(e=r==null?void 0:r.repository)==null?void 0:e.pullRequest.timelineItems.nodes)!=null?t:[],x=await wd(T,await this.getCopilotTimelineEvents(this,!0),this.githubRepository);return this.addReviewTimelineEventComments(x,v),iw(x,a==null?void 0:a.sha,o,this.head),y.debug(`Fetch timeline events of PR #${this.number} - done`,Ji.ID),this.timelineEvents=x,x}addReviewTimelineEventComments(e,t){const i=e.filter(W=>W.event===Ft.Reviewed),r=t.reduce((W,te)=>W.concat(te.comments),[]),a=i.reduce((W,te)=>(W[te.id]=te,te.comments=[],W),{}),o=r.reduce((W,te)=>(W[te.id]=te,W),{}),v=[];let T=r.length;for(;T-- >0;){const W=r[T];if(!W.inReplyToId){v.unshift(W);continue}const te=o[W.inReplyToId];te.childComments=te.childComments||[],te.childComments=[W,...W.childComments||[],...te.childComments]}v.forEach(W=>{const te=a[W.pullRequestReviewId];te&&(te.comments=te.comments.concat(W).concat(W.childComments||[]))}),t.forEach(W=>{if(!W.prReviewDatabaseId||!a[W.prReviewDatabaseId])return;const te=a[W.prReviewDatabaseId];te.reviewThread={threadId:W.id,canResolve:W.viewerCanResolve,canUnresolve:W.viewerCanUnresolve,isResolved:W.isResolved}});const x=i.filter(W=>{var te;return((te=W.state)==null?void 0:te.toLowerCase())==="pending"})[0];x&&(x.comments=r.filter(W=>W.isDraft))}async editReviewComment(e,t){const{mutate:i,schema:r}=await this.githubRepository.ensure();let a=this._reviewThreadsCache.find(T=>T.comments.some(x=>x.graphNodeId===e.graphNodeId));if(!a)return this.editIssueComment(e,t);const{data:o}=await i({mutation:r.EditComment,variables:{input:{pullRequestReviewCommentId:e.graphNodeId,body:t}}});if(!o)throw new Error("Editing review comment failed.");const v=To(o.updatePullRequestReviewComment.pullRequestReviewComment,!!e.isResolved,this.githubRepository);if(a){const T=a.comments.findIndex(x=>x.graphNodeId===e.graphNodeId);a.comments.splice(T,1,v),this._onDidChangeReviewThreads.fire({added:[],changed:[a],removed:[]}),this._onDidChange.fire({timeline:!0})}return v}async deleteReviewComment(e){try{const{octokit:t,remote:i}=await this.githubRepository.ensure(),r=Number(e),a=this._reviewThreadsCache.findIndex(o=>o.comments.some(v=>v.id===r));if(a===-1)this.deleteIssueComment(e);else if(await t.call(t.api.pulls.deleteReviewComment,{owner:i.owner,repo:i.repositoryName,comment_id:r}),a>-1){const o=this._reviewThreadsCache[a],v=o.comments.findIndex(T=>T.id===r);o.comments.splice(v,1),o.comments.length===0?(this._reviewThreadsCache.splice(a,1),this._onDidChangeReviewThreads.fire({added:[],changed:[],removed:[o]})):this._onDidChangeReviewThreads.fire({added:[],changed:[o],removed:[]}),this._onDidChange.fire({timeline:!0})}}catch(t){throw new Error(we(t))}}async getFileContent(e,t,i){var r;y.debug("Fetch file content - enter",Wn.ID);const{query:a,remote:o,schema:v}=await this.githubRepository.ensure(),{data:T}=await a({query:v.GetFileContent,variables:{owner:e,name:o.repositoryName,expression:`${t}:${i}`}});if((r=T.repository)!=null&&r.object.text)return y.debug("Fetch file content - end",Wn.ID),T.repository.object.text}async compareBaseBranchForMerge(e,t,i,r){var a,o,v;const{octokit:T,remote:x}=await this.githubRepository.ensure(),W=await T.call(T.api.repos.compareCommits,{repo:x.repositoryName,owner:e,base:`${e}:${t}`,head:`${i}:${r}`});return(v=(o=(a=W==null?void 0:W.data)==null?void 0:a.files)==null?void 0:o.filter(te=>te!==void 0))!=null?v:[]}async getUpdateBranchFiles(e,t,i){if(this.item.mergeable===dn.Conflict&&(!i.resolvedConflicts||i.resolvedConflicts.size===0))throw new Error("Pull Request has conflicts but no resolutions were provided.");const{octokit:r}=await this.githubRepository.ensure(),a=await this.compareBaseBranchForMerge(i.prHeadOwner,i.prHeadBranchName,i.prBaseOwner,e),o=(await r.call(r.api.repos.getCommit,{owner:i.prBaseOwner,repo:i.repositoryName,ref:e})).data.commit.tree.sha,v=await r.call(r.api.git.getTree,{owner:i.prBaseOwner,repo:i.repositoryName,tree_sha:o,recursive:"true"});return(await Promise.all(a.map(async x=>{var W,te,oe,fe;if(!x)return;const ye=v.data.tree.find(Ve=>Ve.path===x.filename),Pe=(W=ye==null?void 0:ye.mode)!=null?W:"100644",De=(await r.call(r.api.git.getTree,{owner:i.prHeadOwner,repo:i.repositoryName,tree_sha:t,recursive:"true"})).data.tree.find(Ve=>Ve.path===x.filename),Le=(te=De==null?void 0:De.mode)!=null?te:"100644";if(x.status==="removed")return{path:x.filename,sha:null,mode:(oe=De==null?void 0:De.mode)!=null?oe:"100644"};const $e={path:x.filename,mode:Pe},Ze=i.resolvedConflicts.get(x.filename);if((Ze==null?void 0:Ze.resolvedContents)!==void 0){if(x.status!=="modified")throw new Error(`Only modified file are supported for conflict resolution ${x.filename}: ${x.status}`);if(Pe!==Le)throw new Error(`Conflict resolution not supported for file with different modes ${x.filename}: ${Pe} -> ${Le}`);if(x.previous_filename)throw new Error("Conflict resolution not supported for renamed files");return $e.content=Ze.resolvedContents,$e}if((!x.previous_filename||!this._fileChanges.has(x.previous_filename))&&!this._fileChanges.has(x.filename))return $e.sha=x.sha,$e;const{data:rt}=await r.call(r.api.repos.getContent,{owner:i.prHeadOwner,repo:i.repositoryName,path:(fe=x==null?void 0:x.previous_filename)!=null?fe:x.filename,ref:i.prHeadBranchName});if(x.status==="modified"&&x.patch&&rt.content){const Ve=Ni.Buffer.from(rt.content,"base64"),We=new TextDecoder().decode(Ve);$e.content=nl(We,x.patch)}else throw y.error(`File ${x.filename} has status ${x.status} and can't be merged.`,Wn.ID),new Error(`File ${x.filename} has status ${x.status} and can't be merged,`);return $e}))).filter(x=>x!==void 0)}async getLatestBaseCommitSha(){if(!this.base)throw new Error("Base branch not yet set.");const{octokit:t,remote:i}=await this.githubRepository.ensure();return(await t.call(t.api.repos.getBranch,{owner:i.owner,repo:i.repositoryName,branch:this.base.ref})).data.commit.sha}async updateBranch(e){if(this.item.mergeable===dn.Conflict&&(!e.resolvedConflicts||e.resolvedConflicts.size===0))throw new Error("Pull Request has conflicts but no resolutions were provided.");y.debug(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} - enter`,Wn.ID);try{const{octokit:t}=await this.githubRepository.ensure(),i=(await t.call(t.api.repos.getBranch,{owner:e.prHeadOwner,repo:e.repositoryName,branch:e.prHeadBranchName})).data.commit.sha,r=(await t.call(t.api.repos.getCommit,{owner:e.prHeadOwner,repo:e.repositoryName,ref:i})).data.commit.tree.sha,a=await this.getUpdateBranchFiles(e.latestPrBaseSha,r,e),o=(await t.call(t.api.git.createTree,{owner:e.prHeadOwner,repo:e.repositoryName,base_tree:r,tree:a})).data.sha;let v;e.prBaseOwner===e.prHeadOwner?v=`Merge branch \`${e.prBaseBranchName}\` into ${e.prHeadBranchName}`:v=`Merge branch \`${e.prBaseOwner}:${e.prBaseBranchName}\` into ${e.prHeadBranchName}`;const T=(await t.call(t.api.git.createCommit,{owner:e.prHeadOwner,repo:e.repositoryName,message:v,tree:o,parents:[i,e.latestPrBaseSha]})).data.sha;await t.call(t.api.git.updateRef,{owner:e.prHeadOwner,repo:e.repositoryName,ref:`heads/${e.prHeadBranchName}`,sha:T})}catch(t){return y.error(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} failed: ${t}`,Wn.ID),!1}return y.debug(`Updating branch ${e.prHeadBranchName} to ${e.prBaseBranchName} - done`,Wn.ID),!0}async getReviewRequests(){var e;y.debug("Get Review Requests - enter",Ji.ID);const t=this.githubRepository,{remote:i,query:r,schema:a}=await t.ensure(),{data:o}=await r({query:this.credentialStore.isAuthenticatedWithAdditionalScopes(t.remote.authProviderId)?a.GetReviewRequestsAdditionalScopes:a.GetReviewRequests,variables:{number:this.number,owner:i.owner,name:i.repositoryName}});if(o.repository===null)return y.error("Unexpected null repository while getting review requests",Ji.ID),[];const v=Em(o,t);return(((e=this.reviewers)==null?void 0:e.length)!==v.length||this.reviewers.some(T=>!v.some(x=>x.id===T.id)))&&(this.reviewers=v,this._onDidChange.fire({reviewers:!0})),y.debug("Get Review Requests - done",Ji.ID),v}async requestReview(e,t,i=!1){var r;const{mutate:a,schema:o}=await this.githubRepository.ensure(),{data:v}=await a({mutation:o.AddReviewers,variables:{input:{pullRequestId:this.graphNodeId,teamIds:t.map(x=>x.id),userIds:e.filter(x=>x.accountType!==ya.Bot).map(x=>x.id),botIds:e.filter(x=>x.accountType===ya.Bot).map(x=>x.id),union:i}}});if(!(v!=null&&v.repository)){y.error("Unexpected null repository while getting review requests",Ji.ID);return}const T=Em(v,this.githubRepository);(((r=this.reviewers)==null?void 0:r.length)!==T.length||this.reviewers.some(x=>!T.some(W=>W.id===x.id)))&&(this.reviewers=T,this._onDidChange.fire({reviewers:!0}))}async deleteReviewRequest(e,t){var i;const{octokit:r,remote:a}=await this.githubRepository.ensure();await r.call(r.api.pulls.removeRequestedReviewers,{owner:a.owner,repo:a.repositoryName,pull_number:this.number,reviewers:e.filter(o=>o.accountType!==ya.Bot).map(o=>o.id),team_reviewers:t.map(o=>o.id)}),this.reviewers=((i=this.reviewers)==null?void 0:i.filter(o=>!e.some(v=>v.id===o.id)&&!t.some(v=>v.id===o.id)))||[],this._onDidChange.fire({reviewers:!0})}diffThreads(e,t){const i=[],r=[],a=[];t.forEach(o=>{const v=e.find(T=>T.id===o.id);v?tl()(o,v)||r.push(o):i.push(o)}),e.forEach(o=>{t.find(v=>v.id===o.id)||a.push(o)}),this._onDidChangeReviewThreads.fire({added:i,changed:r,removed:a})}async initializeReviewThreadCacheAndReviewComments(){const{remote:e}=await this.githubRepository.ensure(),t=await this.getRawReviewComments();this.setReviewThreadCacheFromRaw(t),this.comments=t.map(i=>i.comments.nodes.map(r=>To(r,i.isResolved,this.githubRepository),e)).reduce((i,r)=>i.concat(r),[]).sort((i,r)=>i.createdAt>r.createdAt?1:-1)}setReviewThreadCacheFromRaw(e){const t=e.map(r=>Pu(r,this.githubRepository)),i=this._reviewThreadsCache;return this._reviewThreadsCache=t,this.diffThreads(i,t),t}async getRawReviewComments(){y.debug(`Fetching review comments for PR #${this.number} - enter`,Ji.ID);const{remote:e,query:t,schema:i}=await this.githubRepository.ensure();let r=null,a=!1;const o=[];try{do{const{data:v}=await t({query:i.PullRequestComments,variables:{owner:e.owner,name:e.repositoryName,number:this.number,after:r}},!1,{query:i.LegacyPullRequestComments});o.push(...v.repository.pullRequest.reviewThreads.nodes),a=v.repository.pullRequest.reviewThreads.pageInfo.hasNextPage,r=v.repository.pullRequest.reviewThreads.pageInfo.endCursor}while(a&&o.length<1e3);return y.debug(`Fetching review comments for PR #${this.number} - exit`,Ji.ID),o}catch(v){return y.error(`Failed to get pull request review comments: ${v}`,Ji.ID),[]}}async getReviewThreads(){const e=await this.getRawReviewComments();return this.setReviewThreadCacheFromRaw(e)}async getCommits(){try{y.debug(`Fetch commits of PR #${this.number} - enter`,Ji.ID);const{remote:e,octokit:t}=await this.githubRepository.ensure(),i=await Sl(t.api.pulls.listCommits,{pull_number:this.number,owner:e.owner,repo:e.repositoryName});return y.debug(`Fetch commits of PR #${this.number} - done`,Ji.ID),i}catch(e){return s.window.showErrorMessage(`Fetching commits failed: ${we(e)}`),[]}}async getCommitChangedFiles(e){var t;try{y.debug(`Fetch file changes of commit ${e.sha} in PR #${this.number} - enter`,Ji.ID);const{octokit:i,remote:r}=await this.githubRepository.ensure(),a=await i.call(i.api.repos.getCommit,{owner:r.owner,repo:r.repositoryName,ref:e.sha});return y.debug(`Fetch file changes of commit ${e.sha} in PR #${this.number} - done`,Ji.ID),(t=a.data.files)!=null?t:[]}catch(i){return s.window.showErrorMessage(`Fetching commit file changes failed: ${we(i)}`),[]}}async getCoAuthors(){var e;if(!en[this.item.user.login])return[];const{octokit:t,remote:i}=await this.githubRepository.ensure(),a=(e=(await t.call(t.api.issues.listEventsForTimeline,{issue_number:this.number,owner:i.owner,repo:i.repositoryName,per_page:100})).data.find(o=>o.event==="copilot_work_started"))==null?void 0:e.actor;return a?[ln(a,this.githubRepository)]:[]}getUpdatesQuery(e){return e.LatestUpdates}async getStatusChecks(){return this.githubRepository.getStatusChecks(this.number)}static async openChanges(e,t,i){const r=await Ji.getChangeModels(e,t),a=[];for(const o of r)a.push([o.filePath,o.parentFilePath,o.filePath]);return e.telemetry.sendTelemetryEvent("pr.openChanges"),i&&(s.window.tabGroups.all.length<2&&await s.commands.executeCommand("workbench.action.splitEditor"),await s.commands.executeCommand("workbench.action.focusSecondEditorGroup")),s.commands.executeCommand("vscode.changes",s.l10n.t("Changes in Pull Request #{0}",t.number),a)}static async openCommitChanges(e,t){var i;try{const r=await e.getCommitParent(t);if(!r){s.window.showErrorMessage(s.l10n.t("Commit {0} has no parent",t.substring(0,7)));return}const a=await e.compareCommits(r,t);if(!(a!=null&&a.files)||a.files.length===0){s.window.showInformationMessage(s.l10n.t("No changes found in commit {0}",t.substring(0,7)));return}const o=[];for(const v of a.files){const T=Xm(v.filename,{commit:t,owner:e.remote.owner,repo:e.remote.repositoryName}),x=Xm((i=v.previous_filename)!=null?i:v.filename,{commit:r,owner:e.remote.owner,repo:e.remote.repositoryName}),W=Cs(v.status);W===$t.ADD?o.push([T,void 0,T]):W===$t.DELETE?o.push([T,x,void 0]):o.push([T,x,T])}return e.telemetry.sendTelemetryEvent("pr.openCommitChanges"),ei.executeCommand("vscode.changes",s.l10n.t("Changes in Commit {0}",t.substring(0,7)),o)}catch(r){const a=r instanceof Error?r.message:String(r);s.window.showErrorMessage(s.l10n.t("Failed to open commit changes: {0}",a))}}static async openDiffFromComment(e,t,i){const a=(await t.getFileChangesInfo()).find(T=>T.fileName===i.path||T.previousFileName===i.path);if(!a)throw new Error("Can't find matching file");const o=i.path.split("/"),v=i.diffHunks&&i.diffHunks.length>0?i.diffHunks[0].newLineNumber:void 0;this.openDiff(e,t,a,o[o.length-1],v)}static async openFirstDiff(e,t){const i=await t.getFileChangesInfo();if(!i.length)return;const r=i[0];this.openDiff(e,t,r,r.fileName)}static async openDiff(e,t,i,r,a){let o,v;if(t.equals(e.activePullRequest)){const T=s.Uri.file(z.resolve(e.repository.rootUri.fsPath,i.fileName));o=i.status===$t.DELETE?na(T,void 0,void 0,"",!1,{base:!1},e.repository.rootUri):T;const x=t.mergeBase||t.base.sha;v=na(T,i.status===$t.RENAME?i.previousFileName:i.fileName,void 0,i.status===$t.ADD?"":x,!1,{base:!0},e.repository.rootUri)}else{const T=t.head.sha,x=i.status===$t.RENAME?i.previousFileName:i.fileName;o=Za(s.Uri.file(Io(e.repository.rootUri,i.fileName)),t,i.baseCommit,T,i.fileName,!1,i.status,i.previousFileName),v=Za(s.Uri.file(Io(e.repository.rootUri,x)),t,i.baseCommit,T,i.fileName,!0,i.status,i.previousFileName)}s.commands.executeCommand("vscode.diff",v,o,`${r} (Pull Request)`,a?{selection:{start:{line:a,character:0},end:{line:a,character:0}}}:{})}get fileChanges(){return this._fileChanges}async getFileChangesInfo(){this._fileChanges.clear();const e=await this.getRawFileChangesInfo(),t=this.mergeBase||this.base.sha,i=await rl(e,t);return i.forEach(r=>{this._fileChanges.set(r.fileName,r)}),i}async getPatch(){const e=this.githubRepository,{octokit:t,remote:i}=await e.ensure(),{data:r}=await t.call(t.api.pulls.get,{owner:i.owner,repo:i.repositoryName,pull_number:this.number,mediaType:{format:"diff"}});if(typeof r=="string")return r;throw new Error("Expected diff data to be a string")}static async getChangeModels(e,t){var i;const r=((i=e.activePullRequest)==null?void 0:i.number)===t.number,a=t.fileChanges.size>0?t.fileChanges.values():await t.getFileChangesInfo(),o=[];for(const v of a){let T;v instanceof ka?T=new Ao(e,v,t):T=new Vs(e,t,v,r,t.mergeBase),o.push(T)}return o}async getRawFileChangesInfo(){var e;y.debug(`Fetch file changes, base, head and merge base of PR #${this.number} - enter`,Ji.ID);const t=this.githubRepository,{octokit:i,remote:r}=await t.ensure();if(!this.base){y.appendLine("No base branch found for PR, fetching it now",Ji.ID),y.trace(`Fetching from ${r.owner}/${r.repositoryName}. PR #${this.number}`,Ji.ID);const W=await i.call(i.api.pulls.get,{owner:r.owner,repo:r.repositoryName,pull_number:this.number});this.update(Cu(W.data,t))}let a=this.base.sha;const o=await this.getViewerLatestReviewCommit(),v=this.hasChangesSinceLastReview;if(this.hasChangesSinceLastReview=o!==void 0&&((e=this.head)==null?void 0:e.sha)!==o.sha,this._showChangesSinceReview&&this.hasChangesSinceLastReview&&o!=null&&(a=o.sha),this.item.merged){y.appendLine("PR is merged, fetching all file changes",Ji.ID);const W=await Sl(i.api.pulls.listFiles,{repo:r.repositoryName,owner:r.owner,pull_number:this.number});return this.mergeBase=this.base.sha,W}y.debug(`Comparing commits for ${r.owner}/${r.repositoryName} with base ${this.base.repositoryCloneUrl.owner}:${a} and head ${this.head.repositoryCloneUrl.owner}:${this.head.sha}`,Ji.ID);const{files:T,mergeBaseSha:x}=await Mw(r,i,this.base,this.head,a,this.number,Ji.ID);return this.mergeBase=x,v!==void 0&&v!==this.hasChangesSinceLastReview&&this.hasChangesSinceLastReview&&this._showChangesSinceReview&&this._onDidChangeChangesSinceReview.fire(),y.debug(`Fetch file changes and merge base of PR #${this.number} - done, total files ${T.length} `,Ji.ID),T}get autoMerge(){return!!this.item.autoMerge}get autoMergeMethod(){return this.item.autoMergeMethod}get allowAutoMerge(){return!!this.item.allowAutoMerge}get mergeCommitMeta(){return this.item.mergeCommitMeta}get squashCommitMeta(){return this.item.squashCommitMeta}get hasComments(){return this._hasComments}async getMergeability(){var e,t,i,r,a;try{y.debug(`Fetch pull request mergeability ${this.number} - enter`,Ji.ID);const{query:o,remote:v,schema:T}=await this.githubRepository.ensure(),{data:x}=await o({query:T.PullRequestMergeability,variables:{owner:v.owner,name:v.repositoryName,number:this.number}});x.repository===null&&y.error("Unexpected null repository while getting mergeability",Ji.ID),y.debug(`Fetch pull request mergeability ${this.number} - done`,Ji.ID);const W=yd((e=x.repository)==null?void 0:e.pullRequest.mergeable,(t=x.repository)==null?void 0:t.pullRequest.mergeStateStatus);return this.item.mergeable=W,this.conflicts=(a=(r=(i=x.repository)==null?void 0:i.pullRequest.mergeRequirements)==null?void 0:r.conditions.find(te=>te.__typename==="PullRequestMergeConflictStateCondition"))==null?void 0:a.conflicts,this.update(this.item),{mergeability:W,conflicts:this.conflicts}}catch(o){return y.error(`Unable to fetch PR Mergeability: ${o}`,Ji.ID),{mergeability:dn.Unknown}}}async setReadyForReview(){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:i}=await e({mutation:t.ReadyForReview,variables:{input:{pullRequestId:this.graphNodeId}}});this._telemetry.sendTelemetryEvent("pr.readyForReview.success");const r={isDraft:i.markPullRequestReadyForReview.pullRequest.isDraft,mergeable:yd(i.markPullRequestReadyForReview.pullRequest.mergeable,i.markPullRequestReadyForReview.pullRequest.mergeStateStatus),allowAutoMerge:i.markPullRequestReadyForReview.pullRequest.viewerCanEnableAutoMerge||i.markPullRequestReadyForReview.pullRequest.viewerCanDisableAutoMerge};return this.item.isDraft=r.isDraft,this.item.mergeable=r.mergeable,this.item.allowAutoMerge=r.allowAutoMerge,this._onDidChange.fire({draft:!0}),r}catch(e){throw this._telemetry.sendTelemetryErrorEvent("pr.readyForReview.failure"),e}}updateCommentReactions(e,t){const i=this._reviewThreadsCache.find(r=>r.comments.some(a=>a.graphNodeId===e));if(i){const r=i.comments.find(a=>a.graphNodeId===e);r&&(r.reactions=ms(t),this._onDidChangeReviewThreads.fire({added:[],changed:[i],removed:[]}))}}async addCommentReaction(e,t){const i=Iu().reduce((T,x)=>(T[x.label]=x.title,T),{}),{mutate:r,schema:a}=await this.githubRepository.ensure(),{data:o}=await r({mutation:a.AddReaction,variables:{input:{subjectId:e,content:i[t.label]}}});if(!o)throw new Error("Add comment reaction failed.");const v=o.addReaction.subject.reactionGroups;return this.updateCommentReactions(e,v),o}async deleteCommentReaction(e,t){const i=Iu().reduce((T,x)=>(T[x.label]=x.title,T),{}),{mutate:r,schema:a}=await this.githubRepository.ensure(),{data:o}=await r({mutation:a.DeleteReaction,variables:{input:{subjectId:e,content:i[t.label]}}});if(!o)throw new Error("Delete comment reaction failed.");const v=o.removeReaction.subject.reactionGroups;return this.updateCommentReactions(e,v),o}undoOptimisticResolveState(e){e&&(e.isResolved=!e.isResolved,e.viewerCanResolve=!e.viewerCanResolve,e.viewerCanUnresolve=!e.viewerCanUnresolve,this._onDidChangeReviewThreads.fire({added:[],changed:[e],removed:[]}))}async resolveReviewThread(e){const t=this._reviewThreadsCache.find(i=>i.id===e);try{y.debug("Resolve review thread - enter",Ji.ID);const{mutate:i,schema:r}=await this.githubRepository.ensure();t&&t.viewerCanResolve&&(t.isResolved=!0,t.viewerCanResolve=!1,t.viewerCanUnresolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[t],removed:[]}));const{data:a}=await i({mutation:r.ResolveReviewThread,variables:{input:{threadId:e}}},{mutation:r.LegacyResolveReviewThread,deleteProps:[]});if(!a)throw this.undoOptimisticResolveState(t),new Error("Resolve review thread failed.");const o=this._reviewThreadsCache.findIndex(v=>v.id===e);if(o>-1){const v=Pu(a.resolveReviewThread.thread,this.githubRepository);this._reviewThreadsCache.splice(o,1,v),this._onDidChangeReviewThreads.fire({added:[],changed:[v],removed:[]})}y.debug("Resolve review thread - done",Ji.ID)}catch(i){y.error(`Resolve review thread failed: ${i}`,Ji.ID),this.undoOptimisticResolveState(t)}}async unresolveReviewThread(e){const t=this._reviewThreadsCache.find(i=>i.id===e);try{y.debug("Unresolve review thread - enter",Ji.ID);const{mutate:i,schema:r}=await this.githubRepository.ensure();t&&t.viewerCanUnresolve&&(t.isResolved=!1,t.viewerCanUnresolve=!1,t.viewerCanResolve=!0,this._onDidChangeReviewThreads.fire({added:[],changed:[t],removed:[]}));const{data:a}=await i({mutation:r.UnresolveReviewThread,variables:{input:{threadId:e}}},{mutation:r.LegacyUnresolveReviewThread,deleteProps:[]});if(!a)throw this.undoOptimisticResolveState(t),new Error("Unresolve review thread failed.");const o=this._reviewThreadsCache.findIndex(v=>v.id===e);if(o>-1){const v=Pu(a.unresolveReviewThread.thread,this.githubRepository);this._reviewThreadsCache.splice(o,1,v),this._onDidChangeReviewThreads.fire({added:[],changed:[v],removed:[]})}y.debug("Unresolve review thread - done",Ji.ID)}catch(i){y.error(`Unresolve review thread failed: ${i}`,Ji.ID),this.undoOptimisticResolveState(t)}}async enableAutoMerge(e){try{const{mutate:t,schema:i}=await this.githubRepository.ensure(),{data:r}=await t({mutation:i.EnablePullRequestAutoMerge,variables:{input:{mergeMethod:e.toUpperCase(),pullRequestId:this.graphNodeId}}});if(!r)throw new Error("Enable auto-merge failed.");this.item.autoMerge=!0,this.item.autoMergeMethod=e}catch(t){if(t.message==='GraphQL error: ["Pull request Pull request is in clean status"]')s.window.showWarningMessage(s.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw t}}async disableAutoMerge(){try{const{mutate:e,schema:t}=await this.githubRepository.ensure(),{data:i}=await e({mutation:t.DisablePullRequestAutoMerge,variables:{input:{pullRequestId:this.graphNodeId}}});if(!i)throw new Error("Disable auto-merge failed.");this.item.autoMerge=!1}catch(e){if(e.message==='GraphQL error: ["Pull request Pull request is in clean status"]')s.window.showWarningMessage(s.l10n.t("Unable to enable auto-merge. Pull request status checks are already green."));else throw e}}async dequeuePullRequest(){y.debug(`Dequeue pull request ${this.number} - enter`,Wn.ID);const{mutate:e,schema:t}=await this.githubRepository.ensure();if(!t.DequeuePullRequest)return!1;try{return await e({mutation:t.DequeuePullRequest,variables:{input:{id:this.graphNodeId}}}),y.debug(`Dequeue pull request ${this.number} - done`,Wn.ID),this.mergeQueueEntry=void 0,!0}catch(i){return y.error(`Dequeueing pull request failed: ${i}`,Wn.ID),!1}}async enqueuePullRequest(){var e;y.debug(`Enqueue pull request ${this.number} - enter`,Wn.ID);const{mutate:t,schema:i}=await this.githubRepository.ensure();if(i.EnqueuePullRequest)try{const{data:r}=await t({mutation:i.EnqueuePullRequest,variables:{input:{pullRequestId:this.graphNodeId}}});return y.debug(`Enqueue pull request ${this.number} - done`,Wn.ID),(e=Tm(r==null?void 0:r.enqueuePullRequest.mergeQueueEntry))!=null?e:void 0}catch(r){y.error(`Enqueuing pull request failed: ${r}`,Wn.ID)}}async initializePullRequestFileViewState(){const{query:e,schema:t,remote:i}=await this.githubRepository.ensure(),r=[];let a=null,o=!1;do{const{data:v}=await e({query:t.PullRequestFiles,variables:{owner:i.owner,name:i.repositoryName,number:this.number,after:a}});v.repository.pullRequest.files.nodes.forEach(T=>{this._fileChangeViewedState[T.path]!==T.viewerViewedState&&r.push({fileName:T.path,viewed:T.viewerViewedState}),this.setFileViewedState(T.path,T.viewerViewedState,!1)}),o=v.repository.pullRequest.files.pageInfo.hasNextPage,a=v.repository.pullRequest.files.pageInfo.endCursor}while(o);r.length&&this._onDidChangeFileViewedState.fire({changed:r})}updateMarkFilesInProgressRefCount(e,t){const i=[];for(const r of e){let a=this.markFilesInProgressRefCount.get(r)||0;t==="increment"?a++:a--,a===0?(this.markFilesInProgressRefCount.delete(r),i.push(r)):this.markFilesInProgressRefCount.set(r,a)}return i}async markFiles(e,t,i){const r=e.map(x=>J(this.githubRepository.rootUri.path,x,"/")?x.substring(this.githubRepository.rootUri.path.length+1):x);this.updateMarkFilesInProgressRefCount(r,"increment");const{mutate:a}=await this.githubRepository.ensure(),o=this.graphNodeId,v=i==="viewed"?"markFileAsViewed":"unmarkFileAsViewed";for(let x=0;x<r.length;x+=Wm){const W=r.slice(x,x+Wm),te=ar()`mutation Batch${v}{
				${W.map((oe,fe)=>`alias${fe}: ${v}(
						input: {path: "${oe}", pullRequestId: "${o}"}
					) { clientMutationId }
					`)}
			}`;await a({mutation:te})}this.updateMarkFilesInProgressRefCount(r,"decrement").forEach(x=>this.setFileViewedState(x,i==="viewed"?sr.VIEWED:sr.UNVIEWED,t))}async unmarkAllFilesAsViewed(){return this.markFiles(Array.from(this.fileChanges.keys()),!0,"unviewed")}setFileViewedState(e,t,i){const r=s.Uri.joinPath(this.githubRepository.rootUri,e),a=this.githubRepository.rootUri.scheme===qt.VscodeVfs?r.path:r.fsPath;switch(t){case sr.DISMISSED:{this._viewedFiles.delete(a),this._unviewedFiles.delete(a);break}case sr.UNVIEWED:{this._viewedFiles.delete(a),this._unviewedFiles.add(a);break}case sr.VIEWED:this._viewedFiles.add(a),this._unviewedFiles.delete(a)}this._fileChangeViewedState[e]=t,i&&this._onDidChangeFileViewedState.fire({changed:[{fileName:e,viewed:t}]})}getViewedFileStates(){return{viewed:this._viewedFiles,unviewed:this._unviewedFiles}}};rn(Km,"ID","PullRequestModel");let fn=Km;async function Qm(n,e,t){return!en[n.author.login]||(t||(t=await n.getCoAuthors()),!t||t.length===0)?!1:t.some(i=>i.login===e.login)}var Fw=Object.defineProperty,xw=(n,e,t)=>e in n?Fw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Uu=(n,e,t)=>xw(n,typeof e!="symbol"?e+"":e,t);let Da;const Ym=class Pc extends s.Disposable{constructor(e){super(()=>c(this.disposables)),this._storageUri=e,Uu(this,"SUBPATH","temp"),Uu(this,"disposables",[]),Uu(this,"persistInSessionDisposables",[])}get path(){return s.Uri.joinPath(this._storageUri,this.SUBPATH)}dispose(){c(this.disposables),c(this.persistInSessionDisposables)}addDisposable(e,t){if(t)this.persistInSessionDisposables.push(e);else{if(this.disposables.length>30){const i=this.disposables.shift();i==null||i.dispose()}this.disposables.push(e)}}async writeState(e,t,i,r){let a=this.path;const o=s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0?s.workspace.workspaceFolders[0].name:void 0;o&&(a=s.Uri.joinPath(a,o)),e&&(a=s.Uri.joinPath(a,e)),await s.workspace.fs.createDirectory(a);const v=s.Uri.joinPath(a,t);await s.workspace.fs.writeFile(v,i);const T={dispose:()=>{try{return s.workspace.fs.delete(v,{recursive:!0})}catch{}}};return this.addDisposable(T,r),v}async readState(e,t){let i=this.path;const r=s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0?s.workspace.workspaceFolders[0].name:void 0;r&&(i=s.Uri.joinPath(i,r)),i=s.Uri.joinPath(i,e);const a=s.Uri.joinPath(i,t);return s.workspace.fs.readFile(a)}static async init(e){if(e.globalStorageUri&&!Da){Da=new Pc(e.globalStorageUri);try{await s.workspace.fs.delete(Da.path,{recursive:!0})}catch(t){y.appendLine(`Error in initialization: ${t.message}`,Pc.ID)}try{await s.workspace.fs.createDirectory(Da.path)}catch(t){y.appendLine(`Error in initialization: ${t.message}`,Pc.ID)}return e.subscriptions.push(Da),Da}}static async write(e,t,i,r=!1){if(Da)return Da.writeState(e,t,i,r)}static async read(e,t){if(Da)return Da.readState(e,t)}};Uu(Ym,"ID","TemporaryState");let Zm=Ym;function da(n){return JSON.parse(n)}function Nn(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function Jm(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function Pd(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function gs(n,e,t){return n.with({scheme:e,query:JSON.stringify(t)})}function Ow(n){if(!(n.scheme!=="githubcommit"||n.query===""))try{return JSON.parse(n.query)}catch{}}function Xm(n,e){return s.Uri.from({scheme:"githubcommit",path:`/${n}`,query:JSON.stringify(e)})}const Lw=["image/png","image/gif","image/jpeg","image/webp","image/tiff","image/bmp"],ep=[".aac",".avi",".bmp",".flv",".gif",".ico",".jpe",".jpeg",".jpg",".m1v",".m2a",".m2v",".m3a",".mid",".midi",".mk3d",".mks",".mkv",".mov",".movie",".mp2",".mp2a",".mp3",".mp4",".mp4a",".mp4v",".mpe",".mpeg",".mpg",".mpg4",".mpga",".oga",".ogg",".opus",".ogv",".png",".psd",".qt",".spx",".svg",".tga",".tif",".tiff",".wav",".webm",".webp",".wma",".wmv",".woff"],tp=s.Uri.parse("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");async function Ad(n,e){try{const{commit:t,baseCommit:i,headCommit:r,isBase:a,path:o}=JSON.parse(n.query),v=z.extname(o);if(!ep.includes(v))return;const T=n.scheme==="review"?t:a?i:r,x=z.join(e.rootUri.fsPath,o).replace(/\\/g,"/"),{object:W}=await e.getObjectDetails(T,x),{mimetype:te}=await e.detectObjectType(W);if(te==="text/plain")return;if(Lw.indexOf(te)>-1){const oe=await e.buffer(T,x);return Zm.write(z.dirname(o),z.basename(o),oe)}}catch{return}}var cr;(n=>{const e="userIcons";function t(ye){return`${xr(ye)}.jpg`}function i(ye){return s.Uri.joinPath(ye.globalStorageUri,e)}function r(ye,Pe){return s.Uri.joinPath(i(ye),t(Pe))}function a(ye){return s.Uri.joinPath(i(ye),"cache.log")}async function o(ye,Pe,Ce){await s.workspace.fs.createDirectory(i(ye));const De=r(ye,Pe);return await s.workspace.fs.writeFile(De,Ce),De}async function v(ye,Pe){try{const Ce=r(ye,Pe);return s.workspace.fs.readFile(Ce)}catch{return}}function T(ye){return s.Uri.parse(`data:image/svg+xml;size:${ye.byteLength};base64,${ye.toString("base64")}`)}n.asImageDataURI=T;function x(ye,Pe){const Ce=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.807 2.265C13.228 1.532 12.313 1.141 11.083 1.004C9.877 0.870002 8.821 1.038 8.139 1.769C8.09 1.822 8.043 1.877 8 1.933C7.957 1.877 7.91 1.822 7.861 1.769C7.179 1.038 6.123 0.870002 4.917 1.004C3.687 1.141 2.772 1.532 2.193 2.265C1.628 2.981 1.5 3.879 1.5 4.75C1.5 5.322 1.553 5.897 1.754 6.405L1.586 7.243L1.52 7.276C0.588 7.742 0 8.694 0 9.736V11C0 11.24 0.086 11.438 0.156 11.567C0.231 11.704 0.325 11.828 0.415 11.933C0.595 12.143 0.819 12.346 1.02 12.513C1.225 12.684 1.427 12.836 1.577 12.943C1.816 13.116 2.062 13.275 2.318 13.423C2.625 13.6 3.066 13.832 3.614 14.065C4.391 14.395 5.404 14.722 6.553 14.887C6.203 14.377 5.931 13.809 5.751 13.202C5.173 13.055 4.645 12.873 4.201 12.684C3.717 12.479 3.331 12.274 3.067 12.123L3.002 12.085V7.824L3.025 7.709C3.515 7.919 4.1 8 4.752 8C5.898 8 6.812 7.672 7.462 7.009C7.681 6.785 7.859 6.535 8.002 6.266C8.049 6.354 8.106 6.436 8.16 6.52C8.579 6.238 9.038 6.013 9.522 5.843C9.26 5.52 9.077 5.057 8.996 4.407C8.879 3.471 9.034 3.011 9.238 2.793C9.431 2.586 9.875 2.379 10.919 2.495C11.939 2.608 12.398 2.899 12.632 3.195C12.879 3.508 13.002 3.984 13.002 4.75C13.002 5.158 12.967 5.453 12.909 5.674C13.398 5.792 13.865 5.967 14.3 6.197C14.443 5.741 14.502 5.248 14.502 4.75C14.502 3.879 14.374 2.981 13.809 2.265H13.807ZM7.006 4.407C6.915 5.133 6.704 5.637 6.388 5.959C6.089 6.264 5.604 6.5 4.75 6.5C3.828 6.5 3.47 6.301 3.308 6.12C3.129 5.92 3 5.542 3 4.75C3 3.984 3.123 3.508 3.37 3.195C3.604 2.899 4.063 2.609 5.083 2.495C6.127 2.379 6.571 2.586 6.764 2.793C6.968 3.011 7.123 3.471 7.006 4.407Z" fill="${ye}" />
<path d="M11.5 7C9.015 7 7 9.015 7 11.5C7 13.985 9.015 16 11.5 16C13.985 16 16 13.985 16 11.5C16 9.015 13.985 7 11.5 7ZM13.854 13.146L13.147 13.853L11.501 12.207L9.855 13.853L9.148 13.146L10.794 11.5L9.148 9.854L9.855 9.147L11.501 10.793L13.147 9.147L13.854 9.854L12.208 11.5L13.854 13.146Z" fill="${Pe}" />
</svg>`,De=Ni.Buffer.from(Ce);return T(De)}n.copilotErrorAsImageDataURI=x;function W(ye,Pe){const Ce=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.807 2.265C13.228 1.532 12.313 1.141 11.083 1.004C9.877 0.870002 8.821 1.038 8.139 1.769C8.09 1.822 8.043 1.877 8 1.933C7.957 1.877 7.91 1.822 7.861 1.769C7.179 1.038 6.123 0.870002 4.917 1.004C3.687 1.141 2.772 1.532 2.193 2.265C1.628 2.981 1.5 3.879 1.5 4.75C1.5 5.322 1.553 5.897 1.754 6.405L1.586 7.243L1.52 7.276C0.588 7.742 0 8.694 0 9.736V11C0 11.24 0.086 11.438 0.156 11.567C0.231 11.704 0.325 11.828 0.415 11.933C0.595 12.143 0.819 12.346 1.02 12.513C1.225 12.684 1.427 12.836 1.577 12.943C1.816 13.116 2.062 13.275 2.318 13.423C2.625 13.6 3.066 13.832 3.614 14.065C4.391 14.395 5.404 14.722 6.553 14.887C6.203 14.377 5.931 13.809 5.751 13.202C5.173 13.055 4.645 12.873 4.201 12.684C3.717 12.479 3.331 12.274 3.067 12.123L3.002 12.085V7.824L3.025 7.709C3.515 7.919 4.1 8 4.752 8C5.898 8 6.812 7.672 7.462 7.009C7.681 6.785 7.859 6.535 8.002 6.266C8.049 6.354 8.106 6.436 8.16 6.52C8.579 6.238 9.038 6.013 9.522 5.843C9.26 5.52 9.077 5.057 8.996 4.407C8.879 3.471 9.034 3.011 9.238 2.793C9.431 2.586 9.875 2.379 10.919 2.495C11.939 2.608 12.398 2.899 12.632 3.195C12.879 3.508 13.002 3.984 13.002 4.75C13.002 5.158 12.967 5.453 12.909 5.674C13.398 5.792 13.865 5.967 14.3 6.197C14.443 5.741 14.502 5.248 14.502 4.75C14.502 3.879 14.374 2.981 13.809 2.265H13.807ZM7.006 4.407C6.915 5.133 6.704 5.637 6.388 5.959C6.089 6.264 5.604 6.5 4.75 6.5C3.828 6.5 3.47 6.301 3.308 6.12C3.129 5.92 3 5.542 3 4.75C3 3.984 3.123 3.508 3.37 3.195C3.604 2.899 4.063 2.609 5.083 2.495C6.127 2.379 6.571 2.586 6.764 2.793C6.968 3.011 7.123 3.471 7.006 4.407Z" fill="${ye}" />
<path d="M11.5 7C9.015 7 7 9.015 7 11.5C7 13.985 9.015 16 11.5 16C13.985 16 16 13.985 16 11.5C16 9.015 13.985 7 11.5 7ZM11.5 14.25C10.963 14.25 10.445 14.105 10 13.844V14.5H9V12.5L9.5 12H11.5V13H10.536C10.823 13.16 11.155 13.25 11.5 13.25C12.177 13.25 12.805 12.907 13.137 12.354L13.994 12.87C13.481 13.722 12.525 14.25 11.5 14.25ZM14 10.5L13.5 11H11.5V10H12.464C12.177 9.84 11.845 9.75 11.5 9.75C10.823 9.75 10.195 10.093 9.863 10.646L9.006 10.13C9.519 9.278 10.475 8.75 11.5 8.75C12.037 8.75 12.555 8.895 13 9.156V8.5H14V10.5Z" fill="${Pe}" />
</svg>`,De=Ni.Buffer.from(Ce);return T(De)}n.copilotInProgressAsImageDataURI=W;function te(ye,Pe){const Ce=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.807 2.265C13.228 1.532 12.313 1.141 11.083 1.004C9.877 0.870002 8.821 1.038 8.139 1.769C8.09 1.822 8.043 1.877 8 1.933C7.957 1.877 7.91 1.822 7.861 1.769C7.179 1.038 6.123 0.870002 4.917 1.004C3.687 1.141 2.772 1.532 2.193 2.265C1.628 2.981 1.5 3.879 1.5 4.75C1.5 5.322 1.553 5.897 1.754 6.405L1.586 7.243L1.52 7.276C0.588 7.742 0 8.694 0 9.736V11C0 11.24 0.086 11.438 0.156 11.567C0.231 11.704 0.325 11.828 0.415 11.933C0.595 12.143 0.819 12.346 1.02 12.513C1.225 12.684 1.427 12.836 1.577 12.943C1.816 13.116 2.062 13.275 2.318 13.423C2.625 13.6 3.066 13.832 3.614 14.065C4.391 14.395 5.404 14.722 6.553 14.887C6.203 14.377 5.931 13.809 5.751 13.202C5.173 13.055 4.645 12.873 4.201 12.684C3.717 12.479 3.331 12.274 3.067 12.123L3.002 12.085V7.824L3.025 7.709C3.515 7.919 4.1 8 4.752 8C5.898 8 6.812 7.672 7.462 7.009C7.681 6.785 7.859 6.535 8.002 6.266C8.049 6.354 8.106 6.436 8.16 6.52C8.579 6.238 9.038 6.013 9.522 5.843C9.26 5.52 9.077 5.057 8.996 4.407C8.879 3.471 9.034 3.011 9.238 2.793C9.431 2.586 9.875 2.379 10.919 2.495C11.939 2.608 12.398 2.899 12.632 3.195C12.879 3.508 13.002 3.984 13.002 4.75C13.002 5.158 12.967 5.453 12.909 5.674C13.398 5.792 13.865 5.967 14.3 6.197C14.443 5.741 14.502 5.248 14.502 4.75C14.502 3.879 14.374 2.981 13.809 2.265H13.807ZM7.006 4.407C6.915 5.133 6.704 5.637 6.388 5.959C6.089 6.264 5.604 6.5 4.75 6.5C3.828 6.5 3.47 6.301 3.308 6.12C3.129 5.92 3 5.542 3 4.75C3 3.984 3.123 3.508 3.37 3.195C3.604 2.899 4.063 2.609 5.083 2.495C6.127 2.379 6.571 2.586 6.764 2.793C6.968 3.011 7.123 3.471 7.006 4.407Z" fill="${ye}" />
<path d="M11.5 7C9.015 7 7 9.015 7 11.5C7 13.985 9.015 16 11.5 16C13.985 16 16 13.985 16 11.5C16 9.015 13.985 7 11.5 7ZM11.393 13.309L10.7 13.401L8.7 11.901L9.3 11.1L10.909 12.307L13.357 9.192L14.143 9.809L11.393 13.309Z" fill="${Pe}" />
</svg>`,De=Ni.Buffer.from(Ce);return T(De)}n.copilotSuccessAsImageDataURI=te;function oe(ye,Pe){const Ce=s.window.activeColorTheme.kind===s.ColorThemeKind.Dark?"#FFFFFF":"#000000",De=`<svg width="${ye}" height="${Pe}" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
<path d="M16 7.992C16 3.58 12.416 0 8 0S0 3.58 0 7.992c0 2.43 1.104 4.62 2.832 6.09.016.016.032.016.032.032.144.112.288.224.448.336.08.048.144.111.224.175A7.98 7.98 0 0 0 8.016 16a7.98 7.98 0 0 0 4.48-1.375c.08-.048.144-.111.224-.16.144-.111.304-.223.448-.335.016-.016.032-.016.032-.032 1.696-1.487 2.8-3.676 2.8-6.106zm-8 7.001c-1.504 0-2.88-.48-4.016-1.279.016-.128.048-.255.08-.383a4.17 4.17 0 0 1 .416-.991c.176-.304.384-.576.64-.816.24-.24.528-.463.816-.639.304-.176.624-.304.976-.4A4.15 4.15 0 0 1 8 10.342a4.185 4.185 0 0 1 2.928 1.166c.368.368.656.8.864 1.295.112.288.192.592.24.911A7.03 7.03 0 0 1 8 14.993zm-2.448-7.4a2.49 2.49 0 0 1-.208-1.024c0-.351.064-.703.208-1.023.144-.32.336-.607.576-.847.24-.24.528-.431.848-.575.32-.144.672-.208 1.024-.208.368 0 .704.064 1.024.208.32.144.608.336.848.575.24.24.432.528.576.847.144.32.208.672.208 1.023 0 .368-.064.704-.208 1.023a2.84 2.84 0 0 1-.576.848 2.84 2.84 0 0 1-.848.575 2.715 2.715 0 0 1-2.064 0 2.84 2.84 0 0 1-.848-.575 2.526 2.526 0 0 1-.56-.848zm7.424 5.306c0-.032-.016-.048-.016-.08a5.22 5.22 0 0 0-.688-1.406 4.883 4.883 0 0 0-1.088-1.135 5.207 5.207 0 0 0-1.04-.608 2.82 2.82 0 0 0 .464-.383 4.2 4.2 0 0 0 .624-.784 3.624 3.624 0 0 0 .528-1.934 3.71 3.71 0 0 0-.288-1.47 3.799 3.799 0 0 0-.816-1.199 3.845 3.845 0 0 0-1.2-.8 3.72 3.72 0 0 0-1.472-.287 3.72 3.72 0 0 0-1.472.288 3.631 3.631 0 0 0-1.2.815 3.84 3.84 0 0 0-.8 1.199 3.71 3.71 0 0 0-.288 1.47c0 .352.048.688.144 1.007.096.336.224.64.4.927.16.288.384.544.624.784.144.144.304.271.48.383a5.12 5.12 0 0 0-1.04.624c-.416.32-.784.703-1.088 1.119a4.999 4.999 0 0 0-.688 1.406c-.016.032-.016.064-.016.08C1.776 11.636.992 9.91.992 7.992.992 4.14 4.144.991 8 .991s7.008 3.149 7.008 7.001a6.96 6.96 0 0 1-2.032 4.907z" fill="${Ce}"/>
</svg>`,Le=Ni.Buffer.from(De);return T(Le)}async function fe(ye,Pe,Ce,De,Le){let $e;const Ze=a(ye);try{const ct=await s.workspace.fs.readFile(Ze);$e=JSON.parse(ct.toString())}catch{$e=[]}const rt=$e.length,Ve=await Promise.all(Pe.map(async ct=>{const jt=ct.avatarUrl;if(jt===void 0)return;let Se,qe=!1;try{const Jt=await v(ye,ct);if(!Jt)throw new Error("Temporary state not initialized");Se=Ni.Buffer.from(Jt)}catch{if(Le)return;qe=!0;const _i=async()=>{const Zi=await(await Dn()(jt.toString())).arrayBuffer();await o(ye,ct,new Uint8Array(Zi)),Se=Ni.Buffer.from(Zi)};try{await _i()}catch{try{await _i()}catch(Zi){const ws=Fn(ct)?`${ct.org}/${ct.slug}`:ct.login||"unknown";return y.error(`Failed to fetch avatar after retry for user ${ws}: ${Zi}`,"avatarCirclesAsImageDataUris"),oe(De,Ce)}}}if(!Se)return;if(qe){const Jt=t(ct);$e.push(Jt)}const Ge=`data:image/jpeg;size:${Se.byteLength};base64,${Se.toString("base64")}`,it=`<svg width="${De}" height="${Ce}" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
		<image href="${Ge}" width="${De}" height="${Ce}" style="clip-path: inset(0 0 0 0 round 50%);"/>
		</svg>`,dt=Ni.Buffer.from(it);return T(dt)})),We=Math.max(Pe.length,200);if($e.length>rt&&rt>0&&$e.length>We){const ct=$e.splice(0,50);await Promise.all(ct.map(async jt=>{try{await s.workspace.fs.delete(s.Uri.joinPath(i(ye),jt))}catch(Se){y.error(`Failed to delete avatar from cache: ${Se}`,"avatarCirclesAsImageDataUris")}}))}return await s.workspace.fs.writeFile(Ze,Ni.Buffer.from(JSON.stringify($e))),Ve}n.avatarCirclesAsImageDataUris=fe})(cr||(cr={}));function Uw(n,e){return s.Uri.parse(z.posix.join(`commit~${e.substr(0,8)}`,n))}function na(n,e,t,i,r,a,o){const v={path:e||n.path,ref:t,commit:i,base:a.base,isOutdated:r,rootPath:o.path};let T=n.path;return a.replaceFileExtension&&(T=`${T}.git`),n.with({scheme:"review",path:T,query:JSON.stringify(v)})}function Md(n,e,t,i,r){const a={prNumber:e,fileName:t,status:i,previousFileName:r};return n.with({scheme:"filechange",query:JSON.stringify(a)})}function ip(n){if(n.query!=="")try{return JSON.parse(n.query)}catch{}}function Za(n,e,t,i,r,a,o,v){const T={baseCommit:t,headCommit:i,isBase:a,fileName:r,prNumber:e.number,status:o,remoteName:e.githubRepository.remote.remoteName,previousFileName:v},x=n.path;return n.with({scheme:"pr",path:x,query:JSON.stringify(T)})}function Id(n){let e;return n instanceof fn?e=`${n.remote.url}:${n.number}`:typeof n=="string"?e=n:e=`${n.remote}:${n.prNumber}`,e}function Bw(n){const e=n.lastIndexOf(":");if(e===-1)return;const t=n.substring(0,e),i=n.substring(e+1),r=Number(i);if(!(!t||isNaN(r)||r<=0))return{remote:t,prNumber:r}}function Bu(n){const e=Id(n),t={prIdentifier:e};return s.Uri.parse(`PRNode:${e}`).with({scheme:"prnode",query:JSON.stringify(t)})}function Dd(n){return s.Uri.from({scheme:"notification",path:n.key})}function qw(n){if(n.scheme==="notification")try{return{key:n.path}}catch{}}function $w(n){const e={origin:n.originUri.toString()};return n.repoUriParams&&(e.origin=Hw(n.repoUriParams).toString()),s.Uri.from({scheme:"newissue",path:"/NewIssue.md",query:JSON.stringify(e)})}function qu(n){if(n.scheme==="newissue")try{const e=JSON.parse(n.query),t=s.Uri.parse(e.origin),i=Fd(t);return{originUri:t,repoUriParams:i}}catch{}}function Hw(n){const e={folderManagerRootUri:n.repoRootUri.toString()};return s.Uri.from({scheme:"repo",path:`${n.owner}/${n.repo}`,query:JSON.stringify(e)})}function Fd(n){if(n.scheme!=="repo")return;const[e,t]=n.path.split("/");try{const i=JSON.parse(n.query),r=s.Uri.parse(i.folderManagerRootUri);return{owner:e,repo:t,repoRootUri:r}}catch{}}const Gw=/^(?!-)(?!.*--)[a-zA-Z0-9-]+(?<!-)$/,Vw=/^[a-zA-Z0-9_.-]+$/;function np(n,e,t){if(!n||!e||!t)return!1;const i=Number(t);return!(isNaN(i)||i<=0||isNaN(Number(t))||n.length===0||e.length===0||!Gw.test(n)||!Vw.test(e))}var xd=(n=>(n.OpenIssueWebview="/open-issue-webview",n.OpenPullRequestWebview="/open-pull-request-webview",n))(xd||{});async function rp(n){const e=JSON.stringify(n);return s.env.asExternalUri(s.Uri.from({scheme:s.env.uriScheme,authority:bn,path:"/open-issue-webview",query:e}))}function jw(n){if(pe(n.authority,bn)===0&&n.path==="/open-issue-webview")try{const e=JSON.parse(n.query.split("&")[0]);return np(e.owner,e.repo,e.issueNumber)?e:void 0}catch{}}async function Mo(n){const e=JSON.stringify(n);return s.env.asExternalUri(s.Uri.from({scheme:s.env.uriScheme,authority:bn,path:"/open-pull-request-webview",query:e}))}function zw(n){if(pe(n.authority,bn)===0&&n.path==="/open-pull-request-webview")try{const e=JSON.parse(n.query.split("&")[0]);return np(e.owner,e.repo,e.pullRequestNumber)?e:void 0}catch{}}var qt=(n=>(n.File="file",n.Review="review",n.Pr="pr",n.PRNode="prnode",n.FileChange="filechange",n.GithubPr="githubpr",n.GitPr="gitpr",n.VscodeVfs="vscode-vfs",n.Comment="comment",n.MergeOutput="merge-output",n.Notification="notification",n.NewIssue="newissue",n.Repo="repo",n.Git="git",n.PRQuery="prquery",n.GitHubCommit="githubcommit",n))(qt||{});const ap=s.Uri.from({scheme:"prquery",path:"copilot"});function Io(n,e){return n.scheme==="file"?z.resolve(n.fsPath,e):z.posix.resolve(n.path,e)}function Cl(n){return!!n&&n.kind==="notification"}function Pl(n){return n===void 0||n===0?0:n-1}function $C(n,e){for(let t=0;t<n.length;t++){const i=n[t];for(let r=0;r<i.diffLines.length;r++)if(i.diffLines[r].positionInHunk===e)return i.diffLines[r]}}function $u(n,e,t){const i=us(n);let r=i.next(),a=0;for(;!r.done;){const o=r.value;if(!(o.oldLineNumber>e))if(o.oldLineNumber+o.oldLength-1<e)a+=o.newLength-o.oldLength;else{if(t===o.newLength)return a+=o.newLength-o.oldLength,e+a;for(const v of o.diffLines){if(v.oldLineNumber>e)return e+a;v.type===Wi.Add?a++:v.type===Wi.Delete&&a--}return e+a}r=i.next()}return e+a}function Al(n,e){const t=us(n);let i=t.next(),r=0;for(;!i.done;){const a=i.value;if(!(a.newLineNumber>e))if(a.newLineNumber+a.newLength-1<e)r+=a.oldLength-a.newLength;else{for(const o of a.diffLines)if(o.type===Wi.Add?r--:o.type===Wi.Delete&&r++,o.newLineNumber>e)return e+r;return e+r}i=t.next()}return e+r}function sp(n,e,t="GetCommentingRanges"){n.length===0&&y.debug("No commenting ranges: File contains no diffs.",t);const i=[];for(let r=0;r<n.length;r++){const a=n[r];let o,v;if(e){let T;for(let x=0;x<a.diffLines.length;x++){const W=a.diffLines[x];W.type===Wi.Delete?(o!==void 0||(o=Pl(W.oldLineNumber)),T=Pl(W.oldLineNumber)):o!==void 0&&T!==void 0&&(i.push(new s.Range(o,0,T,0)),o=void 0,T=void 0)}o!==void 0&&T!==void 0?(i.push(new s.Range(o,0,T,0)),o=void 0,T=void 0):i.length===0&&y.debug("No commenting ranges: Diff is in base and none of the diff hunks could be added.",t)}else a.newLineNumber?(o=Pl(a.newLineNumber),v=Pl(a.newLength),i.push(new s.Range(o,0,o+v,0))):y.debug("No commenting ranges: Diff is not base and newLineNumber is undefined.",t)}return y.debug(`Found ${i.length} commenting ranges.`,t),i}var Ww=Object.defineProperty,Kw=(n,e,t)=>e in n?Ww(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,js=(n,e,t)=>Kw(n,typeof e!="symbol"?e+"":e,t);class er extends d{constructor(e){super(),this.parent=e,js(this,"_children"),js(this,"childrenDisposables",[]),js(this,"label"),js(this,"accessibilityInformation"),js(this,"id"),js(this,"description")}getParent(){if(this.parent instanceof er)return this.parent}get children(){if(this._children&&this._children.length)return this._children}async reveal(e,t){try{await this.parent.reveal(e||this,t)}catch(i){y.error(i,"TreeNode")}}refresh(e){return this.parent.refresh(e)}async cachedChildren(){return this._children&&this._children.length?this._children:this.getChildren()}async getChildren(e=!0){return this._children&&this._children.length&&e&&c(this._children),[]}updateFromCheckboxChanged(e){}dispose(){super.dispose(),this.childrenDisposables&&c(this.childrenDisposables)}}class op extends er{constructor(e,t){super(e),js(this,"label",""),this.label=t}getTreeItem(){return new s.TreeItem(this.label)}}var Qw=Object.defineProperty,Yw=(n,e,t)=>e in n?Qw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fa=(n,e,t)=>Yw(n,typeof e!="symbol"?e+"":e,t);function Hu(n,e={}){const t=s.window.activeTextEditor,i={...e,viewColumn:s.ViewColumn.Active};return t&&t.document.uri.path===n.path&&(i.selection=t.selection),{command:"vscode.open",arguments:[n,i],title:"Open File"}}async function Od(n,e,t,i,r){let a=await Ad(e,n.repository)||e,o=await Ad(t,n.repository)||t;(a.scheme==="data"||o.scheme==="data")&&(r===$t.ADD&&(a=tp),r===$t.DELETE&&(o=tp));const v=t.path.split("/");return{command:"vscode.diff",arguments:[a,o,`${v[v.length-1]} (Pull Request)`,i],title:"Open Changed File in pull request"}}class zs extends er{constructor(e,t,i,r){var a;super(e),this.pullRequestManager=t,this.pullRequest=i,this.changeModel=r,fa(this,"iconPath"),fa(this,"fileChangeResourceUri"),fa(this,"contextValue"),fa(this,"command"),fa(this,"opts"),fa(this,"checkboxState");const o=(a=this.pullRequest.fileChangeViewedState[this.changeModel.fileName])!=null?a:sr.UNVIEWED;this.contextValue=`${qt.FileChange}:${$t[this.changeModel.status]}:${o===sr.VIEWED?"viewed":"unviewed"}`,this.label=z.basename(this.changeModel.fileName),this.iconPath=s.ThemeIcon.File,this.opts={},this.updateShowOptions(),this.fileChangeResourceUri=Md(s.Uri.file(this.changeModel.fileName),this.pullRequest.number,this.changeModel.fileName,this.changeModel.status,this.changeModel.change instanceof Jr?this.changeModel.change.previousFileName:void 0),this.updateViewed(o),this.childrenDisposables.push(this.pullRequest.onDidChangeReviewThreads(v=>{[...v.added,...v.removed].some(T=>T.path===this.changeModel.fileName)&&this.updateShowOptions()})),this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(v=>{const T=v.changed.find(x=>x.fileName===this.changeModel.fileName&&x.viewed!==this.changeModel.viewed);T&&(this.updateViewed(T.viewed),this.refresh(this))})),this.accessibilityInformation={label:`${this.label} pull request diff`,role:"link"},this.description=this._getDescription()}get status(){return this.changeModel.status}get fileName(){return this.changeModel.fileName}get blobUrl(){return this.changeModel.blobUrl}get sha(){return this.changeModel.sha}get tooltip(){return this.resourceUri.fsPath}get resourceUri(){return this.changeModel.filePath.with({query:this.fileChangeResourceUri.query})}_getDescription(){return s.workspace.getConfiguration(tt).get(Rt)==="flat"?!0:""}updateViewed(e){var t,i;this.changeModel.updateViewed(e),this.contextValue=`${qt.FileChange}:${$t[this.changeModel.status]}:${e===sr.VIEWED?"viewed":"unviewed"}`,this.checkboxState=e===sr.VIEWED?{state:s.TreeItemCheckboxState.Checked,tooltip:s.l10n.t("Mark File as Unviewed"),accessibilityInformation:{label:s.l10n.t("Mark file {0} as unviewed",(t=this.label)!=null?t:"")}}:{state:s.TreeItemCheckboxState.Unchecked,tooltip:s.l10n.t("Mark File as Viewed"),accessibilityInformation:{label:s.l10n.t("Mark file {0} as viewed",(i=this.label)!=null?i:"")}},this.pullRequestManager.setFileViewedContext()}async markFileAsViewed(e=!0){await this.pullRequest.markFiles([this.fileName],!e,"viewed"),this.pullRequestManager.setFileViewedContext()}async unmarkFileAsViewed(e=!0){await this.pullRequest.markFiles([this.fileName],!e,"unviewed"),this.pullRequestManager.setFileViewedContext()}updateFromCheckboxChanged(e){const t=e===s.TreeItemCheckboxState.Checked?sr.VIEWED:sr.UNVIEWED;this.updateViewed(t)}updateShowOptions(){var e,t;const i=this.pullRequest.reviewThreadsCache,a=(B(i,o=>o.path)[this.changeModel.fileName]||[]).filter(o=>!o.isOutdated);if(a.length){a.sort((T,x)=>T.endLine-x.endLine);const o=(e=a[0].startLine)!=null?e:a[0].originalStartLine,v=(t=a[0].endLine)!=null?t:a[0].originalEndLine;this.opts.selection=new s.Range(o,0,v,0)}else delete this.opts.selection}getTreeItem(){return this}openFileCommand(){return Hu(this.changeModel.filePath)}async openDiff(e,t){var i;const r=await Od(e,this.changeModel.parentFilePath,this.changeModel.filePath,{...this.opts,...t},this.changeModel.status);return s.commands.executeCommand(r.command,...(i=r.arguments)!=null?i:[])}}class Ld extends zs{_getDescription(){let e=s.workspace.asRelativePath(z.dirname(this.changeModel.fileName),!1);return e==="."&&(e=""),e}constructor(e,t,i,r){super(e,t,i,r),this.fileChangeResourceUri=Md(s.Uri.parse(r.blobUrl),r.pullRequest.number,r.fileName,r.status,r.previousFileName),this.command={command:"pr.openFileOnGitHub",title:"Open File on GitHub",arguments:[this]}}async openDiff(){return s.commands.executeCommand(this.command.command)}openFileCommand(){return this.command}}class Ud extends zs{constructor(e,t,i,r){super(t,e,i,r),this.folderRepositoryManager=e}get comments(){return this.pullRequest.comments.filter(e=>e.path===this.changeModel.fileName&&e.position!==null)}async resolve(){this.status===$t.ADD?this.command=Hu(this.changeModel.filePath):this.command=await Od(this.folderRepositoryManager,this.changeModel.parentFilePath,this.changeModel.filePath,void 0,this.changeModel.status)}}class Do extends zs{constructor(e,t,i,r,a,o){super(e,t,i,r),this.isCurrent=a,this._comments=o,fa(this,"_useViewChangesCommand",!1)}get comments(){return this._comments?this._comments:this.pullRequest.comments.filter(e=>!this.sha||this.sha===this.pullRequest.head.sha?e.position&&e.path===this.changeModel.fileName:e.path===this.changeModel.fileName&&e.originalCommitId===this.sha)}useViewChangesCommand(){this._useViewChangesCommand=!0}async alternateCommand(){if(this.status===$t.DELETE||this.status===$t.ADD){const fe=this.changeModel.parentFilePath.with({query:JSON.stringify({path:null,commit:null})});return{command:"vscode.diff",arguments:this.status===$t.DELETE?[this.changeModel.parentFilePath,fe,`${this.fileName}`,{}]:[fe,this.changeModel.parentFilePath,`${this.fileName}`,{}],title:"Open Diff"}}const{path:e,ref:t,commit:i,rootPath:r}=da(this.changeModel.filePath.query),a=`${i}^`,o={path:e,ref:t,commit:a,base:!0,isOutdated:!0,rootPath:r},v=this.changeModel.filePath.with({query:JSON.stringify(o)});let T=this.changeModel.filePath;this.isCurrent&&(T=this.pullRequestManager.repository.rootUri.with({path:z.posix.join(o.rootPath,o.path)}));const x={},W=this.pullRequest.reviewThreadsCache,oe=(B(W,fe=>fe.path)[this.fileName]||[]).filter(fe=>fe.isOutdated).sort((fe,ye)=>fe.endLine-ye.endLine);return oe.length&&(x.selection=new s.Range(oe[0].originalStartLine,0,oe[0].originalEndLine,0)),{command:"vscode.diff",arguments:[v,T,`${this.fileName} from ${(i||"").substr(0,8)}`,x],title:"View Changes"}}async resolve(){this._useViewChangesCommand?this.command=await this.alternateCommand():s.workspace.getConfiguration(vr,this.pullRequestManager.repository.rootUri).get(Va,!0)&&this.status!==$t.ADD?this.command=await Od(this.pullRequestManager,this.changeModel.parentFilePath,this.changeModel.filePath,this.opts,this.status):this.command=this.openFileCommand()}}class Gu extends er{constructor(e,t,i,r,a,o,v){super(e),this.fileName=t,this.previousFileName=i,this.status=r,this.baseBranch=a,this.headBranch=o,this.isLocal=v,fa(this,"iconPath"),fa(this,"fileChangeResourceUri"),fa(this,"tooltip"),fa(this,"command");const T=v?qt.GitPr:qt.GithubPr;this.label=t,this.tooltip=t,this.iconPath=s.ThemeIcon.File,this.fileChangeResourceUri=s.Uri.file(t).with({scheme:T,query:JSON.stringify({status:r,fileName:t})});let x=gs(s.Uri.file(t),T,{fileName:t,branch:a}),W=gs(s.Uri.file(t),T,{fileName:t,branch:o});switch(r){case $t.ADD:x=gs(s.Uri.file(t),T,{fileName:t,branch:a,isEmpty:!0});break;case $t.RENAME:x=gs(s.Uri.file(i),T,{fileName:i,branch:a,isEmpty:!0});break;case $t.DELETE:W=gs(s.Uri.file(t),T,{fileName:t,branch:o,isEmpty:!0});break}this.command={title:"Open Diff",command:"vscode.diff",arguments:[x,W,`${t} (Pull Request Preview)`]}}get resourceUri(){return s.Uri.file(this.fileName).with({query:this.fileChangeResourceUri.query})}getTreeItem(){return this}}function Bd(n){return n.filter(e=>e instanceof Do)}var Zw=Object.defineProperty,Jw=(n,e,t)=>e in n?Zw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ha=(n,e,t)=>Jw(n,typeof e!="symbol"?e+"":e,t);const qd=class gr extends sm{constructor(e,t,i,r,a,o){var v,T;super(t,o),this._reviewManager=e,this._repository=i,this._reviewModel=r,this._gitApi=a,ha(this,"_commentHandlerId"),ha(this,"_workspaceFileChangeCommentThreads",{}),ha(this,"_reviewSchemeFileChangeCommentThreads",{}),ha(this,"_obsoleteFileChangeCommentThreads",{}),ha(this,"_visibleNormalTextEditors",[]),ha(this,"_pendingCommentThreadAdds",[]),ha(this,"_context"),ha(this,"resourceHints",{schemes:[qt.Review]}),ha(this,"_commentContentChangedListener"),this._context=this._folderRepoManager.context,this._commentController=this._register(s.comments.createCommentController(`${gr.PREFIX}-${(v=t.activePullRequest)==null?void 0:v.remote.owner}-${(T=t.activePullRequest)==null?void 0:T.remote.owner}-${t.activePullRequest.number}`,s.l10n.t("Pull Request ({0})",t.activePullRequest.title))),this._commentController.commentingRangeProvider=this,this._commentController.reactionHandler=this.toggleReaction.bind(this),this.updateResourcesWithCommentingRanges(),this._register(this._folderRepoManager.onDidChangeActivePullRequest(()=>this.updateResourcesWithCommentingRanges())),this._commentHandlerId=Dh(),It(this._commentHandlerId,this,i)}async initialize(){this._visibleNormalTextEditors=s.window.visibleTextEditors.filter(e=>e.document.uri.scheme!=="comment"),await this._folderRepoManager.activePullRequest.validateDraftMode(),await this.initializeCommentThreads(),await this.registerListeners()}async createOutdatedCommentThread(e,t){const i=t.comments[0].originalCommitId,r=s.Uri.file(z.join(`commit~${i.substr(0,8)}`,e)),a=na(r,e,void 0,i,!0,{base:t.diffSide===yn.LEFT},this._repository.rootUri),o=t.subjectType===Yn.FILE?void 0:wl(t.originalStartLine-1,t.originalEndLine-1);return _l(this._context,a,o,t,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async createWorkspaceCommentThread(e,t,i){let r=i.startLine,a=i.endLine;const o=await this._repository.diffWithHEAD(t);o&&(r=$u(o,r),a=$u(o,a));let v;if(i.subjectType!==Yn.FILE){const T=r-1,x=a-1;(T<0||x<0)&&y.error(`Mapped new position for workspace comment thread is invalid. Original: (${i.startLine}, ${i.endLine}) New: (${T}, ${x})`,gr.ID),v=wl(T,x)}return _l(this._context,e,v,i,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async createReviewCommentThread(e,t,i){var r;if(!((r=this._folderRepoManager.activePullRequest)!=null&&r.mergeBase))throw new Error("Cannot create review comment thread without an active pull request base.");const a=na(e,t,void 0,this._folderRepoManager.activePullRequest.mergeBase,!1,{base:!0},this._repository.rootUri),o=i.subjectType===Yn.FILE?void 0:wl(i.startLine-1,i.endLine-1);return _l(this._context,a,o,i,this._commentController,await this._folderRepoManager.getCurrentUser(),this.githubReposForPullRequest(this._folderRepoManager.activePullRequest))}async doInitializeCommentThreads(e){for(const i in this._workspaceFileChangeCommentThreads)c(this._workspaceFileChangeCommentThreads[i]);this._workspaceFileChangeCommentThreads={};for(const i in this._reviewSchemeFileChangeCommentThreads)c(this._reviewSchemeFileChangeCommentThreads[i]);this._reviewSchemeFileChangeCommentThreads={};for(const i in this._obsoleteFileChangeCommentThreads)c(this._obsoleteFileChangeCommentThreads[i]);this._obsoleteFileChangeCommentThreads={};const t=B(e,i=>i.path);Object.keys(t).forEach(i=>{const r=t[i],a=r[0];if(a){const o=z.join(this._repository.rootUri.path,a.path).replace(/\\/g,"/"),v=this._repository.rootUri.with({path:o});let T=[],x=[],W=[];const te=r.map(async oe=>{oe.isOutdated?W.push(await this.createOutdatedCommentThread(i,oe)):oe.diffSide===yn.RIGHT?T.push(await this.createWorkspaceCommentThread(v,i,oe)):x.push(await this.createReviewCommentThread(v,i,oe))});Promise.all(te),this._workspaceFileChangeCommentThreads[i]=T,this._reviewSchemeFileChangeCommentThreads[i]=x,this._obsoleteFileChangeCommentThreads[i]=W}}),this.updateResourcesWithCommentingRanges()}updateResourcesWithCommentingRanges(){var e,t;if(this._folderRepoManager.activePullRequest&&this._folderRepoManager.activePullRequest.fileChanges.size<30){for(const[i,r]of(t=(e=this._folderRepoManager.activePullRequest)==null?void 0:e.fileChanges.entries())!=null?t:[])if(r.status!==$t.DELETE){const a=s.Uri.joinPath(this._folderRepoManager.repository.rootUri,i);y.trace(`Prefetching commenting ranges for ${a.toString()}`,gr.ID),s.workspace.openTextDocument(a)}}}async initializeCommentThreads(){const e=this._folderRepoManager.activePullRequest;if(!(!e||!e.isResolved()))return this.doInitializeCommentThreads(e.reviewThreadsCache)}async registerListeners(){const e=this._folderRepoManager.activePullRequest;e&&(this._register(e.onDidChangePendingReviewState(t=>{[this._workspaceFileChangeCommentThreads,this._obsoleteFileChangeCommentThreads,this._reviewSchemeFileChangeCommentThreads].forEach(i=>{for(const r in i)i[r].forEach(a=>{ym(a,t),Eo(a)})})})),this._register(e.onDidChangeReviewThreads(t=>{const i=this.githubReposForPullRequest(this._folderRepoManager.activePullRequest);t.added.forEach(async r=>{const{path:a}=r,o=this._pendingCommentThreadAdds.findIndex(async x=>{const W=this._folderRepoManager.gitRelativeRootPath(x.uri.path);if(W!==r.path)return!1;const te=await this.getContentDiff(x.uri,W);return(x.range?Al(te,x.range.end.line):0)+1===r.endLine});let v;if(o>-1)v=this._pendingCommentThreadAdds[o],v.gitHubThreadId=r.id,v.comments=r.comments.map(x=>new Hn(this._context,x,v,i)),vm(this._context,v,r,i),this._pendingCommentThreadAdds.splice(o,1);else{const x=z.join(this._repository.rootUri.path,a).replace(/\\/g,"/"),W=this._repository.rootUri.with({path:x});r.isOutdated?v=await this.createOutdatedCommentThread(a,r):r.diffSide===yn.RIGHT?v=await this.createWorkspaceCommentThread(W,a,r):v=await this.createReviewCommentThread(W,a,r)}const T=r.isOutdated?this._obsoleteFileChangeCommentThreads:r.diffSide===yn.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;T[a]?T[a].push(v):T[a]=[v]}),t.changed.forEach(r=>{const a=this._findMatchingThread(r);if(a.index>-1){const o=a.threadMap[r.path][a.index];Tu(this._context,o,r,i)}}),t.removed.forEach(r=>{const a=this._findMatchingThread(r);if(a.index>-1){const o=a.threadMap[r.path][a.index];a.threadMap[r.path].splice(a.index,1),o.dispose()}}),this.updateResourcesWithCommentingRanges()})))}_findMatchingThread(e){var t,i,r,a;const o=e.isOutdated?this._obsoleteFileChangeCommentThreads:e.diffSide===yn.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;let v=(i=(t=o[e.path])==null?void 0:t.findIndex(T=>T.gitHubThreadId===e.id))!=null?i:-1;if(v===-1&&e.isOutdated&&(v=(a=(r=this._workspaceFileChangeCommentThreads[e.path])==null?void 0:r.findIndex(T=>T.gitHubThreadId===e.id))!=null?a:-1,v>-1)){const T=this._workspaceFileChangeCommentThreads[e.path].splice(v,1)[0];this._obsoleteFileChangeCommentThreads[e.path]||(this._obsoleteFileChangeCommentThreads[e.path]=[]),this._obsoleteFileChangeCommentThreads[e.path].push(T)}return{threadMap:o,index:v}}onDidChangeActiveTextEditor(e){var t;(t=this._commentContentChangedListener)==null||t.dispose(),this._commentContentChangedListener=void 0;const i=s.window.tabGroups.activeTabGroup.activeTab,r=(i==null?void 0:i.input)instanceof s.TabInputText?i.input.uri:(i==null?void 0:i.input)instanceof s.TabInputTextDiff?i.input.modified:void 0;if(e&&r&&e.document.uri.authority.startsWith(gr.PREFIX)&&r.scheme===qt.File&&this._folderRepoManager.activePullRequest&&r.toString().startsWith(this._repository.rootUri.toString())&&this.tryAddCopilotMention(e,this._folderRepoManager.activePullRequest),(e==null?void 0:e.document.uri.scheme)!==qt.Comment)return;const a=()=>{e.document.getText().includes("```suggestion")?ei.setContext(Ct.ACTIVE_COMMENT_HAS_SUGGESTION,!0):ei.setContext(Ct.ACTIVE_COMMENT_HAS_SUGGESTION,!1)};this._commentContentChangedListener=s.workspace.onDidChangeTextDocument(o=>{o.document.uri.toString()===e.document.uri.toString()&&a()}),a()}updateCommentExpandState(e){const t=this._folderRepoManager.activePullRequest;if(!t)return;const i=this.githubReposForPullRequest(t);function r(T,x){if(x.size!==0)for(const W of x.keys()){const te=x.get(W),oe=T[W];for(const fe of oe){const ye=te.get(fe.gitHubThreadId);Tu(this._context,fe,ye,i,e)}}}const a=new Map,o=new Map,v=new Map;for(const T of t.reviewThreadsCache){let x;T.isOutdated?x=a:T.diffSide===yn.RIGHT?x=v:x=o,x.has(T.path)||x.set(T.path,new Map),x.get(T.path).set(T.id,T)}r(this._obsoleteFileChangeCommentThreads,a),r(this._reviewSchemeFileChangeCommentThreads,o),r(this._workspaceFileChangeCommentThreads,v)}visibleEditorsEqual(e,t){if(e=e.filter(i=>i.document.uri.scheme!=="comment"),t=t.filter(i=>i.document.uri.scheme!=="comment"),e=q(e,i=>i.document.uri.toString()),t=q(t,i=>i.document.uri.toString()),e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!t.find(a=>a.document.uri.toString()===e[i].document.uri.toString()))return!1;return!0}hasCommentThread(e){return e.uri.scheme===qt.Review?!0:Im(this._repository,e.uri)?e.uri.scheme===this._repository.rootUri.scheme:!1}async provideCommentingRanges(e,t){let i=e.uri.query&&e.uri.query!==""?da(e.uri.query):void 0;if(i){const a=this.findMatchedFileChangeForReviewDiffView(this._reviewModel.localFileChanges,e.uri);if(a)return y.debug("Found matched file for commenting ranges.",gr.ID),{ranges:sp(await a.changeModel.diffHunks(),i.base,gr.ID),enableFileComments:!0}}const r=_d(this._gitApi,e.uri);if((r==null?void 0:r.rootUri.toString())!==this._repository.rootUri.toString()){e.uri.scheme!=="output"&&y.debug("No commenting ranges: File is not in the current repository.",gr.ID);return}if(e.uri.scheme===this._repository.rootUri.scheme){if(!this._folderRepoManager.activePullRequest.isResolved()){y.debug("No commenting ranges: Active PR has not been resolved.",gr.ID);return}const a=this._folderRepoManager.gitRelativeRootPath(e.uri.path),o=Bd(this._reviewModel.localFileChanges).find(T=>T.fileName===a),v=[];if(o){const T=await o.changeModel.diffHunks();if(o.status===$t.RENAME&&T.length===0)return y.debug("No commenting ranges: File was renamed with no diffs.",gr.ID),{ranges:[],enableFileComments:!0};const x=await this.getContentDiff(e.uri,o.fileName);for(let W=0;W<T.length;W++){const te=T[W],oe=$u(x,te.newLineNumber,e.lineCount),fe=$u(x,te.newLineNumber+te.newLength-1,e.lineCount);oe>0&&fe>0&&v.push(new s.Range(oe-1,0,fe-1,0))}v.length===0&&y.debug("No commenting ranges: File has diffs, but they could not be mapped to current lines.",gr.ID)}else y.debug("No commenting ranges: File does not match any of the files in the review.",gr.ID);return y.debug(`Providing ${v.length} commenting ranges for ${z.basename(e.uri.fsPath)}.`,gr.ID),{ranges:v,enableFileComments:v.length>0}}else y.debug("No commenting ranges: File scheme differs from repository scheme.",gr.ID)}async getContentDiff(e,t,i=!0){var r,a,o,v;const T=s.window.visibleTextEditors.find(x=>x.document.uri.toString()===e.toString());if(!((r=this._folderRepoManager.activePullRequest)!=null&&r.head))throw y.error("Failed to get content diff. Cannot get content diff without an active pull request head.",gr.ID),new Error("Cannot get content diff without an active pull request head.");try{if(T&&T.document.isDirty&&s.workspace.getConfiguration("files",T.document.uri).get("autoSave")!=="afterDelay"){const x=T.document.getText(),te=(await this._repository.getObjectDetails(this._folderRepoManager.activePullRequest.head.sha,t)).object,oe=await this._repository.hashObject(x);return await this._repository.diffBlobs(te,oe)}else return await this._repository.diffWith(this._folderRepoManager.activePullRequest.head.sha,t)}catch(x){if(y.error(`Failed to get content diff. ${we(x)}`,gr.ID),(a=x.stderr)!=null&&a.includes("bad object")){if((o=this._repository.state.HEAD)!=null&&o.upstream&&i){const W=s.workspace.getConfiguration(tt).get(Vi,"pull");if((W==="pull"||W==="pullAndMergeBase"||W==="pullAndUpdateBase"||W===!0)&&s.workspace.getConfiguration(tt).get(ni,"prompt")==="always")try{return await this._repository.pull(),this.getContentDiff(e,t,!1)}catch{}else if((v=this._repository.state.HEAD)!=null&&v.commit)return this._repository.diffWith(this._repository.state.HEAD.commit,t)}this._folderRepoManager.activePullRequest.isOpen&&s.window.showErrorMessage(s.l10n.t("Unable to get comment locations for commit {0}. This commit is not available locally and there is no remote branch.",this._folderRepoManager.activePullRequest.head.sha)),y.warn(`Unable to get comment locations for commit ${this._folderRepoManager.activePullRequest.head.sha}. This commit is not available locally and there is no remote branch.`,gr.ID)}throw x}}findMatchedFileChangeForReviewDiffView(e,t){const i=da(t.query),r=e.filter(a=>{const o=a.changeModel;if(o instanceof Ao||o.fileName!==i.path&&!(o.change instanceof Jr&&o.change.previousFileName===i.path))return!1;if(o.filePath.scheme!=="review"&&o.sha===i.commit)return!0;const v=o.filePath.query?JSON.parse(o.filePath.query):void 0;if(v&&v.commit===i.commit)return!0;const T=o.parentFilePath.query?JSON.parse(o.parentFilePath.query):void 0;return!!(T&&T.commit===i.commit)});if(r&&r.length)return r[0]}getCommentSide(e){return e.uri.scheme===qt.Review&&da(e.uri.query).base?yn.LEFT:yn.RIGHT}async startReview(e,t){var i;const r=e.comments.length;let a;try{if(a=await this.optimisticallyAddComment(e,t,!0),r){const o=e.comments[0];if(o instanceof Hn)await this._folderRepoManager.activePullRequest.createCommentReply(t,o.rawComment.graphNodeId,!1);else throw new Error("Cannot reply to temporary comment")}else{const o=this._folderRepoManager.gitRelativeRootPath(e.uri.path),v=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e);let T,x;if(e.range){if(v===yn.RIGHT){const W=await this.getContentDiff(e.uri,o);T=Al(W,e.range.start.line),x=Al(W,e.range.end.line)}else T=e.range.start.line,x=e.range.end.line;T++,x++}await Promise.all([this._folderRepoManager.activePullRequest.createReviewThread(t,o,T,x,v),Nu(e,await this._folderRepoManager.getCurrentUser(this._folderRepoManager.activePullRequest.githubRepository),this._context)])}}catch(o){s.window.showErrorMessage("Starting review failed. Any review comments may be lost.",{modal:!0,detail:(i=o==null?void 0:o.message)!=null?i:o}),e.comments=e.comments.map(v=>(v instanceof ea&&v.id===a&&(v.mode=s.CommentMode.Editing),v))}}async openReview(){await this._reviewManager.openDescription(),Jn.scrollToReview()}async optimisticallyAddComment(e,t,i){const r=await this._folderRepoManager.getCurrentUser(),a=new ea(e,t,i,r);return this.updateCommentThreadComments(e,[...e.comments,a]),a.id}updateCommentThreadComments(e,t){e.comments=t,Eo(e)}async optimisticallyEditComment(e,t){const i=await this._folderRepoManager.getCurrentUser(),r=new ea(e,t.body instanceof s.MarkdownString?t.body.value:t.body,!!t.label,i,t);return e.comments=e.comments.map(a=>a instanceof Hn&&a.commentId===t.commentId?r:a),r.id}async createOrReplyComment(e,t,i,r){var a;if(!this._folderRepoManager.activePullRequest)throw new Error("Cannot create comment without an active pull request.");const o=e.comments.length,v=i?!1:r!==void 0?r:this._folderRepoManager.activePullRequest.hasPendingReview,T=await this.optimisticallyAddComment(e,t,v);try{if(o){const x=e.comments[0];if(x instanceof Hn)await this._folderRepoManager.activePullRequest.createCommentReply(t,x.rawComment.graphNodeId,i);else throw new Error("Cannot reply to temporary comment")}else{const x=this._folderRepoManager.gitRelativeRootPath(e.uri.path);this._pendingCommentThreadAdds.push(e);const W=this.getCommentSide(e);let te,oe;if(e.range){if(W===yn.RIGHT){const fe=await this.getContentDiff(e.uri,x);te=Al(fe,e.range.start.line),oe=Al(fe,e.range.end.line)}else te=e.range.start.line,oe=e.range.end.line;te++,oe++}await Promise.all([this._folderRepoManager.activePullRequest.createReviewThread(t,x,te,oe,W,i),Nu(e,await this._folderRepoManager.getCurrentUser(this._folderRepoManager.activePullRequest.githubRepository),this._context)])}i&&await this._folderRepoManager.activePullRequest.submitReview()}catch(x){(a=x.graphQLErrors)!=null&&a.length&&x.graphQLErrors[0].type==="NOT_FOUND"?s.window.showWarningMessage("The comment that you're replying to was deleted. Refresh to update.","Refresh").then(W=>{W==="Refresh"&&this._reviewManager.updateComments()}):s.window.showErrorMessage(`Creating comment failed: ${x}`),e.comments=e.comments.map(W=>(W instanceof ea&&W.id===T&&(W.mode=s.CommentMode.Editing),W))}}async createSuggestionsFromChanges(e,t){const i=this._folderRepoManager.activePullRequest;if(!i)return;const r=this._folderRepoManager.gitRelativeRootPath(e.path),a=`\`\`\`suggestion
${t.suggestionContent}
\`\`\``;await i.createReviewThread(a,r,t.originalStartLine,t.originalStartLine+t.originalLineLength-1,yn.RIGHT,!1)}async createCommentOnResolve(e,t){if(!this._folderRepoManager.activePullRequest)throw new Error("Cannot create comment on resolve without an active pull request.");const i=await this._folderRepoManager.activePullRequest.getPendingReviewId();await this.createOrReplyComment(e,t,!i)}async resolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this._folderRepoManager.activePullRequest.resolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,t){try{t&&await this.createCommentOnResolve(e,t),await this._folderRepoManager.activePullRequest.unresolveReviewThread(e.gitHubThreadId)}catch(i){s.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async editComment(e,t){if(t instanceof Hn){const i=await this.optimisticallyEditComment(e,t);try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");await this._folderRepoManager.activePullRequest.editReviewComment(t.rawComment,t.body instanceof s.MarkdownString?t.body.value:t.body)}catch(r){s.window.showErrorMessage(we(r)),e.comments=e.comments.map(a=>a instanceof ea&&a.id===i?new Hn(this._context,t.rawComment,e):a)}}}async deleteComment(e,t){try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");t instanceof Hn?await this._folderRepoManager.activePullRequest.deleteReviewComment(t.commentId):e.comments=e.comments.filter(r=>!(r instanceof ea&&r.id===t.id)),e.comments.length===0?e.dispose():Eo(e);const i=await this._folderRepoManager.activePullRequest.validateDraftMode();i!==this._folderRepoManager.activePullRequest.hasPendingReview&&(this._folderRepoManager.activePullRequest.hasPendingReview=i),this.update()}catch(i){throw new Error(we(i))}}async update(){await this._folderRepoManager.activePullRequest.validateDraftMode()}async toggleReaction(e,t){try{if(!this._folderRepoManager.activePullRequest)throw new Error("Unable to find active pull request");e.reactions&&!e.reactions.find(i=>i.label===t.label&&!!i.authorHasReacted)?await this._folderRepoManager.activePullRequest.addCommentReaction(e.rawComment.graphNodeId,t):await this._folderRepoManager.activePullRequest.deleteCommentReaction(e.rawComment.graphNodeId,t)}catch(i){throw new Error(we(i))}}async applySuggestion(e){const t=e.parent.range,i=e.suggestion;if(i===void 0||!t)throw new Error("Comment doesn't contain a suggestion");const r=s.window.visibleTextEditors.find(a=>e.parent.uri.toString()===a.document.uri.toString());if(!r)throw new Error("Cannot find the editor to apply the suggestion to.");await r.edit(a=>{a.replace(t.with(void 0,r.document.lineAt(t.end.line).range.end),i)})}dispose(){super.dispose(),zt(this._commentHandlerId)}};ha(qd,"ID","ReviewCommentController"),ha(qd,"PREFIX","github-review");let lp=qd;class Vu{constructor(e,t){this.reviewManager=e,this.folderRepositoryManager=t}static getSettingsValue(){return s.workspace.getConfiguration(tt).get(ft)}static registerProvider(e,t){return s.window.registerTerminalLinkProvider(new Vu(e,t))}provideTerminalLinks(e,t){var i;const r=e.line.indexOf("https://github.com");if(r===-1)return[];const a=e.line.substring(r),o=new RegExp(/https:\/\/github\.com\/(.*)\/(.*)\/pull\/new\/(.*)/),v=a.match(o);if(v&&v.length===4){const T=v[1],x=v[2],W=v[3];if(this.folderRepositoryManager.gitHubRepositories.findIndex(oe=>oe.remote.owner===T&&oe.remote.repositoryName===x)>-1&&((i=this.reviewManager.repository.state.HEAD)==null?void 0:i.name)===W)return[{startIndex:r,length:e.line.length-r,tooltip:s.l10n.t("Create a Pull Request"),url:a}]}return[]}openLink(e){return s.env.openExternal(s.Uri.parse(e.url))}handleTerminalLink(e){const t=Vu.getSettingsValue();if(t==="github"){this.openLink(e);return}if(t==="vscode"){this.reviewManager.createPullRequest();return}const i="Yes",r="Don't Show Again";s.window.showInformationMessage("Do you want to create a pull request using the GitHub Pull Requests and Issues extension?",i,"No, continue to github.com",r).then(a=>{switch(a){case i:{this.reviewManager.createPullRequest();break}case r:{s.workspace.getConfiguration(tt).update(ft,"github",s.ConfigurationTarget.Global),this.openLink(e);break}default:this.openLink(e)}})}}var Xw=Object.defineProperty,e_=(n,e,t)=>e in n?Xw(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,t_=(n,e,t)=>e_(n,typeof e!="symbol"?e+"":e,t);const up="github-pr-remote",cp="github-pr-owner-number",i_="github-pr-base-branch",n_="vscode-merge-base",dp=/branch\.(.+)\.github-pr-owner-number/,r_=/branch\.(.+)\.remote/,fp=class un{static async checkoutFromFork(e,t,i,r){const a=await un.calculateUniqueBranchNameForPR(e,t);i||(y.appendLine(`Branch ${a} is from a fork. Create a remote first.`,un.ID),r.report({message:s.l10n.t("Creating git remote for {0}",`${t.remote.owner}/${t.remote.repositoryName}`)}),i=await un.createRemote(e,t.remote,t.head.repositoryCloneUrl));const o=`${t.head.ref}:${a}`;y.debug(`Fetch ${i}/${t.head.ref}:${a} - start`,un.ID),r.report({message:s.l10n.t("Fetching branch {0}",o)}),await e.fetch(i,o),y.debug(`Fetch ${i}/${t.head.ref}:${a} - done`,un.ID),r.report({message:s.l10n.t("Checking out {0}",o)}),await e.checkout(a),await e.setBranchUpstream(a,`refs/remotes/${i}/${t.head.ref}`),await un.associateBranchWithPullRequest(e,t,a)}static async fetchAndCheckout(e,t,i,r){var a;if(!i.validatePullRequestModel("Checkout pull request failed"))return;const o=un.getHeadRemoteForPullRequest(t,i),v=i.head.repositoryCloneUrl.owner!==i.base.repositoryCloneUrl.owner;if(!o||v)return un.checkoutFromFork(e,i,o&&o.remoteName,r);const T=i.head.ref,x=o.remoteName;let W;try{if(W=await e.getBranch(T),((a=e.state.HEAD)==null?void 0:a.name)===W.name){y.appendLine(`Tried to checkout ${T}, but branch is already checked out.`,un.ID);return}if(y.debug(`Checkout ${T}`,un.ID),r.report({message:s.l10n.t("Checking out {0}",T)}),await e.checkout(T),!W.upstream){const te=`refs/remotes/${x}/${T}`;await e.setBranchUpstream(T,te)}W.behind!==void 0&&W.behind>0&&W.ahead===0&&(y.debug("Pull from upstream",un.ID),r.report({message:s.l10n.t("Pulling {0}",T)}),await e.pull())}catch{y.appendLine(`Branch ${x}/${T} doesn't exist on local disk yet.`,un.ID);const oe=`refs/remotes/${x}/${T}`;y.appendLine(`Fetch tracked branch ${oe}`,un.ID),r.report({message:s.l10n.t("Fetching branch {0}",T)}),await e.fetch(x,T);const fe=await e.getBranch(oe);r.report({message:s.l10n.t("Creating and checking out branch {0}",T)}),await e.createBranch(T,!0,fe.commit),await e.setBranchUpstream(T,oe)}await un.associateBranchWithPullRequest(e,i,T)}static async checkoutExistingPullRequestBranch(e,t,i){const r=un.buildPullRequestMetadata(t),a=await e.getConfigs(),o=T=>a.filter(({key:x})=>T===x).map(({value:x})=>x)[0],v=a.map(T=>{const x=dp.exec(T.key);return{branch:x&&x.length?x[1]:null,value:T.value}}).filter(T=>T.branch&&T.value===r);if(v&&v.length){const T=v[0].branch;i.report({message:s.l10n.t("Checking out branch {0}",T)}),await e.checkout(T);const x=s.workspace.getConfiguration(tt).get(Vi,"pull");if(x==="pull"||x==="pullAndMergeBase"||x==="pullAndUpdateBase"||x===!0){const te=o(`branch.${T}.remote`),oe=o(`branch.${T}.merge`);i.report({message:s.l10n.t("Fetching branch {0}",T)}),await e.fetch(te,oe)}const W=await e.getBranch(v[0].branch);return W.upstream===void 0?!1:(W.behind!==void 0&&W.behind>0&&W.ahead===0&&(y.debug("Pull from upstream",un.ID),i.report({message:s.l10n.t("Pulling branch {0}",T)}),await e.pull()),!0)}else return!1}static async getBranchNRemoteForPullRequest(e,t){let i=null;try{const r=un.buildPullRequestMetadata(t),a=await e.getConfigs(),o=a.map(v=>{const T=dp.exec(v.key);return{branch:T&&T.length?T[1]:null,value:v.value}}).find(v=>!!v.branch&&v.value===r);if(o){i=o.branch;const v=`branch.${i}.remote`,T=a.filter(oe=>oe.key===v).map(oe=>oe.value);let x;T.length&&(x=T[0]);let W=!1;if(x){const oe=`remote.${x}.github-pr-remote`;a.filter(ye=>ye.key===oe&&ye.value).length&&(W=!0)}let te;return W&&(te=a.some(oe=>!!(r_.exec(oe.key)&&oe.key!==`branch.${i}.remote`&&oe.value===x))),{branch:i,remote:x,createdForPullRequest:W,remoteInUse:te}}}catch(r){return i?{branch:i}:(y.error(`getBranchNRemoteForPullRequest failed ${r}`,un.ID),null)}return null}static async getEmail(e){try{const t=await e.getConfig("user.email");return t||await e.getGlobalConfig("user.email")}catch{return}}static buildPullRequestMetadata(e){return`${e.base.repositoryCloneUrl.owner}#${e.base.repositoryCloneUrl.repositoryName}#${e.number}`}static buildBaseBranchMetadata(e,t,i){return`${e}#${t}#${i}`}static parsePullRequestMetadata(e){if(e){const t=/(.*)#(.*)#(.*)/g.exec(e);if(t&&t.length===4){const[,i,r,a]=t;return{owner:i,repositoryName:r,prNumber:Number(a)}}}}static getMetadataKeyForBranch(e){return`branch.${e}.${cp}`}static async getMatchingPullRequestMetadataForBranch(e,t){try{const i=this.getMetadataKeyForBranch(t),r=await e.getConfig(i);return un.parsePullRequestMetadata(r)}catch{return}}static async createRemote(e,t,i){y.appendLine(`create remote for ${i}.`,un.ID);const r=Ya(e);for(const o of r)if(new br(o.url).equals(i))return o.remoteName;const a=un.getUniqueRemoteName(e,i.owner);return i.update({type:t.gitProtocol.type}),await e.addRemote(a,i.toString()),await e.setConfig(`remote.${a}.${up}`,"true"),a}static async isRemoteCreatedForPullRequest(e,t){try{y.debug(`Check if remote '${t}' is created for pull request - start`,un.ID);const i=await e.getConfig(`remote.${t}.${up}`);return y.debug(`Check if remote '${t}' is created for pull request - end`,un.ID),i==="true"}catch{return!1}}static async calculateUniqueBranchNameForPR(e,t){const i=`pr/${t.author.login}/${t.number}`;let r=i,a=1;for(;;)try{await e.getBranch(r),r=`${i}-${a++}`}catch{break}return r}static getUniqueRemoteName(e,t){let i=t,r=1;const a=Ya(e);for(;a.find(o=>o.remoteName===i);)i=`${t}${r++}`;return i}static getHeadRemoteForPullRequest(e,t){return e.find(i=>i.gitProtocol&&i.gitProtocol.owner.toLowerCase()===t.head.repositoryCloneUrl.owner.toLowerCase()&&i.gitProtocol.repositoryName.toLowerCase()===t.head.repositoryCloneUrl.repositoryName.toLowerCase())}static async associateBranchWithPullRequest(e,t,i){try{t&&y.appendLine(`associate ${i} with Pull Request #${t.number}`,un.ID);const r=`branch.${i}.${cp}`;t?await e.setConfig(r,un.buildPullRequestMetadata(t)):e.unsetConfig&&await e.unsetConfig(r)}catch{t&&y.error(`associate ${i} with Pull Request #${t.number} failed`,un.ID)}}static async associateBaseBranchWithBranch(e,t,i){try{const r=`branch.${t}.${i_}`;if(i)y.appendLine(`associate ${t} with base branch ${i.owner}/${i.repo}#${i.branch}`,un.ID),await e.setConfig(r,un.buildBaseBranchMetadata(i.owner,i.repo,i.branch));else if(e.unsetConfig){await e.unsetConfig(r);const a=`branch.${t}.${n_}`;await e.unsetConfig(a)}}catch{y.error(`associate ${t} with base branch ${i==null?void 0:i.owner}/${i==null?void 0:i.repo}#${i==null?void 0:i.branch} failed`,un.ID)}}};t_(fp,"ID","PullRequestGitHelper");let wr=fp;const hp=void 0;var a_=Xt(65606);let mp=!1;const pp=class{static async getApiHost(n){const e=a_.env.GITHUB_TEST_SERVER;if(e){if(mp)return s.Uri.parse(e);const i=s.l10n.t("Yes");if(await s.window.showInformationMessage(s.l10n.t("The 'GITHUB_TEST_SERVER' environment variable is set to '{0}'. Use this as the GitHub API endpoint?",e),{modal:!0},i)===i)return mp=!0,s.Uri.parse(e)}const t=n instanceof s.Uri?n:s.Uri.parse(n.host);return t.authority==="github.com"?s.Uri.parse("https://api.github.com"):s.Uri.parse(`${t.scheme}://${t.authority}`)}static getApiPath(n,e){return(n instanceof s.Uri?n:s.Uri.parse(n.host)).authority==="github.com"?e:`/api/v3${e}`}};var s_=Object.defineProperty,o_=(n,e,t)=>e in n?s_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ju=(n,e,t)=>o_(n,typeof e!="symbol"?e+"":e,t);const zu=class el{constructor(){ju(this,"_knownServers",new Map([...Array.from(el._githubDotComServers.keys()).map(e=>[e,pn.GitHubDotCom]),...Array.from(el._gheServers.keys()).map(e=>[e,pn.Enterprise])]))}static isGithubDotCom(e){return this._githubDotComServers.has(e)}static isNeverGitHub(e){return this._neverGitHubServers.has(e)}async isGitHub(e){var t;if(e===null)return pn.None;const i=e.authority.toLowerCase();if(e.path.endsWith(".wiki")||i.match(/gist[.]github[.]com/))return pn.None;if(el.isGithubDotCom(i))return pn.GitHubDotCom;const r=Array.from(this._knownServers.keys()).find(x=>i.endsWith(x)),a=Co();if(e.authority.toLowerCase()===(a==null?void 0:a.authority.toLowerCase())&&(!r||this._knownServers.get(r)===pn.None))return pn.Enterprise;if(r)return(t=this._knownServers.get(r))!=null?t:pn.None;const[o,v]=await el.getOptions(e,"HEAD","/rate_limit");let T=pn.None;try{const x=await Dn()(o.toString(),v),W=[];x.headers.forEach((fe,ye)=>{W.push(ye)}),y.debug(`All headers: ${W.join(", ")}`,"GitHubServer");const te=x.headers.get("x-github-request-id"),oe=x.headers.get("x-github-enterprise-version");if(!te&&!oe){const[fe]=await el.getOptions(e,"HEAD","/status"),Pe=await(await Dn()(fe.toString())).text();if(Pe.startsWith("GitHub lives!"))T=pn.Enterprise;else{y.appendLine(`Received fallback response from the server: ${Pe}`,"GitHubServer");const Ce=JSON.parse(Pe);Ce.documentation_url&&Ce.documentation_url.startsWith("https://docs.github.com/enterprise")&&(T=pn.Enterprise)}}else T=te!=null?oe?pn.Enterprise:pn.GitHubDotCom:pn.None;return T}catch(x){return y.warn(`No response from host ${e}: ${x.message}`,"GitHubServer"),T}finally{y.debug(`Host ${e} is associated with GitHub: ${T}`,"GitHubServer"),this._knownServers.set(i,T)}}static async getOptions(e,t="GET",i,r){const a={"user-agent":"GitHub VSCode Pull Requests"};r&&(a.authorization=`token ${r}`);const o=s.Uri.joinPath(await pp.getApiHost(e),pp.getApiPath(e,i)),v={hostname:o.authority,port:443,method:t,headers:a,agent:hp};return[o,v]}};ju(zu,"_githubDotComServers",new Set().add("github.com").add("ssh.github.com")),ju(zu,"_gheServers",new Set().add("ghe.com")),ju(zu,"_neverGitHubServers",new Set().add("bitbucket.org").add("gitlab.com"));let gp=zu;const $d="github.pullRequest.pullNotification.show",vp="github.pullRequest.repos",Hd="github.pullRequest.previousCreateMethod",bp="github.pullRequest.lastUsedEmail";function HC(n){n.globalState.setKeysForSync([$d])}var Wu;(n=>{async function e(){try{await s.commands.executeCommand("git.checkout")}catch{await s.commands.executeCommand("remoteHub.switchToBranch")}}n.checkout=e})(Wu||(Wu={}));var l_=Object.defineProperty,u_=(n,e,t)=>e in n?l_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Fo=(n,e,t)=>u_(n,typeof e!="symbol"?e+"":e,t);class Gd extends d{constructor(e,t,i,r){super(),this._repository=e,this._upstream=t,this._into=i,this.push=r,Fo(this,"startingConflictsCount"),Fo(this,"_lastReportedRemainingCount"),Fo(this,"_onConflictCountChanged",new s.EventEmitter),Fo(this,"onConflictCountChanged",this._onConflictCountChanged.event),Fo(this,"_finishedCommit",new s.EventEmitter),Fo(this,"message"),this.startingConflictsCount=this.remainingConflicts.length,this._lastReportedRemainingCount=this.startingConflictsCount,this._repository.inputBox.value=this.message=`Merge branch '${this._upstream}' into ${this._into}`,this._watchForRemainingConflictsChange()}_watchForRemainingConflictsChange(){this._register(s.window.tabGroups.onDidChangeTabs(async e=>{e.closed.length>0&&(await this._repository.status(),this._reportProgress())})),this._register(this._repository.state.onDidChange(async()=>{this._reportProgress()}))}_reportProgress(){if(this._lastReportedRemainingCount===0)return;const e=this.remainingConflicts.length;this._lastReportedRemainingCount!==e&&(this._onConflictCountChanged.fire(this._lastReportedRemainingCount-e),this._lastReportedRemainingCount=e),this._lastReportedRemainingCount===0&&this.listenForCommit()}async listenForCommit(){let e;const t=await new Promise(i=>{var r;const a=(r=this._repository.state.HEAD)==null?void 0:r.commit;e=this._register(this._repository.state.onDidChange(()=>{var o;((o=this._repository.state.HEAD)==null?void 0:o.commit)!==a&&this._repository.state.indexChanges.length===0&&this._repository.state.mergeChanges.length===0&&i(!0)}))});e==null||e.dispose(),t&&this.push&&this._repository.push(),this._finishedCommit.fire(t)}get remainingConflicts(){return this._repository.state.mergeChanges}async closeMergeEditors(){for(const e of s.window.tabGroups.all)for(const t of e.tabs)t.input instanceof s.TabInputTextMerge&&s.window.tabGroups.close(t)}async abort(){this._repository.inputBox.value="";const e=this._register(this._repository.state.onDidChange(async()=>{this._repository.state.mergeChanges.length===0&&(await new Promise(t=>setTimeout(t,1e3)),this.closeMergeEditors(),e.dispose())}));await this._repository.mergeAbort(),this._finishedCommit.fire(!1)}async first(){this.remainingConflicts.length!==0&&(await ei.focusView("workbench.scm"),this._reportProgress(),await Promise.all(this.remainingConflicts.map(e=>ei.executeCommand("git.openMergeEditor",e.uri))))}static async begin(e,t,i,r){const a=new Gd(e,t,i,r);if(a.remainingConflicts.length!==0)return a._register(new c_(a,e)),a.first(),a}finished(){return Te(this._finishedCommit.event)}}class c_ extends d{constructor(e,t){super(),this._conflictModel=e,this._repository=t,s.window.withProgress({location:s.ProgressLocation.Notification,cancellable:!0},async(i,r)=>{const a=o=>{i.report({message:s.l10n.t("Use the Source Control view to resolve conflicts, {0} of {0} remaining",this._conflictModel.remainingConflicts.length,this._conflictModel.startingConflictsCount),increment:o})};return a(0),new Promise(o=>{this._register(this._conflictModel.onConflictCountChanged(v=>{const T=v*(100/this._conflictModel.startingConflictsCount);a(T),this._conflictModel.remainingConflicts.length===0&&o(!0)})),this._register(r.onCancellationRequested(()=>{this._conflictModel.abort(),o(!1)}))})}).then(async i=>{if(i){const r=s.l10n.t("Commit"),a=s.l10n.t("Abort Merge");let o;this._conflictModel.push?o=s.l10n.t("All conflicts resolved. Commit and push the resolution to continue."):o=s.l10n.t("All conflicts resolved. Commit the resolution to continue.");const v=await s.window.showInformationMessage(o,r,a);v===r?await this._repository.commit(this._conflictModel.message):v===a&&await this._conflictModel.abort()}})}}var d_=Object.defineProperty,f_=(n,e,t)=>e in n?d_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Vd=(n,e,t)=>f_(n,typeof e!="symbol"?e+"":e,t);class h_ extends d{constructor(e){super(),this._conflictResolutionModel=e,Vd(this,"_treeView"),Vd(this,"_onDidChangeTreeData",this._register(new s.EventEmitter)),Vd(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),this._treeView=this._register(s.window.createTreeView("github:conflictResolution",{treeDataProvider:this})),this._register(this._conflictResolutionModel.onAddedResolution(()=>this._onDidChangeTreeData.fire())),ei.focusView("github:conflictResolution")}async getTreeItem(e){const t=s.Uri.from({path:e.conflict.prHeadFilePath,scheme:"conflictResolution"}),i=new s.TreeItem(t);return this._conflictResolutionModel.isResolved(e.conflict.prHeadFilePath)?(i.iconPath=new s.ThemeIcon("check"),i.command={command:"vscode.diff",arguments:[this._conflictResolutionModel.baseUri(e.conflict),this._conflictResolutionModel.mergeOutputUri(e.conflict),`Merge result for ${e.conflict.prHeadFilePath}`],title:s.l10n.t("View Merge Result")}):i.command={command:"pr.resolveConflict",title:s.l10n.t("Resolve Conflict"),arguments:[e.conflict]},i}async getChildren(e){if(e)return[];const t=new s.MarkdownString;t.isTrusted={enabledCommands:["pr.exitConflictResolutionMode","pr.completeMerge"]};let i=[];return this._conflictResolutionModel.isResolvable()?(this._conflictResolutionModel.areAllConflictsResolved?t.appendMarkdown(s.l10n.t(`All conflicts have been resolved.

[Complete merge](command:pr.completeMerge)

[Exit without merging](command:pr.exitConflictResolutionMode)`)):t.appendMarkdown(s.l10n.t("Resolve all conflicts or [exit conflict resolution mode](command:pr.exitConflictResolutionMode)")),i=Array.from(this._conflictResolutionModel.startingConflicts.values()).map(r=>({conflict:r}))):t.appendMarkdown(s.l10n.t(`Not all conflicts can be resolved here. Check out the pull request to manually resolve conflicts.

[Exit conflict resolution mode](command:pr.exitConflictResolutionMode)`)),this._treeView.message=t,i}}var m_=Object.defineProperty,p_=(n,e,t)=>e in n?m_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ku=(n,e,t)=>p_(n,typeof e!="symbol"?e+"":e,t);async function g_(n,e,t,i){let r="";return i||(r=await n.repository.show(t,s.Uri.joinPath(n.repository.rootUri,e).fsPath)),new TextEncoder().encode(r)}class yp{constructor(){Ku(this,"_onDidChangeFile",new s.EventEmitter),Ku(this,"onDidChangeFile",this._onDidChangeFile.event),Ku(this,"changedFiles",new Map),Ku(this,"_editableBranch")}set editableBranch(e){this.changedFiles.clear(),this._editableBranch=e}hasChanges(){return[...this.changedFiles.values()].some(e=>e.modified)}async tryReadFile(e,t){var i;return this.changedFiles.has(e.toString())||(!t||t.isEmpty)&&this.changedFiles.set(e.toString(),{file:new TextEncoder().encode(""),modified:!1}),(i=this.changedFiles.get(e.toString()))==null?void 0:i.file}writeFile(e,t,i){this.changedFiles.set(e.toString(),{file:t,modified:!0})}watch(e,t){return{dispose:()=>{}}}async stat(e){return{type:s.FileType.File,ctime:0,mtime:0,size:0,permissions:s.FilePermission.Readonly}}readDirectory(e){return[]}createDirectory(e){}delete(e,t){}rename(e,t,i){}}class wp extends yp{constructor(e){super(),this._gitHubRepositories=e}gitHubRepositoryForOwner(e){return e?this._gitHubRepositories.find(t=>pe(t.remote.owner,e)===0):this._gitHubRepositories[0]}set gitHubRepository(e){this._gitHubRepositories=[e]}async readFile(e){const t=Pd(e),i=await this.tryReadFile(e,t);if(i)return i;const r=this.gitHubRepositoryForOwner(t==null?void 0:t.owner);if(!r)throw new Error(`No GitHub repository found for owner ${t.owner}`);const a=await r.getFile(t.fileName,t.branch);return this.changedFiles.set(e.toString(),{file:a,modified:!1}),this.changedFiles.get(e.toString()).file}async applyChanges(e,t){const i=new Map;for(const[r,a]of this.changedFiles)a.modified&&i.set(s.Uri.parse(r).path,a.file);return this._gitHubRepositories[0].commit(t,e,i)}}class v_ extends yp{constructor(e){super(),this.folderRepositoryManager=e}async stat(e){var t,i;let r=0;const a=Pd(e);if(a!=null&&a.branch){const o=await this.folderRepositoryManager.repository.getBranch(a==null?void 0:a.branch);if(o.commit){const v=await this.folderRepositoryManager.repository.getCommit(o.commit);v&&(r=(i=(t=v.commitDate)==null?void 0:t.getTime())!=null?i:0)}}return{type:s.FileType.File,ctime:0,mtime:r,size:0,permissions:s.FilePermission.Readonly}}async readFile(e){const t=Pd(e);if(!t||t.isEmpty)return new TextEncoder().encode("");const i=await g_(this.folderRepositoryManager,t.fileName,t.branch,!!t.isEmpty);return this.changedFiles.set(e.toString(),{file:i,modified:!1}),this.changedFiles.get(e.toString()).file}async applyChanges(e){var t;if(this.folderRepositoryManager.repository.state.indexChanges.length>0||this.folderRepositoryManager.repository.state.workingTreeChanges.length>0)return s.window.showWarningMessage("Please commit or stash your other changes before applying these changes."),!1;const i=[];for(const[r,a]of this.changedFiles)if(a.modified){const o=s.Uri.joinPath(this.folderRepositoryManager.repository.rootUri,s.Uri.parse(r).path);await s.workspace.fs.writeFile(o,a.file),i.push(o.fsPath)}return await this.folderRepositoryManager.repository.add(i),await this.folderRepositoryManager.repository.commit(e),(t=this.folderRepositoryManager.repository.state.HEAD)!=null&&t.upstream?(await this.folderRepositoryManager.repository.push(this.folderRepositoryManager.repository.state.HEAD.upstream.remote,this.folderRepositoryManager.repository.state.HEAD.upstream.name),!0):!1}}var b_=Object.defineProperty,y_=(n,e,t)=>e in n?b_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ws=(n,e,t)=>y_(n,typeof e!="symbol"?e+"":e,t);const _p=`<<<<<<< HEAD:file.txt
A
=======
B
>>>>>>> fa7472b59e45e5b86c985a175aac33af7a8322a3:file.txt`;class w_ extends d{constructor(e){super(),this._conflictResolutionModel=e,Ws(this,"_createTime",0),Ws(this,"_modifiedTimes",new Map),Ws(this,"_mergedFiles",new Map),Ws(this,"_onDidChangeFile",this._register(new s.EventEmitter)),Ws(this,"onDidChangeFile",this._onDidChangeFile.event),this._createTime=new Date().getTime()}get mergeResults(){return this._mergedFiles}watch(e,t){return{dispose:()=>{}}}stat(e){var t,i,r;return{type:s.FileType.File,ctime:this._createTime,mtime:(t=this._modifiedTimes.get(e.path))!=null?t:0,size:(r=(i=this._mergedFiles.get(e.path))==null?void 0:i.length)!=null?r:0}}readDirectory(e){throw new Error("Method not implemented.")}createDirectory(e){throw new Error("Method not implemented.")}async readFile(e){return this._mergedFiles.has(e.path)||this.updateFile(e.path,Ni.Buffer.from(_p)),this._mergedFiles.get(e.path)}writeFile(e,t,i){this.updateFile(e.path,t)}delete(e,t){throw new Error("Method not implemented.")}rename(e,t,i){throw new Error("Method not implemented.")}updateFile(e,t){this._mergedFiles.set(e,t),this._modifiedTimes.set(e,new Date().getTime())}clear(){const e=[];for(const t of this._mergedFiles.keys())e.push({uri:s.Uri.from({scheme:this._conflictResolutionModel.mergeScheme,path:t}),type:s.FileChangeType.Changed}),this.updateFile(t,Ni.Buffer.from(_p));this._onDidChangeFile.fire(e)}dispose(){super.dispose(),this._mergedFiles.clear()}}class __ extends d{constructor(e,t,i){super(),this._telemetry=e,this._conflictResolutionModel=t,this._githubRepositories=i,Ws(this,"_mergeOutputProvider"),Ws(this,"_onExitConflictResolutionMode",new s.EventEmitter),this._mergeOutputProvider=this._register(new w_(this._conflictResolutionModel))}async openConflict(e){const t=this._conflictResolutionModel.prHeadUri(e),i=this._conflictResolutionModel.baseUri(e),r={uri:t,title:s.l10n.t("Pull Request Head")},a={uri:i,title:s.l10n.t("{0} Branch",this._conflictResolutionModel.prBaseBranchName)},o=this._conflictResolutionModel.mergeBaseUri(e),v=this._conflictResolutionModel.mergeOutputUri(e),T={base:o,input1:r,input2:a,output:v};await ei.executeCommand("_open.mergeEditor",T)}register(){this._register(s.workspace.registerFileSystemProvider(qt.GithubPr,new wp(this._githubRepositories),{isReadonly:!0})),this._register(s.workspace.registerFileSystemProvider(this._conflictResolutionModel.mergeScheme,this._mergeOutputProvider)),this._register(s.commands.registerCommand("pr.resolveConflict",e=>this.openConflict(e))),this._register(s.commands.registerCommand("pr.acceptMerge",async e=>this.acceptMerge(e))),this._register(s.commands.registerCommand("pr.exitConflictResolutionMode",async()=>{const e=s.l10n.t("Exit and lose changes");if(await s.window.showWarningMessage(s.l10n.t("Are you sure you want to exit conflict resolution mode? All changes will be lost."),{modal:!0},e)===e)return this.exitConflictResolutionMode(!1)})),this._register(s.commands.registerCommand("pr.completeMerge",async()=>this.exitConflictResolutionMode(!0))),this._register(new h_(this._conflictResolutionModel))}async acceptMerge(e){if(!(e instanceof s.Uri))return;const{activeTab:t}=s.window.tabGroups.activeTabGroup;if(!t||!(t.input instanceof s.TabInputTextMerge))return;if((await ei.executeCommand("mergeEditor.acceptMerge")).successful){const r=new TextDecoder().decode(this._mergeOutputProvider.mergeResults.get(e.path));this._conflictResolutionModel.addResolution(e.path.substring(1),r)}}async enterConflictResolutionMode(){this._telemetry.sendTelemetryEvent("pr.conflictResolution.start"),await ei.setContext(Ct.RESOLVING_CONFLICTS,!0),this.register(),this.openConflict(this._conflictResolutionModel.startingConflicts[0])}async exitConflictResolutionMode(e){this._telemetry.sendTelemetryEvent("pr.conflictResolution.exit",{allConflictsResolved:e.toString()}),this._mergeOutputProvider.clear(),await ei.setContext(Ct.RESOLVING_CONFLICTS,!1);const t=[];for(const i of s.window.tabGroups.all)for(const r of i.tabs)r.input instanceof s.TabInputTextMerge&&r.input.result.scheme===this._conflictResolutionModel.mergeScheme&&t.push(r);await s.window.tabGroups.close(t),this._onExitConflictResolutionMode.fire(e),this.dispose()}async enterConflictResolutionAndWaitForExit(){return await this.enterConflictResolutionMode(),Te(this._onExitConflictResolutionMode.event)}}var k_=Object.defineProperty,S_=(n,e,t)=>e in n?k_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ml=(n,e,t)=>S_(n,typeof e!="symbol"?e+"":e,t);class R_{constructor(e,t,i,r,a,o,v,T){this.startingConflicts=e,this.repositoryName=t,this.prBaseOwner=i,this.latestPrBaseSha=r,this.prHeadOwner=a,this.prHeadBranchName=o,this.prBaseBranchName=v,this.prMergeBaseRef=T,Ml(this,"_startingConflicts",new Map),Ml(this,"_resolvedConflicts",new Map),Ml(this,"_onAddedResolution",new s.EventEmitter),Ml(this,"onAddedResolution",this._onAddedResolution.event),Ml(this,"mergeScheme",`${qt.MergeOutput}-${new Date().getTime()}`);for(const x of e)this._startingConflicts.set(x.prHeadFilePath,x)}isResolvable(){return Array.from(this._startingConflicts.values()).every(e=>!e.filePathConflict&&!e.modeConflict)}addResolution(e,t){this._resolvedConflicts.set(e,{prHeadFilePath:e,resolvedContents:t}),this._onAddedResolution.fire()}isResolved(e){if(!this._startingConflicts.has(e))throw new Error("Not a conflict file");return this._resolvedConflicts.has(e)}get areAllConflictsResolved(){return this._resolvedConflicts.size===this._startingConflicts.size}get resolvedConflicts(){if(this._resolvedConflicts.size!==this._startingConflicts.size)throw new Error("Not all conflicts have been resolved");return this._resolvedConflicts}mergeOutputUri(e){return s.Uri.parse(`${this.mergeScheme}:/${e.prHeadFilePath}`)}mergeBaseUri(e){const t=s.Uri.file(e.prHeadFilePath);return gs(t,qt.GithubPr,{fileName:e.prHeadFilePath,branch:this.prMergeBaseRef,owner:this.prBaseOwner})}baseUri(e){const t=s.Uri.file(e.prHeadFilePath);return gs(t,qt.GithubPr,{fileName:e.prHeadFilePath,branch:this.latestPrBaseSha,owner:this.prBaseOwner})}prHeadUri(e){const t=s.Uri.file(e.prHeadFilePath);return gs(t,qt.GithubPr,{fileName:e.prHeadFilePath,branch:this.prHeadBranchName,owner:this.prHeadOwner})}}var E_=Object.defineProperty,N_=(n,e,t)=>e in n?E_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Fi=(n,e,t)=>N_(n,typeof e!="symbol"?e+"":e,t);async function T_(n){var e;const t=n.head;if(!t)throw new Error("No head found for pull request");const i=await n.getLatestBaseCommitSha(),r=n.base.owner,a=t.owner,o=t.ref,v=(await n.githubRepository.ensure()).remote.repositoryName,T=[];if(n.item.mergeable===dn.Conflict){const x=await n.compareBaseBranchForMerge(a,o,r,i);if(n.item.mergeable===dn.Conflict&&x.length>=300)return;const W=new Map;for(const oe of n.fileChanges.values())oe.previousFileName&&W.set(oe.previousFileName,oe);const te=new Set(n.conflicts);for(const oe of x){const fe=(e=n.fileChanges.get(oe.filename))!=null?e:W.get(oe.filename);if(fe&&(te.size===0||te.has(fe.fileName))){const ye=fe.fileName;let Pe=!1,Ce=!1,De=!1;oe.status==="modified"&&(Pe=!0),(oe.previous_filename||fe.previousFileName)&&(Ce=!0),T.push({prHeadFilePath:ye,contentsConflict:Pe,filePathConflict:Ce,modeConflict:De})}}}return new R_(T,v,r,i,a,o,n.base.ref,n.mergeBase)}class kp extends Error{constructor(e){super(),this.repository=e}get message(){return s.l10n.t("{0} has no GitHub remotes",this.repository.rootUri.toString())}}class C_ extends Error{constructor(e){super(),this.repository=e}get message(){return s.l10n.t("{0} has a detached HEAD (create a branch first",this.repository.rootUri.toString())}}class P_ extends Error{constructor(e,t,i){super(),this.branchName=e,this.upstreamRef=t,this.problem=i}get message(){const{upstreamRef:{remote:e,name:t},branchName:i,problem:r}=this;return s.l10n.t("The upstream ref {0} for branch {1} {2}.",`${e}/${t}`,i,r)}}const Sp="ReposManagerStateContext";var tr=(n=>(n.Initializing="Initializing",n.NeedsAuthentication="NeedsAuthentication",n.RepositoriesLoaded="RepositoriesLoaded",n))(tr||{}),A_=(n=>(n[n.PullRequest=0]="PullRequest",n[n.IssueSearch=1]="IssueSearch",n))(A_||{});const M_="templateBody",Rp=class g0 extends d{constructor(e,t,i,r,a,o,v,T){super(),this._id=e,this.context=t,this._repository=i,this.telemetry=r,this._git=a,this._credentialStore=o,this.createPullRequestHelper=v,this.themeWatcher=T,Fi(this,"_state","Initializing"),Fi(this,"_activePullRequest"),Fi(this,"_activeIssue"),Fi(this,"_githubRepositories"),Fi(this,"_allGitHubRemotes",[]),Fi(this,"_mentionableUsers"),Fi(this,"_fetchMentionableUsersPromise"),Fi(this,"_assignableUsers"),Fi(this,"_teamReviewers"),Fi(this,"_fetchAssignableUsersPromise"),Fi(this,"_fetchTeamReviewersPromise"),Fi(this,"_gitBlameCache",{}),Fi(this,"_githubManager"),Fi(this,"_repositoryPageInformation",new Map),Fi(this,"_addedUpstreamCount",0),Fi(this,"_onDidMergePullRequest",this._register(new s.EventEmitter)),Fi(this,"onDidMergePullRequest",this._onDidMergePullRequest.event),Fi(this,"_onDidChangeActivePullRequest",this._register(new s.EventEmitter)),Fi(this,"onDidChangeActivePullRequest",this._onDidChangeActivePullRequest.event),Fi(this,"_onDidChangeActiveIssue",this._register(new s.EventEmitter)),Fi(this,"onDidChangeActiveIssue",this._onDidChangeActiveIssue.event),Fi(this,"_onDidLoadRepositories",this._register(new s.EventEmitter)),Fi(this,"onDidLoadRepositories",this._onDidLoadRepositories.event),Fi(this,"_onDidChangeRepositories",this._register(new s.EventEmitter)),Fi(this,"onDidChangeRepositories",this._onDidChangeRepositories.event),Fi(this,"_onDidChangeAssignableUsers",this._register(new s.EventEmitter)),Fi(this,"onDidChangeAssignableUsers",this._onDidChangeAssignableUsers.event),Fi(this,"_onDidChangeGithubRepositories",this._register(new s.EventEmitter)),Fi(this,"onDidChangeGithubRepositories",this._onDidChangeGithubRepositories.event),Fi(this,"_onDidChangePullRequestsEvents",[]),Fi(this,"_onDidChangeAnyPullRequests",this._register(new s.EventEmitter)),Fi(this,"onDidChangeAnyPullRequests",this._onDidChangeAnyPullRequests.event),Fi(this,"_onDidAddPullRequest",this._register(new s.EventEmitter)),Fi(this,"onDidAddPullRequest",this._onDidAddPullRequest.event),Fi(this,"_onDidDispose",this._register(new s.EventEmitter)),Fi(this,"onDidDispose",this._onDidDispose.event),Fi(this,"_sessionIgnoredRemoteNames",new Set),Fi(this,"_updatingRepositories"),Fi(this,"totalFetchedPages",new Map),Fi(this,"_updateMessageShown",!1),Fi(this,"_createGitHubRepositoryBulkhead",jm(1,300)),this._githubRepositories=[],this._githubManager=new gp,this._register(s.workspace.onDidChangeConfiguration(async x=>{x.affectsConfiguration(`${tt}.${Ri}`)&&await this.updateRepositories()})),this._register(o.onDidInitialize(()=>this.updateRepositories())),this._register({dispose:()=>c(this._onDidChangePullRequestsEvents)}),this.cleanStoredRepoState()}cleanStoredRepoState(){const e=new Date().valueOf()-2592e6,t=this.context.globalState.get(vp);if(t!=null&&t.repos){let i=!1;Object.keys(t.repos).forEach(r=>{var a;((a=t.repos[r].stateModifiedTime)!=null?a:0)<e&&(i=!0,delete t.repos[r])}),i&&this.context.globalState.update(vp,t)}}get id(){return`${g0.ID}+${this._id}`}get gitHubRepositories(){return this._githubRepositories}async computeAllUnknownRemotes(){const t=Ya(this.repository).filter(o=>o.host),i=await Promise.all(t.map(o=>this._githubManager.isGitHub(o.gitProtocol.normalizeUri()))).catch(o=>(y.error(`Resolving GitHub remotes failed: ${o}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",we(o))),[])),r=[];let a=0;for(const o of t)i[a]===pn.None&&r.push(o),a++;return r}async computeAllGitHubRemotes(){const t=Ya(this.repository).filter(o=>o.host),i=await Promise.all(t.map(o=>this._githubManager.isGitHub(o.gitProtocol.normalizeUri()))).catch(o=>(y.error(`Resolving GitHub remotes failed: ${o}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",we(o))),[])),r=[];let a=0;for(const o of t)i[a]!==pn.None&&r.push(ps.remoteAsGitHub(o,i[a])),a++;return r}async getActiveGitHubRemotes(e){const t=s.workspace.getConfiguration(tt).get(Ri);if(!t)return y.error("Unable to read remotes setting",this.id),Promise.resolve([]);const i=t.filter(r=>!e.some(a=>a.remoteName===r));return i.length===t.length?y.warn(`No remotes found. The following remotes are missing: ${i.join(", ")}`):y.debug(`Not all remotes found. The following remotes are missing: ${i.join(", ")}`,this.id),y.debug(`Displaying configured remotes: ${t.join(", ")}`,this.id),t.map(r=>e.find(a=>a.remoteName===r)).filter(r=>!!r&&!this._sessionIgnoredRemoteNames.has(r.remoteName))}get activeIssue(){return this._activeIssue}set activeIssue(e){this._activeIssue=e,this._onDidChangeActiveIssue.fire()}get activePullRequest(){return this._activePullRequest}set activePullRequest(e){var t;if(e===this._activePullRequest)return;const i=this._activePullRequest;this._activePullRequest&&(this._activePullRequest.isActive=!1),e&&(e.isActive=!0,(t=e.githubRepository.commentsHandler)==null||t.unregisterCommentController(e.number)),this._activePullRequest=e,this._onDidChangeActivePullRequest.fire({old:i,new:e})}get repository(){return this._repository}set repository(e){this._repository=e}get credentialStore(){return this._credentialStore}setFileViewedContext(){var e;const t=(e=this.activePullRequest)==null?void 0:e.getViewedFileStates();t?(ei.setContext(Ct.VIEWED_FILES,Array.from(t.viewed)),ei.setContext(Ct.UNVIEWED_FILES,Array.from(t.unviewed))):this.clearFileViewedContext()}clearFileViewedContext(){ei.setContext(Ct.VIEWED_FILES,[]),ei.setContext(Ct.UNVIEWED_FILES,[])}async loginAndUpdate(){if(!this._credentialStore.isAnyAuthenticated()){const e=new Promise(t=>{const i=this.onDidChangeRepositories(()=>{i.dispose(),t()})});await this._credentialStore.login(li.github),await e}}async getActiveRemotes(){this._allGitHubRemotes=await this.computeAllGitHubRemotes();const e=await this.getActiveGitHubRemotes(this._allGitHubRemotes);return e.length?(await s.commands.executeCommand("setContext","github:hasGitHubRemotes",!0),y.appendLine(`Found GitHub remote for folder ${this.repository.rootUri.fsPath}`,this.id),this._allGitHubRemotes.length>1&&await s.commands.executeCommand("setContext","github:hasMultipleGitHubRemotes",!0)):y.appendLine(`No GitHub remotes found for folder ${this.repository.rootUri.fsPath}`,this.id),e}async updateRepositories(e=!1){return this._updatingRepositories&&await this._updatingRepositories,this._updatingRepositories=this.doUpdateRepositories(e),this._updatingRepositories}checkForAuthMatch(e){let t=0,i=0;for(const a of e)a.githubServerType===pn.GitHubDotCom?t++:a.githubServerType===pn.Enterprise&&i++;let r=this._credentialStore.isAuthenticated(li.github)||this._credentialStore.isAuthenticated(li.githubEnterprise);return t>0&&this._credentialStore.isAuthenticated(li.github)||i>0&&this._credentialStore.isAuthenticated(li.githubEnterprise)||r&&(r=!1),s.commands.executeCommand("setContext","github:authenticated",r),r}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._onDidLoadRepositories.fire(e))}async doUpdateRepositories(e){if(this._git.state==="uninitialized")return y.appendLine("Cannot updates repositories as git is uninitialized",this.id),!1;const t=await this.getActiveRemotes(),i=this.checkForAuthMatch(t);if(this.credentialStore.isAnyAuthenticated()&&t.length===0&&(await this.computeAllUnknownRemotes()).every(W=>gp.isNeverGitHub(s.Uri.parse(W.normalizedHost).authority)))return this.state="RepositoriesLoaded",!0;const r=[],a=[],o=[];this._githubRepositories.forEach(x=>o.push(x));const v=t.filter(x=>this._credentialStore.isAuthenticated(x.authProviderId));for(const x of v){const W=await this.createGitHubRepository(x,this._credentialStore);a.push(W.resolveRemote()),r.push(W)}const T=async x=>{for(const W of x){this._sessionIgnoredRemoteNames.add(W.remote.remoteName),this.removeGitHubRepository(W.remote);const te=r.indexOf(W);te>-1&&r.splice(te,1)}};return Promise.all(a).then(async x=>{const W=[];for(let oe=0;oe<x.length;oe++)x[oe]||W.push(r[oe]);if(W.length>0){const oe=await this._credentialStore.showSamlMessageAndAuth(W.map(Pe=>Pe.remote.owner)),fe=oe.canceled?[]:await Promise.all(W.map(Pe=>Pe.resolveRemote())),ye=oe.canceled?W:fe.map((Pe,Ce)=>Pe?void 0:W[Ce]).filter(Pe=>!!Pe);if(ye.length>0){if(ye.length===r.length)return await s.window.showErrorMessage(s.l10n.t("SAML access was not provided. GitHub Pull Requests will not work."),{modal:!0}),this.dispose(),!0;await s.window.showErrorMessage(s.l10n.t("SAML access was not provided. Some GitHub repositories will not be available."),{modal:!0}),T(ye)}}c(this._onDidChangePullRequestsEvents),this._githubRepositories=r;for(const oe of this._githubRepositories)this._onDidChangePullRequestsEvents.push(oe.onDidChangePullRequests(fe=>this._onDidChangeAnyPullRequests.fire(fe))),this._onDidChangePullRequestsEvents.push(oe.onDidAddPullRequest(fe=>this._onDidAddPullRequest.fire(fe)));o.filter(oe=>this._githubRepositories.indexOf(oe)<0).forEach(oe=>oe.dispose());const te=o.length!==this._githubRepositories.length?this.gitHubRepositories.filter(oe=>!o.some(fe=>fe.remote.equals(oe.remote))):[];return te.length>0&&this._onDidChangeGithubRepositories.fire(this._githubRepositories),this._githubRepositories.length&&te.length>0&&await this.checkIfMissingUpstream()?(this.updateRepositories(e),!0):(this.activePullRequest&&this.getMentionableUsers(te.length>0),this.getAssignableUsers(te.length>0),i&&t.length?this.state="RepositoriesLoaded":i||(this.state="NeedsAuthentication"),e||this._onDidChangeRepositories.fire({added:te.length>0}),!0)})}async checkIfMissingUpstream(){var e;try{const i=await(await this.getOrigin()).getMetadata(),r=s.workspace.getConfiguration(tt);if(i.fork&&i.parent&&r.get(on,"add")==="add"){const a=new br(i.parent.git_url);if(!this._githubRepositories.some(v=>pe(v.remote.owner,a.owner)===0&&pe(v.remote.repositoryName,a.repositoryName)===0)){const T=!this.repository.state.remotes.some(x=>x.name==="upstream")?"upstream":(e=i.parent.owner)==null?void 0:e.login;if(T){if(this.gitHubRepositories[0].remote.gitProtocol.type===eu.SSH?await this.repository.addRemote(T,i.parent.ssh_url):await this.repository.addRemote(T,i.parent.clone_url),this._addedUpstreamCount++,this._addedUpstreamCount>1){const W=s.l10n.t("Set to `never`");s.window.showInformationMessage(s.l10n.t("An `upstream` remote has been added for this repository. You can disable this feature by setting `githubPullRequests.upstreamRemote` to `never`."),W).then(te=>{te===W&&r.update(on,"never",s.ConfigurationTarget.Global)})}return!0}}}}catch(t){y.appendLine(`Missing upstream check failed: ${t}`,this.id)}return!1}getAllAssignableUsers(){if(this._assignableUsers){const e=[];return Object.keys(this._assignableUsers).forEach(t=>{e.push(...this._assignableUsers[t])}),e}}async getCachedFromGlobalState(e){y.appendLine(`Trying to use globalState for ${e}.`,this.id);const t=s.Uri.joinPath(this.context.globalStorageUri,e);let i;try{i=await s.workspace.fs.stat(t)}catch{}if(!i){y.appendLine(`GlobalState does not exist for ${e}.`,this.id);return}const r={};if((await Promise.all(this._githubRepositories.map(async o=>{const v=`${o.remote.owner}/${o.remote.repositoryName}.json`,T=s.Uri.joinPath(t,v);let x,W;try{x=await s.workspace.fs.readFile(T),W=JSON.parse(x.toString())}catch(te){te instanceof Error&&te.message.includes("Unexpected non-whitespace character after JSON")&&y.error(`Error parsing ${e} cache for ${o.remote.remoteName}.`,this.id)}if(x&&x.toString())return r[o.remote.remoteName]=W!=null?W:[],!0}))).every(o=>o))return y.appendLine(`Using globalState ${e} for ${Object.keys(r).length}.`,this.id),r;y.appendLine(`No globalState for ${e}.`,this.id)}async saveInGlobalState(e,t){const i=s.Uri.joinPath(this.context.globalStorageUri,e);await Promise.all(this._githubRepositories.map(async r=>{const a=`${r.remote.owner}/${r.remote.repositoryName}.json`,o=s.Uri.joinPath(i,a);await s.workspace.fs.writeFile(o,new TextEncoder().encode(JSON.stringify(t[r.remote.remoteName])))}))}createFetchMentionableUsersPromise(){const e={};return new Promise(t=>{const i=this._githubRepositories.map(async r=>{const a=await r.getMentionableUsers();e[r.remote.remoteName]=a});Promise.all(i).then(()=>{this._mentionableUsers=e,this._fetchMentionableUsersPromise=void 0,this.saveInGlobalState("mentionableUsers",e).then(()=>t(e))})})}async getMentionableUsers(e){if(e&&delete this._mentionableUsers,this._mentionableUsers)return y.appendLine("Using in-memory cached mentionable users.",this.id),this._mentionableUsers;const t=await this.getCachedFromGlobalState("mentionableUsers");return this._fetchMentionableUsersPromise?this._fetchMentionableUsersPromise:(this._fetchMentionableUsersPromise=this.createFetchMentionableUsersPromise(),t!=null?t:this._fetchMentionableUsersPromise)}async getAssignableUsers(e){if(e&&delete this._assignableUsers,this._assignableUsers)return y.appendLine("Using in-memory cached assignable users.",this.id),this._assignableUsers;const t=await this.getCachedFromGlobalState("assignableUsers");if(!this._fetchAssignableUsersPromise){const i={},r=[];return this._fetchAssignableUsersPromise=new Promise(a=>{const o=this._githubRepositories.map(async v=>{const T=await v.getAssignableUsers();i[v.remote.remoteName]=T.sort(Mm),r.push(...T)});Promise.all(o).then(()=>{this._assignableUsers=i,this._fetchAssignableUsersPromise=void 0,this.saveInGlobalState("assignableUsers",i),a(i),this._onDidChangeAssignableUsers.fire(r)})}),t!=null?t:this._fetchAssignableUsersPromise}return this._fetchAssignableUsersPromise}async getTeamReviewers(e){if(e===Ro.Force&&delete this._teamReviewers,this._teamReviewers)return y.appendLine("Using in-memory cached team reviewers.",this.id),this._teamReviewers;const t=e===Ro.Force?void 0:await this.getCachedFromGlobalState("teamReviewers");if(t)return this._teamReviewers=t,t||{};if(!this._fetchTeamReviewersPromise){const i={};return this._fetchTeamReviewersPromise=new Promise(async r=>{var a;const o=new Map;for(const v of this._githubRepositories){if(!o.has(v.remote.owner))try{const x=await v.getOrgTeams(e);o.set(v.remote.owner,x)}catch{break}const T=(a=o.get(v.remote.owner))!=null?a:[];i[v.remote.remoteName]=T.filter(x=>x.repositoryNames.includes(v.remote.repositoryName)).sort(Ky)}this._teamReviewers=i,this._fetchTeamReviewersPromise=void 0,this.saveInGlobalState("teamReviewers",i),r(i)})}return this._fetchTeamReviewersPromise}createFetchOrgProjectsPromise(){const e={};return new Promise(async t=>{var i;const r=new Map;for(const a of this._githubRepositories){if(!r.has(a.remote.owner))try{const o=await a.getOrgProjects();r.set(a.remote.owner,o)}catch{break}e[a.remote.remoteName]=(i=r.get(a.remote.owner))!=null?i:[]}await this.saveInGlobalState("orgProjects",e),t(e)})}async getOrgProjects(e){if(e)return this.createFetchOrgProjectsPromise();const t=await this.getCachedFromGlobalState("orgProjects");return t!=null?t:this.createFetchOrgProjectsPromise()}async getAllProjects(e,t){const i=!!(await e.getMetadata()).organization,[r,a]=await Promise.all([e.getProjects(),i?this.getOrgProjects(t):void 0]);return[...r!=null?r:[],...a?a[e.remote.remoteName]:[]]}async getOrgTeamsCount(e){return(await e.getMetadata()).organization?e.getOrgTeamsCount():0}async getPullRequestParticipants(e,t){return{participants:await e.getPullRequestParticipants(t),viewer:await this.getCurrentUser(e)}}async getGitHubRemotes(){const e=this._githubRepositories;if(!e||!e.length)return[];const t=e.map(a=>a.remote).flat(),i=await Promise.all(t.map(a=>this._githubManager.isGitHub(a.gitProtocol.normalizeUri()))).catch(a=>(y.error(`Resolving GitHub remotes failed: ${a}`,this.id),s.window.showErrorMessage(s.l10n.t("Resolving GitHub remotes failed: {0}",we(a))),[])),r=t.map((a,o)=>ps.remoteAsGitHub(a,i[o]));return this.checkForAuthMatch(r)?r:[]}async getAllGitHubRemotes(){return await this.computeAllGitHubRemotes()}async getLocalPullRequests(){const e=this._githubRepositories;if(!e||!e.length||!this.repository.getRefs)return[];const t=(await this.repository.getRefs({pattern:"refs/heads/"})).filter(o=>o.name!==void 0).map(o=>o.name),i=[],r=100;for(let o=0;o<t.length;o+=r){const v=t.slice(o,o+r);i.push(v)}const a=[];for(const o of i)a.push(...await Promise.all(o.map(async v=>{const T=await wr.getMatchingPullRequestMetadataForBranch(this.repository,v);if(T){const{owner:x,prNumber:W}=T,te=e.find(oe=>oe.remote.owner.toLocaleLowerCase()===x.toLocaleLowerCase());if(te){const oe=await te.getPullRequest(W);if(oe)return oe.localBranchName=v,oe}}})));return a.filter(o=>o!==void 0)}async getLabels(e,t){const i=e?e.githubRepository:this._githubRepositories.find(x=>x.remote.owner===(t==null?void 0:t.owner)&&x.remote.repositoryName===(t==null?void 0:t.repo));if(!i)throw new Error("No matching repository found for getting labels.");const{remote:r,octokit:a}=await i.ensure();let o=!1,v=1,T=[];do{const x=await a.call(a.api.issues.listLabelsForRepo,{owner:r.owner,repo:r.repositoryName,per_page:100,page:v});T=T.concat(x.data.map(W=>{var te;return{name:W.name,color:W.color,description:(te=W.description)!=null?te:void 0}})),T=T.sort((W,te)=>W.name.localeCompare(te.name)),o=!!x.headers.link&&x.headers.link.indexOf('rel="next"')>-1,v+=1}while(o);return T}async deleteLocalPullRequest(e,t){if(!e.localBranchName)return;await this.repository.deleteBranch(e.localBranchName,t);let i;try{i=await this.repository.getConfig(`branch.${e.localBranchName}.remote`)}catch{}if(!i)return;await wr.isRemoteCreatedForPullRequest(this.repository,i)&&((await this.repository.getConfigs()).some(({key:v,value:T})=>/^branch.*\.remote$/.test(v)&&T===i)||await this.repository.removeRemote(i)),this.telemetry.sendTelemetryEvent("branch.delete")}async fetchPagedData(e={fetchNextPage:!1},t,i=0,r=ji.All,a){const o=i===0?this._githubRepositories.filter(fe=>this.repository.state.remotes.find(ye=>ye.name===fe.remote.remoteName)):this._githubRepositories;if(!o.length)return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1,totalCount:0};const v=()=>this.totalFetchedPages.get(t)||0,T=fe=>this.totalFetchedPages.set(t,fe);for(const fe of o){const ye=fe.remote.url.toString()+t;this._repositoryPageInformation.get(ye)||this._repositoryPageInformation.set(ye,{pullRequestPage:0,hasMorePages:null})}let x=0;const W={hasMorePages:!1,items:[],totalCount:0},te=fe=>{x++,fe&&(W.items=W.items.concat(fe.items),W.hasMorePages=fe.hasMorePages,W.totalCount=fe.totalCount)},oe=this._githubRepositories.filter(fe=>{const ye=this._repositoryPageInformation.get(fe.remote.url.toString()+t);return ye&&(e.fetchNextPage===!1||ye.hasMorePages!==!1)});for(let fe=0;fe<oe.length;fe++){const ye=oe[fe],Pe=ye.remote.url.toString()+t;let Ce=this._repositoryPageInformation.get(Pe);Ce||(y.warn(`No page information for ${Pe}`),Ce={pullRequestPage:0,hasMorePages:null},this._repositoryPageInformation.set(Pe,Ce));const De=Ce,Le=async $e=>{const Ze=a?await Po(a,void 0,{base:await ye.getDefaultBranch(),owner:ye.remote.owner,repo:ye.remote.repositoryName}):void 0;switch(i){case 0:return r===ji.All?ye.getAllPullRequests($e):this.getPullRequestsForCategory(ye,Ze||"",$e);case 1:return ye.getIssues(De.pullRequestPage,Ze)}};if(e.fetchNextPage?(De.pullRequestPage++,te(await Le(De.pullRequestPage)),T(v()+1)):(De.pullRequestPage===0&&(De.pullRequestPage=1),(await Promise.all(Array.from({length:De.pullRequestPage}).map((Ze,rt)=>Le(rt+1)))).forEach(Ze=>te(Ze))),De.hasMorePages=W.hasMorePages,W.items.length&&(e.fetchNextPage||e.fetchNextPage===!1&&!e.fetchOnePagePerRepo&&x>=v()))return v()===0&&T(x),{items:W.items,hasMorePages:De.hasMorePages,hasUnsearchedRepositories:fe<oe.length-1,totalCount:W.totalCount}}return{items:W.items,hasMorePages:!1,hasUnsearchedRepositories:!1,totalCount:W.totalCount}}async getPullRequestsForCategory(e,t,i){let r;try{y.debug(`Fetch pull request category ${t} - enter`,this.id);const{octokit:a,query:o,schema:v}=await e.ensure();this.telemetry.sendTelemetryEvent("pr.search.category");const T=(await e.getAuthenticatedUser()).login;r=await e.getMetadata();const{data:x,headers:W}=await a.call(a.api.search.issuesAndPullRequests,{q:nw(T,t),per_page:dm,advanced_search:"true",page:i||1}),te=x.items.map(async Pe=>{const Ce=new br(Pe.repository_url),De=await this.createGitHubRepositoryFromOwnerName(Ce.owner,Ce.repositoryName),{data:Le}=await o({query:v.PullRequest,variables:{owner:De.remote.owner,name:De.remote.repositoryName,number:Pe.number}});return{data:Le,repo:De}}),oe=!!W.link&&W.link.indexOf('rel="next"')>-1,fe=await Promise.all(te),ye=(await Promise.all(fe.map(async Pe=>Pe!=null&&Pe.data.repository?Pe.repo.createOrUpdatePullRequestModel(await kl(Pe.data.repository.pullRequest,Pe.repo),!0):(y.appendLine("Pull request doesn't appear to exist.",this.id),null)))).filter(Pe=>Pe!==null);return y.debug(`Fetch pull request category ${t} - done`,this.id),{items:ye,hasMorePages:oe,totalCount:x.total_count}}catch(a){if(y.error(`Fetching pull request with query failed: ${a}`,this.id),a.status===404)s.window.showWarningMessage(`Fetching pull requests for remote ${e.remote.remoteName} with query failed, please check if the repo ${r==null?void 0:r.full_name} is valid.`);else throw a}}isPullRequestAssociatedWithOpenRepository(e){const t=e.githubRepository.remote;return!!this.repository.state.remotes.find(r=>r.name===t.remoteName)}async getPullRequests(e,t={fetchNextPage:!1},i){const r=e.toString()+(i||"");return this.fetchPagedData(t,r,0,e,i)}async createMilestone(e,t){try{const{data:i}=await e.octokit.call(e.octokit.api.issues.createMilestone,{owner:e.remote.owner,repo:e.remote.repositoryName,title:t});return{title:i.title,dueOn:i.due_on,createdAt:i.created_at,id:i.node_id,number:i.number}}catch(i){s.window.showErrorMessage(s.l10n.t(`Failed to create a milestone
{0}`,we(i)));return}}async getRepoForIssue(e){const t=new xu(e.repositoryName,e.repositoryUrl,new br(e.repositoryUrl));return this.createGitHubRepository(t,this.credentialStore,!0,!0)}async getIssues(e){if(this.gitHubRepositories.length!==0)try{const t=await this.fetchPagedData({fetchNextPage:!1,fetchOnePagePerRepo:!1},`issuesKey${e}`,1,ji.All,e),i={items:[],hasMorePages:t.hasMorePages,hasUnsearchedRepositories:t.hasUnsearchedRepositories,totalCount:t.totalCount};for(const r of t.items){const a=await this.getRepoForIssue(r);i.items.push(new Gn(this.telemetry,a,a.remote,r))}return i}catch(t){return y.error(`Error fetching issues with query ${e}: ${t instanceof Error?t.message:t}`,this.id),{hasMorePages:!1,hasUnsearchedRepositories:!1,items:[],totalCount:0}}}async getMaxIssue(){const e=await Promise.all(this._githubRepositories.map(i=>i.getMaxIssue()));let t=0;for(const i of e)i!==void 0&&(t=Math.max(t,i));return t}async getIssueTemplates(){const e="{docs,.github}/ISSUE_TEMPLATE/*.md";return s.workspace.findFiles(new s.RelativePattern(this._repository.rootUri,e),null)}async getPullRequestTemplateBody(e){try{const t=await this.getPullRequestTemplateWithCache(e);return t||this.getOwnerPullRequestTemplate(e)}catch(t){y.error(`Error fetching pull request template for ${e}: ${t instanceof Error?t.message:t}`,this.id)}}async getPullRequestTemplateWithCache(e){const t=`${M_}+${this.repository.rootUri.toString()}`,i=this.getPullRequestTemplate(e).then(o=>(o?this.context.workspaceState.update(t,o):this.context.workspaceState.update(t,null),o)),r=this.context.workspaceState.keys().includes(t),a=this.context.workspaceState.get(t);if(r){if(a===null)return;if(a)return a}return i}async getOwnerPullRequestTemplate(e){const t=await this.createGitHubRepositoryFromOwnerName(e,".github");if(!t)return;const i=await t.getPullRequestTemplates();if(i&&(i==null?void 0:i.length)>0)return i[0]}async getPullRequestTemplate(e){const t=this.gitHubRepositories.find(r=>r.remote.owner===e);if(!t)return;const i=await t.getPullRequestTemplates();return i?i[0]:void 0}async getPullRequestDefaults(e){var t,i;if(!e&&!this.repository.state.HEAD)throw new C_(this.repository);const r=await this.getOrigin(e),a=await r.getMetadata(),o=(t=s.workspace.getConfiguration(tt).inspect(Ri))==null?void 0:t.defaultValue,v=s.workspace.getConfiguration(tt).get(Ri),T=!v||(o==null?void 0:o.every((W,te)=>v[te]===W)),x=a.fork&&a.parent&&T?a.parent:await(this.findRepo(xo("upstream"))||r).getMetadata();return{owner:x.owner.login,repo:x.name,base:(i=Om())!=null?i:x.default_branch}}async getPullRequestDefaultRepo(){const e=await this.getPullRequestDefaults();return this.findRepo(t=>t.remote.owner===e.owner&&t.remote.repositoryName===e.repo)||this._githubRepositories[0]}async getMetadata(e){const t=this.findRepo(xo(e));return t&&t.getMetadata()}async getHeadCommitMessage(){const{repository:e}=this;if(e.state.HEAD&&e.state.HEAD.commit){const{message:t}=await e.getCommit(e.state.HEAD.commit);return t}return""}async getTipCommitMessage(e){y.debug(`Git tip message for branch ${e} - enter`,this.id);const{repository:t}=this;let{commit:i}=await t.getBranch(e),r="",a=0;do{if(i){let o=await t.getCommit(i);if(o.parents.length<=1){r=o.message;break}else i=o.parents[0]}a++}while(r===""&&i&&a<5);return y.debug(`Git tip message for branch ${e} - done`,this.id),r}async getOrigin(e){if(!this._githubRepositories.length)throw new kp(this.repository);const t=e?e.upstream:this.upstreamRef;if(t){const a=this.findRepo(xo(t.remote));if(!a){const o=(await this.getAllGitHubRemotes()).find(v=>v.remoteName===t.remote);if(o)return this.createAndAddGitHubRepository(o,this._credentialStore);throw y.error(`The remote '${t.remote}' is not a GitHub repository.`,this.id),new P_(this.repository.state.HEAD.name,t,"is not a GitHub repo")}return a}const[i,...r]=this._githubRepositories;return r.length&&(this.findRepo(xo("origin"))||this.findRepo(I_))||i}findRepo(e){return this._githubRepositories.filter(e)[0]}get upstreamRef(){const{HEAD:e}=this.repository.state;return e&&e.upstream}async createPullRequest(e){var t;const i=this._githubRepositories.find(a=>a.remote.owner===e.owner&&a.remote.repositoryName===e.repo);if(!i)throw new Error(`No matching repository ${e.repo} found for ${e.owner}`);let r;try{r=await i.createPullRequest(e);const a=e.head.indexOf(":"),o=e.head.slice(a+1);return await wr.associateBranchWithPullRequest(this._repository,r,o),this.telemetry.sendTelemetryEvent("pr.create.success",{isDraft:(e.draft||"").toString()}),r}catch(a){if(a.message.indexOf("No commits between ")>-1){if((t=this._repository.state.HEAD)!=null&&t.ahead){const o=s.l10n.t({message:"Push Commits",comment:"Pushes the local commits to the remote."});return await s.window.showInformationMessage(s.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to push your local commits and create the pull request?`,e.base,e.head),{modal:!0},o)===o?(await this._repository.push(),this.createPullRequest(e)):void 0}if(this._repository.state.workingTreeChanges.length||this._repository.state.indexChanges.length){const o=s.l10n.t("Commit Changes");return await s.window.showInformationMessage(s.l10n.t(`There are no commits between '{0}' and '{1}'.

Do you want to commit your changes and create the pull request?`,e.base,e.head),{modal:!0},o)===o?(await this._repository.add(this._repository.state.indexChanges.map(T=>T.uri.fsPath)),await this.repository.commit(`${e.title}${e.body?`
${e.body}`:""}`),await this._repository.push(),this.createPullRequest(e)):void 0}}if(y.error(`Creating pull requests failed: ${a}`,this.id),this.telemetry.sendTelemetryErrorEvent("pr.create.failure",{isDraft:(e.draft||"").toString()}),r)return r;throw new Error(we(a))}}async createIssue(e){try{const t=this._githubRepositories.find(o=>o.remote.owner===e.owner&&o.remote.repositoryName===e.repo);if(!t)throw new Error(`No matching repository ${e.repo} found for ${e.owner}`);await t.ensure();const{data:i}=await t.octokit.call(t.octokit.api.issues.create,e),r=km(i,t),a=new Gn(this.telemetry,t,t.remote,r);return this.telemetry.sendTelemetryEvent("issue.create.success"),a}catch(t){y.error(` Creating issue failed: ${t}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.create.failure"),s.window.showWarningMessage(s.l10n.t("Creating issue failed: {0}",we(t)))}}async assignIssue(e,t){try{const i=this._githubRepositories.find(a=>a.remote.owner===e.remote.owner&&a.remote.repositoryName===e.remote.repositoryName);if(!i)throw new Error(`No matching repository ${e.remote.repositoryName} found for ${e.remote.owner}`);await i.ensure();const r={assignees:[t],owner:e.remote.owner,repo:e.remote.repositoryName,issue_number:e.number};await i.octokit.call(i.octokit.api.issues.addAssignees,r),this.telemetry.sendTelemetryEvent("issue.assign.success")}catch(i){y.error(`Assigning issue failed: ${i}`,this.id),this.telemetry.sendTelemetryErrorEvent("issue.assign.failure"),s.window.showWarningMessage(s.l10n.t("Assigning issue failed: {0}",we(i)))}}getCurrentUser(e){return e||(e=this.gitHubRepositories[0]),this._credentialStore.getCurrentUser(e.remote.authProviderId)}async mergePullRequest(e,t,i,r,a){var o,v,T;y.debug(`Merging PR: ${e.number} method: ${r} for user: "${a}" - enter`,this.id);const{mutate:x,schema:W}=await e.githubRepository.ensure(),te=this.activePullRequest&&this.activePullRequest.head&&this.activePullRequest.head.sha,oe=this.repository.state.HEAD&&this.repository.state.HEAD.commit,fe=e.head&&e.head.sha,ye=this.repository.state.workingTreeChanges.length>0;let Pe=(o=e.head)==null?void 0:o.sha;if(te===fe){if(Pe=oe,oe!==fe){const{ahead:De}=this.repository.state.HEAD,Le=s.l10n.t(`You have {0} unpushed commits on this pull request branch.

Would you like to proceed anyway?`,De!=null?De:"unknown"),$e=s.l10n.t(`You have 1 unpushed commit on this pull request branch.

Would you like to proceed anyway?`);if(De&&await s.window.showWarningMessage(De>1?Le:$e,{modal:!0},s.l10n.t("Yes"))===void 0)return{merged:!1,message:s.l10n.t("unpushed changes")}}if(ye&&await s.window.showWarningMessage(s.l10n.t(`You have uncommitted changes on this pull request branch.

 Would you like to proceed anyway?`),{modal:!0},s.l10n.t("Yes"))===void 0)return{merged:!1,message:s.l10n.t("uncommitted changes")}}const Ce={pullRequestId:e.graphNodeId,commitHeadline:t,commitBody:i,expectedHeadOid:Pe,authorEmail:a,mergeMethod:(T=r==null?void 0:r.toUpperCase())!=null?T:(v=s.workspace.getConfiguration(tt).get(oi,"merge"))==null?void 0:v.toUpperCase()};return x({mutation:W.MergePullRequest,variables:{input:Ce}}).then(async De=>{var Le,$e;return y.debug(`Merging PR: ${e.number}} - done`,this.id),this.telemetry.sendTelemetryEvent("pr.merge.success"),this._onDidMergePullRequest.fire(),{merged:!0,message:"",timeline:await wd(($e=(Le=De.data)==null?void 0:Le.mergePullRequest.pullRequest.timelineItems.nodes)!=null?$e:[],await e.getCopilotTimelineEvents(e),e.githubRepository)}}).catch(De=>{this.telemetry.sendTelemetryErrorEvent("pr.merge.failure");const Le=De.graphQLErrors;if(Le!=null&&Le.length&&Le.find($e=>{var Ze;return $e.type===hm.Unprocessable&&((Ze=$e.message)==null?void 0:Ze.includes("Head branch was modified"))}))return{merged:!1,message:s.l10n.t("Head branch was modified. Pull, review, then try again.")};throw De})}async deleteBranch(e){await e.githubRepository.deleteBranch(e)}async getBranchDeletionItems(){const e=await this.repository.getConfigs(),t=new Map;e.forEach(a=>{const o=a.key,v=/^branch\.(.*)\.(.*)$/.exec(o);if(v&&v.length===3){const T=v[1];t.has(T)||t.set(T,{});const x=t.get(T);if(v[2]==="remote"&&(x.remote=a.value),v[2]==="github-pr-owner-number"){const W=wr.parsePullRequestMetadata(a.value);x!=null&&x.metadata||(x.metadata=[]),W&&(x.metadata.find(oe=>oe.owner===W.owner&&oe.repositoryName===W.repositoryName&&oe.prNumber===W.prNumber)||x.metadata.push(W))}t.set(T,x)}}),y.debug(`Found ${t.size} possible branches to delete`,this.id),y.trace(`Branches to delete: ${JSON.stringify(Array.from(t.keys()))}`,this.id);const i=[];t.forEach((a,o)=>{var v;if(a.metadata){const T=this.activePullRequest&&this.activePullRequest.base.repositoryCloneUrl,x=a.metadata.find(W=>{var te;return W.owner===(T==null?void 0:T.owner)&&W.repositoryName===(T==null?void 0:T.repositoryName)&&W.prNumber===((te=this.activePullRequest)==null?void 0:te.number)});x?(y.debug(`Skipping ${x.prNumber}, active PR is #${(v=this.activePullRequest)==null?void 0:v.number}`,this.id),y.trace(`Skipping active branch ${o}`,this.id)):i.push({label:`${o}`,picked:!1,metadata:a.metadata})}});const r=await Promise.all(i.map(async a=>((await Promise.all(a.metadata.map(async v=>{var T,x;const W=this._githubRepositories.find(ye=>ye.remote.owner.toLowerCase()===v.owner.toLowerCase()&&ye.remote.repositoryName.toLowerCase()===v.repositoryName.toLowerCase());if(!W)return a;const{remote:te,query:oe,schema:fe}=await W.ensure();try{const{data:ye}=await oe({query:fe.PullRequestState,variables:{owner:te.owner,name:te.repositoryName,number:v.prNumber}});return v.isOpen=((T=ye.repository)==null?void 0:T.pullRequest.state)==="OPEN",((x=ye.repository)==null?void 0:x.pullRequest.state)!=="OPEN"}catch{}return!1}))).every(v=>v)&&(a.legacy=!0),a)));return r.forEach(a=>{a.metadata.length!==0&&(a.description=`${a.metadata[0].repositoryName}/${a.metadata[0].owner} ${a.metadata.map(o=>{const v=`#${o.prNumber}`;return o.isOpen?s.l10n.t("{0} is open",v):v}).join(", ")}`,a.legacy&&(a.picked=!0))}),r}gitRelativeRootPath(e){return z.relative(this._repository.rootUri.path,e).replace(/\\/g,"/")}async cleanupAfterPullRequest(e,t){var i;const r=await this.getPullRequestDefaults();if(e===r.base){y.debug("Not cleaning up default branch.",this.id);return}if(t.author.login===(await this.getCurrentUser()).login){y.debug("Not cleaning up user's branch.",this.id);return}const o=(i=(await this.repository.getBranch(e)).upstream)==null?void 0:i.remote;try{y.debug(`Cleaning up branch ${e}`,this.id),await this.repository.deleteBranch(e)}catch{return}if(!o)return;const v=await this.getDeleatableRemotes(void 0);v.has(o)&&v.get(o).createdForPullRequest&&(y.debug(`Cleaning up remote ${o}`,this.id),this.repository.removeRemote(o))}async getDeleatableRemotes(e){const t=await this.repository.getConfigs(),i=new Map;return t.forEach(r=>{const a=r.key;let o=/^branch\.(.*)\.(.*)$/.exec(a);if(o&&o.length===3){const v=o[1];if(o[2]==="remote"){const T=r.value;i.has(T)||i.set(T,{branches:new Set}),e!=null&&e.has(v)||i.get(T).branches.add(v)}}if(o=/^remote\.(.*)\.(.*)$/.exec(a),o&&o.length===3){const v=o[1];i.has(v)||i.set(v,{branches:new Set});const T=i.get(v);o[2]==="github-pr-remote"&&(T.createdForPullRequest=r.value==="true"),o[2]==="url"&&(T.url=r.value)}}),i}async getRemoteDeletionItems(e){const t=await this.getDeleatableRemotes(e),i=[];return t.forEach((r,a)=>{if(r.branches.size===0){let o=r.createdForPullRequest?"":s.l10n.t("Not created by GitHub Pull Request extension");r.url&&(o=o?`${o} ${r.url}`:r.url),i.push({label:a,description:o,picked:r.createdForPullRequest,remote:a})}}),i}async deleteBranches(e,t,i,r,a,o){const v=()=>{a++,i.report({message:s.l10n.t("Deleted {0} of {1} branches",a,r)})},T=async x=>{await wr.associateBaseBranchWithBranch(this.repository,x,void 0),await wr.associateBranchWithPullRequest(this.repository,void 0,x)};for(const x of e)await T(x.label);await Oe(e,5,async x=>{try{await this.repository.deleteBranch(x.label,!0),await wr.getMatchingPullRequestMetadataForBranch(this.repository,x.label)&&console.log(`Branch ${x.label} was not deleted`),v()}catch(W){if(typeof W.stderr=="string"&&W.stderr.includes("not found"))t.add(x.label),v();else if(typeof W.stderr=="string"&&W.stderr.includes("unable to access")&&o)o.push(x);else throw W}}),o&&o.length&&await this.deleteBranches(o,t,i,r,a)}async deleteLocalBranchesNRemotes(){return new Promise(async e=>{const t=s.window.createQuickPick();t.canSelectMany=!0,t.ignoreFocusOut=!0,t.placeholder=s.l10n.t("Choose local branches you want to delete permanently"),t.show(),t.busy=!0;const i=await this.getBranchDeletionItems(),r=await this.getPullRequestDefaults();t.items=i,t.selectedItems=i.filter(o=>o.picked&&!(o.label===r.base&&o.metadata.find(v=>v.owner===r.owner&&v.repositoryName===r.repo))),t.busy=!1,i.length===0&&(t.canSelectMany=!1,t.items=[{label:s.l10n.t("No local branches to delete"),picked:!1}]);let a=!0;t.onDidAccept(async()=>{if(t.busy=!0,a){const o=t.selectedItems,v=new Set;o.length&&await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Cleaning up")},async x=>{try{await this.deleteBranches(o,v,x,o.length,0,[])}catch(W){t.hide(),s.window.showErrorMessage(s.l10n.t("Deleting branches failed: {0} {1}",W.message,W.stderr))}}),a=!1;const T=await this.getRemoteDeletionItems(v);T&&T.length?(t.canSelectMany=!0,t.placeholder=s.l10n.t("Choose remotes you want to delete permanently"),t.items=T,t.selectedItems=T.filter(x=>x.picked)):t.hide()}else{const o=t.selectedItems;o.length&&await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Deleting {0} remotes...",o.length)},async()=>{await Oe(o,5,async v=>{await this.repository.removeRemote(v.label)})}),t.hide()}t.busy=!1}),t.onDidHide(()=>{e()})})}async revert(e,t,i,r){const a=this._githubRepositories.find(v=>v.remote.owner===e.remote.owner&&v.remote.repositoryName===e.remote.repositoryName);if(!a)throw new Error(`No matching repository ${e.remote.repositoryName} found for ${e.remote.owner}`);return await a.revertPullRequest(e.graphNodeId,t,i,r)}async getPullRequestRepositoryDefaultBranch(e){return await e.githubRepository.getDefaultBranch()}async getPullRequestRepositoryAccessAndMergeMethods(e){return await e.githubRepository.getRepoAccessAndMergeMethods()}async mergeQueueMethodForBranch(e,t,i){var r;return await((r=this.gitHubRepositories.find(a=>a.remote.owner===t&&a.remote.repositoryName===i))==null?void 0:r.mergeQueueMethodForBranch(e))}async fulfillPullRequestMissingInfo(e){try{if(!e.isResolved())return;y.debug("Fulfill pull request missing info - start",this.id);const t=e.githubRepository,{octokit:i,remote:r}=await t.ensure();if(!e.base){const{data:a}=await i.call(i.api.pulls.get,{owner:r.owner,repo:r.repositoryName,pull_number:e.number});e.update(Cu(a,t))}if(!e.mergeBase){const{data:a}=await i.call(i.api.repos.compareCommits,{repo:r.repositoryName,owner:r.owner,base:`${e.base.repositoryCloneUrl.owner}:${e.base.ref}`,head:`${e.head.repositoryCloneUrl.owner}:${e.head.ref}`});e.mergeBase=a.merge_base_commit.sha}}catch(t){s.window.showErrorMessage(s.l10n.t("Fetching Pull Request merge base failed: {0}",we(t)))}y.debug("Fulfill pull request missing info - done",this.id)}async resolveItem(e,t){let i=this._githubRepositories.find(r=>r.remote.owner.toLowerCase()===e.toLowerCase()&&r.remote.repositoryName.toLowerCase()===t.toLowerCase());return i||(y.appendLine(`GitHubRepository not found: ${e}/${t}`,this.id),i=await this.createGitHubRepositoryFromOwnerName(e,t)),i}async resolveIssueOrPullRequest(e,t,i){let r=await this.resolveIssue(e,t,i,!0);return r||(r=await this.resolvePullRequest(e,t,i)),r}async resolvePullRequest(e,t,i,r=!1){const a=await this.resolveItem(e,t);if(y.appendLine(`Found GitHub repo for pr #${i}: ${a?"yes":"no"}`,this.id),a){const o=await a.getPullRequest(i,r);return y.appendLine(`Found GitHub pr repo for pr #${i}: ${o?"yes":"no"}`,this.id),o}}async resolveIssue(e,t,i,r=!1){const a=await this.resolveItem(e,t);if(a)return a.getIssue(i,r)}async resolveUser(e,t,i){return y.debug(`Fetch user ${i}`,this.id),(await this.createGitHubRepositoryFromOwnerName(e,t)).resolveUser(i)}async getMatchingPullRequestMetadataForBranch(){return!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name?null:await wr.getMatchingPullRequestMetadataForBranch(this.repository,this.repository.state.HEAD.name)}async getMatchingPullRequestMetadataFromGitHub(e,t,i,r){try{return t?this.getMatchingPullRequestMetadataFromGitHubWithRemoteName(t,r):this.getMatchingPullRequestMetadataFromGitHubWithUrl(e,i,r)}catch(a){return y.error(`Unable to get matching pull request metadata from GitHub: ${a}`,this.id),null}}async getMatchingPullRequestMetadataFromGitHubWithUrl(e,t,i){var r,a;if(y.debug(`Searching GitHub for a PR with branch ${i} and remote ${t}`,this.id),!t)return null;const o=new br(t);let v=this.findRepo(x=>pe(x.remote.owner,o.owner)===0&&pe(x.remote.repositoryName,o.repositoryName)===0);if(!v&&this.gitHubRepositories.length>0){const x=El(o.repositoryName,t,o);x&&(v=await this.createGitHubRepository(x,this.credentialStore,!0,!0))}const T=await this.doGetMatchingPullRequestMetadataFromGitHub(v,i);if(T&&e.upstream===void 0&&v&&e.name){const x=await wr.createRemote(this.repository,v==null?void 0:v.remote,o),W=`refs/remotes/${x}/${(r=T.model.head)==null?void 0:r.name}`;await this.repository.fetch({remote:x,ref:(a=T.model.head)==null?void 0:a.name}),await this.repository.setBranchUpstream(e.name,W)}return T}async getMatchingPullRequestMetadataFromGitHubWithRemoteName(e,t){var i;if(y.debug(`Searching GitHub for a PR with branch ${t} and remote ${e}`,this.id),!e)return null;let r=this.gitHubRepositories.find(a=>a.remote.remoteName===e);if(!r&&this.gitHubRepositories.length>0){const a=this.repository.state.remotes.find(x=>x.name===e),o=(i=a==null?void 0:a.fetchUrl)!=null?i:a==null?void 0:a.pushUrl;if(!o)return null;const v=new br(o!=null?o:""),T=El(e,o,v);T&&(r=await this.createGitHubRepository(T,this.credentialStore,!0,!0))}return this.doGetMatchingPullRequestMetadataFromGitHub(r,t)}async doGetMatchingPullRequestMetadataFromGitHub(e,t){if(!e||!t)return null;const i=await(e==null?void 0:e.getMetadata());if(!(i!=null&&i.owner))return null;const r=this.gitHubRepositories.filter(a=>{var o,v,T;return i.fork?a.remote.owner===((v=(o=i.parent)==null?void 0:o.owner)==null?void 0:v.login)&&a.remote.repositoryName===i.parent.name:a.remote.owner===((T=i.owner)==null?void 0:T.login)&&a.remote.repositoryName===i.name});for(const a of r){const o=await a.getPullRequestForBranch(t,i.owner.login);if(o)return{owner:a.remote.owner,repositoryName:a.remote.repositoryName,prNumber:o.number,model:o}}return null}async checkoutExistingPullRequestBranch(e,t){return await wr.checkoutExistingPullRequestBranch(this.repository,e,t)}async getBranchNameForPullRequest(e){return await wr.getBranchNRemoteForPullRequest(this.repository,e)}async fetchAndCheckout(e,t){await wr.fetchAndCheckout(this.repository,this._allGitHubRemotes,e,t)}async checkout(e){return this.repository.checkout(e)}async tryMergeBaseIntoHead(e,t){var i;if(await this.isHeadUpToDateWithBase(e))return!0;const r=s.env.appHost==="vscode.dev"||s.env.appHost==="github.dev";if(!e.isActive||r){const v=await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Finding conflicts...")},()=>T_(e));if(v===void 0)return await s.window.showErrorMessage(s.l10n.t("Unable to resolved conflicts for this pull request. There are too many file changes."),{modal:!0,detail:r?void 0:s.l10n.t("Please check out the pull request to resolve conflicts.")}),!1;let T=!0;if(e.item.mergeable===dn.Conflict){const x=await Promise.all([this.createGitHubRepositoryFromOwnerName(e.head.owner,e.head.repositoryCloneUrl.repositoryName),this.createGitHubRepositoryFromOwnerName(e.base.owner,e.base.repositoryCloneUrl.repositoryName)]),W=new __(this.telemetry,v,x);T=await W.enterConflictResolutionAndWaitForExit(),W.dispose()}return T?e.updateBranch(v):!1}if(this.repository.state.workingTreeChanges.length>0||this.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),!1;const a=(i=mw(this.repository,e.base))==null?void 0:i.name;if(!a)return!1;const o=`${a}/${e.base.ref}`;if(await s.window.withProgress({location:s.ProgressLocation.Notification},async v=>{v.report({message:s.l10n.t("Fetching branch {0}",o)}),await this.repository.fetch({ref:e.base.ref,remote:a}),v.report({message:s.l10n.t("Merging branch {0} into {1}",o,this.repository.state.HEAD.name)});try{await this.repository.merge(o)}catch(T){if(T.gitErrorCode!==vt.Conflict)throw T}}),e.item.mergeable===dn.Conflict){const v=await Gd.begin(this.repository,e.base.ref,this.repository.state.HEAD.name,t);await(v==null?void 0:v.finished()),v==null||v.dispose()}else await this.repository.push();return!0}async isHeadUpToDateWithBase(e){if(!e.head)return!1;const t=this._githubRepositories.find(o=>o.remote.owner===e.remote.owner&&o.remote.repositoryName===e.remote.repositoryName),i=`${e.head.owner}:${e.head.ref}`,r=`${e.base.owner}:${e.base.ref}`,a=await(t==null?void 0:t.compareCommits(r,i));return(a==null?void 0:a.behind_by)===0}async fetchById(e,t){const i=await e.getPullRequest(t);if(i)return i;s.window.showErrorMessage(s.l10n.t("Pull request number {0} does not exist in {1}",t,`${e.remote.owner}/${e.remote.repositoryName}`),{modal:!0})}async checkoutDefaultBranch(e){var t,i,r,a,o;let v;try{if(v=await this.repository.getBranch(e),((t=this.repository.state.HEAD)==null?void 0:t.name)===v.name){const W=s.l10n.t("Choose a Branch");s.window.showInformationMessage(s.l10n.t("The default branch is already checked out."),W).then(te=>{if(te===W)return Wu.checkout()});return}if(s.workspace.getConfiguration(vr).get(to,!1)&&v.upstream)try{await this.repository.fetch({remote:v.upstream.remote,ref:`${v.upstream.name}:${v.name}`})}catch(W){if((i=W.stderr)!=null&&i.startsWith&&W.stderr.startsWith("fatal: refusing to fetch into branch"))s.window.showErrorMessage(s.l10n.t("Unable to fetch the {0} branch. There is some state (bisect, unpushed commits, etc.) on {0} that is preventing the fetch.",[v.name]));else throw W}v.upstream&&e===v.upstream.name?await this.repository.checkout(e):await Wu.checkout();const x=[];for(const W of s.window.tabGroups.all)for(const te of W.tabs){let oe;te.input instanceof s.TabInputText?oe=te.input.uri:te.input instanceof s.TabInputTextDiff?oe=te.input.original:te.input instanceof s.TabInputWebview&&(oe=te.input.viewType),(oe instanceof s.Uri&&oe.scheme===qt.Review||typeof oe=="string"&&oe.endsWith(ld))&&x.push(s.window.tabGroups.close(te))}await Promise.all(x)}catch(T){if(T.gitErrorCode&&T.gitErrorCode===vt.DirtyWorkTree){s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches"));return}y.error(`Exiting failed: ${T}. Target branch ${e} used to find branch ${(r=v==null?void 0:v.name)!=null?r:"unknown"} with upstream ${(o=(a=v==null?void 0:v.upstream)==null?void 0:a.name)!=null?o:"unknown"}.`,this.id),s.window.showErrorMessage(`Exiting failed: ${T}`)}}async pullBranchConfiguration(){return this.context.globalState.get($d,!1)&&(this.context.globalState.update($d,!1),await s.workspace.getConfiguration(tt).update(ni,"never",s.ConfigurationTarget.Global)),s.workspace.getConfiguration(tt).get(ni,"prompt")}async pullBranch(e){var t;((t=this._repository.state.HEAD)==null?void 0:t.name)===e.name&&await this._repository.pull()}async promptPullBrach(e,t,i){if(!this._updateMessageShown||i){if(await e.copilotWorkingStatus(e)===Ma.InProgress)return;this._updateMessageShown=!0;const a=s.l10n.t("Pull"),o=s.l10n.t("Always Pull"),v=s.l10n.t("Never Show Again"),T=[a];i||T.push(o,v),await s.window.showInformationMessage(s.l10n.t("There are updates available for pull request {0}.",`${e.number}: ${e.title}`),{},...T)===a?(await this.pullBranch(t),this._updateMessageShown=!1):v?await s.workspace.getConfiguration(tt).update(ni,"never",s.ConfigurationTarget.Global):o&&(await s.workspace.getConfiguration(tt).update(ni,"always",s.ConfigurationTarget.Global),await this.pullBranch(t))}}async checkBranchUpToDate(e,t){var i,r;if(((i=this.activePullRequest)==null?void 0:i.id)!==e.id)return;const a=this._repository.state.HEAD;if(a){const o=a.upstream?a.upstream.remote:null,v=a.upstream?a.upstream.name:a.name;if(o){try{t&&s.workspace.getConfiguration(tt).get(Ha,!0)&&await this._repository.fetch(o,v)}catch(x){x.stderr&&(x.stderr.startsWith("fatal: couldn't find remote ref")||x.stderr.includes("key_exchange_identification")||s.window.showErrorMessage(s.l10n.t("An error occurred when fetching the repository: {0}",x.stderr))),y.error(`Error when fetching: ${(r=x.stderr)!=null?r:x}`,this.id)}const T=await this.pullBranchConfiguration();if(a.behind!==void 0&&a.behind>0)switch(T){case"always":{const x=s.workspace.getConfiguration(vr).get(Es,!1);return x?this.promptPullBrach(e,a,x):this.pullBranch(a)}case"prompt":return this.promptPullBrach(e,a);case"never":return}}}}findExistingGitHubRepository(e){return this._githubRepositories.find(t=>t.remote.owner.toLowerCase()===e.owner.toLowerCase()&&t.remote.repositoryName.toLowerCase()===e.repositoryName.toLowerCase()&&(!e.remoteName||t.remote.remoteName===e.remoteName))}async createAndAddGitHubRepository(e,t,i){const r=this._id+this._githubRepositories.length*.1,a=new Wn(r,ps.remoteAsGitHub(e,await this._githubManager.isGitHub(e.gitProtocol.normalizeUri())),this.repository.rootUri,t,this.telemetry,i);return this._githubRepositories.push(a),a}removeGitHubRepository(e){const t=this._githubRepositories.findIndex(i=>i.remote.owner.toLowerCase()===e.owner.toLowerCase()&&i.remote.repositoryName.toLowerCase()===e.repositoryName.toLowerCase()&&(!e.remoteName||i.remote.remoteName===e.remoteName));t>-1&&this._githubRepositories.splice(t,1)}async createGitHubRepository(e,t,i,r=!1){return this._createGitHubRepositoryBulkhead.execute(async()=>{var a;return(a=this.findExistingGitHubRepository({owner:e.owner,repositoryName:e.repositoryName,remoteName:r?void 0:e.remoteName}))!=null?a:await this.createAndAddGitHubRepository(e,t,i)})}async createGitHubRepositoryFromOwnerName(e,t){var i,r;const a=this.findExistingGitHubRepository({owner:e,repositoryName:t});if(a)return a;const v=Ya(this.repository).find(x=>x.owner===e&&x.repositoryName===t),T=(i=v==null?void 0:v.url)!=null?i:`https://github.com/${e}/${t}`;return this.createAndAddGitHubRepository(new xu((r=v==null?void 0:v.remoteName)!=null?r:t,T,new br(T)),this._credentialStore)}async findUpstreamForItem(e){let t,i;for(const a of this.gitHubRepositories){if(!t&&a.remote.owner===e.remote.owner&&a.remote.repositoryName===e.remote.repositoryName){t=a;continue}const o=await a.getRepositoryForkDetails();if(o&&o.isFork&&o.parent.owner.login===e.remote.owner&&o.parent.name===e.remote.repositoryName){const v=await a.getViewerPermission();if(v===ia.Admin||v===ia.Maintain||v===ia.Write){i=a.remote;break}}}let r=!1;if(t&&!i){const a=await e.githubRepository.getViewerPermission();(a===ia.Read||a===ia.Triage||a===ia.Unknown)&&(r=!0)}return{needsFork:r,upstream:t,remote:i}}async forkWithProgress(e,t,i,r){e.report({message:s.l10n.t("Forking {0}...",i)});const a=await t.fork();if(e.report({increment:50}),!a){s.window.showErrorMessage(s.l10n.t("Unable to create a fork of {0}. Check that your GitHub credentials are correct.",i));return}const o=r.state.remotes.length>1?"origin":r.state.remotes[0].name;e.report({message:s.l10n.t("Adding remotes. This may take a few moments.")});const v=this.gitHubRepositories.length;return await r.renameRemote(o,"upstream"),await r.addRemote(o,a),await new Promise(T=>{var x;if(this.gitHubRepositories.length===v&&((x=s.workspace.getConfiguration(tt).get(Ri))!=null&&x.includes("upstream"))){const W=this.onDidChangeRepositories(()=>{this.gitHubRepositories.length>v&&(W.dispose(),T())})}else T()}),e.report({increment:50}),o}async doFork(e,t,i){return s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Creating Fork")},async r=>{try{return this.forkWithProgress(r,e,t,i)}catch(a){s.window.showErrorMessage(`Creating fork failed: ${a}`)}})}async tryOfferToFork(e){const t=`${e.remote.owner}/${e.remote.repositoryName}`,i=s.l10n.t("Fork"),r=s.l10n.t("Don't Fork");switch(await s.window.showInformationMessage(s.l10n.t("You don't have permission to push to {0}. Do you want to fork {0}? This will modify your git remotes to set `origin` to the fork, and `upstream` to {0}.",t),{modal:!0},i,r)){case i:return this.doFork(e,t,this.repository);case r:return!1;default:return}}async publishBranch(e,t){const i=await this.createGitHubRepository(e,this.credentialStore),r=await i.getViewerPermission();let a;if(r===ia.Read||r===ia.Triage||r===ia.Unknown){const o=await this.tryOfferToFork(i);if(!o)return;a=(await this.getGitHubRemotes()).find(v=>v.remoteName===o)}else a=(await this.getGitHubRemotes()).find(o=>o.remoteName===e.remoteName);if(a)try{return await this._repository.push(a.remoteName,t,!0),await this._repository.status(),a}catch(o){if(o.gitErrorCode===vt.PushRejected){s.window.showWarningMessage(s.l10n.t("Can't push refs to remote, try running 'git pull' first to integrate with your change"),{modal:!0});return}if(o.gitErrorCode===vt.RemoteConnectionError){s.window.showWarningMessage(s.l10n.t("Could not read from remote repository '{0}'. Please make sure you have the correct access rights and the repository exists.",a.remoteName),{modal:!0});return}throw o}}saveLastUsedEmail(e){return this.context.globalState.update(bp,e)}async getPreferredEmail(e){if(await this.credentialStore.getIsEmu(e.remote.authProviderId))return;const i=await e.githubRepository.getAuthenticatedUserEmails(),r=T=>T&&i.find(x=>x.toLowerCase()===T.toLowerCase()),a=await wr.getEmail(this.repository);let o=r(a);if(o)return o;const v=this.context.globalState.get(bp);return o=r(v),o||i[0]}getTitleAndDescriptionProvider(e){return this._git.getTitleAndDescriptionProvider(e)}getAutoReviewer(){return this._git.getReviewerCommentsProvider()}dispose(){this._onDidDispose.fire(),super.dispose()}};Fi(Rp,"ID","FolderRepositoryManager");let Ks=Rp;function GC(n){switch(n){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}const I_=n=>{const{currentUser:e=null}=n.octokit;return e&&n.remote.owner===e.login},xo=n=>({remote:{remoteName:e}})=>e===n,D_=async n=>{const e=await n;if(!e)return;const t=e.indexOf(`
`);return{title:t===-1?e:e.substr(0,t),body:t===-1?"":e.slice(t+1).trim()}};var F_=Object.defineProperty,x_=(n,e,t)=>e in n?F_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ep=(n,e,t)=>x_(n,typeof e!="symbol"?e+"":e,t);class O_{constructor(){Ep(this,"_onDidChangeFile",new s.EventEmitter),Ep(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,t){return{dispose:()=>{}}}stat(e){return{type:s.FileType.File,ctime:0,mtime:new Date().getTime(),size:0}}readDirectory(e){return[]}createDirectory(e){}writeFile(e,t,i){}delete(e,t){}rename(e,t,i){}}class jd extends O_{constructor(e,t){super(),this.gitAPI=e,this.credentialStore=t}async waitForRepos(e){y.appendLine("Waiting for repositories.","RepositoryFileSystemProvider");let t;const i=new Promise(o=>{t=this.gitAPI.onDidOpenRepository(()=>{y.appendLine("Found at least one repository.","RepositoryFileSystemProvider"),t==null||t.dispose(),t=void 0,o()})});let r;const a=new Promise(o=>{r=setTimeout(()=>{y.appendLine("Timed out while waiting for repositories.","RepositoryFileSystemProvider"),o()},e)});await Promise.race([i,a]),r&&clearTimeout(r),t&&t.dispose()}async waitForAuth(){if(!this.credentialStore.isAnyAuthenticated())return new Promise(e=>this.credentialStore.onDidGetSession(()=>e()))}async waitForAnyGitHubRepos(e){if(!e.folderManagers.some(t=>t.gitHubRepositories.length>0))return y.appendLine("Waiting for GitHub repositories.","RepositoryFileSystemProvider"),new Promise(t=>{const i=e.onDidChangeAnyGitHubRepository(()=>{y.appendLine("Found GitHub repositories.","RepositoryFileSystemProvider"),i.dispose(),t()})})}}var L_=Object.defineProperty,U_=(n,e,t)=>e in n?L_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,B_=(n,e,t)=>U_(n,typeof e!="symbol"?e+"":e,t);class q_ extends jd{constructor(e,t,i){super(t,i),this.reposManagers=e,B_(this,"_prFileChangeContentProviders",{})}registerTextDocumentContentProvider(e,t){return this._prFileChangeContentProviders[e]=t,{dispose:()=>{delete this._prFileChangeContentProviders[e]}}}resolveChanges(e,t,i,r){const a=t.equals(i.activePullRequest);return e.map(o=>o instanceof ka?new Ao(i,o,t):new Vs(i,t,o,a,r))}waitForGitHubRepos(e,t){return new Promise(i=>{const r=setTimeout(()=>{a.dispose(),i()},t),a=e.onDidLoadRepositories(o=>{o===tr.RepositoriesLoaded&&(clearTimeout(r),a.dispose(),i())})})}async tryRegisterNewProvider(e,t){await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3);const i=this.reposManagers.getManagerForFile(e);if(!i)return;let r=i.findRepo(x=>x.remote.remoteName===t.remoteName);if(r||(await this.waitForGitHubRepos(i,1e4),r=i.findRepo(x=>x.remote.remoteName===t.remoteName)),!r)return;const a=await i.resolvePullRequest(r.remote.owner,r.remote.repositoryName,t.prNumber);if(!a)return;const o=await a.getFileChangesInfo(),v=a.mergeBase;if(!v)return;const T=this.resolveChanges(o,a,i,v);this.registerTextDocumentContentProvider(a.number,async x=>{const W=Nn(x);if(!W)return"";const te=T.find(oe=>oe.fileName===W.fileName);return te?Kd(i,a,W,te):(y.error(`Cannot find content for document ${x.toString()}`,"PR"),"")})}async readFileWithProvider(e,t){const i=this._prFileChangeContentProviders[t];if(i){const r=await i(e);return typeof r=="string"?new TextEncoder().encode(r):r}}async readFile(e){var t;const i=Nn(e);if(!i||i.prNumber===void 0)return new TextEncoder().encode("");const r=await this.readFileWithProvider(e,i.prNumber);return r||(await this.tryRegisterNewProvider(e,i),(t=await this.readFileWithProvider(e,i.prNumber))!=null?t:new TextEncoder().encode(""))}}let zd;function Wd(n){return!zd&&n&&(zd=new q_(n.reposManager,n.gitAPI,n.credentialStore)),zd}async function Kd(n,e,t,i){if(t.isBase&&i.status===$t.ADD||!t.isBase&&i.status===$t.DELETE)return"";const r=await i.diffHunks();let a=!1;if(i instanceof Vs&&(a=await i.isPartial()),i instanceof Ao||i instanceof Vs&&a)try{return t.isBase?e.githubRepository.getFile(i.previousFileName||i.fileName,t.baseCommit):e.githubRepository.getFile(i.fileName,t.headCommit)}catch(o){return y.error(`Fetching file content failed: ${o}`,"PR"),s.window.showWarningMessage("Opening this file locally failed. Would you like to view it on GitHub?","Open on GitHub").then(v=>{v==="Open on GitHub"&&i.blobUrl&&s.commands.executeCommand("vscode.open",s.Uri.parse(i.blobUrl))}),""}if(i instanceof Vs)if(i.status===$t.ADD||i.status===$t.DELETE)if(t.isBase){const v=[];for(let T=0;T<r.length;T++)for(let x=0;x<r[T].diffLines.length;x++){const W=r[T].diffLines[x];W.type===Wi.Add||(W.type===Wi.Delete?v.push(W.text):W.type===Wi.Control||v.push(W.text))}return v.join(`
`)}else{const v=[];for(let T=0;T<r.length;T++)for(let x=0;x<r[T].diffLines.length;x++){const W=r[T].diffLines[x];W.type===Wi.Add?v.push(W.text):W.type===Wi.Delete||W.type===Wi.Control||v.push(W.text)}return v.join(`
`)}else{const v=i.status===$t.RENAME?i.previousFileName:i.fileName,T=s.Uri.joinPath(n.repository.rootUri,v),x=await n.repository.show(t.baseCommit,T.fsPath);return t.isBase?x:nl(x,i.patch)}return""}var $_=Object.defineProperty,H_=(n,e,t)=>e in n?$_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Np=(n,e,t)=>H_(n,typeof e!="symbol"?e+"":e,t);class G_{constructor(){Np(this,"_progress",Promise.resolve()),Np(this,"_endProgress",new s.EventEmitter)}get progress(){return this._progress}startProgress(){this.endProgress(),this._progress=new Promise(e=>{const t=this._endProgress.event(()=>{t.dispose(),e()})})}endProgress(){this._endProgress.fire()}}var V_=Object.defineProperty,j_=(n,e,t)=>e in n?V_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Qu=(n,e,t)=>j_(n,typeof e!="symbol"?e+"":e,t);class z_{constructor(){Qu(this,"_localFileChanges"),Qu(this,"_onDidChangeLocalFileChanges",new s.EventEmitter),Qu(this,"onDidChangeLocalFileChanges",this._onDidChangeLocalFileChanges.event),Qu(this,"_obsoleteFileChanges",[])}get hasLocalFileChanges(){return!!this._localFileChanges}get localFileChanges(){var e;return(e=this._localFileChanges)!=null?e:[]}set localFileChanges(e){this._localFileChanges=e,this._onDidChangeLocalFileChanges.fire()}get obsoleteFileChanges(){return this._obsoleteFileChanges}set obsoleteFileChanges(e){this._obsoleteFileChanges=e}clear(){this.obsoleteFileChanges=[],this._localFileChanges=void 0}}var W_=Object.defineProperty,K_=(n,e,t)=>e in n?W_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Kn=(n,e,t)=>K_(n,typeof e!="symbol"?e+"":e,t);const Tp=class v0 extends d{constructor(e,t,i,r,a,o,v,T,x,W,te){super(),this._id=e,this._context=t,this._repository=i,this._folderRepoManager=r,this._telemetry=a,this.changesInPrDataProvider=o,this._pullRequestsTree=v,this._showPullRequest=T,this._activePrViewCoordinator=x,this._createPullRequestHelper=W,this._gitApi=te,Kn(this,"_localToDispose",[]),Kn(this,"_reviewModel",new z_),Kn(this,"_lastCommitSha"),Kn(this,"_validateStatusInProgress"),Kn(this,"_reviewCommentController"),Kn(this,"_quickDiffProvider"),Kn(this,"_inMemGitHubContentProvider"),Kn(this,"_statusBarItem"),Kn(this,"_prNumber"),Kn(this,"_isShowingLastReviewChanges",!1),Kn(this,"_previousRepositoryState"),Kn(this,"_switchingToReviewMode"),Kn(this,"_changesSinceLastReviewProgress",new G_),Kn(this,"justSwitchedToReviewMode",!1),Kn(this,"_isFirstLoad",!0),this._switchingToReviewMode=!1,this._previousRepositoryState={HEAD:i.state.HEAD,remotes:Ya(this._repository)},this._register(l(()=>c(this._localToDispose))),this.registerListeners(),te.state==="initialized"&&this.updateState(!0)}get switchingToReviewMode(){return this._switchingToReviewMode}set switchingToReviewMode(e){this._switchingToReviewMode=e,e||this.updateState(!0)}registerListeners(){this._register(this._repository.state.onDidChange(e=>{const t=this._previousRepositoryState.HEAD,i=this._repository.state.HEAD;if(!t&&!i)return;let r;!t||!i?r=!1:r=t.upstream?i.upstream&&t.upstream.name===i.upstream.name&&t.upstream.remote===i.upstream.remote:!i.upstream;const a=r&&t.ahead===i.ahead&&t.behind===i.behind&&t.commit===i.commit&&t.name===i.name&&t.remote===i.remote&&t.type===i.type,o=Ya(this._repository),v=this._previousRepositoryState.remotes.length===o.length&&this._previousRepositoryState.remotes.every(T=>o.some(x=>T.equals(x)));(!a||!v)&&(this._previousRepositoryState={HEAD:this._repository.state.HEAD,remotes:o},this.updateState(!0)),t&&i&&this.updateBaseBranchMetadata(t,i)})),this._register(s.workspace.onDidChangeConfiguration(e=>{this.updateFocusedViewMode(),e.affectsConfiguration(`${tt}.${pt}`)&&this.validateStateAndResetPromise(!0,!1)})),this._register(this._folderRepoManager.onDidChangeActivePullRequest(e=>{this.updateFocusedViewMode(),this.registerQuickDiff()})),this._register(Vu.registerProvider(this,this._folderRepoManager))}async updateBaseBranchMetadata(e,t){var i;if(!e.commit||e.commit!==t.commit||!t.name||!e.name||e.name===t.name)return;let r=this._folderRepoManager.gitHubRepositories.find(a=>{var o;return a.remote.remoteName===((o=e.upstream)==null?void 0:o.remote)});if(r){const a=await r.getMetadata();return a.fork&&e.name===a.default_branch&&(r=(i=this._folderRepoManager.gitHubRepositories.find(o=>{var v,T,x;return o.remote.owner===((T=(v=a.parent)==null?void 0:v.owner)==null?void 0:T.login)&&o.remote.repositoryName===((x=a.parent)==null?void 0:x.name)}))!=null?i:r),wr.associateBaseBranchWithBranch(this.repository,t.name,{owner:r.remote.owner,repo:r.remote.repositoryName,branch:e.name})}}registerQuickDiff(){if(s.workspace.getConfiguration(tt).get(Hi)){this._quickDiffProvider&&(this._quickDiffProvider.dispose(),this._quickDiffProvider=void 0);const e=this._folderRepoManager.activePullRequest?s.l10n.t("GitHub pull request #{0}",this._folderRepoManager.activePullRequest.number):s.l10n.t("GitHub pull request");this._register(this._quickDiffProvider=s.window.registerQuickDiffProvider({scheme:"file"},{provideOriginalResource:t=>{const i=this.reviewModel.localFileChanges.find(r=>r.changeModel.filePath.toString()===t.toString());if(i)return i.changeModel.parentFilePath}},"github-pr",e,this.repository.rootUri))}}get statusBarItem(){return this._statusBarItem||(this._statusBarItem=s.window.createStatusBarItem("github.pullrequest.status",s.StatusBarAlignment.Left),this._statusBarItem.name=s.l10n.t("GitHub Active Pull Request")),this._statusBarItem}get repository(){return this._repository}get reviewModel(){return this._reviewModel}get id(){return`${v0.ID}+${this._id}`}async updateState(e=!1,t=!0){if(!this.switchingToReviewMode)return this._validateStatusInProgress?(y.appendLine("Queuing additional validate state",this.id),this._validateStatusInProgress=this._validateStatusInProgress.then(async i=>await this.validateStatusAndSetContext(e,t)),this._validateStatusInProgress):(y.appendLine("Validate state in progress",this.id),this._validateStatusInProgress=this.validateStatusAndSetContext(e,t),this._validateStatusInProgress)}async validateStatusAndSetContext(e,t){let i;const r=new Promise(o=>{i=setTimeout(()=>{i&&(clearTimeout(i),i=void 0,y.error("Timeout occurred while validating state.",this.id),this._telemetry.sendTelemetryErrorEvent("pr.validateStateTimeout",{version:this._context.extension.packageJSON.version})),o()},12e4)}),a=new Promise(o=>{this.validateStateAndResetPromise(e,t).then(()=>{s.commands.executeCommand("setContext","github:stateValidated",!0).then(()=>{i&&(clearTimeout(i),i=void 0),o()})})});return Promise.race([a,r])}async offerIgnoreBranch(e){const t="githubPullRequest.showOfferIgnoreBranch";if(!this._context.workspaceState.get(t,!0))return!1;const r="githubPullRequest.offerIgnoreBranchTime",a=this._context.workspaceState.get(r,0),o=new Date().getTime();if(o-a<1e3*60*60*24)return!1;const{base:v}=await this._folderRepoManager.getPullRequestDefaults(e);if(v!==e)return!1;await this._context.workspaceState.update(r,o);const T=s.l10n.t("Ignore Pull Request"),x=s.l10n.t("Don't Show Again"),W=await s.window.showInformationMessage(s.l10n.t("There's a pull request associated with the default branch '{0}'. Do you want to ignore this Pull Request?",e),T,x);if(W===T){y.appendLine(`Branch ${e} will now be ignored in ${pt}.`,this.id);const te=s.workspace.getConfiguration(tt),oe=te.get(pt,[]);return oe.push(e),await te.update(pt,oe),!0}else if(W===x)return await this._context.workspaceState.update(t,!1),!1;return!1}async getUpstreamUrlAndName(e){if(e.upstream)return y.debug(`Upstream for branch ${e.name} is ${e.upstream.remote}/${e.upstream.name}`,this.id),{remoteName:e.upstream.remote,upstreamBranchName:e.upstream.name,remoteUrl:void 0};try{const t=await this.repository.getConfig(`branch.${e.name}.remote`),i=await this.repository.getConfig(`branch.${e.name}.merge`);let r;return i&&(r=i.substring(11)),y.debug(`Upstream for branch ${e.name} is ${r} at ${t}`,this.id),{remoteUrl:t,upstreamBranchName:r,remoteName:void 0}}catch{return y.appendLine(`Failed to get upstream for branch ${e.name} from git config.`,this.id),{remoteUrl:void 0,upstreamBranchName:void 0,remoteName:void 0}}}async checkGitHubForPrBranch(e){try{let t;this._repository.state.HEAD&&e.name===this._repository.state.HEAD.name?t=this._repository.state.HEAD:t=e;const{remoteUrl:i,upstreamBranchName:r,remoteName:a}=await this.getUpstreamUrlAndName(t),o=await this._folderRepoManager.getMatchingPullRequestMetadataFromGitHub(t,a,i,r);if(o)return y.appendLine(`Found matching pull request metadata on GitHub for current branch ${e.name}. Repo: ${o.owner}/${o.repositoryName} PR: ${o.prNumber}`,this.id),await wr.associateBranchWithPullRequest(this._repository,o.model,e.name),o}catch(t){y.warn(`Failed to check GitHub for PR branch: ${t.message}`,this.id);return}}async resolvePullRequest(e){try{this._prNumber=e.prNumber;const{owner:t,repositoryName:i}=e;y.appendLine("Resolving pull request",this.id);let r=await this._folderRepoManager.resolvePullRequest(t,i,e.prNumber);if(!r||!r.isResolved()||!await r.githubRepository.hasBranch(r.base.name)){await this.clear(!0),this._prNumber=void 0,y.appendLine("This PR is no longer valid",this.id);return}return r}catch(t){y.appendLine(`Pull request cannot be resolved: ${t.message}`,this.id)}}async validateStateAndResetPromise(e,t){return this.validateState(e,t).then(()=>{this._validateStatusInProgress=void 0})}async validateState(e,t){var i,r,a,o;y.appendLine("Validating state...",this.id);const v=this._lastCommitSha;if(this._lastCommitSha=void 0,!await this._folderRepoManager.updateRepositories(!1))return;if(!this._repository.state.HEAD){await this.clear(!0);return}const T=this._repository.state.HEAD,x=s.workspace.getConfiguration(tt).get(pt),W=(r=T.remote)!=null?r:(i=T.upstream)==null?void 0:i.remote;if(x!=null&&x.find(Le=>Le===T.name)&&(W==="origin"||!((o=await((a=this._folderRepoManager.gitHubRepositories.find(Le=>Le.remote.remoteName===W))==null?void 0:a.getMetadata()))!=null&&o.fork))){y.appendLine(`Branch ${T.name} is ignored in ${pt}.`,this.id),await this.clear(!0);return}let te=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(te||(y.appendLine(`No matching pull request metadata found locally for current branch ${T.name}`,this.id),te=await this.checkGitHubForPrBranch(T)),!te){y.appendLine(`No matching pull request metadata found on GitHub for current branch ${T.name}`,this.id),await this.clear(!0);return}y.appendLine(`Found matching pull request metadata for current branch ${T.name}. Repo: ${te.owner}/${te.repositoryName} PR: ${te.prNumber}`,this.id),y.appendLine(`current branch ${this._repository.state.HEAD.name} is associated with pull request #${te.prNumber}`,this.id);const oe=this._prNumber;let fe=await this.resolvePullRequest(te);if(!fe){y.appendLine(`Unable to resolve PR #${te.prNumber}`,this.id);return}if(y.appendLine(`Resolved PR #${te.prNumber}, state is ${fe.state}`,this.id),fe.state!==Xi.Open){const Le=await this.checkGitHubForPrBranch(T);if(Le&&(Le==null?void 0:Le.prNumber)!==fe.number){const $e=await this.resolvePullRequest(Le);$e&&(fe=$e)}}const ye=T.commit!==v&&T.ahead===0&&T.behind===0;if(oe===fe.number&&!ye&&this._isShowingLastReviewChanges===fe.showChangesSinceReview)return;this._isShowingLastReviewChanges=fe.showChangesSinceReview,oe!==fe.number&&this.clear(!1);const Pe=ht();if(fe.isClosed&&!Pe.closed){y.appendLine("This PR is closed",this.id),await this.clear(!0);return}if(fe.isMerged&&!Pe.merged){y.appendLine("This PR is merged",this.id),await this.clear(!0);return}s.workspace.getConfiguration(tt).get(Pt,!1)||this.offerIgnoreBranch(T.name);const De=this._folderRepoManager.activePullRequest;this._folderRepoManager.activePullRequest=fe,this._lastCommitSha=fe.head.sha,this._isFirstLoad&&(this._isFirstLoad=!1,this._folderRepoManager.checkBranchUpToDate(fe,!0)),y.appendLine("Fetching pull request data",this.id),e||G(this._reviewModel.onDidChangeLocalFileChanges)(()=>{fe&&this._upgradePullRequestEditors(fe)}),this.initializePullRequestData(fe),await this.changesInPrDataProvider.addPrToView(this._folderRepoManager,fe,this._reviewModel,this.justSwitchedToReviewMode,this._changesSinceLastReviewProgress),y.appendLine("Register comments provider",this.id),await this.registerCommentController(),this._activePrViewCoordinator.setPullRequest(fe,this._folderRepoManager,this,De),this._localToDispose.push(fe.onDidChangeChangesSinceReview(async Le=>{this._changesSinceLastReviewProgress.startProgress(),this.changesInPrDataProvider.refresh(),await this.updateComments(),await this.reopenNewReviewDiffs(),fe&&fn.openChanges(this._folderRepoManager,fe),this._changesSinceLastReviewProgress.endProgress()})),y.appendLine("Register in memory content provider",this.id),await this.registerGitHubInMemContentProvider(),this.statusBarItem.text="$(git-pull-request) "+s.l10n.t("Pull Request #{0}",fe.number),this.statusBarItem.command={command:"pr.openDescription",title:s.l10n.t("View Pull Request Description"),arguments:[fe]},y.appendLine("Display pull request status bar indicator.",this.id),this.statusBarItem.show(),this.layout(fe,t,this.justSwitchedToReviewMode?!1:e),this.justSwitchedToReviewMode=!1}layout(e,t,i){const r=this._context.workspaceState.get(Dr);if(y.appendLine(`Using focus mode = ${r}.`,this.id),y.appendLine(`State validation silent = ${i}.`,this.id),y.appendLine(`PR show should show = ${this._showPullRequest.shouldShow}.`,this.id),(!i||this._showPullRequest.shouldShow)&&r)this._doFocusShow(e,t);else if(!this._showPullRequest.shouldShow&&r){const a=this._showPullRequest.onChangedShowValue(o=>{y.appendLine(`PR show value changed = ${o}.`,this.id),o&&this._doFocusShow(e,t),a.dispose()});this._localToDispose.push(a)}}async reopenNewReviewDiffs(){let e=!1;await Promise.all(s.window.tabGroups.all.map(t=>t.tabs.map(i=>{if(i.input instanceof s.TabInputTextDiff&&i.input.original.scheme===qt.Review)for(const r of this._reviewModel.localFileChanges){const a=da(i.input.original.query);if(r.fileName===a.path){e=!0,s.window.tabGroups.close(i).then(o=>r.openDiff(this._folderRepoManager,{preview:i.isPreview}));break}}return Promise.resolve(void 0)})).flat()),!e&&this._reviewModel.localFileChanges.length&&this._reviewModel.localFileChanges[0].openDiff(this._folderRepoManager,{preview:!0})}openDiff(){if(this._reviewModel.localFileChanges.length){let e=[];for(const i of this._reviewModel.localFileChanges)if(i.status===$t.MODIFY)if(ep.includes(z.extname(i.fileName)))e.push(i);else{e.unshift(i);break}(e.length?e[0]:this._reviewModel.localFileChanges[0]).openDiff(this._folderRepoManager)}}_doFocusShow(e,t){if(s.workspace.getConfiguration(Cn).get(qr)!=="never"&&e.hasComments&&ei.executeCommand("workbench.action.focusCommentsPanel"),this._activePrViewCoordinator.show(e),t){const r=s.workspace.getConfiguration(tt).get(Qi);if(r&&e.fileChanges.size===0)return this.openDescription();if(r==="firstDiff")if(this._reviewModel.localFileChanges.length)this.openDiff();else{const a=this._reviewModel.onDidChangeLocalFileChanges(()=>{a.dispose(),this.openDiff()})}else{if(r==="overview")return this.openDescription();if(r==="multiDiff")return fn.openChanges(this._folderRepoManager,e)}}}async _upgradePullRequestEditors(e){const t=new Set;await Promise.all(s.window.tabGroups.all.map(r=>r.tabs.map(a=>{if(a.input instanceof s.TabInputTextDiff&&a.input.original.scheme===qt.Pr&&a.input.modified.scheme===qt.Pr){const o=Nn(a.input.original),v=Nn(a.input.modified);if((o==null?void 0:o.prNumber)===e.number&&(v==null?void 0:v.prNumber)===e.number)return t.add([o,v]),s.window.tabGroups.close(a)}return Promise.resolve(void 0)})).flat());const i=[];if(t.size){for(const r of this.reviewModel.localFileChanges)for(const a of t)if(Array.isArray(a)){const o=a[1];if(r.fileName===o.fileName){i.push(r.openDiff(this._folderRepoManager,{preview:!1})),t.delete(a);break}}}return Promise.all(i)}async createSuggestionFromChange(e,t){if(!this._reviewModel.localFileChanges.find(a=>a.changeModel.filePath.toString()===e.uri.toString()))return;const r=[];for(const a of t){const o=e.getText(new s.Range(a.modifiedStartLineNumber-1,0,a.modifiedEndLineNumber-1,e.lineAt(a.modifiedEndLineNumber-1).range.end.character)),v=a.originalEndLineNumber<a.originalStartLineNumber?a.originalStartLineNumber:a.originalEndLineNumber;r.push({suggestionContent:o,originalLineLength:v-a.originalStartLineNumber+1,originalStartLine:a.originalStartLineNumber,diffLine:a})}await Promise.all(r.map(async a=>{var o;try{await((o=this._reviewCommentController)==null?void 0:o.createSuggestionsFromChanges(e.uri,a)),await s.commands.executeCommand("git.revertSelectedRanges",a.diffLine)}catch{s.window.showErrorMessage(s.l10n.t("The change is outside the commenting range."),{modal:!0})}}))}trimContextFromHunk(e){let t=e.oldLineNumber,i=e.oldLength,r=0;for(;r<e.diffLines.length;r++){const v=e.diffLines[r];if(v.type!==Wi.Control)if(v.type===Wi.Context)t++,i--;else break}let a=e.diffLines.length-1;for(;a>=0&&e.diffLines[a].type===Wi.Context;a--)i--;let o=e.diffLines.slice(r,a+1);o.every(v=>v.type===Wi.Add)&&(r>1?(r--,t--,i++):a<e.diffLines.length-1?(a++,i++):(r=1,a=e.diffLines.length-1),o=e.diffLines.slice(r,a+1)),e.diffLines=o,e.oldLength=i,e.oldLineNumber=t}convertDiffHunkToSuggestion(e){return this.trimContextFromHunk(e),{suggestionContent:e.diffLines.filter(t=>t.type===Wi.Add||t.type==Wi.Context).map(t=>t.text).join(`
`),originalLineLength:e.oldLength,originalStartLine:e.oldLineNumber}}async createSuggestionsFromChanges(e){const t=e.map(x=>x.toString());let i=!1,r=0;const a=[],o=async(x,W)=>{var te;try{await((te=this._reviewCommentController)==null?void 0:te.createSuggestionsFromChanges(x.uri,this.convertDiffHunkToSuggestion(W))),a.push(x.uri)}catch{i=!0}},v=async x=>{if(!(!t.includes(x.uri.toString())||x.status!==yt.MODIFIED))return oo(await this._folderRepoManager.repository.diffWithHEAD(x.uri.fsPath)).map(W=>Jl(W)).flat()},T=async(x,W)=>{const te=await v(x);if(te)if(r+=te.length,W)await Promise.allSettled(te.map(async oe=>o(x,oe)));else for(const oe of te)await o(x,oe)};if(await s.window.withProgress({location:s.ProgressLocation.Window,title:"Converting changes to suggestions"},async()=>{let x=0;for(;a.length===0&&x<this._folderRepoManager.repository.state.workingTreeChanges.length;x++){const te=this._folderRepoManager.repository.state.workingTreeChanges[x];await T(te,!1)}const W=[];for(;x<this._folderRepoManager.repository.state.workingTreeChanges.length;x++){const te=this._folderRepoManager.repository.state.workingTreeChanges[x];W.push(T(te,!0))}await Promise.all(W)}),i)a.length?s.window.showWarningMessage(s.l10n.t("Not all changes could be converted to suggestions."),{detail:s.l10n.t(`{0} of {1} changes converted. Some of the changes may be outside of commenting ranges.
Your changes are still available locally.`,a.length,r),modal:!0}):s.window.showWarningMessage(s.l10n.t("No changes could be converted to suggestions."),{detail:s.l10n.t("All of the changes are outside of commenting ranges."),modal:!0});else{const x=s.l10n.t("Reset all changes");s.window.showInformationMessage(s.l10n.t("All changes have been converted to suggestions."),{modal:!0,detail:s.l10n.t("Do you want to reset your local changes?")},x).then(W=>{if(W===x)return Promise.all(a.map(te=>this._folderRepoManager.repository.checkout(te.fsPath)))})}}async updateComments(){var e;const t=this._repository.state.HEAD;if(!t)return;const i=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!i||!(t.upstream?t.upstream.remote:null)||this._prNumber===void 0||!this._folderRepoManager.activePullRequest)return;const a=await this._folderRepoManager.resolvePullRequest(i.owner,i.repositoryName,this._prNumber);if(!a||!a.isResolved()){y.warn("This PR is no longer valid",this.id);return}return await this._folderRepoManager.checkBranchUpToDate(a,!1),await this.initializePullRequestData(a),await((e=this._reviewCommentController)==null?void 0:e.update()),Promise.resolve(void 0)}async getLocalChangeNodes(e,t){const i=[],r=e.mergeBase||e.base.sha,a=e.head.sha;for(let o=0;o<t.length;o++){const v=t[o],T=z.join(this._repository.rootUri.path,v.fileName).replace(/\\/g,"/"),x=this._repository.rootUri.with({path:T}),W=v.status===$t.DELETE?na(x,void 0,void 0,"",!1,{base:!1},this._repository.rootUri):x,te=na(x,v.status===$t.RENAME?v.previousFileName:v.fileName,void 0,v.status===$t.ADD?"":r,!1,{base:!0},this._repository.rootUri),oe=new Ed(this._folderRepoManager,e,v,W,te,a,t.length<20),fe=new Do(this.changesInPrDataProvider,this._folderRepoManager,e,oe);i.push(fe)}return i}async initializePullRequestData(e){try{const t=await e.getFileChangesInfo();this._reviewModel.localFileChanges=await this.getLocalChangeNodes(e,t),await Promise.all([e.initializeReviewThreadCacheAndReviewComments(),e.initializePullRequestFileViewState()]),this._folderRepoManager.setFileViewedContext();const i=e.comments.filter(o=>!o.position),r=B(i,o=>o.originalCommitId),a=[];for(const o in r){const v=r[o],T=B(v,x=>x.path);for(const x in T){const W=T[x],te=s.Uri.file(z.join(`commit~${o.substr(0,8)}`,x)),oe=new Ed(this._folderRepoManager,e,{status:$t.MODIFY,fileName:x,blobUrl:void 0},na(te,x,void 0,W[0].originalCommitId,!0,{base:!1},this._repository.rootUri),na(te,x,void 0,W[0].originalCommitId,!0,{base:!0},this._repository.rootUri),o),fe=new Do(this.changesInPrDataProvider,this._folderRepoManager,e,oe,!1,W);a.push(fe)}}return this._reviewModel.obsoleteFileChanges=a,Promise.resolve(void 0)}catch(t){y.error(`Failed to initialize PR data ${t}: ${t.message}`,this.id)}}async registerGitHubInMemContentProvider(){var e,t;try{(e=this._inMemGitHubContentProvider)==null||e.dispose(),this._inMemGitHubContentProvider=void 0;const i=this._folderRepoManager.activePullRequest;if(!i)return;const r=await i.getFileChangesInfo(),a=i.mergeBase;if(!a)return;const o=r.map(v=>v instanceof ka?new Ao(this._folderRepoManager,v,i):new Vs(this._folderRepoManager,i,v,!0,a));this._inMemGitHubContentProvider=(t=Wd())==null?void 0:t.registerTextDocumentContentProvider(i.number,async v=>{const T=Nn(v);if(!T)return"";const x=o.find(W=>W.fileName===T.fileName);return x?Kd(this._folderRepoManager,i,T,x):(y.error(`Cannot find content for document ${v.toString()}`,"PR"),"")})}catch(i){y.error(`Failed to register in mem content provider: ${i}`,this.id)}}async registerCommentController(){var e;if((e=this._folderRepoManager.activePullRequest)!=null&&e.reviewThreadsCacheReady&&this._reviewModel.hasLocalFileChanges)await this.doRegisterCommentController();else{const t=this._reviewModel.onDidChangeLocalFileChanges(async()=>{var i;(i=this._folderRepoManager.activePullRequest)!=null&&i.reviewThreadsCache&&this._reviewModel.hasLocalFileChanges&&(t&&t.dispose(),await this.doRegisterCommentController())})}}async doRegisterCommentController(){this._reviewCommentController||(this._reviewCommentController=new lp(this,this._folderRepoManager,this._repository,this._reviewModel,this._gitApi,this._telemetry),await this._reviewCommentController.initialize())}async switch(e){var t,i;y.appendLine(`Switch to Pull Request #${e.number} - start`,this.id),this.statusBarItem.text=s.l10n.t("{0} Switching to Review Mode","$(sync~spin)"),this.statusBarItem.command=void 0,this.statusBarItem.show(),this.switchingToReviewMode=!0;try{await s.window.withProgress({location:s.ProgressLocation.Notification},async a=>{await this._folderRepoManager.checkoutExistingPullRequestBranch(e,a)||await this._folderRepoManager.fetchAndCheckout(e,a)});const r=s.workspace.getConfiguration(tt).get(Vi,"pull");(r==="pullAndMergeBase"||r==="pullAndUpdateBase")&&await this._folderRepoManager.tryMergeBaseIntoHead(e,r==="pullAndUpdateBase")}catch(r){y.error(`Checkout failed #${JSON.stringify(r)}`,this.id),this.switchingToReviewMode=!1,r.message==="User aborted"||(r.gitErrorCode&&(r.gitErrorCode===vt.LocalChangesOverwritten||r.gitErrorCode===vt.DirtyWorkTree)?s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")):(t=r.stderr)!=null&&t.startsWith("fatal: couldn't find remote ref")&&r.gitCommand==="fetch"?s.window.showInformationMessage("The remote branch for this pull request has been deleted. The file contents may not match the remote."):s.window.showErrorMessage(`Error switching to pull request: ${we(r)}`)),((i=this._folderRepoManager.activePullRequest)==null?void 0:i.number)===e.number?this.setStatusForPr(this._folderRepoManager.activePullRequest):this.statusBarItem.hide();return}try{this.statusBarItem.text="$(sync~spin) "+s.l10n.t("Fetching additional data: {0}",`pr/${e.number}`),this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._folderRepoManager.fulfillPullRequestMissingInfo(e),this._upgradePullRequestEditors(e),this._telemetry.sendTelemetryEvent("pr.checkout"),y.appendLine(`Switch to Pull Request #${e.number} - done`,this.id)}finally{this.setStatusForPr(e),await this._repository.status()}}setStatusForPr(e){this.switchingToReviewMode=!1,this.justSwitchedToReviewMode=!0,this.statusBarItem.text=s.l10n.t("Pull Request #{0}",e.number),this.statusBarItem.command=void 0,this.statusBarItem.show()}async createPullRequest(e){const t=async i=>{if(!i)return;const r=s.workspace.getConfiguration(tt).get(fi,"openOverview");if(r==="openOverview"){const a=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await Fl(this._telemetry,i,a,this._folderRepoManager,!0)}else if(r.startsWith("checkoutDefaultBranch")){const a=await this._folderRepoManager.getPullRequestRepositoryDefaultBranch(i);a&&(r==="checkoutDefaultBranch"&&await this._folderRepoManager.checkoutDefaultBranch(a),r==="checkoutDefaultBranchAndShow"?(await ei.executeCommand("pr:github.focus"),await this._folderRepoManager.checkoutDefaultBranch(a),await this._pullRequestsTree.expandPullRequest(i)):r==="checkoutDefaultBranchAndCopy"&&await Promise.all([this._folderRepoManager.checkoutDefaultBranch(a),s.env.clipboard.writeText(i.html_url)]))}await this.updateState(!1,!1)};return this._createPullRequestHelper.create(this._telemetry,this._context.extensionUri,this._folderRepoManager,e,t)}async openDescription(){const e=this._folderRepoManager.activePullRequest;if(!e)return;const t=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await Fl(this._telemetry,e,t,this._folderRepoManager,!0)}get isCreatingPullRequest(){var e,t;return(t=(e=this._createPullRequestHelper)==null?void 0:e.isCreatingPullRequest)!=null?t:!1}async updateFocusedViewMode(){s.workspace.getConfiguration(tt).get(Qi)?(s.commands.executeCommand("setContext",Dr,!0),await this._context.workspaceState.update(Dr,!0)):(s.commands.executeCommand("setContext",Dr,!1),this._context.workspaceState.update(Dr,!1))}async clear(e){var t,i;if(e){const r=this._folderRepoManager.activePullRequest;r&&this._activePrViewCoordinator.removePullRequest(r),this.changesInPrDataProvider&&await this.changesInPrDataProvider.removePrFromView(this._folderRepoManager),this._prNumber=void 0,this._folderRepoManager.activePullRequest=void 0,this._statusBarItem&&this._statusBarItem.hide(),this._reviewModel.clear(),c(this._localToDispose),r==null||r.clear(),this._folderRepoManager.setFileViewedContext()}(t=this._reviewCommentController)==null||t.dispose(),this._reviewCommentController=void 0,(i=this._inMemGitHubContentProvider)==null||i.dispose(),this._inMemGitHubContentProvider=void 0}async provideTextDocumentContent(e){const{path:t,commit:i,base:r}=da(e.query);let a=Bd(this._reviewModel.localFileChanges).filter(o=>o.fileName===t).filter(o=>o.sha===i||`${o.sha}^`===i);if(a.length){const o=a[0],v=i===o.sha?Wi.Delete:Wi.Add;return(await o.changeModel.diffHunks()).map(x=>x.diffLines.filter(W=>W.type!==v).map(W=>W.text)).reduce((x,W)=>x.concat(...W),[]).join(`
`)}if(a=Bd(this._reviewModel.obsoleteFileChanges).filter(o=>o.fileName===t).filter(o=>o.sha===i||`${o.sha}^`===i),a.length){const o=a[0],v=i===o.sha?Wi.Delete:Wi.Add,T=[],x=B(o.comments,W=>String(W.originalPosition));for(const W in x){if(!x[W][0].diffHunks)continue;const te=x[W][0].diffHunks.map(oe=>oe.diffLines.filter(fe=>fe.type!==v).map(fe=>fe.text)).reduce((oe,fe)=>oe.concat(...fe),[]);T.push(...te)}return T.join(`
`)}else if(r&&i&&this._folderRepoManager.activePullRequest)return(await this._folderRepoManager.activePullRequest.githubRepository.getFile(t,i)).toString()}dispose(){super.dispose(),this.clear(!0)}static getReviewManagerForRepository(e,t,i){return e.find(r=>r._folderRepoManager.gitHubRepositories.some(a=>a.equals(t)&&(!i||r._folderRepoManager.repository===i)))}static getReviewManagerForFolderManager(e,t){return e.find(i=>i._folderRepoManager===t)}};Kn(Tp,"ID","Review");let Hr=Tp;class Q_{constructor(){Kn(this,"_shouldShow",!1),Kn(this,"_onChangedShowValue",new s.EventEmitter),Kn(this,"onChangedShowValue",this._onChangedShowValue.event)}get shouldShow(){return this._shouldShow}set shouldShow(e){const t=this._shouldShow;this._shouldShow=e,t!==this._shouldShow&&this._onChangedShowValue.fire(this._shouldShow)}}var Y_=Object.defineProperty,Z_=(n,e,t)=>e in n?Y_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yu=(n,e,t)=>Z_(n,typeof e!="symbol"?e+"":e,t);class Ja extends er{constructor(e,t){super(e),Yu(this,"collapsibleState"),Yu(this,"_children",[]),Yu(this,"pathToChild",new Map),Yu(this,"checkboxState"),this.label=t,this.collapsibleState=s.TreeItemCollapsibleState.Expanded}async getChildren(){return this._children}finalize(){this.trimTree(),this.sort()}trimTree(){if(this._children.length===0||(this._children.forEach(t=>{t instanceof Ja&&t.trimTree()}),this._children.length!==1))return;const e=this._children[0];e instanceof Ja&&(this.label=this.label+"/"+e.label,this.label.startsWith("/")&&(this.label=this.label.substr(1)),this._children=e._children,this._children.forEach(t=>{t.parent=this}))}sort(){if(this._children.length<=1)return;const e=[],t=[];this._children.forEach(i=>{i instanceof Ja?(i.sort(),e.push(i)):t.push(i)}),e.sort((i,r)=>i.label<r.label?-1:1),t.sort((i,r)=>i.label<r.label?-1:1),this._children=[...e,...t]}addFile(e){const t=e.changeModel.fileName.split("/");this.addPathRecc(t,e)}addPathRecc(e,t){if(e.length<=0)return;if(e.length===1){t.parent=this,this._children.push(t);return}const i=e[0],r=e.slice(1);let a=this.pathToChild.get(i);a||(a=new Ja(this,i),this.pathToChild.set(i,a),this._children.push(a)),a.addPathRecc(r,t)}allChildrenViewed(){for(const e of this._children)if(e instanceof Ja){if(!e.allChildrenViewed())return!1}else if(e.checkboxState.state!==s.TreeItemCheckboxState.Checked)return!1;return!0}setCheckboxState(e){this.checkboxState=e?{state:s.TreeItemCheckboxState.Checked,tooltip:s.l10n.t("Mark all files unviewed"),accessibilityInformation:{label:s.l10n.t("Mark all files in folder {0} as unviewed",this.label)}}:{state:s.TreeItemCheckboxState.Unchecked,tooltip:s.l10n.t("Mark all files viewed"),accessibilityInformation:{label:s.l10n.t("Mark all files in folder {0} as viewed",this.label)}}}getTreeItem(){return this.setCheckboxState(this.allChildrenViewed()),this}}var J_=Object.defineProperty,X_=(n,e,t)=>e in n?J_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Il=(n,e,t)=>X_(n,typeof e!="symbol"?e+"":e,t);const Cp=class Ac extends er{constructor(e,t,i,r,a){super(e),this._folderReposManager=t,this.pullRequestModel=i,this._isLocal=r,this._notificationProvider=a,Il(this,"_fileChanges"),Il(this,"_commentController"),Il(this,"_inMemPRContentProvider"),Il(this,"_command"),this.registerSinceReviewChange(),this.registerConfigurationChange(),this._register(this._folderReposManager.onDidChangeActivePullRequest(o=>{var v,T;(((v=o.new)==null?void 0:v.number)===this.pullRequestModel.number||((T=o.old)==null?void 0:T.number)===this.pullRequestModel.number)&&this.refresh(this)})),this._register(this._folderReposManager.themeWatcher.onDidChangeTheme(()=>{this.refresh(this)})),this.resolvePRCommentController()}get command(){return this._command}set command(e){this._command=e}get repository(){return this._folderReposManager.repository}async getChildren(){var e;super.getChildren(),y.debug(`Fetch children of PRNode #${this.pullRequestModel.number}`,Ac.ID);try{if(!this.pullRequestModel.isResolved())return[];[,this._fileChanges,,]=await Promise.all([this.pullRequestModel.initializePullRequestFileViewState(),this.resolveFileChangeNodes(),this._commentController?new Promise(r=>r()):this.resolvePRCommentController(),this.pullRequestModel.validateDraftMode()]),this._inMemPRContentProvider||(this._inMemPRContentProvider=(e=Wd())==null?void 0:e.registerTextDocumentContentProvider(this.pullRequestModel.number,this.provideDocumentContent.bind(this)),this._inMemPRContentProvider&&this._register(this._inMemPRContentProvider));const t=[];if(s.workspace.getConfiguration(tt).get(Rt)==="tree"){const r=new Ja(this,"");this._fileChanges.forEach(a=>r.addFile(a)),r.finalize(),r.label===""?t.push(...r._children):t.push(r)}else t.push(...this._fileChanges);return this.pullRequestModel.showChangesSinceReview!==void 0&&this.reopenNewPrDiffs(this.pullRequestModel),this._children=t,this.pullRequestModel.initializeReviewThreadCache(),t}catch(t){return y.error(`Error getting children ${t}: ${t.message}`,Ac.ID),[]}}registerSinceReviewChange(){this._register(this.pullRequestModel.onDidChangeChangesSinceReview(e=>{this.refresh(this)}))}registerConfigurationChange(){this._register(s.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration(`${tt}.${Kt}`)&&this.refresh()}))}async reopenNewPrDiffs(e){let t=!1;s.window.tabGroups.all.map(i=>{i.tabs.map(r=>{if(r.input instanceof s.TabInputTextDiff&&r.input.original.scheme===qt.Pr&&r.input.modified.scheme===qt.Pr&&this._fileChanges)for(const a of this._fileChanges){const o=Nn(r.input.original),v=Nn(r.input.modified),T=Nn(a.changeModel.filePath);if((o==null?void 0:o.prNumber)===e.number&&(v==null?void 0:v.prNumber)===e.number&&a.fileName===v.fileName&&(T==null?void 0:T.headCommit)!==v.headCommit){t=!0,s.window.tabGroups.close(r).then(x=>a.openDiff(this._folderReposManager,{preview:r.isPreview}));break}}})}),e.showChangesSinceReview&&!t&&this._fileChanges&&this._fileChanges.length&&!e.isActive&&this._fileChanges[0].openDiff(this._folderReposManager,{preview:!0})}async resolvePRCommentController(){this.pullRequestModel.equals(this._folderReposManager.activePullRequest)||(await this.pullRequestModel.githubRepository.ensureCommentsController(),this._commentController=this.pullRequestModel.githubRepository.commentsController,this._register(this.pullRequestModel.githubRepository.commentsHandler.registerCommentingRangeProvider(this.pullRequestModel.number,this)),this._register(this.pullRequestModel.githubRepository.commentsHandler.registerCommentController(this.pullRequestModel.number,this.pullRequestModel,this._folderReposManager)),this.registerListeners())}registerListeners(){this._register(this.pullRequestModel.onDidChangePendingReviewState(async e=>{e||(await this.getFileChanges()).forEach(t=>{t instanceof Ud&&t.comments.forEach(i=>i.isDraft=e)})}))}async getFileChanges(e){return(!this._fileChanges||e)&&(this._fileChanges=await this.resolveFileChangeNodes()),this._fileChanges}async resolveFileChangeNodes(){if(!this.pullRequestModel.isResolved())return[];const e=[],t=this.pullRequestModel.equals(this._folderReposManager.activePullRequest);t&&this._folderReposManager.activePullRequest!==void 0&&this._folderReposManager.activePullRequest.fileChanges.size>0?(this.pullRequestModel=this._folderReposManager.activePullRequest,e.push(...this._folderReposManager.activePullRequest.fileChanges.values())):e.push(...await this.pullRequestModel.getFileChangesInfo());const i=this.pullRequestModel.mergeBase;return i?e.map(r=>{if(r instanceof ka){const v=new Ao(this._folderReposManager,r,this.pullRequestModel);return new Ld(this,this._folderReposManager,this.pullRequestModel,v)}const a=new Vs(this._folderReposManager,this.pullRequestModel,r,t,i);return new Ud(this._folderReposManager,this,this.pullRequestModel,a)}):[]}async _getIcon(){var e,t;const i=await this.pullRequestModel.copilotWorkingStatus(this.pullRequestModel),r=this._folderReposManager.themeWatcher.themeData;if(!r||i===Ma.NotCopilotIssue)return(e=(await cr.avatarCirclesAsImageDataUris(this._folderReposManager.context,[this.pullRequestModel.author],16,16))[0])!=null?e:new s.ThemeIcon("github");switch(i){case Ma.InProgress:return{light:cr.copilotInProgressAsImageDataURI(ko(r,"light"),Jh(r,"light")),dark:cr.copilotInProgressAsImageDataURI(ko(r,"dark"),Jh(r,"dark"))};case Ma.Done:return{light:cr.copilotSuccessAsImageDataURI(ko(r,"light"),em(r,"light")),dark:cr.copilotSuccessAsImageDataURI(ko(r,"dark"),em(r,"dark"))};case Ma.Error:return{light:cr.copilotErrorAsImageDataURI(ko(r,"light"),Xh(r,"light")),dark:cr.copilotErrorAsImageDataURI(ko(r,"dark"),Xh(r,"dark"))};default:return(t=(await cr.avatarCirclesAsImageDataUris(this._folderReposManager.context,[this.pullRequestModel.author],16,16))[0])!=null?t:new s.ThemeIcon("github")}}async getTreeItem(){var e,t;const i=this.pullRequestModel.equals(this._folderReposManager.activePullRequest),{title:r,number:a,author:o,isDraft:v,html_url:T}=this.pullRequestModel;let x=this.pullRequestModel.title.length>50?`${this.pullRequestModel.title.substring(0,50)}...`:this.pullRequestModel.title;en[this.pullRequestModel.author.login]&&(x=x.replace("[WIP]",""));const W=(e=o.specialDisplayName)!=null?e:o.login,te=this._notificationProvider.hasNotification(this.pullRequestModel),oe=a.toString();let fe=i?"\u2713 ":"";s.workspace.getConfiguration(tt).get(Kt,!1)&&(fe+=`#${oe}: `);const ye=`${fe}${v?"[DRAFT] ":""}${x}`,Pe=`by @${W}`,Ce={title:s.l10n.t("View Pull Request Description"),command:"pr.openDescription",arguments:[this]};return{label:ye,id:`${this.parent instanceof er?(t=this.parent.id)!=null?t:this.parent.label:""}${T}${this._isLocal?this.pullRequestModel.localBranchName:""}`,description:Pe,collapsibleState:1,contextValue:"pullrequest"+(this._isLocal?":local":"")+(i?":active":":nonactive")+(te?":notification":"")+(this.pullRequestModel.item.isRemoteHeadDeleted&&!this._isLocal||!this._folderReposManager.isPullRequestAssociatedWithOpenRepository(this.pullRequestModel)?"":":hasHeadRef"),iconPath:await this._getIcon(),accessibilityInformation:{label:`${v?"Draft ":""}Pull request number ${oe}: ${r} by ${W}`},resourceUri:Bu(this.pullRequestModel),command:Ce}}async provideCommentingRanges(e,t){if(e.uri.scheme===qt.Pr){const i=Nn(e.uri);if(!i||i.prNumber!==this.pullRequestModel.number)return;const r=(await this.getFileChanges()).find(a=>a.changeModel.fileName===i.fileName);return!r||r instanceof Ld?void 0:{ranges:sp(await r.changeModel.diffHunks(),i.isBase,Ac.ID),enableFileComments:!0}}}async provideDocumentContent(e){var t;const i=Nn(e);if(!i)return"";const r=(t=(await this.getFileChanges()).find(a=>a.changeModel.fileName===i.fileName))==null?void 0:t.changeModel;return r?Kd(this._folderReposManager,this.pullRequestModel,i,r):(y.appendLine(`Can not find content for document ${e.toString()}`,"PR"),"")}dispose(){super.dispose(),this._commentController=void 0}};Il(Cp,"ID","PRNode");let Ln=Cp;var e1=Object.defineProperty,t1=(n,e,t)=>e in n?e1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Zu=(n,e,t)=>t1(n,typeof e!="symbol"?e+"":e,t);class i1 extends er{constructor(e,t,i,r,a){var o;super(e),this.pullRequestManager=t,this.pullRequest=i,this.commit=r,this.isCurrent=a,Zu(this,"sha"),Zu(this,"collapsibleState"),Zu(this,"iconPath"),Zu(this,"contextValue"),this.label=r.commit.message,this.sha=r.sha,this.collapsibleState=s.TreeItemCollapsibleState.Collapsed,this.contextValue="commit",this.description=(o=r.commit.author)!=null&&o.date?ne(r.commit.author.date):void 0}async getTreeItem(){if(this.commit.author){const e={id:this.commit.author.node_id,login:this.commit.author.login,url:this.commit.author.url,avatarUrl:this.commit.author.avatar_url,accountType:this.commit.author.type};this.iconPath=(await cr.avatarCirclesAsImageDataUris(this.pullRequestManager.context,[e],16,16))[0]}return this}async getChildren(){var e;super.getChildren();const t=(e=await this.pullRequest.getCommitChangedFiles(this.commit))!=null?e:[];if(t.length===0)return[new op(this,"No changed files")];const i=t.map(o=>{const v=o.filename,T=Uw(v,this.commit.sha),x=new Ed(this.pullRequestManager,this.pullRequest,{status:Cs(o.status),fileName:v,blobUrl:void 0},na(T,v,void 0,this.commit.sha,!0,{base:!1},this.pullRequestManager.repository.rootUri),na(T,v,void 0,this.commit.sha,!0,{base:!0},this.pullRequestManager.repository.rootUri),this.commit.sha),W=new Do(this,this.pullRequestManager,this.pullRequest,x,this.isCurrent);return W.useViewChangesCommand(),W});let r=[];if(s.workspace.getConfiguration(tt).get(Rt)==="tree"){const o=new Ja(this,"");i.forEach(v=>o.addFile(v)),o.finalize(),o.label===""?r.push(...o._children):r.push(o)}else r=i;return this._children=r,r}}var n1=Object.defineProperty,r1=(n,e,t)=>e in n?n1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Qd=(n,e,t)=>r1(n,typeof e!="symbol"?e+"":e,t);class a1 extends er{constructor(e,t,i){super(e),Qd(this,"collapsibleState"),Qd(this,"_folderRepoManager"),Qd(this,"_pr"),this.label=s.l10n.t("Commits"),this._pr=i,this._folderRepoManager=t,this.collapsibleState=s.TreeItemCollapsibleState.Collapsed,this.childrenDisposables=[],this.childrenDisposables.push(this._pr.onDidChangeReviewThreads(()=>{y.appendLine("Review threads have changed, refreshing Commits node",P),this.refresh(this)})),this.childrenDisposables.push(this._pr.onDidChange(r=>{r.comments&&(y.appendLine("Comments have changed, refreshing Commits node",P),this.refresh(this))}))}getTreeItem(){return this}async getChildren(){super.getChildren();try{y.appendLine("Getting children for Commits node",P);const e=await this._pr.getCommits();return this._children=e.map((t,i)=>{var r;return new i1(this,this._folderRepoManager,this._pr,t,i===e.length-1&&((r=this._folderRepoManager.repository.state.HEAD)==null?void 0:r.commit)===t.sha)}),y.appendLine("Got all children for Commits node",P),this._children}catch{return[]}}}var s1=Object.defineProperty,o1=(n,e,t)=>e in n?s1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yd=(n,e,t)=>o1(n,typeof e!="symbol"?e+"":e,t);class l1 extends er{constructor(e,t,i){super(e),this._reviewModel=t,Yd(this,"label",s.l10n.t("Files")),Yd(this,"collapsibleState"),Yd(this,"directories",[]),this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.childrenDisposables=[],this.childrenDisposables.push(this._reviewModel.onDidChangeLocalFileChanges(()=>{y.appendLine("Local files have changed, refreshing Files node",P),this.refresh(this)})),this.childrenDisposables.push(i.onDidChangeReviewThreads(()=>{y.appendLine("Review threads have changed, refreshing Files node",P),this.refresh(this)})),this.childrenDisposables.push(i.onDidChange(r=>{r.comments&&(y.appendLine("Comments have changed, refreshing Files node",P),this.refresh(this))}))}getTreeItem(){return this}async getChildren(){if(super.getChildren(!1),y.appendLine("Getting children for Files node",P),!this._reviewModel.hasLocalFileChanges)return new Promise(r=>{const a=this._reviewModel.onDidChangeLocalFileChanges(()=>{r([]),a.dispose()})});if(this._reviewModel.localFileChanges.length===0)return[new op(this,s.l10n.t("No changed files"))];let e;const t=s.workspace.getConfiguration(tt).get(Rt),i=new Ja(this,"");if(this._reviewModel.localFileChanges.forEach(r=>i.addFile(r)),i.finalize(),i.label===""?this.directories=i._children:this.directories=[i],t==="tree")e=this.directories;else{const r=[...this._reviewModel.localFileChanges];r.sort((a,o)=>pe(a.fileChangeResourceUri.toString(),o.fileChangeResourceUri.toString())),e=r}return y.appendLine("Got all children for Files node",P),this._children=e,e}}var u1=Object.defineProperty,c1=(n,e,t)=>e in n?u1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xa=(n,e,t)=>c1(n,typeof e!="symbol"?e+"":e,t);class Fa extends er{constructor(e,t,i,r,a){super(e),this.parent=e,this.pullRequestModel=t,this._pullRequestManager=i,this._reviewModel=r,this._progress=a,Xa(this,"_filesCategoryNode"),Xa(this,"_commitsCategoryNode"),Xa(this,"command"),Xa(this,"contextValue"),Xa(this,"tooltip"),Xa(this,"iconPath"),Xa(this,"collapsibleState",s.TreeItemCollapsibleState.Expanded),Xa(this,"isLocal"),Xa(this,"repository"),this.isLocal=!0,this.repository=i.repository,this.label=t.title,this.command={title:s.l10n.t("View Pull Request Description"),command:"pr.openDescription",arguments:[this]},this.tooltip=s.l10n.t("Description of pull request #{0}",t.number),this.accessibilityInformation={label:s.l10n.t("Pull request page of pull request number {0}",t.number),role:"button"},this.getTreeItem(),this._register(s.window.onDidChangeActiveTextEditor(o=>{var v;if(s.workspace.getConfiguration(ze).get(_t)){const T=(v=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:v.input;if(T instanceof s.TabInputTextDiff&&T.original.scheme===qt.Review&&T.modified.scheme!==qt.Review&&T.original.path.startsWith("/commit"))return;const x=o==null?void 0:o.document.uri.toString();this.revealActiveEditorInTree(x)}})),this._register(this.parent.view.onDidChangeVisibility(o=>{var v;const T=(v=s.window.activeTextEditor)==null?void 0:v.document.uri.toString();this.revealActiveEditorInTree(T)})),this._register(this.pullRequestModel.onDidChange(o=>{(o.title||o.state)&&this.refresh()}))}revealActiveEditorInTree(e){if(this.parent.view.visible&&e){const t=this._reviewModel.localFileChanges.find(i=>i.changeModel.filePath.toString()===e);t&&this.reveal(t,{select:!0})}}async getChildren(){return await this._progress.progress,(!this._filesCategoryNode||!this._commitsCategoryNode)&&(y.appendLine(`Creating file and commit nodes for PR #${this.pullRequestModel.number}`,P),this._filesCategoryNode=new l1(this.parent,this._reviewModel,this.pullRequestModel),this._commitsCategoryNode=new a1(this.parent,this._pullRequestManager,this.pullRequestModel)),this._children=[this._filesCategoryNode,this._commitsCategoryNode],this._children}setLabel(){this.label=this.pullRequestModel.title,this.label.length>50&&(this.tooltip=this.label,this.label=`${this.label.substring(0,50)}...`)}async getTreeItem(){var e;return this.setLabel(),this.iconPath=(await cr.avatarCirclesAsImageDataUris(this._pullRequestManager.context,[this.pullRequestModel.author],16,16))[0],this.description=void 0,(e=this.parent.children)!=null&&e.length&&this.parent.children.length>1&&(this.parent.children.every(i=>i instanceof Fa&&i.pullRequestModel.remote.owner===this.pullRequestModel.remote.owner)?this.description=this.pullRequestModel.remote.repositoryName:this.description=`${this.pullRequestModel.remote.owner}/${this.pullRequestModel.remote.repositoryName}`),this.updateContextValue(),this}updateContextValue(){const e=this.pullRequestModel.equals(this._pullRequestManager.activePullRequest);this.contextValue="description"+(e?":active":":nonactive")+(this.pullRequestModel.hasChangesSinceLastReview?":hasChangesSinceReview":"")+(this.pullRequestModel.showChangesSinceReview?":showingChangesSinceReview":":showingAllChanges")+(this.pullRequestModel.item.isRemoteHeadDeleted&&!this.isLocal||!this._pullRequestManager.isPullRequestAssociatedWithOpenRepository(this.pullRequestModel)?"":":hasHeadRef")}}var Pp=Xt(48287).Buffer;const Ap=s.l10n.t("Stash changes"),Mp=s.l10n.t("Discard changes"),Ip=s.l10n.t("Try to checkout anyway and don't show again"),Dp=s.l10n.t("uncommitted changes warning"),Fp="showWarning";async function d1(n){if(xe(Dp,Fp)===!1)return!0;const e=n.state.workingTreeChanges.filter(a=>a.status!==yt.UNTRACKED),t=e.length>0,i=n.state.indexChanges.length>0;if(!t&&!i)return!0;const r=await s.window.showInformationMessage(s.l10n.t("You have uncommitted changes that might be overwritten by checking out this pull request."),{modal:!0,detail:s.l10n.t("Choose how to handle your uncommitted changes before checking out the pull request.")},Ap,Mp,Ip);if(!r)return!1;if(r===Ip)return Je(Dp,Fp,!1),!0;try{if(r===Ap){const a=[...e.map(o=>o.uri.fsPath),...n.state.indexChanges.map(o=>o.uri.fsPath)];a.length>0&&(await n.add(a),await s.commands.executeCommand("git.stash",n))}else if(r===Mp){const a=e.map(o=>o.uri.fsPath);a.length>0&&await n.clean(a)}return!0}catch(a){return s.window.showErrorMessage(s.l10n.t("Failed to handle uncommitted changes: {0}",we(a))),!1}}function Dl(n,e){if(e)return e instanceof Ln?e.pullRequestModel:e;if(!n.activePullRequest)throw s.window.showErrorMessage(s.l10n.t("Unable to find current pull request.")),new Error("Unable to find current pull request.");return n.activePullRequest}async function Fl(n,e,t,i,r,a=!0,o){const v=Dl(i,e);r&&(t==null||t.reveal(t,{select:!0,focus:!0})),v instanceof fn?await Jn.createOrShow(n,i.context.extensionUri,i,v,void 0,a):(await So.createOrShow(n,i.context.extensionUri,i,v),n.sendTelemetryEvent("issue.openDescription")),o!=null&&o.hasNotification(v)&&o.markPrNotificationsAsRead(v)}async function xa(n,e){n instanceof Ln||n instanceof Fa?s.commands.executeCommand("vscode.open",s.Uri.parse(n.pullRequestModel.html_url)):Cl(n)?s.commands.executeCommand("vscode.open",s.Uri.parse(n.model.html_url)):s.commands.executeCommand("vscode.open",s.Uri.parse(n.html_url)),e.sendTelemetryEvent("pr.openInGitHub")}async function f1(){const n=s.window.tabGroups,e=n.all.map(t=>t.tabs).flat();for(const t of e){const i=t.input instanceof s.TabInputTextDiff?t.input.original.scheme:t.input instanceof s.TabInputText?t.input.uri.scheme:void 0;(i&&i===qt.Pr||i===qt.Review)&&await n.close(t)}}function xp(n){return!!n.pullRequest}function h1(n,e,t,i,r,a){const o="RegisterCommands";n.subscriptions.push(s.commands.registerCommand("pr.openPullRequestOnGitHub",async Se=>{if(Se)xa(Se,i);else{const qe=e.folderManagers.map(Ge=>Ge.activePullRequest).filter(Ge=>!!Ge);if(qe.length>=1){const Ge=await ta(qe,it=>it.html_url);Ge&&xa(Ge,i)}}})),n.subscriptions.push(s.commands.registerCommand("notification.openOnGitHub",async Se=>{Se&&xa(Se,i)})),n.subscriptions.push(s.commands.registerCommand("pr.openAllDiffs",async()=>{const Se=e.folderManagers.filter(dt=>dt.activePullRequest).map(dt=>({activePr:dt.activePullRequest,folderManager:dt})),qe=Se.length>=1?await ta(Se,dt=>dt.activePr.html_url):Se[0];if(!qe)return;const{folderManager:Ge}=qe,it=Hr.getReviewManagerForFolderManager(t.reviewManagers,Ge);it&&it.reviewModel.localFileChanges.forEach(dt=>dt.openDiff(Ge,{preview:!1}))})),n.subscriptions.push(s.commands.registerCommand("review.suggestDiff",async Se=>{const qe="githubPullRequest.suggestDiffMessage";if(!n.globalState.get(qe,!1)){await n.globalState.update(qe,!0);const it=s.l10n.t("Open documentation");if(await s.window.showInformationMessage(s.l10n.t("You can now make suggestions from review comments, just like on GitHub.com. See the documentation for more details."),{modal:!0},it)===it)return s.env.openExternal(s.Uri.parse("https://github.com/microsoft/vscode-pull-request-github/blob/main/documentation/suggestAChange.md"))}try{const it=await ta(e.folderManagers,qa=>z.basename(qa.repository.rootUri.fsPath));if(!it||!it.activePullRequest)return;const{indexChanges:dt,workingTreeChanges:Et}=it.repository.state;if(!dt.length)if(Et.length){const qa=s.l10n.t("Yes");if(await s.window.showWarningMessage(s.l10n.t(`There are no staged changes to suggest.

Would you like to automatically stage all your of changes and suggest them?`),{modal:!0},qa)===qa)await s.commands.executeCommand("git.stageAll");else return}else{s.window.showInformationMessage(s.l10n.t("There are no changes to suggest."));return}const Jt=await it.repository.diff(!0);let _i=s.l10n.t(`Suggested edit:
`);Se&&Se.inputBox&&Se.inputBox.value&&(_i=`${Se.inputBox.value}
`,Se.inputBox.value="");const an=`${_i}\`\`\`diff
${Jt}
\`\`\``;await it.activePullRequest.createIssueComment(an),await s.commands.executeCommand("git.unstageAll");const Zi=z.join(it.repository.rootUri.fsPath,".git",`${it.activePullRequest.number}.diff`),ws=new TextEncoder,Un=s.Uri.file(Zi);await s.workspace.fs.writeFile(Un,ws.encode(Jt)),await it.repository.apply(Zi,!0),await s.workspace.fs.delete(Un)}catch(it){const dt=`${it}${it.stderr?`
${it.stderr}`:""}`;y.error(`Applying patch failed: ${dt}`,o),s.window.showErrorMessage(s.l10n.t("Applying patch failed: {0}",we(it)))}})),n.subscriptions.push(s.commands.registerCommand("pr.openFileOnGitHub",async Se=>{if(!(Se instanceof Ld&&!await s.window.showInformationMessage(s.l10n.t("{0} can't be opened locally. Do you want to open it on GitHub?",Se.changeModel.fileName),s.l10n.t("Open")))&&Se.changeModel.blobUrl)return s.commands.executeCommand("vscode.open",s.Uri.parse(Se.changeModel.blobUrl))})),n.subscriptions.push(s.commands.registerCommand("pr.copyCommitHash",Se=>{s.env.clipboard.writeText(Se.sha)})),n.subscriptions.push(s.commands.registerCommand("pr.openOriginalFile",async Se=>{const qe=e.getManagerForIssueModel(Se.pullRequest);if(qe){const Ge=await Ad(Se.changeModel.parentFilePath,qe.repository);s.commands.executeCommand("vscode.open",Ge||Se.changeModel.parentFilePath)}})),n.subscriptions.push(s.commands.registerCommand("pr.openModifiedFile",Se=>{let qe;const Ge=s.window.tabGroups.activeTabGroup.activeTab;Se?qe=Se.changeModel.filePath:(Ge==null?void 0:Ge.input)instanceof s.TabInputTextDiff&&(qe=Ge.input.modified),qe&&s.commands.executeCommand("vscode.open",qe,Ge==null?void 0:Ge.group.viewColumn)}));async function v(Se){var qe;if(Se&&!(Se instanceof s.Uri)){const Ge=e.getManagerForIssueModel(Se.pullRequest);return Ge?Se.openDiff(Ge):void 0}else if(Se||s.window.activeTextEditor){const Ge=Se instanceof s.Uri?s.window.visibleTextEditors.find(Zi=>Zi.document.uri.toString()===Se.toString()):s.window.activeTextEditor,it=Ge.visibleRanges,dt=e.getManagerForFile(Ge.document.uri);if(!(dt!=null&&dt.activePullRequest))return;const Et=Hr.getReviewManagerForFolderManager(t.reviewManagers,dt);if(!Et)return;const Jt=Et.reviewModel.localFileChanges.find(Zi=>Zi.resourceUri.with({query:""}).toString()===Ge.document.uri.toString());await(Jt==null?void 0:Jt.openDiff(dt));const _i=(qe=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:qe.input,an=_i instanceof s.TabInputTextDiff&&_i.modified.toString()===Ge.document.uri.toString()?s.window.activeTextEditor:void 0;an&&an.revealRange(it[0])}}n.subscriptions.push(s.commands.registerCommand("pr.openDiffView",Se=>v(Se))),n.subscriptions.push(s.commands.registerCommand("pr.openDiffViewFromEditor",Se=>v(Se))),n.subscriptions.push(s.commands.registerCommand("pr.deleteLocalBranch",async Se=>{var qe;const Ge=e.getManagerForIssueModel(Se.pullRequestModel);if(!Ge)return;const it=Dl(Ge,Se),dt="Delete Unmerged Branch";let Et=null;try{await Ge.deleteLocalPullRequest(it)}catch(Jt){if(Jt.gitErrorCode===vt.BranchNotFullyMerged){if(await s.window.showErrorMessage(s.l10n.t("The local branch '{0}' is not fully merged. Are you sure you want to delete it?",(qe=it.localBranchName)!=null?qe:"unknown branch"),dt)!==dt)return;try{await Ge.deleteLocalPullRequest(it,!0)}catch(an){Et=an}}else Et=Jt}Et?(i.sendTelemetryErrorEvent("pr.deleteLocalPullRequest.failure"),await s.window.showErrorMessage(`Deleting local pull request branch failed: ${Et}`)):(i.sendTelemetryEvent("pr.deleteLocalPullRequest.success"),s.commands.executeCommand("pr.refreshList"))}));function T(Se){if(Se){const qe=s.Uri.file(Se).toString();for(const Ge of t.reviewManagers)if(Ge.repository.rootUri.toString()===qe)return Ge}return ta(t.reviewManagers,qe=>z.basename(qe.repository.rootUri.fsPath),{placeHolder:s.l10n.t("Choose a repository to create a pull request in"),ignoreFocusOut:!0})}function x(Se){return!!(Se!=null&&Se.rootUri)}n.subscriptions.push(s.commands.registerCommand("pr.create",async Se=>{var qe,Ge;x(Se)?(qe=await T(Se.rootUri.fsPath))==null||qe.createPullRequest():(Ge=await T(Se==null?void 0:Se.repoPath))==null||Ge.createPullRequest(Se==null?void 0:Se.compareBranch)})),n.subscriptions.push(s.commands.registerCommand("pr.pushAndCreate",async Se=>{var qe;if(x(Se)){const Ge=await T(Se.rootUri.fsPath),it=e.getManagerForFile(Se.rootUri);let dt=!0;if(it!=null&&it.activePullRequest){const Et=s.l10n.t("Push");if(await s.window.showInformationMessage(s.l10n.t("You already have a pull request for this branch. Do you want to push your changes to the remote branch?"),{modal:!0},Et)!==Et)return;dt=!1}Ge&&((qe=Se.state.HEAD)!=null&&qe.upstream&&await Se.push(),dt&&Ge.createPullRequest())}}));const W=async(Se,qe,Ge,it)=>{const dt=Ge||Se.repository;if(await d1(dt))return i.sendTelemetryEvent("pr.checkout",{fromDescription:it.toString()}),s.window.withProgress({location:s.ProgressLocation.SourceControl,title:s.l10n.t("Switching to Pull Request #{0}",qe.number)},async()=>{var Jt;await((Jt=Hr.getReviewManagerForRepository(t.reviewManagers,qe.githubRepository,Ge))==null?void 0:Jt.switch(qe))})};n.subscriptions.push(s.commands.registerCommand("pr.pick",async Se=>{if(Se===void 0)return y.error("Unexpectedly received undefined when picking a PR.",o),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let qe,Ge;Se instanceof Ln||Se instanceof Fa?(qe=Se.pullRequestModel,Ge=Se.repository):qe=Se;const it=e.getManagerForIssueModel(qe);if(!it)return s.window.showErrorMessage(s.l10n.t("Unable to find repository for this pull request."));const dt=Se instanceof fn;return W(it,qe,Ge,dt)}));const te=async Se=>{var qe;if(!Se)return;const Ge=(qe=e.getManagerForRepository(Se.owner,Se.repo))!=null?qe:e.folderManagers[0];if(!Ge)return;const it=await Ge.resolvePullRequest(Se.owner,Se.repo,Se.number,!0);if(it)return{folderManager:Ge,pr:it}},oe=async(Se,qe)=>{let Ge;try{if(Ge=await qe.getPatch(),!Ge.trim()){s.window.showErrorMessage(s.l10n.t("No patch data available for pull request #{0}",qe.number.toString()));return}const it=z.join(Se.repository.rootUri.fsPath,".git",`pr-${qe.number}.patch`),dt=new TextEncoder,Et=s.Uri.file(it);await s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Applying changes from pull request #{0}",qe.number.toString()),cancellable:!1},async Jt=>{await s.workspace.fs.writeFile(Et,dt.encode(Ge));try{await Se.repository.apply(it,!1),Jt.report({message:s.l10n.t("Successfully applied changes from pull request #{0}",qe.number.toString()),increment:100})}finally{await s.workspace.fs.delete(Et)}})}catch(it){const dt=we(it);y.error(`Failed to apply PR changes: ${dt}`,"Commands");const Et=s.l10n.t("Copy git apply");if(await s.window.showErrorMessage(s.l10n.t("Failed to apply changes from pull request: {0}",dt),Et)===Et)if(Ge){const _i=`git apply --3way <<'EOF'
${Ge}
EOF`;await s.env.clipboard.writeText(_i),s.window.showInformationMessage(s.l10n.t("Git apply command copied to clipboard"))}else s.window.showErrorMessage(s.l10n.t("Unable to copy git apply command - patch content is not available"))}};function fe(Se){return!!Se.path}n.subscriptions.push(s.commands.registerCommand("pr.checkoutFromDescription",async Se=>{if(!Se)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for checkout."));if(fe(Se)){const{path:Ge}=Se,it=Number(Pp.from(Ge.substring(1),"base64").toString("utf8"));if(Number.isNaN(it))return s.window.showErrorMessage(s.l10n.t("Unable to parse pull request number."));const dt=e.folderManagers[0],Et=await dt.fetchById(dt.gitHubRepositories[0],Number(it));return Et?W(dt,Et,dt.repository,!0):s.window.showErrorMessage(s.l10n.t("Unable to find pull request #{0}",it.toString()))}const qe=await te(Se);return qe?W(qe.folderManager,qe.pr,qe.folderManager.repository,!0):s.window.showErrorMessage(s.l10n.t("Unable to resolve pull request for checkout."))})),n.subscriptions.push(s.commands.registerCommand("pr.applyChangesFromDescription",async Se=>{if(!Se)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for applying changes."));if(fe(Se)){const{path:Ge}=Se,it=Number(Pp.from(Ge.substring(1),"base64").toString("utf8"));if(Number.isNaN(it))return s.window.showErrorMessage(s.l10n.t("Unable to parse pull request number."));const dt=e.folderManagers[0],Et=await dt.fetchById(dt.gitHubRepositories[0],Number(it));return Et?oe(dt,Et):s.window.showErrorMessage(s.l10n.t("Unable to find pull request #{0}",it.toString()))}const qe=await te(Se);return qe?oe(qe.folderManager,qe.pr):s.window.showErrorMessage(s.l10n.t("Unable to resolve pull request for applying changes."))})),n.subscriptions.push(s.commands.registerCommand("pr.openChanges",async Se=>{if(Se===void 0)return y.error("Unexpectedly received undefined when picking a PR.",o),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let qe;if(Se instanceof Ln||Se instanceof Fa)qe=Se.pullRequestModel;else if(Se instanceof fn)qe=Se;else if(xp(Se))qe=Se.pullRequest;else{const it=await te(Se);qe=it==null?void 0:it.pr}if(!qe)return s.window.showErrorMessage(s.l10n.t("No pull request found to open changes."));const Ge=e.getManagerForIssueModel(qe);if(Ge)return fn.openChanges(Ge,qe)}));let ye=!1;n.subscriptions.push(s.commands.registerCommand("pr.checkoutFromReadonlyFile",async()=>{var Se,qe;const Ge=(Se=s.window.activeTextEditor)==null?void 0:Se.document.uri;if((Ge==null?void 0:Ge.scheme)!==qt.Pr)return;const it=Nn(Ge);if(it===void 0)return;let dt;const Et=e.folderManagers.find(_i=>(dt=_i.gitHubRepositories.find(an=>an.remote.remoteName===it.remoteName),!!dt));if(!Et||!dt)return;const Jt=await s.window.withProgress({location:s.ProgressLocation.Window},()=>Et.fetchById(dt,Number(it.prNumber)));if(Jt&&!ye){ye=!0;try{await((qe=Hr.getReviewManagerForFolderManager(t.reviewManagers,Et))==null?void 0:qe.switch(Jt))}catch(_i){s.window.showErrorMessage(s.l10n.t("Unable to check out pull request from read-only file: {0}",_i instanceof Error?_i.message:"unknown"))}ye=!1}})),n.subscriptions.push(s.commands.registerCommand("pr.pickOnVscodeDev",async Se=>{if(Se===void 0)return y.error("Unexpectedly received undefined when picking a PR.",o),s.window.showErrorMessage(s.l10n.t("No pull request was selected to checkout, please try again."));let qe;return Se instanceof Ln||Se instanceof Fa?qe=Se.pullRequestModel:qe=Se,s.env.openExternal(s.Uri.parse(Fu(qe)))})),n.subscriptions.push(s.commands.registerCommand("pr.checkoutOnVscodeDevFromDescription",async Se=>{if(!Se)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for checkout."));const qe=await te(Se);return qe?s.env.openExternal(s.Uri.parse(Fu(qe.pr))):s.window.showErrorMessage(s.l10n.t("Unable to resolve pull request for checkout."))})),n.subscriptions.push(s.commands.registerCommand("pr.openSessionLogFromDescription",async Se=>{var qe;if(!Se)return s.window.showErrorMessage(s.l10n.t("No pull request context provided for checkout."));const Ge=await te({...Se,number:Se.pullNumber});return Ge?(qe=vd.instance)==null?void 0:qe.openForPull(Ge.pr,Se,Se.openToTheSide):s.window.showErrorMessage(s.l10n.t("Unable to resolve pull request for checkout."))})),n.subscriptions.push(s.commands.registerCommand("pr.exit",async Se=>{let qe;if(Se instanceof Ln||Se instanceof Fa?qe=Se.pullRequestModel:Se===void 0?qe=await ta(e.folderManagers.map(it=>it.activePullRequest).filter(it=>!!it),it=>`${it.number}: ${it.title}`,{placeHolder:s.l10n.t("Choose the pull request to exit")}):qe=Se,!qe)return;const Ge=Se instanceof fn;return i.sendTelemetryEvent("pr.exit",{fromDescription:Ge.toString()}),s.window.withProgress({location:s.ProgressLocation.SourceControl,title:s.l10n.t("Exiting Pull Request")},async()=>{var it;const dt=await qe.githubRepository.getDefaultBranch(),Et=e.getManagerForIssueModel(qe);if(Et){const Jt=(it=Et.repository.state.HEAD)==null?void 0:it.name;await Et.checkoutDefaultBranch(dt),Jt&&await Et.cleanupAfterPullRequest(Jt,qe)}})})),n.subscriptions.push(s.commands.registerCommand("pr.merge",async Se=>{const qe=e.getManagerForIssueModel(Se==null?void 0:Se.pullRequestModel);if(!qe)return;const Ge=Dl(qe,Se);if(Ge.base&&Ge.head&&!Ge.base.repositoryCloneUrl.equals(Ge.head.repositoryCloneUrl)&&Du())return xa(Ge,i);const Et=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to merge this pull request on GitHub?"),{modal:!0},Et).then(async Jt=>{let _i;if(Jt===Et)try{return _i=await qe.mergePullRequest(Ge),_i}catch(an){return s.window.showErrorMessage(`Unable to merge pull request. ${we(an)}`),_i}})})),n.subscriptions.push(s.commands.registerCommand("pr.readyForReview",async Se=>{const qe=e.getManagerForIssueModel(Se==null?void 0:Se.pullRequestModel);if(!qe)return;const Ge=Dl(qe,Se),it=s.l10n.t("Yes");return s.window.showWarningMessage(s.l10n.t("Are you sure you want to mark this pull request as ready to review on GitHub?"),{modal:!0},it).then(async dt=>{let Et;if(dt===it)try{return Et=(await Ge.setReadyForReview()).isDraft,Et}catch(Jt){return s.window.showErrorMessage(`Unable to mark pull request as ready to review. ${we(Jt)}`),Et}})})),n.subscriptions.push(s.commands.registerCommand("pr.dismissNotification",Se=>{Se instanceof Ln&&r.notificationProvider.markPrNotificationsAsRead(Se.pullRequestModel).then(()=>r.refresh(Se))}));async function Pe(Se){var qe,Ge;let it;if(Se)Se instanceof Fa||Se instanceof Ln?it=Se.pullRequestModel:xp(Se)?it=Se.pullRequest:it=Se;else{const _i=e.folderManagers.map(an=>an.activePullRequest).filter(an=>!!an);_i.length>=1&&(it=await ta(_i,an=>an.title))}if(!it){y.appendLine("No pull request found.",o);return}const dt=(qe=e.getManagerForIssueModel(it))!=null?qe:e.folderManagers[0];let Et;if(Se instanceof Ln)Et=Se;else if(it instanceof fn&&((Ge=dt.activePullRequest)!=null&&Ge.equals(it))){const _i=Hr.getReviewManagerForFolderManager(t.reviewManagers,dt);if(!_i)return;Et=_i.changesInPrDataProvider.getDescriptionNode(dt)}const Jt=!(Se instanceof Ln);await Fl(i,it,Et,dt,Jt,!(Se instanceof Fa),r.notificationProvider)}async function Ce(Se){const qe=Se.pullRequest;if(!qe){y.warn("No pull request found in chat session",o);return}const Ge=e.getManagerForRepository(qe.githubRepository.remote.owner,qe.githubRepository.remote.repositoryName);return Ge?W(Ge,qe,Ge.repository,!1):(y.warn(`No folder manager found for pull request ${qe.number}`,o),s.window.showErrorMessage(s.l10n.t("Unable to find repository for pull request #{0}",qe.number.toString())))}async function De(Se){const qe=Se.pullRequest;if(!qe){y.warn("No pull request found in chat session",o);return}qe.close(),a.refreshChatSessions()}async function Le(Se){const qe=Se.pullRequest;if(!qe){y.warn("No pull request found in chat session",o);return}a.cancelMostRecentChatSession(qe)}n.subscriptions.push(s.commands.registerCommand("pr.checkoutChatSessionPullRequest",Ce)),n.subscriptions.push(s.commands.registerCommand("pr.closeChatSessionPullRequest",De)),n.subscriptions.push(s.commands.registerCommand("pr.cancelCodingAgent",Le)),n.subscriptions.push(s.commands.registerCommand("pr.openDescription",Pe)),n.subscriptions.push(s.commands.registerCommand("issue.openDescription",Pe)),n.subscriptions.push(s.commands.registerCommand("pr.refreshDescription",async()=>{Jn.currentPanel&&Jn.refresh()})),n.subscriptions.push(s.commands.registerCommand("pr.focusDescriptionInput",async()=>{Jn.currentPanel&&Jn.scrollToReview()})),n.subscriptions.push(s.commands.registerCommand("pr.openDescriptionToTheSide",async Se=>{const qe=e.getManagerForIssueModel(Se.pullRequestModel);if(!qe)return;const Ge=Se.pullRequestModel,it=Dl(qe,Ge);Se.reveal(Se,{select:!0,focus:!0}),Jn.createOrShow(i,n.extensionUri,qe,it,!0),i.sendTelemetryEvent("pr.openDescriptionToTheSide")})),n.subscriptions.push(s.commands.registerCommand("pr.showDiffSinceLastReview",async Se=>{Se.pullRequestModel.showChangesSinceReview=!0})),n.subscriptions.push(s.commands.registerCommand("pr.showDiffAll",async Se=>{Se.pullRequestModel.showChangesSinceReview=!1})),n.subscriptions.push(s.commands.registerCommand("pr.signin",async()=>{await e.authenticate()})),n.subscriptions.push(s.commands.registerCommand("pr.signinNoEnterprise",async()=>{await e.authenticate(!1)})),n.subscriptions.push(s.commands.registerCommand("pr.signinenterprise",async()=>{await e.authenticate(!0)})),n.subscriptions.push(s.commands.registerCommand("pr.deleteLocalBranchesNRemotes",async()=>{for(const Se of e.folderManagers)await Se.deleteLocalBranchesNRemotes()})),n.subscriptions.push(s.commands.registerCommand("pr.signinAndRefreshList",async()=>{await e.authenticate()&&s.commands.executeCommand("pr.refreshList")})),n.subscriptions.push(s.commands.registerCommand("pr.configureRemotes",async()=>s.commands.executeCommand("workbench.action.openSettings",`@ext:${bn} remotes`))),n.subscriptions.push(s.commands.registerCommand("pr.startReview",async Se=>{i.sendTelemetryEvent("pr.startReview");const qe=vn(Se.thread);qe&&qe.startReview(Se.thread,Se.text)})),n.subscriptions.push(s.commands.registerCommand("pr.openReview",async Se=>{i.sendTelemetryEvent("pr.openReview");const qe=vn(Se);qe&&await qe.openReview(Se)}));function $e(Se){let qe,Ge="";return Se instanceof Hn?qe=Se.parent:Tt.is(Se)||cd.is(Se==null?void 0:Se.thread)?qe=Se.thread:qe=Se,{thread:qe,text:Ge}}const Ze=async(Se,qe,Ge)=>{if(qe?i.sendTelemetryEvent("pr.resolveReviewThread"):i.sendTelemetryEvent("pr.unresolveReviewThread"),!Se){const Jt=Zt();if(!Jt){s.window.showErrorMessage(s.l10n.t("No active comment thread found"));return}Se=Jt.commentController.activeCommentThread}const{thread:it,text:dt}=$e(Se),Et=vn(it);Et&&(qe?await Et.resolveReviewThread(it,dt):(await Et.unresolveReviewThread(it,dt),Ge&&it.reveal(void 0,{focus:s.CommentThreadFocus.Reply})))};n.subscriptions.push(s.commands.registerCommand("pr.resolveReviewThread",async Se=>Ze(Se,!0))),n.subscriptions.push(s.commands.registerCommand("pr.unresolveReviewThread",Se=>Ze(Se,!1,!1))),n.subscriptions.push(s.commands.registerCommand("pr.unresolveReviewThreadFromView",Se=>Ze(Se,!1,!0)));const rt=Se=>{const{path:qe,rootPath:Ge}=da(Se.query),it=s.workspace.workspaceFolders[0];return s.Uri.joinPath(s.Uri.file(Ge),qe).with({scheme:it.uri.scheme,authority:it.uri.authority})};n.subscriptions.push(s.commands.registerCommand("pr.diffOutdatedCommentWithHead",async Se=>{i.sendTelemetryEvent("pr.diffOutdatedCommentWithHead");const qe={};qe.selection=Se.range;const Ge=z.basename(Se.uri.fsPath),{commit:it}=da(Se.uri.query);s.commands.executeCommand("vscode.diff",Se.uri,rt(Se.uri),`${Ge} from ${(it||"").substr(0,8)} diffed with HEAD`,qe)})),n.subscriptions.push(s.commands.registerCommand("pr.createComment",async Se=>{i.sendTelemetryEvent("pr.createComment");const qe=vn(Se.thread);qe&&qe.createOrReplyComment(Se.thread,Se.text,!1)})),n.subscriptions.push(s.commands.registerCommand("pr.createSingleComment",async Se=>{i.sendTelemetryEvent("pr.createSingleComment");const qe=vn(Se.thread);qe&&qe.createOrReplyComment(Se.thread,Se.text,!0)})),n.subscriptions.push(s.commands.registerCommand("pr.makeSuggestion",async Se=>{var qe,Ge;let it;if(Se===void 0?it=(qe=Zt())==null?void 0:qe.commentController.activeCommentThread:it=Se instanceof Hn?Se.parent:Se==null?void 0:Se.thread,!(it!=null&&it.range))return;const dt=it,Et=((Ge=s.window.activeTextEditor)==null?void 0:Ge.document.uri.scheme)===qt.Comment?s.window.activeTextEditor:s.window.visibleTextEditors.find(Zi=>Zi.document.uri.scheme===qt.Comment&&Zi.document.uri.query==="");if(!Et){y.error("No comment editor visible for making a suggestion.",o),s.window.showErrorMessage(s.l10n.t("No available comment editor to make a suggestion in."));return}const Jt=s.window.visibleTextEditors.find(Zi=>Zi.document.uri.toString()===dt.uri.toString()),_i=Jt==null?void 0:Jt.document.getText(new s.Range(dt.range.start.line,0,dt.range.end.line,Jt.document.lineAt(dt.range.end.line).text.length)),an=Et.document.lineAt(Et.selection.end.line).range.end;return Et.edit(Zi=>{Zi.insert(an,`
\`\`\`suggestion
${_i}
\`\`\``)})})),n.subscriptions.push(s.commands.registerCommand("pr.editComment",async Se=>{i.sendTelemetryEvent("pr.editComment"),Se.startEdit()})),n.subscriptions.push(s.commands.registerCommand("pr.editQuery",Se=>{if(i.sendTelemetryEvent("pr.editQuery"),Se.label!==void 0)return Dt(tt,Se.label)})),n.subscriptions.push(s.commands.registerCommand("pr.cancelEditComment",async Se=>{i.sendTelemetryEvent("pr.cancelEditComment"),Se.cancelEdit()})),n.subscriptions.push(s.commands.registerCommand("pr.saveComment",async Se=>{i.sendTelemetryEvent("pr.saveComment");const qe=vn(Se.parent);qe&&await qe.editComment(Se.parent,Se)})),n.subscriptions.push(s.commands.registerCommand("pr.deleteComment",async Se=>{i.sendTelemetryEvent("pr.deleteComment");const qe=s.l10n.t("Delete");if(await s.window.showWarningMessage(s.l10n.t("Are you sure you want to delete this comment?"),{modal:!0},qe)===qe){const it=vn(Se.parent);it&&await it.deleteComment(Se.parent,Se)}})),n.subscriptions.push(s.commands.registerCommand("review.openFile",Se=>{var qe;const Ge=Se instanceof Do?Se.openFileCommand():Hu(Se);s.commands.executeCommand(Ge.command,...(qe=Ge.arguments)!=null?qe:[])})),n.subscriptions.push(s.commands.registerCommand("review.openLocalFile",Se=>{var qe,Ge;const it=Se!=null?Se:(qe=s.window.activeTextEditor)==null?void 0:qe.document.uri;if(!it)return;const dt=rt(it),Et=s.window.visibleTextEditors.find(_i=>_i.document.uri.toString()===it.toString()),Jt=Hu(dt,Et?{selection:Et.selection}:void 0);s.commands.executeCommand(Jt.command,...(Ge=Jt.arguments)!=null?Ge:[])})),n.subscriptions.push(s.commands.registerCommand("review.createSuggestionsFromChanges",async(Se,...qe)=>{let Ge;const it=Se;if(it.resourceStates?Ge=it.resourceStates.map(Jt=>Jt.resourceUri):(Ge=[Se.resourceUri],qe&&Ge.push(...qe.map(_i=>_i.resourceUri))),Ge.length===0)return;const dt=e.getManagerForFile(Ge[0]);if(!dt||!dt.activePullRequest)return;const Et=Hr.getReviewManagerForFolderManager(t.reviewManagers,dt);return Et==null?void 0:Et.createSuggestionsFromChanges(Ge)})),n.subscriptions.push(s.commands.registerDiffInformationCommand("review.createSuggestionFromChange",async Se=>{const qe=s.window.tabGroups.activeTabGroup.activeTab,Ge=qe==null?void 0:qe.input;if(!(Ge instanceof s.TabInputTextDiff))return s.window.showErrorMessage(s.l10n.t("Current editor isn't a diff editor."));if(Ge.original.scheme!==qt.Git)return s.window.showErrorMessage(s.l10n.t("Converting changes to suggestions can only be done from a git diff, not a pull request diff"),{modal:!0});const it=s.window.visibleTextEditors.find(an=>an.document.uri.toString()===Ge.modified.toString());if(!it)return s.window.showErrorMessage(s.l10n.t("Unexpectedly unable to find the current modified editor."));const dt=e.getManagerForFile(Ge.modified);if(!dt||!dt.activePullRequest)return;const Et=it.selection,Jt=Se.filter(an=>!!Et.intersection(new s.Selection(an.modifiedStartLineNumber-1,0,an.modifiedEndLineNumber-1,100)));if(Jt.length===0)return s.window.showErrorMessage(s.l10n.t("No modified lines selected."));const _i=Hr.getReviewManagerForFolderManager(t.reviewManagers,dt);return _i==null?void 0:_i.createSuggestionFromChange(it.document,Jt)})),n.subscriptions.push(s.commands.registerCommand("pr.refreshChanges",Se=>{t.reviewManagers.forEach(qe=>{s.window.withProgress({location:{viewId:"prStatus:github"}},async()=>{await Promise.all([qe.repository.pull(!1),qe.updateComments()])})})})),n.subscriptions.push(s.commands.registerCommand("pr.setFileListLayoutAsTree",Se=>{s.workspace.getConfiguration(tt).update(Rt,"tree",!0)})),n.subscriptions.push(s.commands.registerCommand("pr.setFileListLayoutAsFlat",Se=>{s.workspace.getConfiguration(tt).update(Rt,"flat",!0)})),n.subscriptions.push(s.commands.registerCommand("pr.refreshPullRequest",Se=>{var qe;const Ge=e.getManagerForIssueModel(Se.pullRequestModel);Ge&&Se.pullRequestModel.equals(Ge==null?void 0:Ge.activePullRequest)&&((qe=Hr.getReviewManagerForFolderManager(t.reviewManagers,Ge))==null||qe.updateComments()),Jn.refresh()}));const Ve=(Se,qe)=>{var Ge;if(qe.scheme===qt.Pr){const it=Nn(qe);if(it)for(const dt of(Ge=Se==null?void 0:Se.gitHubRepositories)!=null?Ge:[]){const Et=Number(it.prNumber);return dt.getExistingPullRequestModel(Et)}}else return Se==null?void 0:Se.activePullRequest};n.subscriptions.push(s.commands.registerCommand("pr.markFileAsViewed",async Se=>{var qe;try{if(Se===void 0&&(Se=(qe=s.window.activeTextEditor)==null?void 0:qe.document.uri),Se instanceof zs)await Se.markFileAsViewed(!1);else if(Se){const Ge=s.window.tabGroups.activeTabGroup.activeTab;if(Ge){let Et;Ge.input instanceof s.TabInputTextDiff?Et=Ge.input.modified:Ge.input instanceof s.TabInputText&&(Et=Ge.input.uri),Et&&Se.toString()===Et.toString()&&s.window.tabGroups.close(Ge)}const it=e.getManagerForFile(Se),dt=Ve(it,Se);await(dt==null?void 0:dt.markFiles([Se.path],!0,"viewed")),it==null||it.setFileViewedContext()}}catch(Ge){s.window.showErrorMessage(`Marked file as viewed failed: ${Ge}`)}})),n.subscriptions.push(s.commands.registerCommand("pr.unmarkFileAsViewed",async Se=>{var qe;try{if(Se===void 0&&(Se=(qe=s.window.activeTextEditor)==null?void 0:qe.document.uri),Se instanceof zs)Se.unmarkFileAsViewed(!1);else if(Se){const Ge=e.getManagerForFile(Se),it=Ve(Ge,Se);await(it==null?void 0:it.markFiles([Se.path],!0,"unviewed")),Ge==null||Ge.setFileViewedContext()}}catch(Ge){s.window.showErrorMessage(`Marked file as not viewed failed: ${Ge}`)}})),n.subscriptions.push(s.commands.registerCommand("pr.resetViewedFiles",async()=>{try{return e.folderManagers.map(async Se=>{var qe;await((qe=Se.activePullRequest)==null?void 0:qe.unmarkAllFilesAsViewed()),Se.setFileViewedContext()})}catch(Se){s.window.showErrorMessage(`Marked file as not viewed failed: ${Se}`)}})),n.subscriptions.push(s.commands.registerCommand("pr.collapseAllComments",()=>s.commands.executeCommand("workbench.action.collapseAllComments"))),n.subscriptions.push(s.commands.registerCommand("pr.copyCommentLink",Se=>{if(Se instanceof Hn)return s.env.clipboard.writeText(Se.rawComment.htmlUrl)})),n.subscriptions.push(s.commands.registerCommand("pr.copyVscodeDevPrLink",async Se=>{var qe;let Ge;if(Se)Ge=await((qe=e.getManagerForRepository(Se.owner,Se.repo))==null?void 0:qe.resolvePullRequest(Se.owner,Se.repo,Se.number,!0));else{const it=e.folderManagers.map(dt=>dt.activePullRequest).filter(dt=>!!dt);Ge=await ta(it,dt=>`${dt.number}: ${dt.title}`,{placeHolder:s.l10n.t("Pull request to create a link for")})}if(Ge)return s.env.clipboard.writeText(Fu(Ge))})),n.subscriptions.push(s.commands.registerCommand("pr.copyPrLink",async Se=>{var qe;let Ge;if(Se&&(Ge=await((qe=e.getManagerForRepository(Se.owner,Se.repo))==null?void 0:qe.resolvePullRequest(Se.owner,Se.repo,Se.number,!0))),Ge)return s.env.clipboard.writeText(Ge.html_url)}));function We(Se,qe,Ge){const it=/^#?(\d*)$/,dt=Se.match(it);if(dt&&dt.length===2&&!Number.isNaN(Number(dt[1]))){const _i=Number(dt[1]);if(_i>0)return{isValid:!0,prNumber:_i}}const Et=Se.match(hs),Jt=$s(Et);return Jt&&Jt.issueNumber&&Jt.issueNumber>0?Jt.owner&&Jt.name&&(Jt.owner!==qe||Jt.name!==Ge)?{isValid:!1,errorMessage:s.l10n.t("Repository in URL does not match the selected repository")}:{isValid:!0,prNumber:Jt.issueNumber}:{isValid:!1,errorMessage:s.l10n.t("Value must be a pull request number or GitHub URL")}}n.subscriptions.push(s.commands.registerCommand("pr.checkoutByNumber",async()=>{var Se;const qe=[];for(const Jt of e.folderManagers){const _i=await Jt.getActiveGitHubRemotes(await Jt.getGitHubRemotes()),an=Jt.gitHubRepositories.filter(Zi=>_i.find(ws=>ws.remoteName===Zi.remote.remoteName));qe.push(...an.map(Zi=>({manager:Jt,repo:Zi})))}const Ge=await ta(qe,Jt=>`${Jt.repo.remote.owner}/${Jt.repo.remote.repositoryName}`,{placeHolder:s.l10n.t("Which GitHub repository do you want to checkout the pull request from?")});if(!Ge)return;const it=await s.window.showInputBox({ignoreFocusOut:!0,prompt:s.l10n.t("Enter the pull request number or URL"),validateInput:Jt=>{const _i=We(Jt,Ge.repo.remote.owner,Ge.repo.remote.repositoryName);return _i.isValid?void 0:_i.errorMessage}});if(it===void 0||it==="#")return;const dt=We(it,Ge.repo.remote.owner,Ge.repo.remote.repositoryName);if(!dt.isValid)return s.window.showErrorMessage(dt.errorMessage||s.l10n.t("Invalid pull request number or URL"));const Et=await Ge.manager.fetchById(Ge.repo,dt.prNumber);if(Et)return(Se=Hr.getReviewManagerForFolderManager(t.reviewManagers,Ge.manager))==null?void 0:Se.switch(Et)}));function ct(){const Se=[];return e.folderManagers.forEach(qe=>{Se.push(...qe.gitHubRepositories)}),ta(Se,qe=>`${qe.remote.owner}/${qe.remote.repositoryName}`,{placeHolder:s.l10n.t("Which GitHub repository do you want to open?")})}n.subscriptions.push(s.commands.registerCommand("pr.openPullsWebsite",async()=>{const Se=await ct();Se&&s.env.openExternal(aw(Se))})),n.subscriptions.push(s.commands.registerCommand("issues.openIssuesWebsite",async()=>{const Se=await ct();Se&&s.env.openExternal(sw(Se))})),n.subscriptions.push(s.commands.registerCommand("pr.applySuggestion",async Se=>{i.sendTelemetryEvent("pr.applySuggestion");const qe=vn(Se.parent);qe instanceof lp&&qe.applySuggestion(Se)})),n.subscriptions.push(s.commands.registerCommand("githubpr.remoteAgent",async Se=>await a.commandImpl(Se))),n.subscriptions.push(s.commands.registerCommand("pr.applySuggestionWithCopilot",async Se=>{i.sendTelemetryEvent("pr.applySuggestionWithCopilot");const qe=Se.parent;qe.collapsibleState=s.CommentThreadCollapsibleState.Collapsed;const Ge=Se.body instanceof s.MarkdownString?Se.body.value:Se.body;await s.commands.executeCommand("vscode.editorChat.start",{initialRange:qe.range,message:Ge,autoSend:!0})})),n.subscriptions.push(s.commands.registerCommand("pr.addFileComment",async()=>s.commands.executeCommand("workbench.action.addComment",{fileComment:!0}))),n.subscriptions.push(s.commands.registerCommand("pr.toggleEditorCommentingOn",async()=>{ei.executeCommand("workbench.action.toggleCommenting")})),n.subscriptions.push(s.commands.registerCommand("pr.toggleEditorCommentingOff",async()=>{ei.executeCommand("workbench.action.toggleCommenting")})),n.subscriptions.push(s.commands.registerCommand("review.diffWithPrHead",async Se=>{const qe=Se.fileName;let Ge=Za(Se.resourceUri,Se.pullRequest,Se.pullRequest.base.sha,Se.pullRequest.head.sha,Se.fileName,!0,Se.status),it=Za(Se.resourceUri,Se.pullRequest,Se.pullRequest.base.sha,Se.pullRequest.head.sha,Se.fileName,!1,Se.status);return s.commands.executeCommand("vscode.diff",Ge,it,`${qe} (Pull Request Compare Base with Head)`)})),n.subscriptions.push(s.commands.registerCommand("review.diffLocalWithPrHead",async Se=>{const qe=Se.fileName;let Ge=Za(Se.resourceUri,Se.pullRequest,Se.pullRequest.base.sha,Se.pullRequest.head.sha,Se.fileName,!1,Se.status);return s.commands.executeCommand("vscode.diff",Ge,Se.resourceUri,`${qe} (Pull Request Compare Head with Local)`)}));async function jt(Se,qe){const Ge=s.window.tabGroups.activeTabGroup.activeTab,it=Ge==null?void 0:Ge.input;if(!(it instanceof s.TabInputTextDiff))return s.window.showErrorMessage(s.l10n.t("Current editor isn't a diff editor."));const dt=s.window.visibleTextEditors.find(Un=>Un.document.uri.toString()===it.modified.toString());if(!dt)return s.window.showErrorMessage(s.l10n.t("Unexpectedly unable to find the current modified editor."));const Et=dt.document.uri;if(it.original.scheme!==qt.Review&&it.original.scheme!==qt.Pr)return s.window.showErrorMessage(s.l10n.t("Current file isn't a pull request diff."));const Jt=dt.selection.active,_i=qe?Se:Se.reverse();for(const Un of _i){const qa=Un.modifiedEndLineNumber>Un.modifiedStartLineNumber?Un.modifiedEndLineNumber:Un.modifiedStartLineNumber+1,_s=new s.Range(Un.modifiedStartLineNumber?Un.modifiedStartLineNumber-1:Un.modifiedStartLineNumber,0,qa,0);if(qe&&Jt.line+1<Un.modifiedStartLineNumber){dt.revealRange(_s),dt.selection=new s.Selection(_s.start,_s.start);return}else if(!qe&&Jt.line+1>Un.modifiedStartLineNumber){dt.revealRange(_s),dt.selection=new s.Selection(_s.start,_s.start);return}}if(it.original.scheme===qt.Pr)return s.window.showInformationMessage(s.l10n.t("No more diffs in this file. Check out the pull request to use this command across files."));const an=e.getManagerForFile(Et);if(!an)return s.window.showErrorMessage(s.l10n.t("Unable to find a repository for pull request."));const Zi=Hr.getReviewManagerForFolderManager(t.reviewManagers,an);if(!Zi)return s.window.showErrorMessage(s.l10n.t("Cannot find active pull request."));if(!Zi.reviewModel.hasLocalFileChanges||Zi.reviewModel.localFileChanges.length===0)return s.window.showWarningMessage(s.l10n.t("Pull request data is not yet complete, please try again in a moment."));for(let Un=0;Un<Zi.reviewModel.localFileChanges.length;Un++){const qa=qe?Un:Zi.reviewModel.localFileChanges.length-1-Un;if(Zi.reviewModel.localFileChanges[qa].changeModel.filePath.toString()===Et.toString()){const Nc=qe?qa+1:qa-1;if(Zi.reviewModel.localFileChanges.length>Nc){if(await Zi.reviewModel.localFileChanges[Nc].openDiff(an),!qe){const Jf=s.window.visibleTextEditors.find(Tc=>Tc.document.uri.toString()===Zi.reviewModel.localFileChanges[Nc].changeModel.filePath.toString());if(Jf){const Tc=await Zi.reviewModel.localFileChanges[Nc].changeModel.diffHunks(),Xs=Tc[Tc.length-1],c0=Xs.newLineNumber+Xs.newLength,jT=c0>Xs.newLineNumber?c0:Xs.newLineNumber+1,Xf=new s.Range(Xs.newLineNumber?Xs.newLineNumber-1:Xs.newLineNumber,0,jT,0);Jf.revealRange(Xf),Jf.selection=new s.Selection(Xf.start,Xf.start)}}return}}}const ws=qe?s.l10n.t("Go to first diff"):s.l10n.t("Go to last diff");return s.window.showInformationMessage(s.l10n.t("There are no more diffs in this pull request."),ws).then(Un=>{if(Un===ws)return Zi.reviewModel.localFileChanges[qe?0:Zi.reviewModel.localFileChanges.length-1].openDiff(an)})}n.subscriptions.push(s.commands.registerDiffInformationCommand("pr.goToNextDiffInPr",async Se=>{jt(Se,!0)})),n.subscriptions.push(s.commands.registerDiffInformationCommand("pr.goToPreviousDiffInPr",async Se=>{jt(Se,!1)})),n.subscriptions.push(s.commands.registerCommand("pr.refreshComments",async()=>{for(const Se of e.folderManagers)for(const qe of Se.gitHubRepositories)for(const Ge of qe.pullRequestModels)Ge.isResolved()&&Ge.reviewThreadsCacheReady&&Ge.initializeReviewThreadCache()})),n.subscriptions.push(s.commands.registerCommand("pr.closeRelatedEditors",f1)),n.subscriptions.push(s.commands.registerCommand("review.copyPrLink",async()=>{const Se=e.folderManagers.map(Ge=>Ge.activePullRequest).filter(Ge=>!!Ge),qe=await ta(Se,Ge=>`${Ge.number}: ${Ge.title}`,{placeHolder:s.l10n.t("Pull request to create a link for")});if(qe)return s.env.clipboard.writeText(qe.html_url)})),n.subscriptions.push(s.commands.registerCommand("pr.refreshChatSessions",async()=>{a.refreshChatSessions()})),n.subscriptions.push(s.commands.registerCommand("pr.preferredCodingAgentGitHubRemote",async()=>{await a.promptAndUpdatePreferredGitHubRemote()})),n.subscriptions.push(s.commands.registerCommand("pr.resetCodingAgentPreferences",async()=>{await a.resetCodingAgentPreferences()}))}function m1(n,e){const t=n.rootUri.fsPath;for(const i of e.repositories)if(i.rootUri.toString()!==n.rootUri.toString()){for(const r of i.state.submodules)if(s.Uri.joinPath(i.rootUri,r.path).fsPath===t)return!0}return!1}var Oo=Xt(41566),p1=Object.defineProperty,g1=(n,e,t)=>e in n?p1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Zd=(n,e,t)=>g1(n,typeof e!="symbol"?e+"":e,t);class v1 extends d{constructor(e){super(),this.baseReporter=e,Zd(this,"sharedProperties",{}),e&&this._register(e)}sendTelemetryEvent(e,t,i){var r;(r=this.baseReporter)==null||r.sendTelemetryEvent(e,{...this.sharedProperties,...t},i)}sendTelemetryErrorEvent(e,t,i){var r;(r=this.baseReporter)==null||r.sendTelemetryErrorEvent(e,{...this.sharedProperties,...t})}setSharedProperty(e,t){this.sharedProperties[e]=t}postEvent(e,t){const i={};for(const[r,a]of t)i[r]=a;this.sendTelemetryEvent(e,i)}}function b1(){switch(s.env.uriScheme){case"vscode":return Oo.Z7.Public;case"vscode-insiders":return Oo.Z7.Insiders;case"vscode-exploration":return Oo.Z7.Internal;case"code-oss":return Oo.Z7.Team;default:return Oo.Z7.Public}}class y1{constructor(){Zd(this,"initializePromise",Promise.resolve()),Zd(this,"initialFetch",Promise.resolve())}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}}async function w1(n,e){const t=n.extension.id,i=n.extension.packageJSON.name,r=n.extension.packageJSON.version,a=b1();return i==="vscode-pull-request-github"?(0,Oo.M$)(t,r,a,e,n.globalState):new y1}function Op(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Lo=Op();function _1(n){Lo=n}const k1=/[&<>"']/,S1=/[&<>"']/g,R1=/[<>"']|&(?!#?\w+;)/,E1=/[<>"']|&(?!#?\w+;)/g,N1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Lp=n=>N1[n];function ir(n,e){if(e){if(k1.test(n))return n.replace(S1,Lp)}else if(R1.test(n))return n.replace(E1,Lp);return n}const T1=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Up(n){return n.replace(T1,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const C1=/(^|[^\[])\^/g;function hn(n,e){n=n.source||n,e=e||"";const t={replace:(i,r)=>(r=r.source||r,r=r.replace(C1,"$1"),n=n.replace(i,r),t),getRegex:()=>new RegExp(n,e)};return t}const P1=/[^\w:]/g,A1=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Bp(n,e,t){if(n){let i;try{i=decodeURIComponent(Up(t)).replace(P1,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}e&&!A1.test(t)&&(t=F1(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Ju={},M1=/^[^:]+:\/*[^/]*$/,I1=/^([^:]+:)[\s\S]*$/,D1=/^([^:]+:\/*[^/]*)[\s\S]*$/;function F1(n,e){Ju[" "+n]||(M1.test(n)?Ju[" "+n]=n+"/":Ju[" "+n]=ec(n,"/",!0)),n=Ju[" "+n];const t=n.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:n.replace(I1,"$1")+e:e.charAt(0)==="/"?t?e:n.replace(D1,"$1")+e:n+e}const Xu={exec:function(){}};function ma(n){let e=1,t,i;for(;e<arguments.length;e++){t=arguments[e];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}function qp(n,e){const t=n.replace(/\|/g,(a,o,v)=>{let T=!1,x=o;for(;--x>=0&&v[x]==="\\";)T=!T;return T?"|":" |"}),i=t.split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i[i.length-1].trim()||i.pop(),i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function ec(n,e,t){const i=n.length;if(i===0)return"";let r=0;for(;r<i;){const a=n.charAt(i-r-1);if(a===e&&!t)r++;else if(a!==e&&t)r++;else break}return n.substr(0,i-r)}function x1(n,e){if(n.indexOf(e[1])===-1)return-1;const t=n.length;let i=0,r=0;for(;r<t;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])i++;else if(n[r]===e[1]&&(i--,i<0))return r;return-1}function $p(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Hp(n,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=n),e>>=1,n+=n;return t+n}function Gp(n,e,t,i){const r=e.href,a=e.title?ir(e.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const v={type:"link",raw:t,href:r,title:a,text:o,tokens:i.inlineTokens(o,[])};return i.state.inLink=!1,v}else return{type:"image",raw:t,href:r,title:a,text:ir(o)}}function O1(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(r=>{const a=r.match(/^\s+/);if(a===null)return r;const[o]=a;return o.length>=i.length?r.slice(i.length):r}).join(`
`)}class Jd{constructor(e){this.options=e||Lo}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:ec(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],r=O1(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const a=ec(i,"#");(this.options.pedantic||!a||/ $/.test(a))&&(i=a.trim())}const r={type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const i=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(i,[]),text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i,r,a,o,v,T,x,W,te,oe,fe,ye,Pe=t[1].trim();const Ce=Pe.length>1,De={type:"list",raw:"",ordered:Ce,start:Ce?+Pe.slice(0,-1):"",loose:!1,items:[]};Pe=Ce?`\\d{1,9}\\${Pe.slice(-1)}`:`\\${Pe}`,this.options.pedantic&&(Pe=Ce?Pe:"[*+-]");const Le=new RegExp(`^( {0,3}${Pe})((?: [^\\n]*)?(?:\\n|$))`);for(;e&&(ye=!1,!(!(t=Le.exec(e))||this.rules.block.hr.test(e)));){if(i=t[0],e=e.substring(i.length),W=t[2].split(`
`,1)[0],te=e.split(`
`,1)[0],this.options.pedantic?(o=2,fe=W.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,fe=W.slice(o),o+=t[1].length),T=!1,!W&&/^ *$/.test(te)&&(i+=te+`
`,e=e.substring(te.length+1),ye=!0),!ye){const Ze=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(;e&&(oe=e.split(`
`,1)[0],W=oe,this.options.pedantic&&(W=W.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!Ze.test(W));){if(W.search(/[^ ]/)>=o||!W.trim())fe+=`
`+W.slice(o);else if(!T)fe+=`
`+W;else break;!T&&!W.trim()&&(T=!0),i+=oe+`
`,e=e.substring(oe.length+1)}}De.loose||(x?De.loose=!0:/\n *\n *$/.test(i)&&(x=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(fe),r&&(a=r[0]!=="[ ] ",fe=fe.replace(/^\[[ xX]\] +/,""))),De.items.push({type:"list_item",raw:i,task:!!r,checked:a,loose:!1,text:fe}),De.raw+=i}De.items[De.items.length-1].raw=i.trimRight(),De.items[De.items.length-1].text=fe.trimRight(),De.raw=De.raw.trimRight();const $e=De.items.length;for(v=0;v<$e;v++){this.lexer.state.top=!1,De.items[v].tokens=this.lexer.blockTokens(De.items[v].text,[]);const Ze=De.items[v].tokens.filter(Ve=>Ve.type==="space"),rt=Ze.every(Ve=>{const We=Ve.raw.split("");let ct=0;for(const jt of We)if(jt===`
`&&(ct+=1),ct>1)return!0;return!1});!De.loose&&Ze.length&&rt&&(De.loose=!0,De.items[v].loose=!0)}return De}}html(e){const t=this.rules.block.html.exec(e);if(t){const i={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(t[0]):ir(t[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}}def(e){const t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){const t=this.rules.block.table.exec(e);if(t){const i={type:"table",header:qp(t[1]).map(r=>({text:r})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=t[0];let r=i.align.length,a,o,v,T;for(a=0;a<r;a++)/^ *-+: *$/.test(i.align[a])?i.align[a]="right":/^ *:-+: *$/.test(i.align[a])?i.align[a]="center":/^ *:-+ *$/.test(i.align[a])?i.align[a]="left":i.align[a]=null;for(r=i.rows.length,a=0;a<r;a++)i.rows[a]=qp(i.rows[a],i.header.length).map(x=>({text:x}));for(r=i.header.length,o=0;o<r;o++)i.header[o].tokens=[],this.lexer.inlineTokens(i.header[o].text,i.header[o].tokens);for(r=i.rows.length,o=0;o<r;o++)for(T=i.rows[o],v=0;v<T.length;v++)T[v].tokens=[],this.lexer.inlineTokens(T[v].text,T[v].tokens);return i}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const i={type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i={type:"paragraph",raw:t[0],text:t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}text(e){const t=this.rules.block.text.exec(e);if(t){const i={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:ir(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):ir(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const o=ec(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=x1(t[2],"()");if(o>-1){const T=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,T).trim(),t[3]=""}}let r=t[2],a="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],a=o[3])}else a=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(i)?r=r.slice(1):r=r.slice(1,-1)),Gp(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r||!r.href){const a=i[0].charAt(0);return{type:"text",raw:a,text:a}}return Gp(i,r,i[0],this.lexer)}}emStrong(e,t,i=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))return;const a=r[1]||r[2]||"";if(!a||a&&(i===""||this.rules.inline.punctuation.exec(i))){const o=r[0].length-1;let v,T,x=o,W=0;const te=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(te.lastIndex=0,t=t.slice(-1*e.length+o);(r=te.exec(t))!=null;){if(v=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!v)continue;if(T=v.length,r[3]||r[4]){x+=T;continue}else if((r[5]||r[6])&&o%3&&!((o+T)%3)){W+=T;continue}if(x-=T,x>0)continue;if(T=Math.min(T,T+x+W),Math.min(o,T)%2){const fe=e.slice(1,o+r.index+T);return{type:"em",raw:e.slice(0,o+r.index+T+1),text:fe,tokens:this.lexer.inlineTokens(fe,[])}}const oe=e.slice(2,o+r.index+T-1);return{type:"strong",raw:e.slice(0,o+r.index+T+1),text:oe,tokens:this.lexer.inlineTokens(oe,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const r=/[^ ]/.test(i),a=/^ /.test(i)&&/ $/.test(i);return r&&a&&(i=i.substring(1,i.length-1)),i=ir(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const i=this.rules.inline.autolink.exec(e);if(i){let r,a;return i[2]==="@"?(r=ir(this.options.mangle?t(i[1]):i[1]),a="mailto:"+r):(r=ir(i[1]),a=r),{type:"link",raw:i[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}url(e,t){let i;if(i=this.rules.inline.url.exec(e)){let r,a;if(i[2]==="@")r=ir(this.options.mangle?t(i[0]):i[0]),a="mailto:"+r;else{let o;do o=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(o!==i[0]);r=ir(i[0]),i[1]==="www."?a="http://"+r:a=r}return{type:"link",raw:i[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,t){const i=this.rules.inline.text.exec(e);if(i){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):ir(i[0]):i[0]:r=ir(this.options.smartypants?t(i[0]):i[0]),{type:"text",raw:i[0],text:r}}}}const bi={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Xu,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};bi._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,bi._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,bi.def=hn(bi.def).replace("label",bi._label).replace("title",bi._title).getRegex(),bi.bullet=/(?:[*+-]|\d{1,9}[.)])/,bi.listItemStart=hn(/^( *)(bull) */).replace("bull",bi.bullet).getRegex(),bi.list=hn(bi.list).replace(/bull/g,bi.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+bi.def.source+")").getRegex(),bi._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",bi._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,bi.html=hn(bi.html,"i").replace("comment",bi._comment).replace("tag",bi._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),bi.paragraph=hn(bi._paragraph).replace("hr",bi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bi._tag).getRegex(),bi.blockquote=hn(bi.blockquote).replace("paragraph",bi.paragraph).getRegex(),bi.normal=ma({},bi),bi.gfm=ma({},bi.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),bi.gfm.table=hn(bi.gfm.table).replace("hr",bi.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bi._tag).getRegex(),bi.gfm.paragraph=hn(bi._paragraph).replace("hr",bi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",bi.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bi._tag).getRegex(),bi.pedantic=ma({},bi.normal,{html:hn(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",bi._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Xu,paragraph:hn(bi.normal._paragraph).replace("hr",bi.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",bi.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const ri={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Xu,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Xu,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ri._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ri.punctuation=hn(ri.punctuation).replace(/punctuation/g,ri._punctuation).getRegex(),ri.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ri.escapedEmSt=/\\\*|\\_/g,ri._comment=hn(bi._comment).replace("(?:-->|$)","-->").getRegex(),ri.emStrong.lDelim=hn(ri.emStrong.lDelim).replace(/punct/g,ri._punctuation).getRegex(),ri.emStrong.rDelimAst=hn(ri.emStrong.rDelimAst,"g").replace(/punct/g,ri._punctuation).getRegex(),ri.emStrong.rDelimUnd=hn(ri.emStrong.rDelimUnd,"g").replace(/punct/g,ri._punctuation).getRegex(),ri._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ri._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ri._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ri.autolink=hn(ri.autolink).replace("scheme",ri._scheme).replace("email",ri._email).getRegex(),ri._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ri.tag=hn(ri.tag).replace("comment",ri._comment).replace("attribute",ri._attribute).getRegex(),ri._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ri._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ri._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ri.link=hn(ri.link).replace("label",ri._label).replace("href",ri._href).replace("title",ri._title).getRegex(),ri.reflink=hn(ri.reflink).replace("label",ri._label).replace("ref",bi._label).getRegex(),ri.nolink=hn(ri.nolink).replace("ref",bi._label).getRegex(),ri.reflinkSearch=hn(ri.reflinkSearch,"g").replace("reflink",ri.reflink).replace("nolink",ri.nolink).getRegex(),ri.normal=ma({},ri),ri.pedantic=ma({},ri.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:hn(/^!?\[(label)\]\((.*?)\)/).replace("label",ri._label).getRegex(),reflink:hn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ri._label).getRegex()}),ri.gfm=ma({},ri.normal,{escape:hn(ri.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ri.gfm.url=hn(ri.gfm.url,"i").replace("email",ri.gfm._extended_email).getRegex(),ri.breaks=ma({},ri.gfm,{br:hn(ri.br).replace("{2,}","*").getRegex(),text:hn(ri.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function L1(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Vp(n){let e="",t,i;const r=n.length;for(t=0;t<r;t++)i=n.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),e+="&#"+i+";";return e}class es{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Lo,this.options.tokenizer=this.options.tokenizer||new Jd,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:bi.normal,inline:ri.normal};this.options.pedantic?(t.block=bi.pedantic,t.inline=ri.pedantic):this.options.gfm&&(t.block=bi.gfm,this.options.breaks?t.inline=ri.breaks:t.inline=ri.gfm),this.tokenizer.rules=t}static get rules(){return{block:bi,inline:ri}}static lex(e,t){return new es(t).lex(e)}static lexInline(e,t){return new es(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let i,r,a,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(v=>(i=v.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let v=1/0;const T=e.slice(1);let x;this.options.extensions.startBlock.forEach(function(W){x=W.call({lexer:this},T),typeof x=="number"&&x>=0&&(v=Math.min(v,x))}),v<1/0&&v>=0&&(a=e.substring(0,v+1))}if(this.state.top&&(i=this.tokenizer.paragraph(a))){r=t[t.length-1],o&&r.type==="paragraph"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i),o=a.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(e){const v="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let i,r,a,o=e,v,T,x;if(this.tokens.links){const W=Object.keys(this.tokens.links);if(W.length>0)for(;(v=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)W.includes(v[0].slice(v[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,v.index)+"["+Hp("a",v[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(v=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,v.index)+"["+Hp("a",v[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(v=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,v.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(T||(x=""),T=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(W=>(i=W.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),r=t[t.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,o,x)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e,Vp)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e,Vp))){e=e.substring(i.raw.length),t.push(i);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let W=1/0;const te=e.slice(1);let oe;this.options.extensions.startInline.forEach(function(fe){oe=fe.call({lexer:this},te),typeof oe=="number"&&oe>=0&&(W=Math.min(W,oe))}),W<1/0&&W>=0&&(a=e.substring(0,W+1))}if(i=this.tokenizer.inlineText(a,L1)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(x=i.raw.slice(-1)),T=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(e){const W="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(W);break}else throw new Error(W)}}return t}}class tc{constructor(e){this.options=e||Lo}code(e,t,i){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const a=this.options.highlight(e,r);a!=null&&a!==e&&(i=!0,e=a)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+ir(r,!0)+'">'+(i?e:ir(e,!0))+`</code></pre>
`:"<pre><code>"+(i?e:ir(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,t,i,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(i)+'">'+e+"</h"+t+`>
`:"<h"+t+">"+e+"</h"+t+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,i){const r=t?"ol":"ul",a=t&&i!==1?' start="'+i+'"':"";return"<"+r+a+`>
`+e+"</"+r+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,i){if(e=Bp(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let r='<a href="'+ir(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+i+"</a>",r}image(e,t,i){if(e=Bp(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let r='<img src="'+e+'" alt="'+i+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class jp{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class zp{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let i=e,r=0;if(this.seen.hasOwnProperty(i)){r=this.seen[e];do r++,i=e+"-"+r;while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=r,this.seen[i]=0),i}slug(e,t={}){const i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)}}class ts{constructor(e){this.options=e||Lo,this.options.renderer=this.options.renderer||new tc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new jp,this.slugger=new zp}static parse(e,t){return new ts(t).parse(e)}static parseInline(e,t){return new ts(t).parseInline(e)}parse(e,t=!0){let i="",r,a,o,v,T,x,W,te,oe,fe,ye,Pe,Ce,De,Le,$e,Ze,rt,Ve;const We=e.length;for(r=0;r<We;r++){if(fe=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[fe.type]&&(Ve=this.options.extensions.renderers[fe.type].call({parser:this},fe),Ve!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(fe.type))){i+=Ve||"";continue}switch(fe.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(fe.tokens),fe.depth,Up(this.parseInline(fe.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(fe.text,fe.lang,fe.escaped);continue}case"table":{for(te="",W="",v=fe.header.length,a=0;a<v;a++)W+=this.renderer.tablecell(this.parseInline(fe.header[a].tokens),{header:!0,align:fe.align[a]});for(te+=this.renderer.tablerow(W),oe="",v=fe.rows.length,a=0;a<v;a++){for(x=fe.rows[a],W="",T=x.length,o=0;o<T;o++)W+=this.renderer.tablecell(this.parseInline(x[o].tokens),{header:!1,align:fe.align[o]});oe+=this.renderer.tablerow(W)}i+=this.renderer.table(te,oe);continue}case"blockquote":{oe=this.parse(fe.tokens),i+=this.renderer.blockquote(oe);continue}case"list":{for(ye=fe.ordered,Pe=fe.start,Ce=fe.loose,v=fe.items.length,oe="",a=0;a<v;a++)Le=fe.items[a],$e=Le.checked,Ze=Le.task,De="",Le.task&&(rt=this.renderer.checkbox($e),Ce?Le.tokens.length>0&&Le.tokens[0].type==="paragraph"?(Le.tokens[0].text=rt+" "+Le.tokens[0].text,Le.tokens[0].tokens&&Le.tokens[0].tokens.length>0&&Le.tokens[0].tokens[0].type==="text"&&(Le.tokens[0].tokens[0].text=rt+" "+Le.tokens[0].tokens[0].text)):Le.tokens.unshift({type:"text",text:rt}):De+=rt),De+=this.parse(Le.tokens,Ce),oe+=this.renderer.listitem(De,Ze,$e);i+=this.renderer.list(oe,ye,Pe);continue}case"html":{i+=this.renderer.html(fe.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(fe.tokens));continue}case"text":{for(oe=fe.tokens?this.parseInline(fe.tokens):fe.text;r+1<We&&e[r+1].type==="text";)fe=e[++r],oe+=`
`+(fe.tokens?this.parseInline(fe.tokens):fe.text);i+=t?this.renderer.paragraph(oe):oe;continue}default:{const ct='Token with "'+fe.type+'" type was not found.';if(this.options.silent){console.error(ct);return}else throw new Error(ct)}}}return i}parseInline(e,t){t=t||this.renderer;let i="",r,a,o;const v=e.length;for(r=0;r<v;r++){if(a=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(o=this.options.extensions.renderers[a.type].call({parser:this},a),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type))){i+=o||"";continue}switch(a.type){case"escape":{i+=t.text(a.text);break}case"html":{i+=t.html(a.text);break}case"link":{i+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break}case"image":{i+=t.image(a.href,a.title,a.text);break}case"strong":{i+=t.strong(this.parseInline(a.tokens,t));break}case"em":{i+=t.em(this.parseInline(a.tokens,t));break}case"codespan":{i+=t.codespan(a.text);break}case"br":{i+=t.br();break}case"del":{i+=t.del(this.parseInline(a.tokens,t));break}case"text":{i+=t.text(a.text);break}default:{const T='Token with "'+a.type+'" type was not found.';if(this.options.silent){console.error(T);return}else throw new Error(T)}}}return i}}function Ci(n,e,t){if(typeof n=="undefined"||n===null)throw new Error("marked(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=ma({},Ci.defaults,e||{}),$p(e),t){const i=e.highlight;let r;try{r=es.lex(n,e)}catch(v){return t(v)}const a=function(v){let T;if(!v)try{e.walkTokens&&Ci.walkTokens(r,e.walkTokens),T=ts.parse(r,e)}catch(x){v=x}return e.highlight=i,v?t(v):t(null,T)};if(!i||i.length<3||(delete e.highlight,!r.length))return a();let o=0;Ci.walkTokens(r,function(v){v.type==="code"&&(o++,setTimeout(()=>{i(v.text,v.lang,function(T,x){if(T)return a(T);x!=null&&x!==v.text&&(v.text=x,v.escaped=!0),o--,o===0&&a()})},0))}),o===0&&a();return}try{const i=es.lex(n,e);return e.walkTokens&&Ci.walkTokens(i,e.walkTokens),ts.parse(i,e)}catch(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+ir(i.message+"",!0)+"</pre>";throw i}}Ci.options=Ci.setOptions=function(n){return ma(Ci.defaults,n),_1(Ci.defaults),Ci},Ci.getDefaults=Op,Ci.defaults=Lo,Ci.use=function(...n){const e=ma({},...n),t=Ci.defaults.extensions||{renderers:{},childTokens:{}};let i;n.forEach(r=>{if(r.extensions&&(i=!0,r.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if(a.renderer){const o=t.renderers?t.renderers[a.name]:null;o?t.renderers[a.name]=function(...v){let T=a.renderer.apply(this,v);return T===!1&&(T=o.apply(this,v)),T}:t.renderers[a.name]=a.renderer}if(a.tokenizer){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[a.level]?t[a.level].unshift(a.tokenizer):t[a.level]=[a.tokenizer],a.start&&(a.level==="block"?t.startBlock?t.startBlock.push(a.start):t.startBlock=[a.start]:a.level==="inline"&&(t.startInline?t.startInline.push(a.start):t.startInline=[a.start]))}a.childTokens&&(t.childTokens[a.name]=a.childTokens)})),r.renderer){const a=Ci.defaults.renderer||new tc;for(const o in r.renderer){const v=a[o];a[o]=(...T)=>{let x=r.renderer[o].apply(a,T);return x===!1&&(x=v.apply(a,T)),x}}e.renderer=a}if(r.tokenizer){const a=Ci.defaults.tokenizer||new Jd;for(const o in r.tokenizer){const v=a[o];a[o]=(...T)=>{let x=r.tokenizer[o].apply(a,T);return x===!1&&(x=v.apply(a,T)),x}}e.tokenizer=a}if(r.walkTokens){const a=Ci.defaults.walkTokens;e.walkTokens=function(o){r.walkTokens.call(this,o),a&&a.call(this,o)}}i&&(e.extensions=t),Ci.setOptions(e)})},Ci.walkTokens=function(n,e){for(const t of n)switch(e.call(Ci,t),t.type){case"table":{for(const i of t.header)Ci.walkTokens(i.tokens,e);for(const i of t.rows)for(const r of i)Ci.walkTokens(r.tokens,e);break}case"list":{Ci.walkTokens(t.items,e);break}default:Ci.defaults.extensions&&Ci.defaults.extensions.childTokens&&Ci.defaults.extensions.childTokens[t.type]?Ci.defaults.extensions.childTokens[t.type].forEach(function(i){Ci.walkTokens(t[i],e)}):t.tokens&&Ci.walkTokens(t.tokens,e)}},Ci.parseInline=function(n,e){if(typeof n=="undefined"||n===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");e=ma({},Ci.defaults,e||{}),$p(e);try{const t=es.lexInline(n,e);return e.walkTokens&&Ci.walkTokens(t,e.walkTokens),ts.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+ir(t.message+"",!0)+"</pre>";throw t}},Ci.Parser=ts,Ci.parser=ts.parse,Ci.Renderer=tc,Ci.TextRenderer=jp,Ci.Lexer=es,Ci.lexer=es.lex,Ci.Tokenizer=Jd,Ci.Slugger=zp,Ci.parse=Ci;const VC=Ci.options,jC=Ci.setOptions,zC=Ci.use,WC=Ci.walkTokens,KC=Ci.parseInline,Uo=Ci,QC=ts.parse,YC=es.lex;var ic;(n=>{function e(t){return t&&typeof t.command=="string"}n.is=e})(ic||(ic={}));function U1(n){const e=n.split(/\r?\n/g);let t,i,r=-1;for(let a=0;a<e.length;a++){const o=e[a];if(o.startsWith("diff --git")){const v=o.match(/^diff --git a\/(.+?) b\/(.+)$/);v&&(t=v[1],i=v[2])}else if(o.startsWith("@@ ")){r=a+1;break}}if(!(r<0))return{content:e.slice(r).join(`
`),fileA:typeof t=="string"?"/"+t:void 0,fileB:typeof i=="string"?"/"+i:void 0}}function Xd(n){if(!n||!Array.isArray(n)||n.length!==2)return;const e=n[0],t=n[1];if(!(typeof e!="number"||typeof t!="number"))return{start:e,end:t}}function Bo(n){return n.split("/").slice(6).join("/")}function Wp(n,e){var t;let i={};try{i=n.function.arguments?JSON.parse(n.function.arguments):{}}catch{}const r=n.function.name;if(r==="str_replace_editor")if(i.command==="view"){const a=U1(e),o=Xd(i.view_range);if(a){const v=(t=a.fileA)!=null?t:a.fileB,T=v&&Bo(v);return{toolName:T===""?"Read repository":"Read",invocationMessage:T?`Read [](${T})`+(o?`, lines ${o.start} to ${o.end}`:""):"Read repository",pastTenseMessage:T?`Read [](${T})`+(o?`, lines ${o.start} to ${o.end}`:""):"Read repository",toolSpecificData:T?{command:"view",filePath:v,fileLabel:T,parsedContent:a,viewRange:o}:void 0}}else{const v=i.path;let T=v?Bo(v):void 0;return T===void 0?(T=v,{toolName:T?`Read ${T}`+(o?`, lines ${o.start} to ${o.end}`:""):"Read repository",invocationMessage:T?`Read ${T}`+(o?`, lines ${o.start} to ${o.end}`:""):"Read repository",pastTenseMessage:T?`Read ${T}`+(o?`, lines ${o.start} to ${o.end}`:""):"Read repository"}):T===""?{toolName:"Read repository",invocationMessage:"Read repository",pastTenseMessage:"Read repository"}:{toolName:"Read",invocationMessage:`Read ${T}`+(o?`, lines ${o.start} to ${o.end}`:""),pastTenseMessage:`Read ${T}`+(o?`, lines ${o.start} to ${o.end}`:""),toolSpecificData:{command:"view",filePath:v,fileLabel:T,viewRange:o}}}}else{const a=i.path,o=a&&Bo(a),v=Xd(i.view_range);return{toolName:"Edit",invocationMessage:o?`Edit [](${o})`+(v?`, lines ${v.start} to ${v.end}`:""):"Edit",pastTenseMessage:o?`Edit [](${o})`+(v?`, lines ${v.start} to ${v.end}`:""):"Edit",toolSpecificData:o?{command:i.command||"edit",filePath:a,fileLabel:o,viewRange:v}:void 0}}else if(r==="str_replace"){const a=i.path,o=a&&Bo(a);return{toolName:"Edit",invocationMessage:o?`Edit [](${o})`:`Edit ${a}`,pastTenseMessage:o?`Edit [](${o})`:`Edit ${a}`,toolSpecificData:o?{command:"str_replace",filePath:a,fileLabel:o}:void 0}}else if(r==="create"){const a=i.path,o=a&&Bo(a);return{toolName:"Create",invocationMessage:o?`Create [](${o})`:`Create File ${a}`,pastTenseMessage:o?`Create [](${o})`:`Create File ${a}`,toolSpecificData:o?{command:"create",filePath:a,fileLabel:o}:void 0}}else if(r==="view"){const a=i.path,o=a&&Bo(a),v=Xd(i.view_range);return{toolName:o===""?"Read repository":"Read",invocationMessage:o?`Read [](${o})`+(v?`, lines ${v.start} to ${v.end}`:""):"Read repository",pastTenseMessage:o?`Read [](${o})`+(v?`, lines ${v.start} to ${v.end}`:""):"Read repository",toolSpecificData:o?{command:"view",filePath:a,fileLabel:o,viewRange:v}:void 0}}else{if(r==="think")return{toolName:"think",invocationMessage:i.thought||e||"Thought"};if(r==="report_progress"){const a={toolName:"Progress Update",invocationMessage:`${i.prDescription}`||e||"Progress Update"};return i.commitMessage&&(a.originMessage=`Commit: ${i.commitMessage}`),a}else if(r==="bash"){const v={toolName:"Run Bash command",invocationMessage:[i.command?`$ ${i.command}`:void 0,e].filter(Boolean).join(`
`)||"Run Bash command"};if(i.command){const T={commandLine:{original:i.command},language:"bash"};v.toolSpecificData=T}return v}else return r==="read_bash"?{toolName:"read_bash",invocationMessage:"Read logs from Bash session"}:r==="stop_bash"?{toolName:"stop_bash",invocationMessage:"Stop Bash session"}:{toolName:r||"unknown",invocationMessage:e||r||"unknown"}}}function Kp(n){return n.split(/\r?\n/).filter(t=>t.startsWith("data: ")).map(t=>t.slice(6).trim()).map(t=>JSON.parse(t))}var Oa;(n=>{function e(){return V().workspace.getConfiguration(Ht)}function t(){return e().get(yi,!1)}n.getEnabled=t;function i(){return e().get(Xe,!0)}n.getPromptForConfirmation=i;function r(){return e().get(pi,!1)}n.getAutoCommitAndPushEnabled=r;async function a(){await e().update(Xe,!1,V().ConfigurationTarget.Global)}n.disablePromptForConfirmation=a})(Oa||(Oa={}));function Qp(n){return n.then(()=>{})}function ZC(n){let e,t;const i=()=>{if(t)return t;if(e)return t=Qp(e).then(()=>(t=void 0,i())),t;e=n();const r=()=>e=void 0;return Qp(e).then(r,r),e};return i}function B1(n,e){let t;return()=>{t&&clearTimeout(t),t=setTimeout(()=>n(),e)}}var q1=Object.defineProperty,$1=(n,e,t)=>e in n?q1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ur=(n,e,t)=>$1(n,typeof e!="symbol"?e+"":e,t);function Yp(n){const e=n.toLowerCase();return _a.some(t=>e.includes(`author:${t.toLowerCase()}`))}class ef extends d{constructor(){super(...arguments),Ur(this,"_isInitialized",!1),Ur(this,"_states",new Map),Ur(this,"_showNotification",new Set),Ur(this,"_onDidChangeStates",this._register(new s.EventEmitter)),Ur(this,"onDidChangeStates",this._onDidChangeStates.event),Ur(this,"_onDidChangeNotifications",this._register(new s.EventEmitter)),Ur(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),Ur(this,"_onRefresh",this._register(new s.EventEmitter)),Ur(this,"onRefresh",this._onRefresh.event)}clear(){this._onRefresh.fire()}makeKey(e,t,i){return`${e}/${t}#${i}`}delete(e,t,i){const r=this.makeKey(e,t,i);this.deleteKey(r)}deleteKey(e){if(this._states.has(e)){if(this._states.delete(e),this._showNotification.has(e)){const t=this._states.get(e);this._showNotification.delete(e),this._onDidChangeNotifications.fire([t.item])}this._onDidChangeStates.fire()}}set(e){const t=[],i=[];for(const{pullRequestModel:r,status:a}of e){const o=this.makeKey(r.remote.owner,r.remote.repositoryName,r.number),v=this._states.get(o);(v==null?void 0:v.status)!==a&&(this._states.set(o,{item:r,status:a}),t.push(r),i.push(o))}t.length>0&&(this._isInitialized&&(i.forEach(r=>this._showNotification.add(r)),this._onDidChangeNotifications.fire(t)),this._onDidChangeStates.fire())}get(e,t,i){var r,a;const o=this.makeKey(e,t,i);return(a=(r=this._states.get(o))==null?void 0:r.status)!=null?a:xi.None}keys(){return Array.from(this._states.keys())}clearNotification(e,t,i){var r;const a=this.makeKey(e,t,i);if(this._showNotification.has(a)){this._showNotification.delete(a);const o=(r=this._states.get(a))==null?void 0:r.item;o&&this._onDidChangeNotifications.fire([o])}}get notifications(){return this._showNotification}setInitialized(){this._isInitialized=!0}get isInitialized(){return this._isInitialized}getCounts(){let e=0,t=0;for(const i of this._states.values())i.status===xi.Started?e++:i.status===xi.Failed&&t++;return{total:this._states.size,inProgress:e,error:t}}get all(){return Array.from(this._states.values())}}Ur(ef,"ID","CopilotStateModel");class H1 extends d{constructor(e,t){if(super(),this._reposManager=e,this._model=t,Ur(this,"_pollTimeout"),Ur(this,"_lastPollTime",0),Ur(this,"_currentUser"),Ur(this,"_getStateChangesPromise"),this._reposManager.folderManagers.length===0){const i=this._reposManager.onDidChangeAnyGitHubRepository(()=>{i.dispose(),this._initialize()})}else this._initialize();this._register(this._model.onRefresh(()=>this._getStateChanges()))}_initialize(){this._getStateChanges(),this._pollForChanges();const e=B1(()=>this._getStateChanges(),50);this._register(this._reposManager.onDidChangeAnyPullRequests(t=>{if(t.some(i=>en[i.model.author.login]))if(this._model.isInitialized&&t.some(i=>this._model.get(i.model.remote.owner,i.model.remote.repositoryName,i.model.number)===xi.None))e();else for(const i of t)i.model instanceof fn&&this._updateSingleState(i.model)})),this._register(Jn.onVisible(t=>this._model.clearNotification(t.remote.owner,t.remote.repositoryName,t.number))),this._register(s.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${tt}.${ai}`)&&this._pollForChanges()})),this._register(s.window.onDidChangeWindowState(t=>{(t.active||t.focused)&&Date.now()-this._lastPollTime>this._pollInterval&&this._pollForChanges()})),this._register({dispose:()=>this._pollTimeout&&clearTimeout(this._pollTimeout)})}_queriesIncludeCopilot(){var e;return(e=s.workspace.getConfiguration(tt).get(ai,[]).find(i=>Yp(i.query)))==null?void 0:e.query}get _pollInterval(){return s.window.state.active||s.window.state.focused?60*1e3*2:60*1e3*5}async _pollForChanges(){this._pollTimeout&&(clearTimeout(this._pollTimeout),this._pollTimeout=void 0),this._lastPollTime=Date.now(),await this._getStateChanges()&&(this._pollTimeout=setTimeout(()=>{this._pollForChanges()},this._pollInterval))}async _getCurrentUser(e){return this._currentUser||(this._currentUser=(await e.getCurrentUser()).login),this._currentUser}async _updateSingleState(e){var t;const i=[],r=await e.getCopilotTimelineEvents(e);let a=Zr(r[r.length-1]);if(a===xi.None){if(!en[e.author.login])return;a=xi.Started}const o=(t=this._model.get(e.remote.owner,e.remote.repositoryName,e.number))!=null?t:xi.None;a!==o&&i.push({pullRequestModel:e,status:a}),this._model.set(i)}async _getStateChanges(){return this._getStateChangesPromise?this._getStateChangesPromise:(this._getStateChangesPromise=(async()=>{var e;try{const t=this._queriesIncludeCopilot();if(!t)return!1;const i=new Set(this._model.keys());let r=0;const a=[];for(const o of this._reposManager.folderManagers){r++;const v=[];let T=!0;do{const x=await o.getPullRequests(ji.Query,{fetchOnePagePerRepo:!0,fetchNextPage:!this._model.isInitialized},t);v.push(...x.items),T=x.hasMorePages}while(T);for(const x of v){i.delete(this._model.makeKey(x.remote.owner,x.remote.repositoryName,x.number));const W=await x.getCopilotTimelineEvents(x);let te=Zr(W[W.length-1]);if(te===xi.None){if(!en[x.author.login])continue;te=xi.Started}const oe=(e=this._model.get(x.remote.owner,x.remote.repositoryName,x.number))!=null?e:xi.None;te!==oe&&a.push({pullRequestModel:x,status:te})}}for(const o of i)this._model.deleteKey(o);return this._model.set(a),this._model.isInitialized||r===this._reposManager.folderManagers.length&&this._reposManager.folderManagers.length>0&&(y.debug(`Copilot PR state initialized with ${this._model.keys().length} PRs`,ef.ID),this._model.setInitialized()),!0}finally{this._getStateChangesPromise=void 0}})(),this._getStateChangesPromise)}}var JC=Xt(48318);const Zp=/http(s)?\:\/\/github\.com\/([^\/]+)\/([^\/]+)\/blob\/([0-9a-fA-F]{40})\/([^#]+)#L(\d+)(-L(\d+))?/;function Jp(n){return n.match(Zp)}function G1(n){return!!Jp(n.body)}async function Xp(n,e,t=!0){const i=n[2],r=n[3],a=n[5],o=Number(n[6])-1,v=n[8]?Number(n[8])-1:o;let T;for(const W of e.folderManagers){const te=await W.getGitHubRemotes();for(const oe of te)if(i.toLowerCase()===oe.owner.toLowerCase()&&r.toLowerCase()===oe.repositoryName.toLowerCase()){T=W;break}if(T)break}if(!T)return;const x=s.Uri.joinPath(T.repository.rootUri,a);try{await s.workspace.fs.stat(x)}catch{return}return{file:x,start:o,end:v}}async function V1(n,e){const t=Jp(n.body);if(!t){s.window.showInformationMessage(s.l10n.t("Issue has no link."));return}const i=await Xp(t,e,!1);if(!i)return s.env.openExternal(s.Uri.parse(t[0]));const r=await s.workspace.openTextDocument(i==null?void 0:i.file),a=r.lineAt(i.end<r.lineCount?i.end:r.lineCount-1),o=new s.Range(i.start,0,i.end,a.text.length);return s.window.showTextDocument(i.file,{selection:o})}function j1(n){switch(n.state){case Xi.Open:return n instanceof fn?"$(git-pull-request)":"$(issues)";case Xi.Closed:return n instanceof fn?"$(git-pull-request)":"$(issue-closed)";case Xi.Merged:return"$(git-merge)"}}function z1(n){if(n instanceof fn)return j1(n);switch(n.state){case Xi.Open:return'<span style="color:#22863a;">$(issues)</span>';case Xi.Closed:return`<span style="color:${n.stateReason!=="COMPLETED"?"#6a737d":"#8957e5"};">$(issue-closed)</span>`}}function W1(n,e){let t;return n.commitContributions.forEach(i=>{e.toLowerCase()===i.repoNameWithOwner.toLowerCase()&&(t=i.createdAt.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"}))}),t}function eg(n,e){const t=new s.MarkdownString(void 0,!0);t.appendMarkdown(`![Avatar](${e.avatarUrl}|height=50,width=50) ${e.name?`**${e.name}** `:""}[${e.login}](${e.url})`),e.bio&&t.appendText(`  \r
`+e.bio.replace(/\r\n/g," "));const i=W1(e,n.owner+"/"+n.repo);return(e.location||i)&&t.appendMarkdown(`  \r
\r
---`),e.location&&t.appendMarkdown(`  \r
${s.l10n.t("{0} {1}","$(location)",e.location)}`),i&&t.appendMarkdown(`  \r
${s.l10n.t("{0} Committed to this repository on {1}","$(git-commit)",i)}`),e.company&&t.appendMarkdown(`  \r
${s.l10n.t({message:"{0} Member of {1}",args:["$(jersey)",e.company],comment:["An organization that the user is a member of.","The first placeholder is an icon and shouldn't be localized.","The second placeholder is the name of the organization."]})}`),t}async function tg(n,e,t){let i=n.search(e),r=0;for(;i>=0&&i<n.length;){let a;if(i===0||n.charAt(i-1)!=="&"){const v=n.substring(i).match(e);if(v){const T=await t(v);T&&(a=n.slice(0,i)+T,n=a+n.slice(i+v[0].length))}}r=a?a.length:i+1;const o=n.substring(r).search(e);i=o>0?r+o:o}return n}function ig(n,e){return tg(n,hs,async t=>{const i=$s(t);if(i){const r=Sd(i);return(!i.owner||!i.name)&&(i.owner=e.remote.owner,i.name=e.remote.repositoryName),`[${r}](https://github.com/${i.owner}/${i.name}/issues/${i.issueNumber})`}})}async function K1(n,e){return tg(n,Zp,async t=>{const i=await Xp(t,e);if(i){y.trace("finding code links in issue","Issues");const r=await s.workspace.openTextDocument(i==null?void 0:i.file),a=r.lineAt(i.end<r.lineCount?i.end:r.lineCount-1),o=[i.file,{selection:{start:{line:i.start,character:0},end:{line:i.end,character:a.text.length}}}],v=s.Uri.parse(`command:vscode.open?${encodeURIComponent(JSON.stringify(o))}`);return`[${t[0]}](${v} "Open ${i.file.fsPath}")`}})}const nc=200;async function vs(n,e,t,i,r){var a;const o=new s.MarkdownString(void 0,!0);o.supportHtml=!0;const v=new Date(n.createdAt),T=`${n.remote.owner}/${n.remote.repositoryName}`;o.appendMarkdown(`[${T}](https://github.com/${T}) on ${v.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"})}  
`);const x=n instanceof fn&&n.isDraft?`[DRAFT] ${n.title}`:n.title,W=Uo(x,{renderer:new qo,smartypants:!0}).trim();o.appendMarkdown(`${z1(n)} **${W}** [#${n.number}](${n.html_url})  
`);let te=Uo(n.body,{renderer:new qo,smartypants:!0});if(o.appendMarkdown(`  
`),te=te.length>nc?te.substr(0,nc)+"...":te,te=await ig(te,n),te=await K1(te,t),o.appendMarkdown(te+`  
`),n.item.labels.length>0&&(await or(e),o.appendMarkdown(`&nbsp;  
`),n.item.labels.forEach(oe=>{o.appendMarkdown(`[${Um(oe)}](https://github.com/${T}/labels/${encodeURIComponent(oe.name)}) `)})),n.item.comments&&i){for(const oe of n.item.comments)if(oe.databaseId===i){o.appendMarkdown(`  \r
\r
---\r
`),o.appendMarkdown(`&nbsp;  
`),o.appendMarkdown(`![Avatar](${oe.author.avatarUrl}|height=15,width=15) &nbsp;&nbsp;**${oe.author.login}** commented`),o.appendMarkdown(`&nbsp;  
`);let fe=Uo(oe.body.length>nc?oe.body.substr(0,nc)+"...":oe.body,{renderer:new qo,smartypants:!0});fe=await ig(fe,n),o.appendMarkdown(fe)}}if(r){const oe=(a=ng(r))==null?void 0:a.tooltip;oe&&(o.appendMarkdown(`  \r
\r
`),o.appendMarkdown(`_${oe}_`))}return o}class qo extends tc{code(e,t){return e}blockquote(e){return e}html(e){return""}heading(e,t,i,r){return e+" "}hr(){return""}list(e,t,i){return e}listitem(e){return" "+e}checkbox(e){return""}paragraph(e){return e.replace(/\</g,"\\<").replace(/\>/g,"\\>")+" "}table(e,t){return e+" "+t}tablerow(e){return e}tablecell(e,t){return e}strong(e){return e}em(e){return e}codespan(e){return`\\\`${e}\\\``}br(){return" "}del(e){return e}image(e,t,i){return""}text(e){return e}link(e,t,i){return i+" "}}function ng(n){if(n&Ar.CIFailed&&n&Ar.ReviewRequired)return{propagate:!1,badge:new s.ThemeIcon("close",new s.ThemeColor("list.errorForeground")),tooltip:"Review required and some checks have failed"};if(n&Ar.CIFailed)return{propagate:!1,badge:new s.ThemeIcon("close",new s.ThemeColor("list.errorForeground")),tooltip:"Some checks have failed"};if(n&Ar.ChangesRequested)return{propagate:!1,badge:new s.ThemeIcon("request-changes",new s.ThemeColor("list.errorForeground")),tooltip:"Changes requested"};if(n&Ar.CIPending)return{propagate:!1,badge:new s.ThemeIcon("sync",new s.ThemeColor("list.warningForeground")),tooltip:"Checks pending"};if(n&Ar.ReviewRequired)return{propagate:!1,badge:new s.ThemeIcon("circle-filled",new s.ThemeColor("list.warningForeground")),tooltip:"Review required"};if(n===Ar.None)return{propagate:!1,badge:new s.ThemeIcon("check-all",new s.ThemeColor("issues.open")),tooltip:"All checks passed"}}class Q1{constructor(e,t,i){this.loggerId=e,this.handler=t,this.getChangeModels=i}async buildSessionHistory(e,t,i,r){var a;const o=e.slice().sort((x,W)=>new Date(x.created_at).getTime()-new Date(W.created_at).getTime()),v=await Promise.all(o.map(async(x,W)=>{const te=async()=>{const Pe=await this.determineSessionPrompt(x,W,t,r,i);return new(V()).ChatRequestTurn2(Pe,void 0,[],qn,[],[])},oe=async()=>{const Pe=await i.getLogsFromSession(x.id);return await this.createResponseTurn(t,Pe,x)},[fe,ye]=await Promise.all([te(),oe()]);return{first:fe,second:ye,sessionIndex:W}})),T=[];for(const{first:x,second:W,sessionIndex:te}of v)if(T.push(x),W){if(te===0){const oe=await Mo({owner:t.remote.owner,repo:t.remote.repositoryName,pullRequestNumber:t.number}),fe=Uo(t.body,{renderer:new qo,smartypants:!0}).trim(),ye=new(V()).ChatResponsePullRequestPart(oe,t.title,fe,(a=t.author.specialDisplayName)!=null?a:t.author.login,`#${t.number}`),Pe=new(V()).ChatResponseTurn2([ye],{},qn);T.push(Pe)}T.push(W)}return T}async createResponseTurn(e,t,i){if(t.trim().length>0)return await this.parseSessionLogsIntoResponseTurn(e,t,i);if(i.state==="in_progress"){const r=[new(V()).ChatResponseProgressPart("Session is initializing...")],a={};return new(V()).ChatResponseTurn2(r,a,qn)}else{const r=[new(V()).ChatResponseMarkdownPart("_No logs available for this session_")],a={};return new(V()).ChatResponseTurn2(r,a,qn)}}async determineSessionPrompt(e,t,i,r,a){let o=e.name||`Session ${t+1} (ID: ${e.id})`;return t===0?o=await this.getInitialSessionPrompt(e,i,a,o):o=await this.getFollowUpSessionPrompt(t,r,o),o=o.replace(/@copilot\s*/gi,"").trim(),o}async getFollowUpSessionPrompt(e,t,i){const r=await t;y.appendLine(`Found ${r.length} timeline events`,this.loggerId);const a=r.filter(oe=>oe.event===Ft.CopilotStarted).sort((oe,fe)=>new Date(oe.createdAt).getTime()-new Date(fe.createdAt).getTime()),o=r.filter(oe=>oe.event===Ft.CopilotFinished).sort((oe,fe)=>new Date(oe.createdAt).getTime()-new Date(fe.createdAt).getTime());y.appendLine(`Session ${e}: Found ${a.length} CopilotStarted events and ${o.length} CopilotFinished events`,this.loggerId);const v=a[e];if(!v)return y.appendLine(`Session ${e}: No CopilotStarted event found at index ${e}`,this.loggerId),i;const T=new Date(v.createdAt).getTime(),x=this.getPreviousSessionEndTime(e,o),W=this.findRelevantTimelineEvents(r,x,T),te=W[0];if(te){const oe=this.extractPromptFromEvent(te);return y.appendLine(`Session ${e}: Found matching event - ${te.event}`,this.loggerId),oe}else return y.appendLine(`Session ${e}: No matching event found between times ${x} and ${T}`,this.loggerId),y.appendLine(`Session ${e}: Relevant events found: ${W.length}`,this.loggerId),i}getPreviousSessionEndTime(e,t){return e>0&&t[e-1]?new Date(t[e-1].createdAt).getTime():0}findRelevantTimelineEvents(e,t,i){return e.filter(r=>{if(r.event!==Ft.Commented&&r.event!==Ft.Reviewed)return!1;const a=new Date(r.event===Ft.Commented?r.createdAt:r.event===Ft.Reviewed?r.submittedAt:"").getTime();return a>t&&a<i}).filter(r=>{if(r.event===Ft.Commented){const a=r;return a.body.includes("@copilot")||a.body.includes(this.handler)}else if(r.event===Ft.Reviewed){const a=r;return a.body.includes("@copilot")||a.body.includes(this.handler)}return!1}).sort((r,a)=>{const o=new Date(r.event===Ft.Commented?r.createdAt:r.event===Ft.Reviewed?r.submittedAt:"").getTime();return new Date(a.event===Ft.Commented?a.createdAt:a.event===Ft.Reviewed?a.submittedAt:"").getTime()-o})}extractPromptFromEvent(e){let t="";(e.event===Ft.Commented||e.event===Ft.Reviewed)&&(t=e.body);const i=t.match(/^(.*?)\s*\n\n\s*---\s*\n\n/s);return i?i[1].trim():t.trim()}async getInitialSessionPrompt(e,t,i,r){try{const a=await i.getJobBySessionId(t.base.repositoryCloneUrl.owner,t.base.repositoryCloneUrl.repositoryName,e.id);if(a&&a.problem_statement){let o=a.problem_statement;const v=a.problem_statement.match(/TITLE: \s*(.*)/i);if(v&&v[1])o=v[1].trim();else{const T=a.problem_statement.split(`
`);T.length>0&&(o=T[0].trim())}return y.appendLine(`Session 0: Found problem_statement from Jobs API: ${o}`,this.loggerId),o}}catch(a){y.warn(`Failed to get job info for session ${e.id}: ${a}`,this.loggerId)}return r}async parseSessionLogsIntoResponseTurn(e,t,i){try{const r=Kp(t),a=[];let o="";for(const v of r)for(const T of v.choices){const x=T.delta;x.role==="assistant"&&this.processAssistantDelta(x,T,e,a,o)}if(o.trim()&&a.push(new(V()).ChatResponseMarkdownPart(o.trim())),i.state==="completed"||i.state==="failed"){const v=await this.getFileChangesMultiDiffPart(e);v&&a.push(v)}if(a.length>0){const v={};return new(V()).ChatResponseTurn2(a,v,qn)}return}catch(r){y.error(`Failed to parse session logs into response turn: ${r}`,this.loggerId);return}}processAssistantDelta(e,t,i,r,a){var o,v,T;if(e.role==="assistant")if(t.finish_reason==="tool_calls"&&((o=e.tool_calls)!=null&&o.length)&&(e.tool_calls[0].function.name==="run_custom_setup_step"||e.tool_calls[0].function.name==="run_setup")){const x=e.tool_calls[0];let W={};try{W=JSON.parse(x.function.arguments)}catch{}if(e.content&&e.content.trim()){a.trim()&&(r.push(new(V()).ChatResponseMarkdownPart(a.trim())),a="");const te=this.createToolInvocationPart(i,x,W.name||e.content);te&&r.push(te)}}else{e.content&&!e.content.startsWith("<pr_title>")&&!e.content.startsWith("<error>")&&(a+=e.content);const x=(v=e.content)==null?void 0:v.startsWith("<error>");if(e.tool_calls){a.trim()&&(r.push(new(V()).ChatResponseMarkdownPart(a.trim())),a="");for(const W of e.tool_calls){const te=this.createToolInvocationPart(i,W,e.content||"");te&&r.push(te)}if(x){const W=new(V()).ChatToolInvocationPart("Command","command"),te=((T=e.content)!=null?T:"").replace(/^\s*<error>\s*/i,"").replace(/\s*<\/error>\s*$/i,"");W.invocationMessage=te,W.isError=!0,r.push(W)}}}return a}createToolInvocationPart(e,t,i=""){var r,a,o,v,T,x,W;if(!((r=t.function)!=null&&r.name)||!t.id||t.function.name==="reply_to_comment")return;const te=new(V()).ChatToolInvocationPart(t.function.name,t.id);te.isComplete=!0,te.isError=!1,te.isConfirmed=!0;try{const oe=Wp(t,i);if(te.toolName=oe.toolName,te.toolName==="think")return new(V()).ChatResponseThinkingProgressPart(oe.invocationMessage);if(t.function.name==="bash"?te.invocationMessage=new(V()).MarkdownString(`\`\`\`bash
${oe.invocationMessage}
\`\`\``):te.invocationMessage=new(V()).MarkdownString(oe.invocationMessage),oe.pastTenseMessage&&(te.pastTenseMessage=new(V()).MarkdownString(oe.pastTenseMessage)),oe.originMessage&&(te.originMessage=new(V()).MarkdownString(oe.originMessage)),oe.toolSpecificData)if(ic.is(oe.toolSpecificData)){if((oe.toolSpecificData.command==="view"||oe.toolSpecificData.command==="edit")&&oe.toolSpecificData.fileLabel){const fe=V().Uri.file(z.join(e.githubRepository.rootUri.fsPath,oe.toolSpecificData.fileLabel));te.invocationMessage=new(V()).MarkdownString(`${te.toolName} [](${fe.toString()})`+((a=oe.toolSpecificData)!=null&&a.viewRange?`, lines ${(o=oe.toolSpecificData.viewRange)==null?void 0:o.start} to ${(v=oe.toolSpecificData.viewRange)==null?void 0:v.end}`:"")),te.invocationMessage.supportHtml=!0,te.pastTenseMessage=new(V()).MarkdownString(`${te.toolName} [](${fe.toString()})`+((T=oe.toolSpecificData)!=null&&T.viewRange?`, lines ${(x=oe.toolSpecificData.viewRange)==null?void 0:x.start} to ${(W=oe.toolSpecificData.viewRange)==null?void 0:W.end}`:""))}}else te.toolSpecificData=oe.toolSpecificData}catch{te.toolName=t.function.name||"unknown",te.invocationMessage=new(V()).MarkdownString(`Tool: ${t.function.name}`),te.isError=!0}return te}async getFileChangesMultiDiffPart(e){try{const t=await this.getChangeModels;if(t.length===0)return;const i=[];for(const a of t){const{added:o,removed:v}=await a.calculateChangedLinesCount();i.push({originalUri:a.parentFilePath,modifiedUri:a.filePath,goToFileUri:a.filePath,added:o,removed:v})}const r=`Changes in Pull Request #${e.number}`;return new(V()).ChatResponseMultiDiffPart(i,r)}catch(t){y.error(`Failed to get file changes multi diff part: ${t}`,this.loggerId);return}}}class Y1{constructor(e){this.loggerID=e}async commitAndPushChanges(e){const{repository:t,remote:i,baseRef:r}=e,a=`copilot/vscode${Date.now()}`;try{return await t.createBranch(a,!0),await this.performCommit(a,t,"Checkpoint from VS Code for coding agent session"),await t.push(i.remoteName,a,!0),this.showBranchSwitchNotification(t,r,a),a}catch(o){throw await this.rollbackToOriginalBranch(t,r),y.error(`Failed to auto-commit and push pending changes: ${o}`,this.loggerID),new Error(V().l10n.t("Could not auto-push pending changes. Manually commit or stash your changes and try again. ({0})",o.message))}}async performCommit(e,t,i){var r;try{if(await t.commit(i,{all:!0}),((r=t.state.HEAD)==null?void 0:r.name)!==e||t.state.workingTreeChanges.length>0||t.state.indexChanges.length>0)throw new Error(V().l10n.t("Uncommitted changes still detected."))}catch{if(!await this.handleInteractiveCommit(t))throw new Error(V().l10n.t("Exclude your uncommitted changes and try again."))}}async handleInteractiveCommit(e){const t=V().l10n.t("Commit your changes to continue coding agent session. Close integrated terminal to cancel.");return V().window.withProgress({title:t,cancellable:!0,location:V().ProgressLocation.Notification},async(i,r)=>new Promise(a=>{var o;const v=(o=e.state.HEAD)==null?void 0:o.commit,T=V().window.createTerminal({name:"GitHub Coding Agent",cwd:e.rootUri.fsPath,message:`\x1B[1m${t}\x1B[0m`});T.show();let x=!1,W,te,oe,fe;const ye=()=>{x||(x=!0,clearTimeout(W),te==null||te.dispose(),oe==null||oe.dispose(),fe==null||fe.dispose(),T.dispose())};r&&(fe=r.onCancellationRequested(()=>{ye(),a(!1)})),te=e.state.onDidChange(()=>{var Pe;((Pe=e.state.HEAD)==null?void 0:Pe.commit)!==v&&(ye(),a(!0))}),W=setTimeout(()=>{ye(),a(!1)},5*60*1e3),oe=V().window.onDidCloseTerminal(Pe=>{Pe===T&&setTimeout(()=>{var Ce;x||(ye(),a(((Ce=e.state.HEAD)==null?void 0:Ce.commit)!==v))},1e3)})}))}showBranchSwitchNotification(e,t,i){var r;if(((r=e.state.HEAD)==null?void 0:r.name)!==t){const a=V().l10n.t("Swap back to '{0}'",t);V().window.showInformationMessage(V().l10n.t("Pending changes pushed to remote branch '{0}'.",i),a).then(async o=>{o===a&&await e.checkout(t)})}}async rollbackToOriginalBranch(e,t){var i;if(((i=e.state.HEAD)==null?void 0:i.name)!==t)try{await e.checkout(t)}catch(r){y.error(`Failed to checkout back to original branch '${t}': ${r}`,this.loggerID)}}}var Z1=Object.defineProperty,J1=(n,e,t)=>e in n?Z1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Mr=(n,e,t)=>J1(n,typeof e!="symbol"?e+"":e,t);const rc=V().l10n.t("Learn about coding agent"),X1=V().l10n.t("Continue"),rg=V().l10n.t("Include changes"),ek=V().l10n.t("Ignore changes"),ag=V().l10n.t("Continue and don't ask again"),sg="@copilot",tk=V().l10n.t("Created from VS Code via the [GitHub Pull Request](https://marketplace.visualstudio.com/items?itemName=GitHub.vscode-pull-request-github) extension."),$o="PREFERRED_GITHUB_CODING_AGENT_REMOTE",og=class ki extends d{constructor(e,t,i,r){super(),this.credentialStore=e,this.repositoriesManager=t,this.telemetry=i,this.context=r,Mr(this,"_stateModel"),Mr(this,"_onDidChangeStates",this._register(new(V()).EventEmitter)),Mr(this,"onDidChangeStates",this._onDidChangeStates.event),Mr(this,"_onDidChangeNotifications",this._register(new(V()).EventEmitter)),Mr(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),Mr(this,"_onDidCreatePullRequest",this._register(new(V()).EventEmitter)),Mr(this,"onDidCreatePullRequest",this._onDidCreatePullRequest.event),Mr(this,"_onDidChangeChatSessions",this._register(new(V()).EventEmitter)),Mr(this,"onDidChangeChatSessions",this._onDidChangeChatSessions.event),Mr(this,"gitOperationsManager"),Mr(this,"ephemeralChatSessions",new Map),Mr(this,"codingAgentPRsPromise"),Mr(this,"_copilotApiPromise"),Mr(this,"_repoManagerInitializationPromise"),this.gitOperationsManager=new Y1(ki.ID),this._register(this.credentialStore.onDidChangeSessions(a=>{a.provider.id==="github"&&(this._copilotApiPromise=void 0)})),this._stateModel=new ef,this._register(new H1(this.repositoriesManager,this._stateModel)),this._register(this._stateModel.onDidChangeStates(()=>{this._onDidChangeStates.fire(),this._onDidChangeChatSessions.fire()})),this._register(this._stateModel.onDidChangeNotifications(a=>this._onDidChangeNotifications.fire(a))),this._register(this.repositoriesManager.onDidChangeFolderRepositories(a=>{a.added&&this._register(a.added.onDidChangeAssignableUsers(()=>{this.updateAssignabilityContext()})),this.updateAssignabilityContext()})),this.repositoriesManager.folderManagers.forEach(a=>{this._register(a.onDidChangeAssignableUsers(()=>{this.updateAssignabilityContext()}))}),this._register(V().workspace.onDidChangeConfiguration(a=>{a.affectsConfiguration(Ht)&&this.updateAssignabilityContext()})),this.updateAssignabilityContext()}get copilotApi(){return this._copilotApiPromise||(this._copilotApiPromise=this.initializeCopilotApi()),this._copilotApiPromise}async initializeCopilotApi(){return await ml(this.credentialStore,this.telemetry)}get enabled(){return Oa.getEnabled()}get autoCommitAndPushEnabled(){return Oa.getAutoCommitAndPushEnabled()}async waitRepoManagerInitialization(){if(!(this.repositoriesManager.state===tr.RepositoriesLoaded||this.repositoriesManager.state===tr.NeedsAuthentication))return this._repoManagerInitializationPromise||(this._repoManagerInitializationPromise=new Promise(e=>{const t=this.repositoriesManager.onDidChangeState(()=>{(this.repositoriesManager.state===tr.RepositoriesLoaded||this.repositoriesManager.state===tr.NeedsAuthentication)&&(t.dispose(),e())})})),this._repoManagerInitializationPromise}async isAssignable(){const e=await this.repoInfo();if(!e)return!1;const{fm:t}=e;try{await t.getAssignableUsers();const i=t.getAllAssignableUsers();return i?i.some(r=>_a.includes(r.login)):!1}catch{return!1}}async isAvailable(){return Oa.getEnabled()?this.credentialStore.isAnyAuthenticated()?!await this.repoInfo()||!await this.copilotApi?!1:await this.isAssignable():!0:!1}async updateAssignabilityContext(){try{const e=await this.isAvailable();ei.setContext("copilotCodingAgentAssignable",e)}catch{ei.setContext("copilotCodingAgentAssignable",!1)}}firstFolderManager(){if(this.repositoriesManager.folderManagers.length)return this.repositoriesManager.folderManagers[0]}chooseFolderManager(){return ta(this.repositoriesManager.folderManagers,e=>z.basename(e.repository.rootUri.fsPath))}async resetCodingAgentPreferences(){await this.context.workspaceState.update($o,void 0)}async promptAndUpdatePreferredGitHubRemote(e=!1){if(e&&await this.context.workspaceState.get($o))return;const t=this.firstFolderManager();if(!t)return;const i=await t.getAllGitHubRemotes();if(y.trace(`There are ${i.length} GitHub remotes available to select from`,ki.ID),!i||i.length<=1){y.trace("No need to select a coding agent GitHub remote, skipping prompt",ki.ID);return}const r=await ta(i,a=>`${a.remoteName} (${a.owner}/${a.repositoryName})`,{title:V().l10n.t("Coding agent will create pull requests against the selected remote.")});if(!r){y.warn("No coding agent GitHub remote selected.",ki.ID),y.warn(`Keeping previous value of: ${this.context.workspaceState.get($o)}`,ki.ID);return}y.appendLine(`Updated '${r.remoteName}' as preferred coding agent remote`,ki.ID),await this.context.workspaceState.update($o,r.remoteName)}async repoInfo(e){var t;e=e||this.firstFolderManager();const i=e==null?void 0:e.repository,r=e==null?void 0:e.gitHubRepositories.find(te=>te.remote instanceof ps);if(!e||!i||!r)return;const a=(t=i.state.HEAD)==null?void 0:t.name,o=this.context.workspaceState.get($o),v=await e.getGitHubRemotes();if(!v||v.length===0)return;const T=o?v.find(te=>te.remoteName===o):v.find(te=>te.remoteName==="origin")||v[0];if(!T){y.error("no valid remotes for coding agent",ki.ID),this.context.workspaceState.update($o,void 0);return}const{owner:x,repositoryName:W}=T;if(!(!x||!W||!a||!i))return{owner:x,repo:W,baseRef:a,remote:T,repository:i,ghRepository:r,fm:e}}async addFollowUpToExistingPR(e,t,i){try{const r=await this.findPullRequestById(e,!0);if(!r){y.error(`Could not find pull request #${e}`,ki.ID);return}const a=`${sg} ${t} 

 --- 

 ${i!=null?i:""}`,o=await r.createIssueComment(a);if(!o){y.error(`Failed to add comment to PR #${e}`,ki.ID);return}return y.appendLine(`Added comment ${o.htmlUrl}`,ki.ID),V().l10n.t("\u{1F680} Follow-up comment added to [#{0}]({1})",e,o.htmlUrl)}catch(r){y.error(`Failed to add follow-up comment to PR #${e}: ${r}`,ki.ID);return}}async tryPromptForAuthAndRepo(){if(!await this.credentialStore.tryPromptForCopilotAuth())return;const t=await this.chooseFolderManager();return await(t==null?void 0:t.updateRepositories()),t}async commandImpl(e){if(!e)return;const{userPrompt:t,summary:i,source:r,followup:a,_version:o}=e,v=await this.tryPromptForAuthAndRepo();if(!v||(this.telemetry.sendTelemetryEvent("remoteAgent.command.args",{source:(r==null?void 0:r.toString())||"unknown",isFollowup:a?"true":"false",userPromptLength:t.length.toString(),summaryLength:i?i.length.toString():"0",version:(o==null?void 0:o.toString())||"unknown"}),!t||t.trim().length===0))return;const T=await this.repoInfo(v);if(!T){this.telemetry.sendTelemetryErrorEvent("remoteAgent.command.result",{reason:"noRepositoryInfo"});return}const{repository:x,owner:W,repo:te}=T,oe=`${W}/${te}`,fe=x.state.workingTreeChanges.length>0||x.state.indexChanges.length>0,ye=async()=>{this.telemetry.sendTelemetryErrorEvent("remoteAgent.command.result",{reason:"learnMore"}),V().env.openExternal(V().Uri.parse("https://aka.ms/coding-agent-docs"))};let Pe=!1;const Ce=V().l10n.t("Copilot coding agent will continue your work in '{0}'.",oe),De=V().l10n.t("Your chat context will be used to continue work in a new pull request.");if(r!=="prompt"&&fe&&Oa.getAutoCommitAndPushEnabled()){const ct=await V().window.showInformationMessage(Ce,{modal:!0,detail:De},rg,ek,rc);if(!ct){this.telemetry.sendTelemetryErrorEvent("remoteAgent.command.result",{reason:"cancel"});return}if(ct===rc){ye();return}ct===rg&&(Pe=!0)}else if(Oa.getPromptForConfirmation()){const ct=await V().window.showInformationMessage(r!=="prompt"?Ce:V().l10n.t("Copilot coding agent will implement the specification outlined in this prompt file"),{modal:!0,detail:r!=="prompt"?De:void 0},X1,ag,rc);if(!ct)return;if(ct===ag&&await Oa.disablePromptForConfirmation(),ct===rc){ye();return}}const Le=await this.invokeRemoteAgent(t,i,void 0,Pe);if(Le.state!=="success"){this.telemetry.sendTelemetryErrorEvent("remoteAgent.command.result",{reason:"invocationFailure"}),V().window.showErrorMessage(Le.error);return}const{webviewUri:$e,link:Ze,number:rt}=Le;this.telemetry.sendTelemetryEvent("remoteAgent.command.success",{source:r||"unknown",hasFollowup:(!!a).toString(),outcome:"success"});const Ve=V().workspace.getConfiguration("chat").get("agentSessionsViewLocation"),We=await(async()=>{const ct=await this.copilotApi;return ct?(await ct.getAllCodingAgentPRs(this.repositoriesManager)).find(Se=>Se.number===rt):void 0})();if(!Ve||Ve==="disabled"?V().commands.executeCommand("vscode.open",$e):(await this.provideChatSessions(new(V()).CancellationTokenSource().token),We&&V().window.showChatSession(qn,`${We.number}`,{})),We&&o&&o===2){const ct=Uo(We.body,{renderer:new qo,smartypants:!0}).trim();return{uri:$e.toString(),title:We.title,description:ct,author:en[We.author.login].name,linkTag:`#${We.number}`}}return V().l10n.t("\u{1F680} Coding agent will continue work in [#{0}]({1}).  Track progress [here]({2}).",rt,Ze,$e.toString())}async invokeRemoteAgent(e,t,i,r=!0){const a=await this.copilotApi;if(!a)return{error:V().l10n.t("Failed to initialize Copilot API"),state:"error"};await this.promptAndUpdatePreferredGitHubRemote(!0);const o=await this.repoInfo();if(!o)return{error:V().l10n.t("No repository information found. Please open a workspace with a GitHub repository."),state:"error"};const{owner:v,repo:T,remote:x,repository:W,ghRepository:te,baseRef:oe}=o,fe=oe;let ye;if(r&&(W.state.workingTreeChanges.length>0||W.state.indexChanges.length>0)){if(!Oa.getAutoCommitAndPushEnabled())return{error:V().l10n.t("Uncommitted changes detected. Please commit or stash your changes before starting the remote agent. Enable '{0}' to push your changes automatically.",pi),state:"error"};try{ye=await this.gitOperationsManager.commitAndPushChanges(o)}catch(Ve){return{error:Ve.message,state:"error"}}}try{if(!await te.hasBranch(fe)){if(!Oa.getAutoCommitAndPushEnabled())return{error:V().l10n.t("The branch '{0}' does not exist on the remote repository '{1}/{2}'. Please create the remote branch first.",fe,v,T),state:"error"};y.appendLine(`Base ref needs to exist on remote.  Auto pushing base_ref '${fe}' to remote repository '${v}/${T}'`,ki.ID),await W.push(x.remoteName,fe,!0)}}catch{return{error:V().l10n.t("Failed to configure base branch '{0}' does not exist on the remote repository '{1}/{2}'. Please create the remote branch first.",fe,v,T),state:"error"}}let Ce=e;const De=t==null?void 0:t.match(/TITLE: \s*(.*)/i);De&&De[1]&&(Ce=De[1].trim());const Le=Ve=>{const We=V().l10n.t("Coding agent has begun work on **{0}** and will replace this description as work progresses.",Ce),ct=`<details><summary>${V().l10n.t("See problem context")}</summary>

${Ve}

</details>`;return`${We}

${ct}`};let $e=!1;if(t&&t.length+e.length>=dd){$e=!0,y.warn(`Truncating problemContext as it will cause us to exceed maximum problem_statement length (${dd})`,ki.ID);const Ve=dd-e.length;t=t.slice(-Ve)}const rt={problem_statement:`${e}
${t!=null?t:""}`,event_type:"visual_studio_code_remote_agent_tool_invoked",pull_request:{title:Ce,body_placeholder:Le(t||e),base_ref:fe,body_suffix:tk,...ye&&{head_ref:ye}}};try{const{pull_request:Ve,session_id:We}=await a.postRemoteAgentJob(v,T,rt,$e);this._onDidCreatePullRequest.fire(Ve.number);const ct=await Mo({owner:v,repo:T,pullRequestNumber:Ve.number}),jt="The remote agent has begun work and has created a pull request. Details about the pull request are being shown to the user. If the user wants to track progress or iterate on the agent's work, they should use the pull request.";return await this.waitForQueuedToInProgress(We,i),{state:"success",number:Ve.number,link:Ve.html_url,webviewUri:ct,llmDetails:ye?`Local pending changes have been pushed to branch '${ye}'. ${jt}`:jt,sessionId:We}}catch(Ve){return{error:Ve.message,state:"error"}}}async getSessionLogsFromAction(e){const t=await this.copilotApi;if(!t)return[];const i=await this.getLatestCodingAgentFromAction(e);return i?await t.getLogsFromZipUrl(i.logs_url):[]}async getWorkflowStepsFromAction(e){const t=await this.getLatestCodingAgentFromAction(e,0,!1);if(!t)return[];try{const i=await e.githubRepository.getWorkflowJobs(t.id),r=[];for(const a of i)if(a.steps)for(const o of a.steps)r.push({name:o.name,status:o.status});return r}catch(i){return y.error(`Failed to get workflow steps: ${i}`,ki.ID),[]}}async getLatestCodingAgentFromAction(e,t=0,i=!0){if(!await this.copilotApi)return;const v=(await e.githubRepository.getWorkflowRunsFromAction(e.createdAt)).flatMap(x=>x.workflow_runs).filter(x=>x.path&&x.path.startsWith(`dynamic/${qn}`)).filter(x=>{var W;return(W=x.pull_requests)==null?void 0:W.some(te=>te.id===e.id)});if(v.filter(x=>!i||x.status==="completed").at(t))return this.getLatestRun(v)}async getSessionLogFromPullRequest(e,t=0,i=!0){const r=await this.copilotApi;if(!r)return;const o=(await r.getAllSessions(e.id)).filter(x=>!i||x.state==="completed").at(t);if(!o)return;const v=await r.getLogsFromSession(o.id);let T;if(o.state==="in_progress"||v.trim().length===0)try{T=await this.getWorkflowStepsFromAction(e)}catch(x){y.warn(`Failed to fetch workflow steps for session ${o.id}: ${x}`,ki.ID)}return{info:o,logs:v,setupSteps:T}}async getSessionUrlFromPullRequest(e){if(!await this.copilotApi)return;const i=await this.getLatestCodingAgentFromAction(e);if(i)return i.html_url}getLatestRun(e){return e.slice().sort((t,i)=>{var r,a,o,v;const T=new Date((a=(r=t.last_updated_at)!=null?r:t.updated_at)!=null?a:0).getTime();return new Date((v=(o=i.last_updated_at)!=null?o:i.updated_at)!=null?v:0).getTime()-T})[0]}get notificationsCount(){return this._stateModel.notifications.size}hasNotification(e,t,i){const r=this._stateModel.makeKey(e,t,i);return this._stateModel.notifications.has(r)}getStateForPR(e,t,i){return this._stateModel.get(e,t,i)}getCounts(){return this._stateModel.getCounts()}async extractHistory(e){if(!e)return;const t=[];for(const r of e)if(r instanceof V().ChatRequestTurn)t.push(`User: ${r.prompt}`);else if(r instanceof V().ChatResponseTurn){const a=r.response.filter(o=>o instanceof V().ChatResponseMarkdownPart).map(o=>o.value);a.length>0&&t.push(`Copilot: ${a.join(`
`)}`)}return t.join(`
`)}extractFileReferences(e){if(!e||e.length===0)return;const t=[];for(const i of e)if(i.value instanceof V().Uri&&i.value.scheme==="file"){const r=V().workspace.getWorkspaceFolder(i.value);if(r){const a=z.relative(r.uri.fsPath,i.value.fsPath);t.push(` - ${a}`)}}if(t.length)return t.unshift("The user has attached the following files as relevant context:"),t.join(`
`)}async provideNewChatSessionItem(e,t){const{request:i,history:r}=e;if(!e.prompt)throw new Error("Prompt is expected to provide a new chat session item");const a=e.prompt,{source:o,summary:v}=e.metadata||{};if(this.telemetry.sendTelemetryEvent("copilot.remoteagent.editor.invoke",{}),o==="chatExecuteActions"){const De=`new-${Date.now()}`,Le={id:De,label:V().l10n.t("New coding agent session"),iconPath:new(V()).ThemeIcon("plus"),prompt:a,summary:v};return this.ephemeralChatSessions.set(De,Le),Le}const T=await this.invokeRemoteAgent(a,[this.extractFileReferences(i.references),await this.extractHistory(r)].join(`

`).trim(),t,!1);if(T.state!=="success")throw y.error(`Failed to provide new chat session item: ${T.error}`,ki.ID),new Error(`Failed to provide new chat session item: ${T.error}`);const{number:x}=T,W=await this.findPullRequestById(x,!0);if(!W)throw new Error(`Failed to find session for pull request: ${x}`);const te=await W.getCopilotTimelineEvents(W),oe=ky(io(te)),fe=await vs(W,this.context,this.repositoriesManager),ye=new Date(W.createdAt).getTime(),Pe=await W.githubRepository.getDefaultBranch(),Ce=W.base.ref===Pe?`pull request #${W.number}`:`pull request #${W.number} \u2192 ${W.base.ref}`;return{id:`${W.number}`,label:W.title||`Session ${W.number}`,iconPath:this.getIconForSession(oe),pullRequest:W,description:Ce,tooltip:fe,status:oe,timing:{startTime:ye}}}async provideChatSessions(e){var t;try{const i=await this.copilotApi;if(!i)return[];if(e.isCancellationRequested)return[];await this.waitRepoManagerInitialization();let r=[];return this._stateModel.isInitialized?(r=this._stateModel.all,y.debug(`Fetched PRs from state model: ${r.length}`,ki.ID)):(this.codingAgentPRsPromise=(t=this.codingAgentPRsPromise)!=null?t:new Promise(async a=>{try{const o=await i.getAllCodingAgentPRs(this.repositoriesManager),v=await Promise.all(o.map(async T=>{const x=await T.getCopilotTimelineEvents(T),W=Zr(io(x));return{item:T,status:W}}));a(v)}catch(o){y.error(`Failed to fetch coding agent PRs: ${o}`,ki.ID),a([])}}),r=await this.codingAgentPRsPromise,y.debug(`Fetched PRs from API: ${r.length}`,ki.ID)),await Promise.all(r.map(async a=>{const o=new Date(a.item.createdAt).getTime(),v=Sy(a.status),T=a.item,x=await vs(T,this.context,this.repositoriesManager),W=await Mo({owner:T.remote.owner,repo:T.remote.repositoryName,pullRequestNumber:T.number}),te=new(V()).MarkdownString(`[#${T.number}](${W.toString()})`);return{id:`${T.number}`,label:T.title||`Session ${T.number}`,iconPath:this.getIconForSession(v),pullRequest:T,description:te,tooltip:x,status:v,timing:{startTime:o},statistics:T.item.additions!==void 0&&T.item.deletions!==void 0&&(T.item.additions>0||T.item.deletions>0)?{insertions:T.item.additions,deletions:T.item.deletions}:void 0}}))}catch(i){y.error(`Failed to provide coding agents information: ${i}`,ki.ID)}finally{this.codingAgentPRsPromise=void 0}return[]}async newSessionFlowFromPrompt(e){const t=this.ephemeralChatSessions.get(e);if(!t)return this.createEmptySession();const i=await this.repoInfo();if(!i)return this.createEmptySession();const{repo:r,owner:a}=i,{prompt:o,summary:v}=t,T=new(V()).ChatRequestTurn2(o,void 0,[],qn,[],[]),x=[new(V()).ChatResponseProgressPart(V().l10n.t("Starting coding agent session...")),new(V()).ChatResponseConfirmationPart(V().l10n.t("Copilot coding agent will continue your work in '{0}'.",`${a}/${r}`),V().l10n.t("Your chat context will be used to continue work in a new pull request."),"invoke",["Continue","Cancel"])],W=new(V()).ChatResponseTurn2(x,{},qn);return{history:[T,W],requestHandler:async(te,oe,fe,ye)=>{if(ye.isCancellationRequested)return{};if(te.acceptedConfirmationData){if(!Array.isArray(te.acceptedConfirmationData))return y.error(`Invalid confirmation data: ${te.acceptedConfirmationData}`,ki.ID),{};const Pe=te.acceptedConfirmationData;for(;Pe.length;){const Ce=Pe.shift();if(Ce)switch(Ce){case"invoke":fe.progress("Delegating to coding agent");const De=await this.invokeRemoteAgent(o,v||o,void 0,!1);if(this.ephemeralChatSessions.delete(e),De.state!=="success")return fe.warning(`Could not create coding agent session: ${De.error}`),{};const Le=await this.findPullRequestById(De.number,!0);return t.pullRequest=Le,Le?await this.copilotApi?(fe.markdown(V().l10n.t("Coding agent is now working on your request...")),fe.markdown(`

`),await this.streamSessionLogs(fe,Le,De.sessionId,ye),{}):(fe.warning(V().l10n.t("Could not initialize Copilot API.")),{}):(fe.warning("Could not find coding agent session."),{});default:return y.error(`Unknown confirmation state: ${Ce}`,ki.ID),fe.markdown("error!"),{}}}}return te.rejectedConfirmationData?(fe.push(new(V()).ChatResponseProgressPart(V().l10n.t("Cancelled starting coding agent session."))),{}):{}},activeResponseCallback:void 0}}async provideChatSessionContent(e,t){try{const i=await this.copilotApi;if(!i||t.isCancellationRequested)return this.createEmptySession();if(await this.waitRepoManagerInitialization(),e.startsWith("new"))return await this.newSessionFlowFromPrompt(e);const r=parseInt(e);if(isNaN(r))return y.error(`Invalid pull request number: ${e}`,ki.ID),this.createEmptySession();const a=await this.findPullRequestById(r,!0);if(!a)return y.error(`Pull request not found: ${r}`,ki.ID),this.createEmptySession();const o=a.getTimelineEvents(),v=this.getChangeModels(a),T=await i.getAllSessions(a.id);return!T||T.length===0?(y.warn(`No sessions found for pull request ${r}`,ki.ID),this.createEmptySession()):Array.isArray(T)?{history:await new Q1(ki.ID,sg,v).buildSessionHistory(T,a,i,o),activeResponseCallback:this.findActiveResponseCallback(T,a),requestHandler:this.createRequestHandlerIfNeeded(a)}:(y.error(`getAllSessions returned non-array: ${typeof T}`,ki.ID),this.createEmptySession())}catch(i){return y.error(`Failed to provide chat session content: ${i}`,ki.ID),this.createEmptySession()}}findActiveResponseCallback(e,t){const i=e.slice().sort((r,a)=>new Date(a.created_at).getTime()-new Date(r.created_at).getTime()).find(r=>r.state==="in_progress");if(i)return this.createActiveResponseCallback(t,i.id)}createRequestHandlerIfNeeded(e){return e.state===Xi.Open?this.createRequestHandler(e):void 0}createEmptySession(){return{history:[],requestHandler:void 0}}createActiveResponseCallback(e,t){return async(i,r)=>this.streamSessionLogs(i,e,t,r)}async streamNewLogContent(e,t,i){var r;try{if(!i.trim())return{hasStreamedContent:!1,hasSetupStepProgress:!1};const a=Kp(i);let o=!1,v=!1;for(const T of a)for(const x of T.choices){const W=x.delta;if(W.role==="assistant"){if(x.finish_reason==="tool_calls"&&((r=W.tool_calls)!=null&&r.length)&&(W.tool_calls[0].function.name==="run_custom_setup_step"||W.tool_calls[0].function.name==="run_setup")){const te=W.tool_calls[0];let oe={};try{oe=JSON.parse(te.function.arguments)}catch{}if(W.content&&W.content.trim()){const fe=this.createToolInvocationPart(e,te,oe.name||W.content);fe&&(t.push(fe),o=!0)}else v=!0,y.appendLine(`Setup step in progress: ${oe.name||"Unknown step"}`,ki.ID)}else if(W.content&&(W.content.startsWith("<pr_title>")||(t.markdown(W.content),o=!0)),W.tool_calls)for(const te of W.tool_calls){const oe=this.createToolInvocationPart(e,te,W.content||"");oe&&(t.push(oe),o=!0)}}x.finish_reason&&x.finish_reason!=="null"&&y.appendLine(`Streaming finish_reason: ${x.finish_reason}`,ki.ID)}return o?y.appendLine("Streamed content (markdown or tool parts), progress should be cleared",ki.ID):v?y.appendLine("Setup step progress detected, keeping progress indicator",ki.ID):y.appendLine("No actual content streamed, progress may still be showing",ki.ID),{hasStreamedContent:o,hasSetupStepProgress:v}}catch(a){return y.error(`Error streaming new log content: ${a}`,ki.ID),{hasStreamedContent:!1,hasSetupStepProgress:!1}}}async streamSessionLogs(e,t,i,r){const a=await this.copilotApi;if(!a||r.isCancellationRequested)return;let o=0,v=0,T=!1;const x=3e3;return new Promise((W,te)=>{let oe=!1;const fe=async()=>{if(oe)return;oe=!0,await t.getFileChangesInfo();const Pe=await this.getFileChangesMultiDiffPart(t);Pe&&e.push(Pe),W()},ye=async()=>{try{if(r.isCancellationRequested){fe();return}const Pe=await a.getSessionInfo(i);if(!Pe||r.isCancellationRequested){fe();return}const Ce=await a.getLogsFromSession(i);if(Pe.state!=="in_progress"){if(Ce.length>v){const De=Ce.slice(v);(await this.streamNewLogContent(t,e,De)).hasStreamedContent&&(T=!1)}T=!1,fe();return}if(Ce.length>o){y.appendLine("New logs detected, attempting to stream content",ki.ID);const De=Ce.slice(v),Le=await this.streamNewLogContent(t,e,De);v=Ce.length,Le.hasStreamedContent?(y.appendLine("Content was streamed, resetting hasActiveProgress to false",ki.ID),T=!1):Le.hasSetupStepProgress?y.appendLine("Setup step progress detected, keeping progress active",ki.ID):y.appendLine(`No content was streamed, keeping hasActiveProgress as ${T}`,ki.ID)}o=Ce.length,!r.isCancellationRequested&&Pe.state==="in_progress"?(T?y.appendLine("NOT showing progress indicator (hasActiveProgress was true)",ki.ID):(y.appendLine("Showing progress indicator (hasActiveProgress was false)",ki.ID),e.progress("Working..."),T=!0),setTimeout(ye,x)):fe()}catch(Pe){y.error(`Error polling for session updates: ${Pe}`,ki.ID),r.isCancellationRequested?te(Pe):setTimeout(ye,x)}};setTimeout(ye,x)})}async getChangeModels(e){try{const t=await this.repoInfo();if(!t)return[];const{fm:i}=t;return await fn.getChangeModels(i,e)}catch(t){return y.error(`Failed to get change models: ${t}`,ki.ID),[]}}async getFileChangesMultiDiffPart(e){try{const t=await this.getChangeModels(e);if(y.warn("No file changes found for pull request, not showing diff.",ki.ID),t.length===0)return;const i=[];for(const a of t){const{added:o,removed:v}=await a.calculateChangedLinesCount();y.trace(`DiffEntry -> original='${a.parentFilePath}' modified='${a.filePath}' (+${o} -${v})`,ki.ID),i.push({originalUri:a.parentFilePath,modifiedUri:a.filePath,goToFileUri:a.filePath,added:o,removed:v})}const r=`Changes in Pull Request #${e.number}`;return new(V()).ChatResponseMultiDiffPart(i,r)}catch(t){y.error(`Failed to get file changes multi diff part: ${t}`,ki.ID);return}}async findPullRequestById(e,t){for(const i of this.repositoriesManager.folderManagers)for(const r of i.gitHubRepositories){const a=r.pullRequestModels.find(o=>o.number===e);if(a)return a;if(t)try{const o=await r.getPullRequest(e,!1);if(o)return o}catch(o){y.debug(`PR ${e} not found in ${r.remote.owner}/${r.remote.repositoryName} (remote=${r.remote.url}): ${o}`,ki.ID)}}}createToolInvocationPart(e,t,i=""){var r;if(!((r=t.function)!=null&&r.name)||!t.id||t.function.name==="reply_to_comment")return;const a=new(V()).ChatToolInvocationPart(t.function.name,t.id);a.isComplete=!0,a.isError=!1,a.isConfirmed=!0;try{const o=Wp(t,i);if(a.toolName=o.toolName,t.toolName==="think")return new(V()).ChatResponseThinkingProgressPart(t.invocationMessage);if(t.function.name==="bash"?a.invocationMessage=new(V()).MarkdownString(`\`\`\`bash
${o.invocationMessage}
\`\`\``):a.invocationMessage=new(V()).MarkdownString(o.invocationMessage),o.pastTenseMessage&&(a.pastTenseMessage=new(V()).MarkdownString(o.pastTenseMessage)),o.originMessage&&(a.originMessage=new(V()).MarkdownString(o.originMessage)),o.toolSpecificData)if(ic.is(o.toolSpecificData)){if((o.toolSpecificData.command==="view"||o.toolSpecificData.command==="edit")&&o.toolSpecificData.fileLabel){const v=V().Uri.file(z.join(e.githubRepository.rootUri.fsPath,o.toolSpecificData.fileLabel));a.invocationMessage=new(V()).MarkdownString(`${a.toolName} [](${v.toString()})`),a.invocationMessage.supportHtml=!0,a.pastTenseMessage=new(V()).MarkdownString(`${a.toolName} [](${v.toString()})`)}}else a.toolSpecificData=o.toolSpecificData}catch{a.toolName=t.function.name||"unknown",a.invocationMessage=new(V()).MarkdownString(`Tool: ${t.function.name}`),a.isError=!0}return a}createRequestHandler(e){return async(t,i,r,a)=>{try{if(a.isCancellationRequested)return{};const o=t.prompt;if(!o||o.trim().length===0)return r.markdown(V().l10n.t("Please provide a message for the coding agent.")),{};r.progress("Working on your request...");const v=await this.addFollowUpToExistingPR(e.number,o);if(!v)return r.markdown(V().l10n.t("Failed to add follow-up comment to the pull request.")),{};r.markdown(v),r.markdown(`

`);const T=await this.waitForNewSession(e,r,a);return T?(r.markdown(V().l10n.t("Coding agent is now working on your request...")),r.markdown(`

`),await this.streamSessionLogs(r,e,T.id,a),{}):{}}catch(o){return y.error(`Error in request handler: ${o}`,ki.ID),r.markdown(V().l10n.t("An error occurred while processing your request.")),{errorDetails:{message:o.message}}}}}async waitForQueuedToInProgress(e,t){const i=await this.copilotApi;if(!i)return;const r=2*60*1e3,a=3e3,o=Date.now(),v=await i.getSessionInfo(e);if(!(!v||v.state!=="queued"))for(y.appendLine(`Session ${v.id} is queued, waiting to start...`,ki.ID);Date.now()-o<r&&(!t||!t.isCancellationRequested);){const T=await i.getSessionInfo(e);if((T==null?void 0:T.state)==="in_progress")return y.appendLine(`Session ${T.id} now in progress.`,ki.ID),T;await new Promise(x=>setTimeout(x,a))}}async waitForNewSession(e,t,i){const r=await this.copilotApi;if(!r){t.markdown(V().l10n.t("Failed to connect to Copilot API."));return}const o=(await r.getAllSessions(e.id)).length,v=5*60*1e3,T=3e3,x=Date.now();for(;Date.now()-x<v&&!i.isCancellationRequested;){const W=await r.getAllSessions(e.id);if(W.length>o)return W.sort((te,oe)=>new Date(oe.created_at).getTime()-new Date(te.created_at).getTime())[0];await new Promise(te=>setTimeout(te,T))}t.markdown(V().l10n.t("Timed out waiting for the coding agent to respond. The agent may still be processing your request."))}getIconForSession(e){switch(e){case V().ChatSessionStatus.Completed:return new(V()).ThemeIcon("issues",new(V()).ThemeColor("testing.iconPassed"));case V().ChatSessionStatus.Failed:return new(V()).ThemeIcon("error",new(V()).ThemeColor("testing.iconFailed"));default:return new(V()).ThemeIcon("issue-reopened",new(V()).ThemeColor("editorLink.activeForeground"))}}refreshChatSessions(){this._stateModel.clear()}async cancelMostRecentChatSession(e){var t;const i=await this.copilotApi;if(!i){y.warn("No Copilot API instance found");return}const r=(t=this.repositoriesManager.getManagerForIssueModel(e))!=null?t:this.repositoriesManager.folderManagers[0];if(!r){y.warn("No folder manager found for pull request");return}const a=await i.getAllSessions(e.id);if(a.length>0){const o=a[a.length-1],v=r.gitHubRepositories.find(T=>T.remote.remoteName===e.remote.remoteName);v==null||v.cancelWorkflow(o.workflow_run_id)}else y.warn(`No active chat session found for pull request ${e.id}`)}};Mr(og,"ID","CopilotRemoteAgentManager");let ik=og;var xl=Xt(65606);function ac(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof xl=="object"&&xl.version!==void 0?`Node.js/${xl.version.substr(1)} (${xl.platform}; ${xl.arch})`:"<environment undetectable>"}function tf(n,e,t,i){if(typeof t!="function")throw new Error("method for before hook must be a function");return i||(i={}),Array.isArray(e)?e.reverse().reduce((r,a)=>tf.bind(null,n,a,r,i),t)():Promise.resolve().then(()=>n.registry[e]?n.registry[e].reduce((r,a)=>a.hook.bind(null,r,i),t)():t(i))}function nk(n,e,t,i){const r=i;n.registry[t]||(n.registry[t]=[]),e==="before"&&(i=(a,o)=>Promise.resolve().then(r.bind(null,o)).then(a.bind(null,o))),e==="after"&&(i=(a,o)=>{let v;return Promise.resolve().then(a.bind(null,o)).then(T=>(v=T,r(v,o))).then(()=>v)}),e==="error"&&(i=(a,o)=>Promise.resolve().then(a.bind(null,o)).catch(v=>r(v,o))),n.registry[t].push({hook:i,orig:r})}function rk(n,e,t){if(!n.registry[e])return;const i=n.registry[e].map(r=>r.orig).indexOf(t);i!==-1&&n.registry[e].splice(i,1)}const lg=Function.bind,ug=lg.bind(lg);function cg(n,e,t){const i=ug(rk,null).apply(null,t?[e,t]:[e]);n.api={remove:i},n.remove=i,["before","error","after","wrap"].forEach(r=>{const a=t?[e,r,t]:[e,r];n[r]=n.api[r]=ug(nk,null).apply(null,a)})}function ak(){const n=Symbol("Singular"),e={registry:{}},t=tf.bind(null,e,n);return cg(t,e,n),t}function sk(){const n={registry:{}},e=tf.bind(null,n);return cg(e,n),e}const ok={Singular:ak,Collection:sk};var lk="0.0.0-development",uk=`octokit-endpoint.js/${lk} ${ac()}`,ck={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":uk},mediaType:{format:""}};function dk(n){return n?Object.keys(n).reduce((e,t)=>(e[t.toLowerCase()]=n[t],e),{}):{}}function fk(n){if(typeof n!="object"||n===null||Object.prototype.toString.call(n)!=="[object Object]")return!1;const e=Object.getPrototypeOf(n);if(e===null)return!0;const t=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Function.prototype.call(t)===Function.prototype.call(n)}function dg(n,e){const t=Object.assign({},n);return Object.keys(e).forEach(i=>{fk(e[i])?i in n?t[i]=dg(n[i],e[i]):Object.assign(t,{[i]:e[i]}):Object.assign(t,{[i]:e[i]})}),t}function fg(n){for(const e in n)n[e]===void 0&&delete n[e];return n}function nf(n,e,t){var r;if(typeof e=="string"){let[a,o]=e.split(" ");t=Object.assign(o?{method:a,url:o}:{url:a},t)}else t=Object.assign({},e);t.headers=dk(t.headers),fg(t),fg(t.headers);const i=dg(n||{},t);return t.url==="/graphql"&&(n&&((r=n.mediaType.previews)!=null&&r.length)&&(i.mediaType.previews=n.mediaType.previews.filter(a=>!i.mediaType.previews.includes(a)).concat(i.mediaType.previews)),i.mediaType.previews=(i.mediaType.previews||[]).map(a=>a.replace(/-preview/,""))),i}function hk(n,e){const t=/\?/.test(n)?"&":"?",i=Object.keys(e);return i.length===0?n:n+t+i.map(r=>r==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${r}=${encodeURIComponent(e[r])}`).join("&")}var mk=/\{[^{}}]+\}/g;function pk(n){return n.replace(/(?:^\W+)|(?:(?<!\W)\W+$)/g,"").split(/,/)}function gk(n){const e=n.match(mk);return e?e.map(pk).reduce((t,i)=>t.concat(i),[]):[]}function hg(n,e){const t={__proto__:null};for(const i of Object.keys(n))e.indexOf(i)===-1&&(t[i]=n[i]);return t}function mg(n){return n.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function Ho(n){return encodeURIComponent(n).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Ol(n,e,t){return e=n==="+"||n==="#"?mg(e):Ho(e),t?Ho(t)+"="+e:e}function Go(n){return n!=null}function rf(n){return n===";"||n==="&"||n==="?"}function vk(n,e,t,i){var r=n[t],a=[];if(Go(r)&&r!=="")if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")r=r.toString(),i&&i!=="*"&&(r=r.substring(0,parseInt(i,10))),a.push(Ol(e,r,rf(e)?t:""));else if(i==="*")Array.isArray(r)?r.filter(Go).forEach(function(o){a.push(Ol(e,o,rf(e)?t:""))}):Object.keys(r).forEach(function(o){Go(r[o])&&a.push(Ol(e,r[o],o))});else{const o=[];Array.isArray(r)?r.filter(Go).forEach(function(v){o.push(Ol(e,v))}):Object.keys(r).forEach(function(v){Go(r[v])&&(o.push(Ho(v)),o.push(Ol(e,r[v].toString())))}),rf(e)?a.push(Ho(t)+"="+o.join(",")):o.length!==0&&a.push(o.join(","))}else e===";"?Go(r)&&a.push(Ho(t)):r===""&&(e==="&"||e==="?")?a.push(Ho(t)+"="):r===""&&a.push("");return a}function bk(n){return{expand:yk.bind(null,n)}}function yk(n,e){var t=["+","#",".","/",";","?","&"];return n=n.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(i,r,a){if(r){let v="";const T=[];if(t.indexOf(r.charAt(0))!==-1&&(v=r.charAt(0),r=r.substr(1)),r.split(/,/g).forEach(function(x){var W=/([^:\*]*)(?::(\d+)|(\*))?/.exec(x);T.push(vk(e,v,W[1],W[2]||W[3]))}),v&&v!=="+"){var o=",";return v==="?"?o="&":v!=="#"&&(o=v),(T.length!==0?v:"")+T.join(o)}else return T.join(",")}else return mg(a)}),n==="/"?n:n.replace(/\/$/,"")}function pg(n){var W;let e=n.method.toUpperCase(),t=(n.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),i=Object.assign({},n.headers),r,a=hg(n,["method","baseUrl","url","headers","request","mediaType"]);const o=gk(t);t=bk(t).expand(a),/^http/.test(t)||(t=n.baseUrl+t);const v=Object.keys(n).filter(te=>o.includes(te)).concat("baseUrl"),T=hg(a,v);if(!/application\/octet-stream/i.test(i.accept)&&(n.mediaType.format&&(i.accept=i.accept.split(/,/).map(te=>te.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${n.mediaType.format}`)).join(",")),t.endsWith("/graphql")&&(W=n.mediaType.previews)!=null&&W.length)){const te=i.accept.match(/(?<![\w-])[\w-]+(?=-preview)/g)||[];i.accept=te.concat(n.mediaType.previews).map(oe=>{const fe=n.mediaType.format?`.${n.mediaType.format}`:"+json";return`application/vnd.github.${oe}-preview${fe}`}).join(",")}return["GET","HEAD"].includes(e)?t=hk(t,T):"data"in T?r=T.data:Object.keys(T).length&&(r=T),!i["content-type"]&&typeof r!="undefined"&&(i["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof r=="undefined"&&(r=""),Object.assign({method:e,url:t,headers:i},typeof r!="undefined"?{body:r}:null,n.request?{request:n.request}:null)}function wk(n,e,t){return pg(nf(n,e,t))}function gg(n,e){const t=nf(n,e),i=wk.bind(null,t);return Object.assign(i,{DEFAULTS:t,defaults:gg.bind(null,t),merge:nf.bind(null,t),parse:pg})}var _k=gg(null,ck),kk=Xt(6773);class sc extends Error{constructor(t,i,r){super(t);Nt(this,"name");Nt(this,"status");Nt(this,"request");Nt(this,"response");this.name="HttpError",this.status=Number.parseInt(i),Number.isNaN(this.status)&&(this.status=0),"response"in r&&(this.response=r.response);const a=Object.assign({},r.request);r.request.headers.authorization&&(a.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/(?<! ) .*$/," [REDACTED]")})),a.url=a.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=a}}var Sk="10.0.3",Rk={headers:{"user-agent":`octokit-request.js/${Sk} ${ac()}`}};function Ek(n){if(typeof n!="object"||n===null||Object.prototype.toString.call(n)!=="[object Object]")return!1;const e=Object.getPrototypeOf(n);if(e===null)return!0;const t=Object.prototype.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Function.prototype.call(t)===Function.prototype.call(n)}async function vg(n){var te,oe,fe,ye,Pe;const e=((te=n.request)==null?void 0:te.fetch)||globalThis.fetch;if(!e)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");const t=((oe=n.request)==null?void 0:oe.log)||console,i=((fe=n.request)==null?void 0:fe.parseSuccessResponseBody)!==!1,r=Ek(n.body)||Array.isArray(n.body)?JSON.stringify(n.body):n.body,a=Object.fromEntries(Object.entries(n.headers).map(([Ce,De])=>[Ce,String(De)]));let o;try{o=await e(n.url,{method:n.method,body:r,redirect:(ye=n.request)==null?void 0:ye.redirect,headers:a,signal:(Pe=n.request)==null?void 0:Pe.signal,...n.body&&{duplex:"half"}})}catch(Ce){let De="Unknown Error";if(Ce instanceof Error){if(Ce.name==="AbortError")throw Ce.status=500,Ce;De=Ce.message,Ce.name==="TypeError"&&"cause"in Ce&&(Ce.cause instanceof Error?De=Ce.cause.message:typeof Ce.cause=="string"&&(De=Ce.cause))}const Le=new sc(De,500,{request:n});throw Le.cause=Ce,Le}const v=o.status,T=o.url,x={};for(const[Ce,De]of o.headers)x[Ce]=De;const W={url:T,status:v,headers:x,data:""};if("deprecation"in x){const Ce=x.link&&x.link.match(/<([^<>]+)>; rel="deprecation"/),De=Ce&&Ce.pop();t.warn(`[@octokit/request] "${n.method} ${n.url}" is deprecated. It is scheduled to be removed on ${x.sunset}${De?`. See ${De}`:""}`)}if(v===204||v===205)return W;if(n.method==="HEAD"){if(v<400)return W;throw new sc(o.statusText,v,{response:W,request:n})}if(v===304)throw W.data=await af(o),new sc("Not modified",v,{response:W,request:n});if(v>=400)throw W.data=await af(o),new sc(Tk(W.data),v,{response:W,request:n});return W.data=i?await af(o):o.body,W}async function af(n){var i;const e=n.headers.get("content-type");if(!e)return n.text().catch(()=>"");const t=(0,kk.xL)(e);if(Nk(t)){let r="";try{return r=await n.text(),JSON.parse(r)}catch{return r}}else return t.type.startsWith("text/")||((i=t.parameters.charset)==null?void 0:i.toLowerCase())==="utf-8"?n.text().catch(()=>""):n.arrayBuffer().catch(()=>new ArrayBuffer(0))}function Nk(n){return n.type==="application/json"||n.type==="application/scim+json"}function Tk(n){if(typeof n=="string")return n;if(n instanceof ArrayBuffer)return"Unknown error";if("message"in n){const e="documentation_url"in n?` - ${n.documentation_url}`:"";return Array.isArray(n.errors)?`${n.message}: ${n.errors.map(t=>JSON.stringify(t)).join(", ")}${e}`:`${n.message}${e}`}return`Unknown error: ${JSON.stringify(n)}`}function sf(n,e){const t=n.defaults(e);return Object.assign(function(r,a){const o=t.merge(r,a);if(!o.request||!o.request.hook)return vg(t.parse(o));const v=(T,x)=>vg(t.parse(t.merge(T,x)));return Object.assign(v,{endpoint:t,defaults:sf.bind(null,t)}),o.request.hook(v,o)},{endpoint:t,defaults:sf.bind(null,t)})}var of=sf(_k,Rk),Ck="0.0.0-development";function Pk(n){return`Request failed due to following response errors:
`+n.errors.map(e=>` - ${e.message}`).join(`
`)}var Ak=class extends Error{constructor(e,t,i){super(Pk(i));Nt(this,"name","GraphqlResponseError");Nt(this,"errors");Nt(this,"data");this.request=e,this.headers=t,this.response=i,this.errors=i.errors,this.data=i.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Mk=["method","baseUrl","url","headers","request","query","mediaType","operationName"],Ik=["query","method","url"],bg=/\/api\/v3\/?$/;function Dk(n,e,t){if(t){if(typeof e=="string"&&"query"in t)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const o in t)if(Ik.includes(o))return Promise.reject(new Error(`[@octokit/graphql] "${o}" cannot be used as variable name`))}const i=typeof e=="string"?Object.assign({query:e},t):e,r=Object.keys(i).reduce((o,v)=>Mk.includes(v)?(o[v]=i[v],o):(o.variables||(o.variables={}),o.variables[v]=i[v],o),{}),a=i.baseUrl||n.endpoint.DEFAULTS.baseUrl;return bg.test(a)&&(r.url=a.replace(bg,"/api/graphql")),n(r).then(o=>{if(o.data.errors){const v={};for(const T of Object.keys(o.headers))v[T]=o.headers[T];throw new Ak(r,v,o.data)}return o.data.data})}function lf(n,e){const t=n.defaults(e);return Object.assign((r,a)=>Dk(t,r,a),{defaults:lf.bind(null,t),endpoint:t.endpoint})}var XC=lf(of,{headers:{"user-agent":`octokit-graphql.js/${Ck} ${ac()}`},method:"POST",url:"/graphql"});function Fk(n){return lf(n,{method:"POST",url:"/graphql"})}var uf="(?:[a-zA-Z0-9_-]+)",yg="\\.",wg=new RegExp(`^${uf}${yg}${uf}${yg}${uf}$`),xk=wg.test.bind(wg);async function Ok(n){const e=xk(n),t=n.startsWith("v1.")||n.startsWith("ghs_"),i=n.startsWith("ghu_");return{type:"token",token:n,tokenType:e?"app":t?"installation":i?"user-to-server":"oauth"}}function Lk(n){return n.split(/\./).length===3?`bearer ${n}`:`token ${n}`}async function Uk(n,e,t,i){const r=e.endpoint.merge(t,i);return r.headers.authorization=Lk(n),e(r)}var Bk=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(Ok.bind(null,e),{hook:Uk.bind(null,e)})};const _g="7.0.3",kg=()=>{},qk=console.warn.bind(console),$k=console.error.bind(console);function Hk(n={}){return typeof n.debug!="function"&&(n.debug=kg),typeof n.info!="function"&&(n.info=kg),typeof n.warn!="function"&&(n.warn=qk),typeof n.error!="function"&&(n.error=$k),n}const Sg=`octokit-core.js/${_g} ${ac()}`;class cf{constructor(e={}){Nt(this,"request");Nt(this,"graphql");Nt(this,"log");Nt(this,"hook");Nt(this,"auth");const t=new ok.Collection,i={baseUrl:of.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};if(i.headers["user-agent"]=e.userAgent?`${e.userAgent} ${Sg}`:Sg,e.baseUrl&&(i.baseUrl=e.baseUrl),e.previews&&(i.mediaType.previews=e.previews),e.timeZone&&(i.headers["time-zone"]=e.timeZone),this.request=of.defaults(i),this.graphql=Fk(this.request).defaults(i),this.log=Hk(e.log),this.hook=t,e.authStrategy){const{authStrategy:a,...o}=e,v=a(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:o},e.auth));t.wrap("request",v.hook),this.auth=v}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const a=Bk(e.auth);t.wrap("request",a.hook),this.auth=a}const r=this.constructor;for(let a=0;a<r.plugins.length;++a)Object.assign(this,r.plugins[a](this,e))}static defaults(e){return class extends this{constructor(...i){const r=i[0]||{};if(typeof e=="function"){super(e(r));return}super(Object.assign({},e,r,r.userAgent&&e.userAgent?{userAgent:`${r.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var r;const t=this.plugins;return r=class extends this{},Nt(r,"plugins",t.concat(e.filter(a=>!t.includes(a)))),r}}Nt(cf,"VERSION",_g),Nt(cf,"plugins",[]);const Gk="6.0.0";function Rg(n){n.hook.wrap("request",(e,t)=>{n.log.debug("request",t);const i=Date.now(),r=n.request.endpoint.parse(t),a=r.url.replace(t.baseUrl,"");return e(t).then(o=>{const v=o.headers["x-github-request-id"];return n.log.info(`${r.method} ${a} - ${o.status} with id ${v} in ${Date.now()-i}ms`),o}).catch(o=>{var T;const v=((T=o.response)==null?void 0:T.headers["x-github-request-id"])||"UNKNOWN";throw n.log.error(`${r.method} ${a} - ${o.status} with id ${v} in ${Date.now()-i}ms`),o})})}Rg.VERSION=Gk;var Vk="0.0.0-development";function jk(n){if(!n.data)return{...n,data:[]};if(!(("total_count"in n.data||"total_commits"in n.data)&&!("url"in n.data)))return n;const t=n.data.incomplete_results,i=n.data.repository_selection,r=n.data.total_count,a=n.data.total_commits;delete n.data.incomplete_results,delete n.data.repository_selection,delete n.data.total_count,delete n.data.total_commits;const o=Object.keys(n.data)[0],v=n.data[o];return n.data=v,typeof t!="undefined"&&(n.data.incomplete_results=t),typeof i!="undefined"&&(n.data.repository_selection=i),n.data.total_count=r,n.data.total_commits=a,n}function df(n,e,t){const i=typeof e=="function"?e.endpoint(t):n.request.endpoint(e,t),r=typeof e=="function"?e:n.request,a=i.method,o=i.headers;let v=i.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!v)return{done:!0};try{const T=await r({method:a,url:v,headers:o}),x=jk(T);if(v=((x.headers.link||"").match(/<([^<>]+)>;\s*rel="next"/)||[])[1],!v&&"total_commits"in x.data){const W=new URL(x.url),te=W.searchParams,oe=parseInt(te.get("page")||"1",10),fe=parseInt(te.get("per_page")||"250",10);oe*fe<x.data.total_commits&&(te.set("page",String(oe+1)),v=W.toString())}return{value:x}}catch(T){if(T.status!==409)throw T;return v="",{value:{status:200,headers:{},data:[]}}}}})}}function Eg(n,e,t,i){return typeof t=="function"&&(i=t,t=void 0),Ng(n,[],df(n,e,t)[Symbol.asyncIterator](),i)}function Ng(n,e,t,i){return t.next().then(r=>{if(r.done)return e;let a=!1;function o(){a=!0}return e=e.concat(i?i(r.value,o):r.value.data),a?e:Ng(n,e,t,i)})}var e2=Object.assign(Eg,{iterator:df}),zk=null;function t2(n){return typeof n=="string"?zk.includes(n):!1}function Tg(n){return{paginate:Object.assign(Eg.bind(null,n),{iterator:df.bind(null,n)})}}Tg.VERSION=Vk;const Cg="16.0.0";var Wk={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addRepoAccessToSelfHostedRunnerGroupInOrg:["PUT /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createEnvironmentVariable:["POST /repos/{owner}/{repo}/environments/{environment_name}/variables"],createHostedRunnerForOrg:["POST /orgs/{org}/actions/hosted-runners"],createOrUpdateEnvironmentSecret:["PUT /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createOrgVariable:["POST /orgs/{org}/actions/variables"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createRepoVariable:["POST /repos/{owner}/{repo}/actions/variables"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],deleteEnvironmentVariable:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],deleteHostedRunnerForOrg:["DELETE /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteRepoVariable:["DELETE /repos/{owner}/{repo}/actions/variables/{name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],forceCancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/force-cancel"],generateRunnerJitconfigForOrg:["POST /orgs/{org}/actions/runners/generate-jitconfig"],generateRunnerJitconfigForRepo:["POST /repos/{owner}/{repo}/actions/runners/generate-jitconfig"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getCustomOidcSubClaimForRepo:["GET /repos/{owner}/{repo}/actions/oidc/customization/sub"],getEnvironmentPublicKey:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],getEnvironmentVariable:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getHostedRunnerForOrg:["GET /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],getHostedRunnersGithubOwnedImagesForOrg:["GET /orgs/{org}/actions/hosted-runners/images/github-owned"],getHostedRunnersLimitsForOrg:["GET /orgs/{org}/actions/hosted-runners/limits"],getHostedRunnersMachineSpecsForOrg:["GET /orgs/{org}/actions/hosted-runners/machine-sizes"],getHostedRunnersPartnerImagesForOrg:["GET /orgs/{org}/actions/hosted-runners/images/partner"],getHostedRunnersPlatformsForOrg:["GET /orgs/{org}/actions/hosted-runners/platforms"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getOrgVariable:["GET /orgs/{org}/actions/variables/{name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getRepoVariable:["GET /repos/{owner}/{repo}/actions/variables/{name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets"],listEnvironmentVariables:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables"],listGithubHostedRunnersInGroupForOrg:["GET /orgs/{org}/actions/runner-groups/{runner_group_id}/hosted-runners"],listHostedRunnersForOrg:["GET /orgs/{org}/actions/hosted-runners"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listOrgVariables:["GET /orgs/{org}/actions/variables"],listRepoOrganizationSecrets:["GET /repos/{owner}/{repo}/actions/organization-secrets"],listRepoOrganizationVariables:["GET /repos/{owner}/{repo}/actions/organization-variables"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoVariables:["GET /repos/{owner}/{repo}/actions/variables"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedReposForOrgVariable:["GET /orgs/{org}/actions/variables/{name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],reviewCustomGatesForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/deployment_protection_rule"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setCustomOidcSubClaimForRepo:["PUT /repos/{owner}/{repo}/actions/oidc/customization/sub"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedReposForOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"],updateEnvironmentVariable:["PATCH /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],updateHostedRunnerForOrg:["PATCH /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],updateOrgVariable:["PATCH /orgs/{org}/actions/variables/{name}"],updateRepoVariable:["PATCH /repos/{owner}/{repo}/actions/variables/{name}"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsDone:["DELETE /notifications/threads/{thread_id}"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallationRequestsForAuthenticatedApp:["GET /app/installation-requests"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubBillingUsageReportOrg:["GET /organizations/{org}/settings/billing/usage"],getGithubBillingUsageReportUser:["GET /users/{username}/settings/billing/usage"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},campaigns:{createCampaign:["POST /orgs/{org}/campaigns"],deleteCampaign:["DELETE /orgs/{org}/campaigns/{campaign_number}"],getCampaignSummary:["GET /orgs/{org}/campaigns/{campaign_number}"],listOrgCampaigns:["GET /orgs/{org}/campaigns"],updateCampaign:["PATCH /orgs/{org}/campaigns/{campaign_number}"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{commitAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix/commits"],createAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],createVariantAnalysis:["POST /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses"],deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],deleteCodeqlDatabase:["DELETE /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getAutofix:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],getCodeqlDatabase:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getDefaultSetup:["GET /repos/{owner}/{repo}/code-scanning/default-setup"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],getVariantAnalysis:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}"],getVariantAnalysisRepoTask:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}/repos/{repo_owner}/{repo_name}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listCodeqlDatabases:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],updateDefaultSetup:["PATCH /repos/{owner}/{repo}/code-scanning/default-setup"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codeSecurity:{attachConfiguration:["POST /orgs/{org}/code-security/configurations/{configuration_id}/attach"],attachEnterpriseConfiguration:["POST /enterprises/{enterprise}/code-security/configurations/{configuration_id}/attach"],createConfiguration:["POST /orgs/{org}/code-security/configurations"],createConfigurationForEnterprise:["POST /enterprises/{enterprise}/code-security/configurations"],deleteConfiguration:["DELETE /orgs/{org}/code-security/configurations/{configuration_id}"],deleteConfigurationForEnterprise:["DELETE /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],detachConfiguration:["DELETE /orgs/{org}/code-security/configurations/detach"],getConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}"],getConfigurationForRepository:["GET /repos/{owner}/{repo}/code-security-configuration"],getConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations"],getConfigurationsForOrg:["GET /orgs/{org}/code-security/configurations"],getDefaultConfigurations:["GET /orgs/{org}/code-security/configurations/defaults"],getDefaultConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/defaults"],getRepositoriesForConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}/repositories"],getRepositoriesForEnterpriseConfiguration:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}/repositories"],getSingleConfigurationForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],setConfigurationAsDefault:["PUT /orgs/{org}/code-security/configurations/{configuration_id}/defaults"],setConfigurationAsDefaultForEnterprise:["PUT /enterprises/{enterprise}/code-security/configurations/{configuration_id}/defaults"],updateConfiguration:["PATCH /orgs/{org}/code-security/configurations/{configuration_id}"],updateEnterpriseConfiguration:["PATCH /enterprises/{enterprise}/code-security/configurations/{configuration_id}"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],checkPermissionsForDevcontainer:["GET /repos/{owner}/{repo}/codespaces/permissions_check"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getCodespacesForUserInOrg:["GET /orgs/{org}/members/{username}/codespaces"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getOrgPublicKey:["GET /orgs/{org}/codespaces/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org}/codespaces",{},{renamedParameters:{org_id:"org"}}],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listOrgSecrets:["GET /orgs/{org}/codespaces/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],preFlightWithRepoForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/new"],publishForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/publish"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},copilot:{addCopilotSeatsForTeams:["POST /orgs/{org}/copilot/billing/selected_teams"],addCopilotSeatsForUsers:["POST /orgs/{org}/copilot/billing/selected_users"],cancelCopilotSeatAssignmentForTeams:["DELETE /orgs/{org}/copilot/billing/selected_teams"],cancelCopilotSeatAssignmentForUsers:["DELETE /orgs/{org}/copilot/billing/selected_users"],copilotMetricsForOrganization:["GET /orgs/{org}/copilot/metrics"],copilotMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/metrics"],getCopilotOrganizationDetails:["GET /orgs/{org}/copilot/billing"],getCopilotSeatDetailsForUser:["GET /orgs/{org}/members/{username}/copilot"],listCopilotSeats:["GET /orgs/{org}/copilot/billing/seats"]},credentials:{revoke:["POST /credentials/revoke"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getAlert:["GET /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/dependabot/alerts"],listAlertsForOrg:["GET /orgs/{org}/dependabot/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/dependabot/alerts"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],updateAlert:["PATCH /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"],exportSbom:["GET /repos/{owner}/{repo}/dependency-graph/sbom"]},emojis:{get:["GET /emojis"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},hostedCompute:{createNetworkConfigurationForOrg:["POST /orgs/{org}/settings/network-configurations"],deleteNetworkConfigurationFromOrg:["DELETE /orgs/{org}/settings/network-configurations/{network_configuration_id}"],getNetworkConfigurationForOrg:["GET /orgs/{org}/settings/network-configurations/{network_configuration_id}"],getNetworkSettingsForOrg:["GET /orgs/{org}/settings/network-settings/{network_settings_id}"],listNetworkConfigurationsForOrg:["GET /orgs/{org}/settings/network-configurations"],updateNetworkConfigurationForOrg:["PATCH /orgs/{org}/settings/network-configurations/{network_configuration_id}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],addSubIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],checkUserCanBeAssignedToIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],listSubIssues:["GET /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],removeSubIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/sub_issue"],reprioritizeSubIssue:["PATCH /repos/{owner}/{repo}/issues/{issue_number}/sub_issues/priority"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getAllVersions:["GET /versions"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"]},oidc:{getOidcCustomSubTemplateForOrg:["GET /orgs/{org}/actions/oidc/customization/sub"],updateOidcCustomSubTemplateForOrg:["PUT /orgs/{org}/actions/oidc/customization/sub"]},orgs:{addSecurityManagerTeam:["PUT /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.addSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#add-a-security-manager-team"}],assignTeamToOrgRole:["PUT /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],assignUserToOrgRole:["PUT /orgs/{org}/organization-roles/users/{username}/{role_id}"],blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createIssueType:["POST /orgs/{org}/issue-types"],createOrUpdateCustomProperties:["PATCH /orgs/{org}/properties/schema"],createOrUpdateCustomPropertiesValuesForRepos:["PATCH /orgs/{org}/properties/values"],createOrUpdateCustomProperty:["PUT /orgs/{org}/properties/schema/{custom_property_name}"],createWebhook:["POST /orgs/{org}/hooks"],delete:["DELETE /orgs/{org}"],deleteIssueType:["DELETE /orgs/{org}/issue-types/{issue_type_id}"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],enableOrDisableSecurityProductOnAllOrgRepos:["POST /orgs/{org}/{security_product}/{enablement}",{},{deprecated:"octokit.rest.orgs.enableOrDisableSecurityProductOnAllOrgRepos() is deprecated, see https://docs.github.com/rest/orgs/orgs#enable-or-disable-a-security-feature-for-an-organization"}],get:["GET /orgs/{org}"],getAllCustomProperties:["GET /orgs/{org}/properties/schema"],getCustomProperty:["GET /orgs/{org}/properties/schema/{custom_property_name}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getOrgRole:["GET /orgs/{org}/organization-roles/{role_id}"],getOrgRulesetHistory:["GET /orgs/{org}/rulesets/{ruleset_id}/history"],getOrgRulesetVersion:["GET /orgs/{org}/rulesets/{ruleset_id}/history/{version_id}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listAttestations:["GET /orgs/{org}/attestations/{subject_digest}"],listBlockedUsers:["GET /orgs/{org}/blocks"],listCustomPropertiesValuesForRepos:["GET /orgs/{org}/properties/values"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listIssueTypes:["GET /orgs/{org}/issue-types"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOrgRoleTeams:["GET /orgs/{org}/organization-roles/{role_id}/teams"],listOrgRoleUsers:["GET /orgs/{org}/organization-roles/{role_id}/users"],listOrgRoles:["GET /orgs/{org}/organization-roles"],listOrganizationFineGrainedPermissions:["GET /orgs/{org}/organization-fine-grained-permissions"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPatGrantRepositories:["GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories"],listPatGrantRequestRepositories:["GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories"],listPatGrantRequests:["GET /orgs/{org}/personal-access-token-requests"],listPatGrants:["GET /orgs/{org}/personal-access-tokens"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listSecurityManagerTeams:["GET /orgs/{org}/security-managers",{},{deprecated:"octokit.rest.orgs.listSecurityManagerTeams() is deprecated, see https://docs.github.com/rest/orgs/security-managers#list-security-manager-teams"}],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeCustomProperty:["DELETE /orgs/{org}/properties/schema/{custom_property_name}"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],removeSecurityManagerTeam:["DELETE /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.removeSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#remove-a-security-manager-team"}],reviewPatGrantRequest:["POST /orgs/{org}/personal-access-token-requests/{pat_request_id}"],reviewPatGrantRequestsInBulk:["POST /orgs/{org}/personal-access-token-requests"],revokeAllOrgRolesTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}"],revokeAllOrgRolesUser:["DELETE /orgs/{org}/organization-roles/users/{username}"],revokeOrgRoleTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],revokeOrgRoleUser:["DELETE /orgs/{org}/organization-roles/users/{username}/{role_id}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateIssueType:["PUT /orgs/{org}/issue-types/{issue_type_id}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updatePatAccess:["POST /orgs/{org}/personal-access-tokens/{pat_id}"],updatePatAccesses:["POST /orgs/{org}/personal-access-tokens"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listDockerMigrationConflictingPackagesForAuthenticatedUser:["GET /user/docker/conflicts"],listDockerMigrationConflictingPackagesForOrganization:["GET /orgs/{org}/docker/conflicts"],listDockerMigrationConflictingPackagesForUser:["GET /users/{username}/docker/conflicts"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},privateRegistries:{createOrgPrivateRegistry:["POST /orgs/{org}/private-registries"],deleteOrgPrivateRegistry:["DELETE /orgs/{org}/private-registries/{secret_name}"],getOrgPrivateRegistry:["GET /orgs/{org}/private-registries/{secret_name}"],getOrgPublicKey:["GET /orgs/{org}/private-registries/public-key"],listOrgPrivateRegistries:["GET /orgs/{org}/private-registries"],updateOrgPrivateRegistry:["PATCH /orgs/{org}/private-registries/{secret_name}"]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],cancelPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}/cancel"],checkAutomatedSecurityFixes:["GET /repos/{owner}/{repo}/automated-security-fixes"],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkPrivateVulnerabilityReporting:["GET /repos/{owner}/{repo}/private-vulnerability-reporting"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAttestation:["POST /repos/{owner}/{repo}/attestations"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentBranchPolicy:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],createDeploymentProtectionRule:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateCustomPropertiesValues:["PATCH /repos/{owner}/{repo}/properties/values"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createOrgRuleset:["POST /orgs/{org}/rulesets"],createPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createRepoRuleset:["POST /repos/{owner}/{repo}/rulesets"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteDeploymentBranchPolicy:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deleteOrgRuleset:["DELETE /orgs/{org}/rulesets/{ruleset_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteRepoRuleset:["DELETE /repos/{owner}/{repo}/rulesets/{ruleset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableDeploymentProtectionRule:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],disablePrivateVulnerabilityReporting:["DELETE /repos/{owner}/{repo}/private-vulnerability-reporting"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enablePrivateVulnerabilityReporting:["PUT /repos/{owner}/{repo}/private-vulnerability-reporting"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllDeploymentProtectionRules:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getBranchRules:["GET /repos/{owner}/{repo}/rules/branches/{branch}"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getCustomDeploymentProtectionRule:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],getCustomPropertiesValues:["GET /repos/{owner}/{repo}/properties/values"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentBranchPolicy:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getOrgRuleSuite:["GET /orgs/{org}/rulesets/rule-suites/{rule_suite_id}"],getOrgRuleSuites:["GET /orgs/{org}/rulesets/rule-suites"],getOrgRuleset:["GET /orgs/{org}/rulesets/{ruleset_id}"],getOrgRulesets:["GET /orgs/{org}/rulesets"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesDeployment:["GET /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getRepoRuleSuite:["GET /repos/{owner}/{repo}/rulesets/rule-suites/{rule_suite_id}"],getRepoRuleSuites:["GET /repos/{owner}/{repo}/rulesets/rule-suites"],getRepoRuleset:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}"],getRepoRulesetHistory:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history"],getRepoRulesetVersion:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history/{version_id}"],getRepoRulesets:["GET /repos/{owner}/{repo}/rulesets"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listActivities:["GET /repos/{owner}/{repo}/activity"],listAttestations:["GET /repos/{owner}/{repo}/attestations/{subject_digest}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listCustomDeploymentRuleIntegrations:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentBranchPolicies:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateDeploymentBranchPolicy:["PUT /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updateOrgRuleset:["PUT /orgs/{org}/rulesets/{ruleset_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateRepoRuleset:["PUT /repos/{owner}/{repo}/rulesets/{ruleset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues",{},{deprecated:"octokit.rest.search.issuesAndPullRequests() is deprecated, see https://docs.github.com/rest/search/search#search-issues-and-pull-requests"}],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{createPushProtectionBypass:["POST /repos/{owner}/{repo}/secret-scanning/push-protection-bypasses"],getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],getScanHistory:["GET /repos/{owner}/{repo}/secret-scanning/scan-history"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},securityAdvisories:{createFork:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/forks"],createPrivateVulnerabilityReport:["POST /repos/{owner}/{repo}/security-advisories/reports"],createRepositoryAdvisory:["POST /repos/{owner}/{repo}/security-advisories"],createRepositoryAdvisoryCveRequest:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/cve"],getGlobalAdvisory:["GET /advisories/{ghsa_id}"],getRepositoryAdvisory:["GET /repos/{owner}/{repo}/security-advisories/{ghsa_id}"],listGlobalAdvisories:["GET /advisories"],listOrgRepositoryAdvisories:["GET /orgs/{org}/security-advisories"],listRepositoryAdvisories:["GET /repos/{owner}/{repo}/security-advisories"],updateRepositoryAdvisory:["PATCH /repos/{owner}/{repo}/security-advisories/{ghsa_id}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],addSocialAccountForAuthenticatedUser:["POST /user/social_accounts"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],createSshSigningKeyForAuthenticatedUser:["POST /user/ssh_signing_keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],deleteSocialAccountForAuthenticatedUser:["DELETE /user/social_accounts"],deleteSshSigningKeyForAuthenticatedUser:["DELETE /user/ssh_signing_keys/{ssh_signing_key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getById:["GET /user/{account_id}"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],getSshSigningKeyForAuthenticatedUser:["GET /user/ssh_signing_keys/{ssh_signing_key_id}"],list:["GET /users"],listAttestations:["GET /users/{username}/attestations/{subject_digest}"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],listSocialAccountsForAuthenticatedUser:["GET /user/social_accounts"],listSocialAccountsForUser:["GET /users/{username}/social_accounts"],listSshSigningKeysForAuthenticatedUser:["GET /user/ssh_signing_keys"],listSshSigningKeysForUser:["GET /users/{username}/ssh_signing_keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}};const Qs=new Map;for(const[n,e]of Object.entries(Wk))for(const[t,i]of Object.entries(e)){const[r,a,o]=i,[v,T]=r.split(/ /),x=Object.assign({method:v,url:T},a);Qs.has(n)||Qs.set(n,new Map),Qs.get(n).set(t,{scope:n,methodName:t,endpointDefaults:x,decorations:o})}const Kk={has({scope:n},e){return Qs.get(n).has(e)},getOwnPropertyDescriptor(n,e){return{value:this.get(n,e),configurable:!0,writable:!0,enumerable:!0}},defineProperty(n,e,t){return Object.defineProperty(n.cache,e,t),!0},deleteProperty(n,e){return delete n.cache[e],!0},ownKeys({scope:n}){return[...Qs.get(n).keys()]},set(n,e,t){return n.cache[e]=t},get({octokit:n,scope:e,cache:t},i){if(t[i])return t[i];const r=Qs.get(e).get(i);if(!r)return;const{endpointDefaults:a,decorations:o}=r;return o?t[i]=Qk(n,e,i,a,o):t[i]=n.request.defaults(a),t[i]}};function Pg(n){const e={};for(const t of Qs.keys())e[t]=new Proxy({octokit:n,scope:t,cache:{}},Kk);return e}function Qk(n,e,t,i,r){const a=n.request.defaults(i);function o(...v){let T=a.endpoint.merge(...v);if(r.mapToData)return T=Object.assign({},T,{data:T[r.mapToData],[r.mapToData]:void 0}),a(T);if(r.renamed){const[x,W]=r.renamed;n.log.warn(`octokit.${e}.${t}() has been renamed to octokit.${x}.${W}()`)}if(r.deprecated&&n.log.warn(r.deprecated),r.renamedParameters){const x=a.endpoint.merge(...v);for(const[W,te]of Object.entries(r.renamedParameters))W in x&&(n.log.warn(`"${W}" parameter is deprecated for "octokit.${e}.${t}()". Use "${te}" instead`),te in x||(x[te]=x[W]),delete x[W]);return a(x)}return a(...v)}return Object.assign(o,a)}function Yk(n){return{rest:Pg(n)}}Yk.VERSION=Cg;function Ag(n){const e=Pg(n);return{...e,rest:e}}Ag.VERSION=Cg;const Zk=cf.plugin(Rg,Ag,Tg).defaults({userAgent:"octokit-rest.js/22.0.0"});function Jk(n){var e={kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:oc(n)},t={kind:"Document",definitions:[e]};return t}function Xk(n,e){var t={kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:e||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:oc(n)},i={kind:"Document",definitions:[t]};return i}function oc(n){if(typeof n=="number"||typeof n=="boolean"||typeof n=="string"||typeof n=="undefined"||n===null)return null;if(Array.isArray(n))return oc(n[0]);var e=[];Object.keys(n).forEach(function(i){var r=oc(n[i]),a={kind:"Field",name:{kind:"Name",value:i},selectionSet:r||void 0};e.push(a)});var t={kind:"SelectionSet",selections:e};return t}var eS={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},tS=function(){function n(){}return n.prototype.transformDocument=function(e){return e},n.prototype.transformForLink=function(e){return e},n.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},n.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.read({query:dh(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},n.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},n.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:dh(e.fragment,e.fragmentName)})},n.prototype.writeData=function(e){var t=e.id,i=e.data;if(typeof t!="undefined"){var r=null;try{r=this.read({rootId:t,optimistic:!1,query:eS})}catch{}var a=r&&r.__typename||"__ClientData",o=Object.assign({__typename:a},i);this.writeFragment({id:t,fragment:Xk(o,a),data:o})}else this.writeQuery({query:Jk(i),data:i})},n}(),Mg;Mg||(Mg={});var dr=null,Ig={},iS=1,nS=function(){return function(){function n(){this.id=["slot",iS++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return n.prototype.hasValue=function(){for(var e=dr;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===Ig)break;return e!==dr&&(dr.slots[this.id]=t),!0}return dr&&(dr.slots[this.id]=Ig),!1},n.prototype.getValue=function(){if(this.hasValue())return dr.slots[this.id]},n.prototype.withValue=function(e,t,i,r){var a,o=(a={__proto__:null},a[this.id]=e,a),v=dr;dr={parent:v,slots:o};try{return t.apply(r,i)}finally{dr=v}},n.bind=function(e){var t=dr;return function(){var i=dr;try{return dr=t,e.apply(this,arguments)}finally{dr=i}}},n.noContext=function(e,t,i){if(dr){var r=dr;try{return dr=null,e.apply(i,t)}finally{dr=r}}else return e.apply(i,t)},n}()},ff="@wry/context:Slot",hf=Array,mf=hf[ff]||function(){var n=nS();try{Object.defineProperty(hf,ff,{value:hf[ff]=n,enumerable:!1,writable:!1,configurable:!1})}finally{return n}}(),pf=mf.bind,rS=mf.noContext;function r2(n,e){return setTimeout(pf(n),e)}function a2(n){return function(){var e=n.apply(this,arguments),t=pf(e.next),i=pf(e.throw);return new Promise(function(r,a){function o(x,W){try{var te=x.call(e,W)}catch(fe){return a(fe)}var oe=te.done?r:v;aS(te.value)?te.value.then(oe,te.done?a:T):oe(te.value)}var v=function(x){return o(t,x)},T=function(x){return o(i,x)};v()})}}function aS(n){return n&&typeof n.then=="function"}var Dg=null;function s2(n){if(Dg.indexOf(n)<0){var e=function(t,i){var r=t[i];t[i]=function(){return rS(r,arguments,this)}};e(n,"yield"),e(n.prototype,"run"),e(n.prototype,"throwInto"),Dg.push(n)}return n}function sS(){}var oS=function(){function n(e,t){e===void 0&&(e=1/0),t===void 0&&(t=sS),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return n.prototype.has=function(e){return this.map.has(e)},n.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},n.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var i=t.older,r=t.newer;r&&(r.older=i),i&&(i.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},n.prototype.set=function(e,t){var i=this.getEntry(e);return i?i.value=t:(i={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(e,i),i.value)},n.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},n.prototype.delete=function(e){var t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1},n}(),lc=new mf,lS=[],gf=[],uS=100;function Vo(n,e){if(!n)throw new Error(e||"assertion failure")}function cS(n,e){var t=n.length;return t>0&&t===e.length&&n[t-1]===e[t-1]}function Fg(n){switch(n.length){case 0:throw new Error("unknown value");case 1:return n[0];case 2:throw n[1]}}function dS(n){return n.slice(0)}var fS=function(){function n(e,t){this.fn=e,this.args=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++n.count}return n.prototype.recompute=function(){if(Vo(!this.recomputing,"already recomputing"),!(!hS(this)&&vf(this)))return jo(this)?mS(this):Fg(this.value)},n.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,xg(this),bf(this))},n.prototype.dispose=function(){var e=this;qg(this).forEach(vf),bf(this),this.parents.forEach(function(t){t.setDirty(),$g(t,e)})},n.count=0,n}();function hS(n){var e=lc.getValue();if(e)return n.parents.add(e),e.childValues.has(n)||e.childValues.set(n,[]),jo(n)?Lg(e,n):Ug(e,n),e}function mS(n){var e=qg(n);return lc.withValue(n,pS,[n]),vS(n)&&gS(n),e.forEach(vf),Fg(n.value)}function pS(n){n.recomputing=!0,n.value.length=0;try{n.value[0]=n.fn.apply(null,n.args)}catch(e){n.value[1]=e}n.recomputing=!1}function jo(n){return n.dirty||!!(n.dirtyChildren&&n.dirtyChildren.size)}function gS(n){n.dirty=!1,!jo(n)&&Og(n)}function xg(n){n.parents.forEach(function(e){return Lg(e,n)})}function Og(n){n.parents.forEach(function(e){return Ug(e,n)})}function Lg(n,e){if(Vo(n.childValues.has(e)),Vo(jo(e)),!n.dirtyChildren)n.dirtyChildren=gf.pop()||new Set;else if(n.dirtyChildren.has(e))return;n.dirtyChildren.add(e),xg(n)}function Ug(n,e){Vo(n.childValues.has(e)),Vo(!jo(e));var t=n.childValues.get(e);t.length===0?n.childValues.set(e,dS(e.value)):cS(t,e.value)||n.setDirty(),Bg(n,e),!jo(n)&&Og(n)}function Bg(n,e){var t=n.dirtyChildren;t&&(t.delete(e),t.size===0&&(gf.length<uS&&gf.push(t),n.dirtyChildren=null))}function vf(n){return n.parents.size===0&&typeof n.reportOrphan=="function"&&n.reportOrphan()===!0}function qg(n){var e=lS;return n.childValues.size>0&&(e=[],n.childValues.forEach(function(t,i){$g(n,i),e.push(i)})),Vo(n.dirtyChildren===null),e}function $g(n,e){e.parents.delete(n),n.childValues.delete(e),Bg(n,e)}function vS(n){if(typeof n.subscribe=="function")try{bf(n),n.unsubscribe=n.subscribe.apply(null,n.args)}catch{return n.setDirty(),!1}return!0}function bf(n){var e=n.unsubscribe;typeof e=="function"&&(n.unsubscribe=void 0,e())}var yf=function(){function n(e){this.weakness=e}return n.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},n.prototype.lookupArray=function(e){var t=this;return e.forEach(function(i){return t=t.getChildTrie(i)}),t.data||(t.data=Object.create(null))},n.prototype.getChildTrie=function(e){var t=this.weakness&&bS(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=t.get(e);return i||t.set(e,i=new n(this.weakness)),i},n}();function bS(n){switch(typeof n){case"object":if(n===null)break;case"function":return!0}return!1}var yS=new yf(typeof WeakMap=="function");function wS(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return yS.lookupArray(n)}var wf=new Set;function Ll(n,e){e===void 0&&(e=Object.create(null));var t=new oS(e.max||Math.pow(2,16),function(o){return o.dispose()}),i=!!e.disposable,r=e.makeCacheKey||wS;function a(){if(!(i&&!lc.hasValue())){var o=r.apply(null,arguments);if(o===void 0)return n.apply(null,arguments);var v=Array.prototype.slice.call(arguments),T=t.get(o);T?T.args=v:(T=new fS(n,v),t.set(o,T),T.subscribe=e.subscribe,i&&(T.reportOrphan=function(){return t.delete(o)}));var x=T.recompute();return t.set(o,T),wf.add(t),lc.hasValue()||(wf.forEach(function(W){return W.clean()}),wf.clear()),i?void 0:x}}return a.dirty=function(){var o=r.apply(null,arguments),v=o!==void 0&&t.get(o);v&&v.setDirty()},a}var Hg=!1;function Gg(){var n=!Hg;return id()||(Hg=!0),n}var _S=function(){function n(){}return n.prototype.ensureReady=function(){return Promise.resolve()},n.prototype.canBypassInit=function(){return!0},n.prototype.match=function(e,t,i){var r=i.store.get(e.id),a=e.id==="ROOT_QUERY";if(!r)return a;var o=r.__typename,v=o===void 0?a&&"Query":o;return v&&v===t?!0:(Gg(),"heuristic")},n}(),o2=function(){function n(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return n.prototype.match=function(e,t,i){Ki(this.isReady,1);var r=i.store.get(e.id),a=e.id==="ROOT_QUERY";if(!r)return a;var o=r.__typename,v=o===void 0?a&&"Query":o;if(Ki(v,2),v===t)return!0;var T=this.possibleTypesMap[t];return!!(v&&T&&T.indexOf(v)>-1)},n.prototype.parseIntrospectionResult=function(e){var t={};return e.__schema.types.forEach(function(i){(i.kind==="UNION"||i.kind==="INTERFACE")&&(t[i.name]=i.possibleTypes.map(function(r){return r.name}))}),t},n}(),Vg=Object.prototype.hasOwnProperty,zo=function(){function n(e){var t=this;e===void 0&&(e=Object.create(null)),this.data=e,this.depend=Ll(function(i){return t.data[i]},{disposable:!0,makeCacheKey:function(i){return i}})}return n.prototype.toObject=function(){return this.data},n.prototype.get=function(e){return this.depend(e),this.data[e]},n.prototype.set=function(e,t){var i=this.data[e];t!==i&&(this.data[e]=t,this.depend.dirty(e))},n.prototype.delete=function(e){Vg.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},n.prototype.clear=function(){this.replace(null)},n.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach(function(i){t.set(i,e[i])}),Object.keys(this.data).forEach(function(i){Vg.call(e,i)||t.delete(i)})):Object.keys(this.data).forEach(function(i){t.delete(i)})},n}();function jg(n){return new zo(n)}var kS=function(){function n(e){var t=this,i=e===void 0?{}:e,r=i.cacheKeyRoot,a=r===void 0?new yf(Xc):r,o=i.freezeResults,v=o===void 0?!1:o,T=this,x=T.executeStoreQuery,W=T.executeSelectionSet,te=T.executeSubSelectedArray;this.freezeResults=v,this.executeStoreQuery=Ll(function(oe){return x.call(t,oe)},{makeCacheKey:function(oe){var fe=oe.query,ye=oe.rootValue,Pe=oe.contextValue,Ce=oe.variableValues,De=oe.fragmentMatcher;if(Pe.store instanceof zo)return a.lookup(Pe.store,fe,De,JSON.stringify(Ce),ye.id)}}),this.executeSelectionSet=Ll(function(oe){return W.call(t,oe)},{makeCacheKey:function(oe){var fe=oe.selectionSet,ye=oe.rootValue,Pe=oe.execContext;if(Pe.contextValue.store instanceof zo)return a.lookup(Pe.contextValue.store,fe,Pe.fragmentMatcher,JSON.stringify(Pe.variableValues),ye.id)}}),this.executeSubSelectedArray=Ll(function(oe){return te.call(t,oe)},{makeCacheKey:function(oe){var fe=oe.field,ye=oe.array,Pe=oe.execContext;if(Pe.contextValue.store instanceof zo)return a.lookup(Pe.contextValue.store,fe,ye,JSON.stringify(Pe.variableValues))}})}return n.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(At(At({},e),{returnPartialData:!1})).result},n.prototype.diffQueryAgainstStore=function(e){var t=e.store,i=e.query,r=e.variables,a=e.previousResult,o=e.returnPartialData,v=o===void 0?!0:o,T=e.rootId,x=T===void 0?"ROOT_QUERY":T,W=e.fragmentMatcherFunction,te=e.config,oe=A0(i);r=Kc({},Zc(oe),r);var fe={store:t,dataIdFromObject:te&&te.dataIdFromObject,cacheRedirects:te&&te.cacheRedirects||{}},ye=this.executeStoreQuery({query:i,rootValue:{type:"id",id:x,generated:!0,typename:"Query"},contextValue:fe,variableValues:r,fragmentMatcher:W}),Pe=ye.missing&&ye.missing.length>0;return Pe&&!v&&ye.missing.forEach(function(Ce){if(!Ce.tolerable)throw new Sn(8)}),a&&Cr(a,ye.result)&&(ye.result=a),{result:ye.result,complete:!Pe}},n.prototype.executeStoreQuery=function(e){var t=e.query,i=e.rootValue,r=e.contextValue,a=e.variableValues,o=e.fragmentMatcher,v=o===void 0?SS:o,T=Yc(t),x=hu(t),W=mu(x),te={query:t,fragmentMap:W,contextValue:r,variableValues:a,fragmentMatcher:v};return this.executeSelectionSet({selectionSet:T.selectionSet,rootValue:i,execContext:te})},n.prototype.executeSelectionSet=function(e){var t=this,i=e.selectionSet,r=e.rootValue,a=e.execContext,o=a.fragmentMap,v=a.contextValue,T=a.variableValues,x={result:null},W=[],te=v.store.get(r.id),oe=te&&te.__typename||r.id==="ROOT_QUERY"&&"Query"||void 0;function fe(ye){var Pe;return ye.missing&&(x.missing=x.missing||[],(Pe=x.missing).push.apply(Pe,ye.missing)),ye.result}return i.selections.forEach(function(ye){var Pe;if(Wc(ye,T))if(Ca(ye)){var Ce=fe(t.executeField(te,oe,ye,a));typeof Ce!="undefined"&&W.push((Pe={},Pe[En(ye)]=Ce,Pe))}else{var De=void 0;if(uu(ye))De=ye;else if(De=o[ye.name.value],!De)throw new Sn(9);var Le=De.typeCondition&&De.typeCondition.name.value,$e=!Le||a.fragmentMatcher(r,Le,v);if($e){var Ze=t.executeSelectionSet({selectionSet:De.selectionSet,rootValue:r,execContext:a});$e==="heuristic"&&Ze.missing&&(Ze=At(At({},Ze),{missing:Ze.missing.map(function(rt){return At(At({},rt),{tolerable:!0})})})),W.push(fe(Ze))}}}),x.result=rd(W),this.freezeResults,x},n.prototype.executeField=function(e,t,i,r){var a=r.variableValues,o=r.contextValue,v=i.name.value,T=Xr(i,a),x={resultKey:En(i),directives:E0(i,a)},W=RS(e,t,v,T,o,x);return Array.isArray(W.result)?this.combineExecResults(W,this.executeSubSelectedArray({field:i,array:W.result,execContext:r})):i.selectionSet?W.result==null?W:this.combineExecResults(W,this.executeSelectionSet({selectionSet:i.selectionSet,rootValue:W.result,execContext:r})):(zg(i,W.result),this.freezeResults,W)},n.prototype.combineExecResults=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i;return e.forEach(function(r){r.missing&&(i=i||[],i.push.apply(i,r.missing))}),{result:e.pop().result,missing:i}},n.prototype.executeSubSelectedArray=function(e){var t=this,i=e.field,r=e.array,a=e.execContext,o;function v(T){return T.missing&&(o=o||[],o.push.apply(o,T.missing)),T.result}return r=r.map(function(T){return T===null?null:Array.isArray(T)?v(t.executeSubSelectedArray({field:i,array:T,execContext:a})):i.selectionSet?v(t.executeSelectionSet({selectionSet:i.selectionSet,rootValue:T,execContext:a})):(zg(i,T),T)}),this.freezeResults,{result:r,missing:o}},n}();function zg(n,e){if(!n.selectionSet&&cu(e))throw new Sn(10)}function SS(){return!0}function l2(n){invariant(isIdValue(n),11)}function RS(n,e,t,i,r,a){var o=a.resultKey,v=a.directives,T=t;(i||v)&&(T=Zn(T,i,v));var x=void 0;if(n&&(x=n[T],typeof x=="undefined"&&r.cacheRedirects&&typeof e=="string")){var W=r.cacheRedirects[e];if(W){var te=W[t];te&&(x=te(n,i,{getCacheKey:function(oe){var fe=r.dataIdFromObject(oe);return fe&&du({id:fe,typename:oe.__typename})}}))}}return typeof x=="undefined"?{result:x,missing:[{object:n,fieldName:T,tolerable:!1}]}:(S0(x)&&(x=x.json),{result:x})}var uc=function(){function n(e){e===void 0&&(e=Object.create(null)),this.data=e}return n.prototype.toObject=function(){return this.data},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){this.data[e]=t},n.prototype.delete=function(e){this.data[e]=void 0},n.prototype.clear=function(){this.data=Object.create(null)},n.prototype.replace=function(e){this.data=e||Object.create(null)},n}();function u2(n){return new uc(n)}var ES=function(n){Ea(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="WriteError",t}return e}(Error);function NS(n,e){var t=new ES(`Error writing result to store for query:
 `+JSON.stringify(e));return t.message+=`
`+n.message,t.stack=n.stack,t}var TS=function(){function n(){}return n.prototype.writeQueryToStore=function(e){var t=e.query,i=e.result,r=e.store,a=r===void 0?jg():r,o=e.variables,v=e.dataIdFromObject,T=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:i,document:t,store:a,variables:o,dataIdFromObject:v,fragmentMatcherFunction:T})},n.prototype.writeResultToStore=function(e){var t=e.dataId,i=e.result,r=e.document,a=e.store,o=a===void 0?jg():a,v=e.variables,T=e.dataIdFromObject,x=e.fragmentMatcherFunction,W=go(r);try{return this.writeSelectionSetToStore({result:i,dataId:t,selectionSet:W.selectionSet,context:{store:o,processedData:{},variables:Kc({},Zc(W),v),dataIdFromObject:T,fragmentMap:mu(hu(r)),fragmentMatcherFunction:x}})}catch(te){throw NS(te,r)}},n.prototype.writeSelectionSetToStore=function(e){var t=this,i=e.result,r=e.dataId,a=e.selectionSet,o=e.context,v=o.variables,T=o.store,x=o.fragmentMap;return a.selections.forEach(function(W){var te;if(Wc(W,v))if(Ca(W)){var oe=En(W),fe=i[oe];if(typeof fe!="undefined")t.writeFieldToStore({dataId:r,value:fe,field:W,context:o});else{var ye=!1,Pe=!1;W.directives&&W.directives.length&&(ye=W.directives.some(function(Ve){return Ve.name&&Ve.name.value==="defer"}),Pe=W.directives.some(function(Ve){return Ve.name&&Ve.name.value==="client"})),!ye&&!Pe&&o.fragmentMatcherFunction}}else{var Ce=void 0;uu(W)?Ce=W:(Ce=(x||{})[W.name.value],Ki(Ce,3));var De=!0;if(o.fragmentMatcherFunction&&Ce.typeCondition){var Le=r||"self",$e=du({id:Le,typename:void 0}),Ze={store:new uc((te={},te[Le]=i,te)),cacheRedirects:{}},rt=o.fragmentMatcherFunction($e,Ce.typeCondition.name.value,Ze);bh(),De=!!rt}De&&t.writeSelectionSetToStore({result:i,selectionSet:Ce.selectionSet,dataId:r,context:o})}}),T},n.prototype.writeFieldToStore=function(e){var t,i=e.field,r=e.value,a=e.dataId,o=e.context,v=o.variables,T=o.dataIdFromObject,x=o.store,W,te,oe=jn(i,v);if(!i.selectionSet||r===null)W=r!=null&&typeof r=="object"?{type:"json",json:r}:r;else if(Array.isArray(r)){var fe=a+"."+oe;W=this.processArrayValue(r,fe,i.selectionSet,o)}else{var ye=a+"."+oe,Pe=!0;if(_f(ye)||(ye="$"+ye),T){var Ce=T(r);Ki(!Ce||!_f(Ce),4),(Ce||typeof Ce=="number"&&Ce===0)&&(ye=Ce,Pe=!1)}Kg(ye,i,o.processedData)||this.writeSelectionSetToStore({dataId:ye,result:r,selectionSet:i.selectionSet,context:o});var De=r.__typename;W=du({id:ye,typename:De},Pe),te=x.get(a);var Le=te&&te[oe];if(Le!==W&&cu(Le)){var $e=Le.typename!==void 0,Ze=De!==void 0,rt=$e&&Ze&&Le.typename!==De;Ki(!Pe||Le.generated||rt,5),Ki(!$e||Ze,6),Le.generated&&(rt?Pe||x.delete(Le.id):Wg(Le.id,W.id,x))}}te=x.get(a),(!te||!Cr(W,te[oe]))&&x.set(a,At(At({},te),(t={},t[oe]=W,t)))},n.prototype.processArrayValue=function(e,t,i,r){var a=this;return e.map(function(o,v){if(o===null)return null;var T=t+"."+v;if(Array.isArray(o))return a.processArrayValue(o,T,i,r);var x=!0;if(r.dataIdFromObject){var W=r.dataIdFromObject(o);W&&(T=W,x=!1)}return Kg(T,i,r.processedData)||a.writeSelectionSetToStore({dataId:T,result:o,selectionSet:i,context:r}),du({id:T,typename:o.__typename},x)})},n}();function _f(n){return n[0]==="$"}function Wg(n,e,t){if(n===e)return!1;var i=t.get(n),r=t.get(e),a=!1;Object.keys(i).forEach(function(v){var T=i[v],x=r[v];cu(T)&&_f(T.id)&&cu(x)&&!Cr(T,x)&&Wg(T.id,x.id,t)&&(a=!0)}),t.delete(n);var o=At(At({},i),r);return Cr(o,r)?a:(t.set(e,o),!0)}function Kg(n,e,t){if(!t)return!1;if(t[n]){if(t[n].indexOf(e)>=0)return!0;t[n].push(e)}else t[n]=[e];return!1}var CS={fragmentMatcher:new _S,dataIdFromObject:PS,addTypename:!0,resultCaching:!0,freezeResults:!1};function PS(n){if(n.__typename){if(n.id!==void 0)return n.__typename+":"+n.id;if(n._id!==void 0)return n.__typename+":"+n._id}return null}var AS=Object.prototype.hasOwnProperty,Qg=function(n){Ea(e,n);function e(t,i,r){var a=n.call(this,Object.create(null))||this;return a.optimisticId=t,a.parent=i,a.transaction=r,a}return e.prototype.toObject=function(){return At(At({},this.parent.toObject()),this.data)},e.prototype.get=function(t){return AS.call(this.data,t)?this.data[t]:this.parent.get(t)},e}(uc),MS=function(n){Ea(e,n);function e(t){t===void 0&&(t={});var i=n.call(this)||this;i.watches=new Set,i.typenameDocumentCache=new Map,i.cacheKeyRoot=new yf(Xc),i.silenceBroadcast=!1,i.config=At(At({},CS),t),i.config.customResolvers&&(i.config.cacheRedirects=i.config.customResolvers),i.config.cacheResolvers&&(i.config.cacheRedirects=i.config.cacheResolvers),i.addTypename=!!i.config.addTypename,i.data=i.config.resultCaching?new zo:new uc,i.optimisticData=i.data,i.storeWriter=new TS,i.storeReader=new kS({cacheKeyRoot:i.cacheKeyRoot,freezeResults:t.freezeResults});var r=i,a=r.maybeBroadcastWatch;return i.maybeBroadcastWatch=Ll(function(o){return a.call(i,o)},{makeCacheKey:function(o){if(!o.optimistic&&!o.previousResult&&r.data instanceof zo)return r.cacheKeyRoot.lookup(o.query,JSON.stringify(o.variables))}}),i}return e.prototype.restore=function(t){return t&&this.data.replace(t),this},e.prototype.extract=function(t){return t===void 0&&(t=!1),(t?this.optimisticData:this.data).toObject()},e.prototype.read=function(t){if(typeof t.rootId=="string"&&typeof this.data.get(t.rootId)=="undefined")return null;var i=this.config.fragmentMatcher,r=i&&i.match;return this.storeReader.readQueryFromStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,rootId:t.rootId,fragmentMatcherFunction:r,previousResult:t.previousResult,config:this.config})||null},e.prototype.write=function(t){var i=this.config.fragmentMatcher,r=i&&i.match;this.storeWriter.writeResultToStore({dataId:t.dataId,result:t.result,variables:t.variables,document:this.transformDocument(t.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:r}),this.broadcastWatches()},e.prototype.diff=function(t){var i=this.config.fragmentMatcher,r=i&&i.match;return this.storeReader.diffQueryAgainstStore({store:t.optimistic?this.optimisticData:this.data,query:this.transformDocument(t.query),variables:t.variables,returnPartialData:t.returnPartialData,previousResult:t.previousResult,fragmentMatcherFunction:r,config:this.config})},e.prototype.watch=function(t){var i=this;return this.watches.add(t),function(){i.watches.delete(t)}},e.prototype.evict=function(t){throw new Sn(7)},e.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){for(var i=[],r=0,a=this.optimisticData;a instanceof Qg;)a.optimisticId===t?++r:i.push(a),a=a.parent;if(r>0){for(this.optimisticData=a;i.length>0;){var o=i.pop();this.performTransaction(o.transaction,o.optimisticId)}this.broadcastWatches()}},e.prototype.performTransaction=function(t,i){var r=this,a=r.data,o=r.silenceBroadcast;this.silenceBroadcast=!0,typeof i=="string"&&(this.data=this.optimisticData=new Qg(i,this.optimisticData,t));try{t(this)}finally{this.silenceBroadcast=o,this.data=a}this.broadcastWatches()},e.prototype.recordOptimisticTransaction=function(t,i){return this.performTransaction(t,i)},e.prototype.transformDocument=function(t){if(this.addTypename){var i=this.typenameDocumentCache.get(t);return i||(i=D0(t),this.typenameDocumentCache.set(t,i),this.typenameDocumentCache.set(i,i)),i}return t},e.prototype.broadcastWatches=function(){var t=this;this.silenceBroadcast||this.watches.forEach(function(i){return t.maybeBroadcastWatch(i)})},e.prototype.maybeBroadcastWatch=function(t){t.callback(this.diff({query:t.query,variables:t.variables,previousResult:t.previousResult&&t.previousResult(),optimistic:t.optimistic}))},e}(tS);function IS(n){return new ca(function(e,t){var i=co(e,[]);return new Pr(function(r){var a;return Promise.resolve(i).then(function(o){return n(o,e.getContext())}).then(e.setContext).then(function(){a=t(e).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)})}).catch(r.error.bind(r)),function(){a&&a.unsubscribe()}})})}var DS=Xt(70585),FS={includeQuery:!0,includeExtensions:!1},xS={accept:"*/*","content-type":"application/json"},OS={method:"POST"},LS={http:FS,headers:xS,options:OS},Yg=function(n,e,t){var i=new Error(t);throw i.name="ServerError",i.response=n,i.statusCode=n.status,i.result=e,i},US=function(n){return function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(r){var i=r;return i.name="ServerParseError",i.response=e,i.statusCode=e.status,i.bodyText=t,Promise.reject(i)}}).then(function(t){return e.status>=300&&Yg(e,t,"Response not successful: Received status code "+e.status),!Array.isArray(t)&&!t.hasOwnProperty("data")&&!t.hasOwnProperty("errors")&&Yg(e,t,"Server response was missing for query '"+(Array.isArray(n)?n.map(function(i){return i.operationName}):n.operationName)+"'."),t})}},BS=function(n){if(!n&&typeof fetch=="undefined"){var e="unfetch";throw typeof window=="undefined"&&(e="node-fetch"),new Sn(1)}},qS=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var n=new AbortController,e=n.signal;return{controller:n,signal:e}},$S=function(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var r=At({},e.options,{headers:e.headers,credentials:e.credentials}),a=e.http;t.forEach(function(te){r=At({},r,te.options,{headers:At({},r.headers,te.headers)}),te.credentials&&(r.credentials=te.credentials),a=At({},a,te.http)});var o=n.operationName,v=n.extensions,T=n.variables,x=n.query,W={operationName:o,variables:T};return a.includeExtensions&&(W.extensions=v),a.includeQuery&&(W.query=(0,DS.y)(x)),{options:r,body:W}},kf=function(n,e){var t;try{t=JSON.stringify(n)}catch(r){var i=new Sn(2);throw i.parseError=r,i}return t},HS=function(n,e){var t=n.getContext(),i=t.uri;return i||(typeof e=="function"?e(n):e||"/graphql")},Zg=function(n){n===void 0&&(n={});var e=n.uri,t=e===void 0?"/graphql":e,i=n.fetch,r=n.includeExtensions,a=n.useGETForQueries,o=co(n,["uri","fetch","includeExtensions","useGETForQueries"]);BS(i),i||(i=fetch);var v={http:{includeExtensions:r},options:o.fetchOptions,credentials:o.credentials,headers:o.headers};return new ca(function(T){var x=HS(T,t),W=T.getContext(),te={};if(W.clientAwareness){var oe=W.clientAwareness,fe=oe.name,ye=oe.version;fe&&(te["apollographql-client-name"]=fe),ye&&(te["apollographql-client-version"]=ye)}var Pe=At({},te,W.headers),Ce={http:W.http,options:W.fetchOptions,credentials:W.credentials,headers:Pe},De=$S(T,LS,v,Ce),Le=De.options,$e=De.body,Ze;if(!Le.signal){var rt=qS(),Ve=rt.controller,We=rt.signal;Ze=Ve,Ze&&(Le.signal=We)}var ct=function(Ge){return Ge.kind==="OperationDefinition"&&Ge.operation==="mutation"};if(a&&!T.query.definitions.some(ct)&&(Le.method="GET"),Le.method==="GET"){var jt=GS(x,$e),Se=jt.newURI,qe=jt.parseError;if(qe)return Rh(qe);x=Se}else try{Le.body=kf($e,"Payload")}catch(Ge){return Rh(Ge)}return new Pr(function(Ge){return i(x,Le).then(function(it){return T.setContext({response:it}),it}).then(US(T)).then(function(it){return Ge.next(it),Ge.complete(),it}).catch(function(it){it.name!=="AbortError"&&(it.result&&it.result.errors&&it.result.data&&Ge.next(it.result),Ge.error(it))}),function(){Ze&&Ze.abort()}})})};function GS(n,e){var t=[],i=function(te,oe){t.push(te+"="+encodeURIComponent(oe))};if("query"in e&&i("query",e.query),e.operationName&&i("operationName",e.operationName),e.variables){var r=void 0;try{r=kf(e.variables,"Variables map")}catch(te){return{parseError:te}}i("variables",r)}if(e.extensions){var a=void 0;try{a=kf(e.extensions,"Extensions map")}catch(te){return{parseError:te}}i("extensions",a)}var o="",v=n,T=n.indexOf("#");T!==-1&&(o=n.substr(T),v=n.substr(0,T));var x=v.indexOf("?")===-1?"?":"&",W=v+x+t.join("&")+o;return{newURI:W}}var c2=function(n){Ea(e,n);function e(t){return n.call(this,Zg(t).request)||this}return e}(ca),VS=Object.defineProperty,jS=(n,e,t)=>e in n?VS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fr=(n,e,t)=>jS(n,typeof e!="symbol"?e+"":e,t);const Jg=s.l10n.t("Try again?"),zS=s.l10n.t("Cancel"),Xg=s.l10n.t("Sign In"),WS=s.l10n.t("Don't Show Again"),ev=s.l10n.t("prompt for sign in"),tv="login",KS=["read:user","user:email","repo"],La=["read:user","user:email","repo","workflow"],bs=["read:user","user:email","repo","workflow","project","read:org"],iv="githubPullRequest.lastUsedScopes",nv="githubPullRequest.lastUsedScopesEnterprise",rv=class zr extends d{constructor(e,t){super(),this._telemetry=e,this.context=t,fr(this,"_githubAPI"),fr(this,"_sessionId"),fr(this,"_githubEnterpriseAPI"),fr(this,"_enterpriseSessionId"),fr(this,"_isInitialized",!1),fr(this,"_onDidInitialize",new s.EventEmitter),fr(this,"onDidInitialize",this._onDidInitialize.event),fr(this,"_scopes",La),fr(this,"_scopesEnterprise",La),fr(this,"_isSamling",!1),fr(this,"_onDidChangeSessions",new s.EventEmitter),fr(this,"onDidChangeSessions",this._onDidChangeSessions.event),fr(this,"_onDidGetSession",new s.EventEmitter),fr(this,"onDidGetSession",this._onDidGetSession.event),fr(this,"_onDidUpgradeSession",new s.EventEmitter),fr(this,"onDidUpgradeSession",this._onDidUpgradeSession.event),this.setScopesFromState(),this._register(s.authentication.onDidChangeSessions(i=>this.handlOnDidChangeSessions(i)))}async handlOnDidChangeSessions(e){var t;const i=e.provider.id===li.github&&this._githubAPI?li.github:e.provider.id===li.githubEnterprise&&this._githubEnterpriseAPI?li.githubEnterprise:void 0;if((this._githubAPI||this._githubEnterpriseAPI)&&!i)return;if(i){if(((t=(await this.getSession(i,{silent:!0},i===li.github?this._scopes:this._scopesEnterprise,!0)).session)==null?void 0:t.id)===this._sessionId)return;i===li.github?(this._githubAPI=void 0,this._sessionId=void 0):(this._githubEnterpriseAPI=void 0,this._enterpriseSessionId=void 0)}const r=[];this.isAuthenticated(li.github)||r.push(this.initialize(li.github)),!this.isAuthenticated(li.githubEnterprise)&&Lr()&&r.push(this.initialize(li.githubEnterprise)),await Promise.all(r),this.isAnyAuthenticated()?this._onDidGetSession.fire():this._isSamling||this._onDidChangeSessions.fire(e)}allScopesIncluded(e,t){return t.every(i=>e.includes(i))}setScopesFromState(){this._scopes=this.context.globalState.get(iv,La),this._scopesEnterprise=this.context.globalState.get(nv,La)}get scopes(){return this._scopes}async saveScopesInState(){await this.context.globalState.update(iv,this._scopes),await this.context.globalState.update(nv,this._scopesEnterprise)}async initialize(e,t={},i=yr(e)?this._scopesEnterprise:this._scopes,r){if(y.debug(`Initializing GitHub${cc(e)} authentication provider.`,"Authentication"),yr(e)&&!Lr())return y.debug("GitHub Enterprise provider selected without URI.","Authentication"),{canceled:!1};t.createIfNone===void 0&&t.forceNewSession===void 0&&(t.createIfNone=!1);let a,o=!1,v=La;const T=this._scopes,x=this._scopesEnterprise,W={canceled:!1};try{yr(e)?this._scopesEnterprise=i:this._scopes=i;const te=await this.getSession(e,t,i,!!r);v=te.scopes,a=te.session,o=te.isNew}catch(te){this._scopes=T,this._scopesEnterprise=x;const oe=te.message==="User did not consent to login.";if(oe&&(W.canceled=!0),!(t.forceNewSession&&oe))throw te}if(a){yr(e)?this._enterpriseSessionId=a.id:this._sessionId=a.id;let te;try{te=await this.createHub(a.accessToken,e)}catch(oe){if(oe.message==="Bad credentials"&&!t.forceNewSession)return y.debug(`Creating hub failed ${oe.message}`,zr.ID),t.forceNewSession=!0,t.silent=!1,this.initialize(e,t,i,r);console.log(oe),y.error(`Creating hub failed ${oe.message}`,zr.ID),s.window.showErrorMessage(s.l10n.t("Unable to sign in with the provided credentials"))}return yr(e)?(y.debug("Setting enterprise hub and scopes",zr.ID),this._githubEnterpriseAPI=te,this._scopesEnterprise=v):(y.debug("Setting hub and scopes",zr.ID),this._githubAPI=te,this._scopes=v),await this.saveScopesInState(),(!this._isInitialized||o&&!this._isSamling)&&(this._isInitialized=!0,this._onDidInitialize.fire()),o&&this._telemetry.sendTelemetryEvent("auth.session"),W}else return y.debug(`No GitHub${cc(e)} token found.`,zr.ID),W}async doCreate(e,t=!1){let i;const r=async()=>{i=await this.initialize(li.githubEnterprise,e,t?bs:void 0,t)};Lr()?await r():ot(oa,as,Lr,r,this.context.subscriptions);const a={...e};return i&&!i.canceled&&(a.silent=!0),{canceled:(await this.initialize(li.github,a,t?bs:void 0,t)).canceled||!!(i&&i.canceled)}}async create(e={},t=!1){return this.doCreate(e,t)}async recreate(e){return this.doCreate({forceNewSession:e?{detail:e}:!0})}async reset(){return this._githubAPI=void 0,this._githubEnterpriseAPI=void 0,this.create()}isAnyAuthenticated(){return this.isAuthenticated(li.github)||this.isAuthenticated(li.githubEnterprise)}isAuthenticated(e){return yr(e)?!!this._githubEnterpriseAPI:!!this._githubAPI}isAuthenticatedWithAdditionalScopes(e){return yr(e)?!!this._githubEnterpriseAPI&&this.allScopesIncluded(this._scopesEnterprise,bs):!!this._githubAPI&&this.allScopesIncluded(this._scopes,bs)}getHub(e){return yr(e)?this._githubEnterpriseAPI:this._githubAPI}areScopesOld(e){return yr(e)?!this.allScopesIncluded(this._scopesEnterprise,La):!this.allScopesIncluded(this._scopes,La)}async tryPromptForCopilotAuth(){if(this.isAnyAuthenticated())return!0;if(!await ei.executeCommand(ei.CHAT_SETUP_ACTION_ID,"agent",{additionalScopes:this.scopes}))return!1;const t=await this.create({createIfNone:{detail:s.l10n.t("Sign in to start delegating tasks to the GitHub coding agent.")}});return this._telemetry.sendTelemetryEvent("remoteAgent.command.auth",{succeeded:t.canceled?"false":"true"}),!t.canceled}areScopesExtra(e){return yr(e)?this.allScopesIncluded(this._scopesEnterprise,bs):this.allScopesIncluded(this._scopes,bs)}async getHubEnsureAdditionalScopes(e){const t=this.isAuthenticatedWithAdditionalScopes(e);return await this.initialize(e,{createIfNone:!t},bs,!0),t||this._onDidUpgradeSession.fire(),this.getHub(e)}async getHubOrLogin(e){var t,i;return yr(e)?(i=this._githubEnterpriseAPI)!=null?i:await this.login(e):(t=this._githubAPI)!=null?t:await this.login(e)}async showSignInNotification(e){if(xe(ev,tv)===!1)return;if(await s.window.showInformationMessage(s.l10n.t("In order to use the Pull Requests functionality, you must sign in to GitHub{0}",cc(e)),Xg,WS)===Xg)return await this.login(e);Je(ev,tv,!1),this._telemetry.sendTelemetryEvent("auth.cancel")}async login(e){this._telemetry.sendTelemetryEvent("auth.start");const t=s.l10n.t("Error signing in to GitHub{0}",cc(e));let i=!0,r;const a={createIfNone:!0};let o=!1;for(;i;){try{await this.initialize(e,a)}catch(v){y.error(`Login error: ${t}: ${v}`,zr.ID),v instanceof Error&&v.stack&&y.error(v.stack,zr.ID),v.message==="Cancelled"&&(o=!0)}r=this.getHub(e),r||o?i=!1:(i=await s.window.showErrorMessage(t,Jg,zS)===Jg,i&&(a.forceNewSession=!0,a.createIfNone=void 0))}return r?this._telemetry.sendTelemetryEvent("auth.success"):this._telemetry.sendTelemetryEvent("auth.fail"),r}async showSamlMessageAndAuth(e){this._isSamling=!0;const t=await this.recreate(s.l10n.t("GitHub Pull Requests requires that you provide SAML access to your organization ({0}) when you sign in.",e.join(", ")));return this._isSamling=!1,t}async isCurrentUser(e,t){var i;const r=e===li.github?this._githubAPI:this._githubEnterpriseAPI;return((i=await(r==null?void 0:r.currentUser))==null?void 0:i.login)===t}async getIsEmu(e){const t=this.getHub(e);return!!await(t==null?void 0:t.isEmu)}getCurrentUser(e){const t=this.getHub(e);return(t==null?void 0:t.octokit)&&(t==null?void 0:t.currentUser)}setCurrentUser(e){const t=new Promise((i,r)=>{y.debug("Getting current user",zr.ID),e.octokit.call(e.octokit.api.users.getAuthenticated,{}).then(a=>{y.debug(`Got current user ${a.data.login}`,zr.ID),i(a)}).catch(a=>{y.error(`Failed to get current user: ${a}, ${a.message}`,zr.ID),r(a)})});e.currentUser=t.then(i=>No(i.data)),e.isEmu=t.then(i=>{var r;return((r=i.data.plan)==null?void 0:r.name)==="emu_user"})}async getSession(e,t,i,r){const a=t.forceNewSession||r?void 0:await this.findExistingScopes(e);if(a!=null&&a.session)return{session:a.session,isNew:!1,scopes:a.scopes};const o=await s.authentication.getSession(e,r?i:La,t);return{session:o,isNew:!!o,scopes:r?i:La}}async findExistingScopes(e){const t=[bs,La,KS];for(const i of t){const r=await s.authentication.getSession(e,i,{silent:!0});if(r)return{session:r,scopes:i}}}async createHub(e,t){let i="https://api.github.com",r;y.appendLine(`Creating hub for ${yr(t)?"enterprise":".com"}`,zr.ID),yr(t)&&(r=Co());const a=r==null?void 0:r.authority.endsWith("ghe.com");r&&(y.appendLine(`Enterprise server authority ${r.authority}`,zr.ID),a?i=`${r.scheme}://api.${r.authority}`:i=`${r.scheme}://${r.authority}/api/v3`);let o;s.env.uiKind===s.UIKind.Web&&(o=(oe,fe)=>{if(fe.headers!==void 0){const{"user-agent":ye,...Pe}=fe.headers;ye&&(fe.headers=Pe)}return Dn()(oe,fe)});const v=new Zk({request:{agent:hp,fetch:o},userAgent:"GitHub VSCode Pull Requests",previews:["shadow-cat-preview","merge-info-preview"],auth:`${e||""}`,baseUrl:i});let T=i;r&&!a&&(T=`${r.scheme}://${r.authority}/api`);const x=new gb({link:YS(T,e||""),cache:new MS,defaultOptions:{query:{fetchPolicy:"no-cache"}}}),W=new Cw(this._telemetry,yr(t)),te={octokit:new Aw(v,W),graphql:new Pw(x,W)};return this.setCurrentUser(te),te}};fr(rv,"ID","Authentication");let QS=rv;const YS=(n,e)=>IS((t,{headers:i})=>({headers:{...i,authorization:e?`Bearer ${e}`:"",Accept:"application/vnd.github.merge-info-preview"}})).concat(Zg({uri:`${n}/graphql`,fetch:Dn()}));function cc(n){return yr(n)?" Enterprise":""}var ZS=Object.defineProperty,JS=(n,e,t)=>e in n?ZS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,XS=(n,e,t)=>JS(n,typeof e!="symbol"?e+"":e,t);const av=class ih extends d{constructor(e,t,i,r){super(),this._repositoriesManager=e,this._telemetry=t,this._extensionUri=i,this._credentialStore=r,this._register(s.window.registerWebviewPanelSerializer(So.viewType,this)),this._register(s.window.registerWebviewPanelSerializer(Jn.viewType,this))}async deserializeWebviewPanel(e,t){if(await this.waitForAuth(),await this.waitForAnyGitHubRepos(this._repositoriesManager),!t||!t.number||this._repositoriesManager.folderManagers.length===0){e.dispose();return}let i,r;for(const a of this._repositoriesManager.folderManagers){const o=a.findExistingGitHubRepository({owner:t.owner,repositoryName:t.repo});if(o){i=o,r=a;break}}if((!i||!r)&&(r=this._repositoriesManager.folderManagers[0],i=await r.createGitHubRepositoryFromOwnerName(t.owner,t.repo)),t.isIssue){const a=await i.getIssue(t.number,!0);if(!a){e.dispose();return}return So.createOrShow(this._telemetry,this._extensionUri,r,a,void 0,!0,e)}else{const a=await i.getPullRequest(t.number,!0);if(!a){e.dispose();return}return Jn.createOrShow(this._telemetry,this._extensionUri,r,a,void 0,!0,e)}}async waitForAuth(){if(!this._credentialStore.isAnyAuthenticated())return new Promise(e=>this._credentialStore.onDidGetSession(()=>e()))}async waitForAnyGitHubRepos(e){if(!e.folderManagers.some(t=>t.gitHubRepositories.length>0))return y.appendLine("Waiting for GitHub repositories.",ih.ID),new Promise(t=>{const i=e.onDidChangeAnyGitHubRepository(()=>{y.appendLine("Found GitHub repositories.",ih.ID),i.dispose(),t()})})}};XS(av,"ID","OverviewRestorer");let eR=av;var tR=Object.defineProperty,iR=(n,e,t)=>e in n?tR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,_r=(n,e,t)=>iR(n,typeof e!="symbol"?e+"":e,t);const sv=class b0 extends d{constructor(e,t){super(),this._credentialStore=e,this._telemetry=t,_r(this,"_folderManagers",[]),_r(this,"_subs"),_r(this,"_onDidChangeState",new s.EventEmitter),_r(this,"onDidChangeState",this._onDidChangeState.event),_r(this,"_onDidChangeFolderRepositories",new s.EventEmitter),_r(this,"onDidChangeFolderRepositories",this._onDidChangeFolderRepositories.event),_r(this,"_onDidLoadAnyRepositories",new s.EventEmitter),_r(this,"onDidLoadAnyRepositories",this._onDidLoadAnyRepositories.event),_r(this,"_onDidChangeAnyPullRequests",new s.EventEmitter),_r(this,"onDidChangeAnyPullRequests",this._onDidChangeAnyPullRequests.event),_r(this,"_onDidAddPullRequest",new s.EventEmitter),_r(this,"onDidAddPullRequest",this._onDidAddPullRequest.event),_r(this,"_onDidAddAnyGitHubRepository",new s.EventEmitter),_r(this,"onDidChangeAnyGitHubRepository",this._onDidAddAnyGitHubRepository.event),_r(this,"_state",tr.Initializing),this._subs=new Map,s.commands.executeCommand("setContext",Sp,this._state)}updateActiveReviewCount(){let e=0;for(const t of this._folderManagers)t.activePullRequest&&e++;ei.setContext(Ct.ACTIVE_PR_COUNT,e)}get folderManagers(){return this._folderManagers}registerFolderListeners(e){const t=[e.onDidLoadRepositories(()=>{this.updateState(),this._onDidLoadAnyRepositories.fire()}),e.onDidChangeActivePullRequest(()=>this.updateActiveReviewCount()),e.onDidDispose(()=>this.removeRepo(e.repository)),e.onDidChangeAnyPullRequests(i=>this._onDidChangeAnyPullRequests.fire(i)),e.onDidAddPullRequest(i=>this._onDidAddPullRequest.fire(i)),e.onDidChangeGithubRepositories(()=>this._onDidAddAnyGitHubRepository.fire(e))];this._subs.set(e,t)}insertFolderManager(e){this.registerFolderListeners(e);const t=s.workspace.workspaceFolders;if(t){const i=t.findIndex(r=>J(r.uri.fsPath,e.repository.rootUri.fsPath)||J(e.repository.rootUri.fsPath,r.uri.fsPath));if(i>-1){const r=this._folderManagers.slice(i,this._folderManagers.length);this._folderManagers=this._folderManagers.slice(0,i),this._folderManagers.push(e),this._folderManagers.push(...r),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({added:e});return}}this._folderManagers.push(e),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({added:e})}removeRepo(e){const t=this._folderManagers.findIndex(i=>i.repository.rootUri.toString()===e.rootUri.toString());if(t>-1){const i=this._folderManagers[t];c(this._subs.get(i)),this._subs.delete(i),this._folderManagers.splice(t),i.dispose(),this.updateActiveReviewCount(),this._onDidChangeFolderRepositories.fire({})}}getManagerForIssueModel(e){if(e!==void 0)return this.getManagerForRepository(e.remote.owner,e.remote.repositoryName)}getManagerForFile(e){if(e.scheme==="untitled")return this._folderManagers[0];const t=e.scheme===qt.Repo?Fd(e):void 0,i=e.scheme===qt.Pr?Nn(e):void 0,r=this._folderManagers.slice().sort((a,o)=>o.repository.rootUri.path.length-a.repository.rootUri.path.length);for(const a of r){const o=a.repository.rootUri.path;if(t&&a.findExistingGitHubRepository({owner:t.owner,repositoryName:t.repo}))return a;if(i&&a.repository.state.remotes.find(v=>v.name===i.remoteName))return a;{const v=e.path.substring(o.length>1?o.length+1:o.length);if(pe(s.Uri.joinPath(a.repository.rootUri,v).path,e.path)===0)return a}}}getManagerForRepository(e,t){const i=`${e.toLowerCase()}/${t.toLowerCase()}`;for(const r of this._folderManagers)if(r.gitHubRepositories.map(a=>`${a.remote.owner.toLowerCase()}/${a.remote.repositoryName.toLowerCase()}`).includes(i))return r}get state(){return this._state}updateState(e){let t=tr.Initializing;if(e)t=e;else{const r=a=>{switch(a){case tr.Initializing:return 0;case tr.NeedsAuthentication:return 1;case tr.RepositoriesLoaded:return 2}};for(const a of this._folderManagers)r(a.state)>r(t)&&(t=a.state)}const i=t!==this._state;this._state=t,i&&(s.commands.executeCommand("setContext",Sp,t),this._onDidChangeState.fire())}get credentialStore(){return this._credentialStore}async clearCredentialCache(){await this._credentialStore.reset(),this.updateState(tr.Initializing)}async authenticate(e){var t,i;if(e===!1)return!!this._credentialStore.login(li.github);const{dotComRemotes:r,enterpriseRemotes:a,unknownRemotes:o}=await Lm(this.folderManagers),v=s.l10n.t("Yes");if(e){let te=(i=(t=Co())==null?void 0:t.toString())!=null?i:a.length?a[0].normalizedHost:o.length?o[0].normalizedHost:void 0;if(a.length===0&&o.length===0&&y.appendLine(`Enterprise login selected, but no possible enterprise remotes discovered (${r.length} .com)`,b0.ID),te){const oe=s.l10n.t("No, manually set {0}","github-enterprise.uri"),fe=await s.window.showInformationMessage(s.l10n.t("Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",te),{modal:!0},v,oe);if(fe===v)await kd(te);else if(fe===oe)te=void 0;else return!1}if(!te){const oe=await s.window.showInputBox({placeHolder:s.l10n.t("Set a GitHub Enterprise server URL"),ignoreFocusOut:!0,validateInput:fe=>{if(!/^(?:$|(https?):\/\/(?!github\.com).*)/.test(fe))return s.l10n.t('Please enter a valid GitHub Enterprise server URL. A "github.com" URL is not valid for GitHub Enterprise.')}});if(oe)await kd(oe);else return!1}}else if(!Lr()&&r.length===0&&a.length>0){const te=await s.window.showInformationMessage(s.l10n.t("It looks like you might be using GitHub Enterprise. Would you like to set up GitHub Pull Requests and Issues to authenticate with the enterprise server {0}?",a[0].normalizedHost),{modal:!0},v,s.l10n.t("No, use GitHub.com"));if(te===v)await kd(a[0].normalizedHost);else if(te===void 0)return!1}let T;const x=a.length>0||o.length>0;(Lr()||r.length===0)&&x&&(T=await this._credentialStore.login(li.githubEnterprise));let W;return!T&&(!Lr()||a.length===0)&&(W=await this._credentialStore.login(li.github)),!!W||!!T}dispose(){this._subs.forEach(e=>c(e))}};_r(sv,"ID","RepositoriesManager");let nR=sv;function d2(n){switch(n){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}var rR=Object.defineProperty,aR=(n,e,t)=>e in n?rR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,is=(n,e,t)=>aR(n,typeof e!="symbol"?e+"":e,t);class Sf extends d{constructor(e){super(),is(this,"_onDidOpenRepository",new s.EventEmitter),is(this,"onDidOpenRepository",this._onDidOpenRepository.event),is(this,"_onDidCloseRepository",new s.EventEmitter),is(this,"onDidCloseRepository",this._onDidCloseRepository.event),is(this,"_onDidChangeState",new s.EventEmitter),is(this,"onDidChangeState",this._onDidChangeState.event),is(this,"_onDidPublish",new s.EventEmitter),is(this,"onDidPublish",this._onDidPublish.event),is(this,"_gitAPI");const t=e.exports;try{this._gitAPI=t.getAPI(1)}catch(i){throw ei.setContext("gitNotInstalled",!0),i}this._register(this._gitAPI.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._register(this._gitAPI.onDidOpenRepository(i=>this._onDidOpenRepository.fire(i))),this._register(this._gitAPI.onDidChangeState(i=>this._onDidChangeState.fire(i))),this._register(this._gitAPI.onDidPublish(i=>this._onDidPublish.fire(i)))}get repositories(){return this._gitAPI.repositories}get state(){return this._gitAPI.state}static async createProvider(){const e=s.extensions.getExtension("vscode.git");if(e)return await e.activate(),new Sf(e)}registerPostCommitCommandsProvider(e){return this._gitAPI.registerPostCommitCommandsProvider?this._gitAPI.registerPostCommitCommandsProvider(e):{dispose:()=>{}}}}var sR=Object.defineProperty,oR=(n,e,t)=>e in n?sR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,hr=(n,e,t)=>oR(n,typeof e!="symbol"?e+"":e,t);class lR extends d{constructor(e){super(),this._liveShareAPI=e,hr(this,"_onDidOpenRepository",this._register(new s.EventEmitter)),hr(this,"onDidOpenRepository",this._onDidOpenRepository.event),hr(this,"_onDidCloseRepository",this._register(new s.EventEmitter)),hr(this,"onDidCloseRepository",this._onDidCloseRepository.event),hr(this,"_openRepositories",[]),hr(this,"_sharedServiceProxy")}get repositories(){return this._openRepositories}async initialize(){this._sharedServiceProxy=await this._liveShareAPI.getSharedService(Vn)||void 0,this._sharedServiceProxy&&(this._sharedServiceProxy.isServiceAvailable&&await this._refreshWorkspaces(!0),this._register(this._sharedServiceProxy.onDidChangeIsServiceAvailable(async e=>{await this._refreshWorkspaces(e)})),this._register(s.workspace.onDidChangeWorkspaceFolders(this._onDidChangeWorkspaceFolders.bind(this))))}async _onDidChangeWorkspaceFolders(e){e.added.forEach(async t=>{t.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.openVSLSRepository(t)}),e.removed.forEach(async t=>{t.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.closeVSLSRepository(t)})}async _refreshWorkspaces(e){s.workspace.workspaceFolders&&s.workspace.workspaceFolders.forEach(async t=>{t.uri.scheme==="vsls"&&(e?await this.openVSLSRepository(t):await this.closeVSLSRepository(t))})}async openVSLSRepository(e){if(this.getRepository(e))return;const i=new dR(e,this._sharedServiceProxy),r=new uR,a=new Proxy(i,r);await a.initialize(),this.openRepository(a)}async closeVSLSRepository(e){const t=this.getRepository(e);t&&this.closeRepository(t)}openRepository(e){this._openRepositories.push(e),this._onDidOpenRepository.fire(e)}closeRepository(e){this._openRepositories=this._openRepositories.filter(t=>t!==e),this._onDidCloseRepository.fire(e)}getRepository(e){return this._openRepositories.filter(t=>t.workspaceFolder===e)[0]}}class uR{constructor(){}get(e,t){return t in e?e[t]:function(...i){return e.proxy.request(Ai,[t,e.workspaceFolder.uri.toString(),...i])}}}class cR{constructor(e){hr(this,"HEAD"),hr(this,"remotes"),hr(this,"submodules",[]),hr(this,"rebaseCommit"),hr(this,"mergeChanges",[]),hr(this,"indexChanges",[]),hr(this,"workingTreeChanges",[]),hr(this,"_onDidChange",new s.EventEmitter),hr(this,"onDidChange",this._onDidChange.event),this.HEAD=e.HEAD,this.remotes=e.remotes}update(e){this.HEAD=e.HEAD,this.remotes=e.remotes,this._onDidChange.fire()}}class dR{constructor(e,t){this.workspaceFolder=e,this.proxy=t,hr(this,"rootUri"),hr(this,"state")}async initialize(){const e=await this.proxy.request(Ai,[Ir,this.workspaceFolder.uri.toString()]);this.state=new cR(e),this.rootUri=s.Uri.parse(e.rootUri),this.proxy.onNotify(Nr,this._notifyHandler.bind(this))}_notifyHandler(e){var t;(t=this.state)==null||t.update(e)}}var fR=Object.defineProperty,hR=(n,e,t)=>e in n?fR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,mR=(n,e,t)=>hR(n,typeof e!="symbol"?e+"":e,t);class pR extends d{constructor(e,t){super(),this._liveShareAPI=e,this._api=t,mR(this,"_sharedService")}async initialize(){this._sharedService=await this._liveShareAPI.shareService(Vn)||void 0,this._sharedService&&this._sharedService.onRequest(Ai,this._gitHandler.bind(this))}async _gitHandler(e){const t=e[0],i=e[1],r=s.Uri.parse(i),a=this._liveShareAPI.convertSharedUriToLocal(r),o=this._api.getGitProvider(a);if(!o)return;const v=o.repositories.filter(T=>T.rootUri.toString()===a.toString())[0];if(v){const T=e.slice(2);if(t===Ir)return this._register(v.state.onDidChange(x=>{this._sharedService.notify(Nr,{HEAD:v.state.HEAD,remotes:v.state.remotes,refs:v.state.refs})})),{HEAD:v.state.HEAD,remotes:v.state.remotes,refs:v.state.refs,rootUri:r.toString()};if(t==="show"){const x=T[1],W=r.with({path:x}),te=this._liveShareAPI.convertSharedUriToLocal(W);return T[1]=te.fsPath,v[t](...T)}if(v[t])return v[t](...T)}else return null}}var gR=Object.defineProperty,vR=(n,e,t)=>e in n?gR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dc=(n,e,t)=>vR(n,typeof e!="symbol"?e+"":e,t);async function bR(){const n=s.extensions.getExtension("ms-vsliveshare.vsliveshare");if(!n)return null;const e=n.isActive?n.exports:await n.activate();if(!e)return null;const t="0.3.967";return e.getApi?e.getApi(t):e.getApiAsync(t)}class yR extends d{constructor(e){super(),this._api=e,dc(this,"_liveShareAPI"),dc(this,"_host"),dc(this,"_guest"),dc(this,"_localDisposables",[]),this._register({dispose:()=>c(this._localDisposables)})}async initialize(){if(this._liveShareAPI||(this._liveShareAPI=await bR()),!!this._liveShareAPI)return this._register(this._liveShareAPI.onDidChangeSession(e=>this._onDidChangeSession(e.session),this)),this._liveShareAPI.session&&this._onDidChangeSession(this._liveShareAPI.session),this._liveShareAPI}async _onDidChangeSession(e){if(c(this._localDisposables),e.role===1){this._host=new pR(this._liveShareAPI,this._api),this._localDisposables.push(this._host),await this._host.initialize();return}e.role===2&&(this._guest=new lR(this._liveShareAPI),this._localDisposables.push(this._guest),await this._guest.initialize(),this._localDisposables.push(this._api.registerGitProvider(this._guest)))}}function wR(n){return new yR(n)}async function _R(n,e){const t=await Sf.createProvider();if(t)return e.registerGitProvider(t),t}var kR=Object.defineProperty,SR=(n,e,t)=>e in n?kR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ov=(n,e,t)=>SR(n,typeof e!="symbol"?e+"":e,t);class RR{constructor(e){this.pullRequestManager=e,ov(this,"onNotifiedEmitter",new s.EventEmitter),ov(this,"onNotified",this.onNotifiedEmitter.event),e.folderManagers.forEach(t=>{t.onDidChangeAssignableUsers(i=>{this.notifySuggestedAccounts(i)})})}async requestAsync(e,t,i){let r=null;switch(e){case"initialize":r={description:"Pullrequest",capabilities:{supportsDispose:!1,supportsInviteLink:!1,supportsPresence:!1,supportsContactPresenceRequest:!1,supportsPublishPresence:!1}};const a=new Map;for(const o of this.pullRequestManager.folderManagers){const v=o.getAllAssignableUsers();if(v)for(const T of v)a.has(T.login)||a.set(T.login,T)}a.size>0&&this.notifySuggestedAccounts(Array.from(a.values()));break;default:throw new Error(`type:${e} not supported`)}return r}async notifySuggestedAccounts(e){let t;try{t=await this.getCurrentUserLogin()}catch{}t&&e.findIndex(i=>i.login===t)!==-1&&this.notifySuggestedUsers(e.filter(i=>i.email).map(i=>({id:i.login,displayName:i.name?i.name:i.login,email:i.email})),!0)}async getCurrentUserLogin(){var e;if(this.pullRequestManager.folderManagers.length===0)return;const t=await((e=this.pullRequestManager.folderManagers[0])==null?void 0:e.getOrigin());if(t){const i=t.hub.currentUser?await t.hub.currentUser:void 0;if(i)return i.login}}notify(e,t){this.onNotifiedEmitter.fire({type:e,body:t})}notifySuggestedUsers(e,t){this.notify("suggestedUsers",{contacts:e,exclusive:t})}}var ER=Object.defineProperty,NR=(n,e,t)=>e in n?ER(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,TR=(n,e,t)=>NR(n,typeof e!="symbol"?e+"":e,t);class CR extends d{constructor(){super(),TR(this,"_extensionsDisposable"),this._extensionsDisposable=this._register(s.extensions.onDidChange(this.onExtensionsChanged,this)),this.onExtensionsChanged()}register(e){e&&this._register(e.registerActionRunner("createPullRequest",{partnerId:"ghpr",name:"GitHub Pull Requests and Issues",label:"Create Pull Request",run:function(t){t.branch.isRemote||s.commands.executeCommand("pr.create",{repoPath:t.repoPath,compareBranch:t.branch.name})}}))}async onExtensionsChanged(){var e;const t=(e=s.extensions.getExtension("eamodio.gitlens"))!=null?e:s.extensions.getExtension("eamodio.gitlens-insiders");if(t)if(this._extensionsDisposable.dispose(),t.isActive)this.register(await t.exports);else{let i=0;const r=setInterval(async()=>{t.isActive?(clearInterval(r),this.register(await t.exports)):(i++,i>60&&clearInterval(r))},1e3)}}}function lv(){return s.workspace.getConfiguration(tt).get(ba,!1)?ei.QUICK_CHAT_OPEN:ei.OPEN_CHAT}var PR=Object.defineProperty,AR=(n,e,t)=>e in n?PR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Wo=(n,e,t)=>AR(n,typeof e!="symbol"?e+"":e,t);class uv extends d{constructor(e,t,i,r,a){super(),this.issueModel=e,this.manager=t,this.stateManager=i,this.shouldPromptForBranch=a,Wo(this,"_branchName"),Wo(this,"user"),Wo(this,"repo"),Wo(this,"_repoDefaults"),Wo(this,"_onDidChangeCurrentIssueState",this._register(new s.EventEmitter)),Wo(this,"onDidChangeCurrentIssueState",this._onDidChangeCurrentIssueState.event),this.setRepo(r!=null?r:this.issueModel.githubRepository.remote)}setRepo(e){var t;for(let i=0;i<this.stateManager.gitAPI.repositories.length;i++){const r=this.stateManager.gitAPI.repositories[i];for(let a=0;a<r.state.remotes.length;a++){const o=r.state.remotes[a];if(o.name===(e==null?void 0:e.remoteName)&&((t=o.fetchUrl)==null?void 0:t.toLowerCase().search(`${e.owner.toLowerCase()}/${e.repositoryName.toLowerCase()}`))!==-1){this.repo=r;return}}}}get branchName(){return this._branchName}get repoDefaults(){return this._repoDefaults}get issue(){return this.issueModel}async startWorking(e=!1){var t;try{if(this._repoDefaults=await this.manager.getPullRequestDefaults(),await this.createIssueBranch(e)){await this.setCommitMessageAndGitEvent(),this._onDidChangeCurrentIssueState.fire();const i=(await this.manager.getCurrentUser(this.issueModel.githubRepository)).login;return s.workspace.getConfiguration(Li).get(sn)&&!((t=this.issueModel.assignees)!=null&&t.find(r=>r.login===i))&&(this.manager.gitHubRepositories.find(r=>r.remote.owner===this.issueModel.remote.owner&&r.remote.repositoryName===this.issueModel.remote.repositoryName)&&await this.manager.assignIssue(this.issueModel,i),await this.stateManager.refresh(this.manager)),!0}}catch{s.window.showErrorMessage(s.l10n.t("There is no remote. Can't start working on an issue."))}return!1}async stopWorking(e){if(this.repo&&(this.repo.inputBox.value=""),this._repoDefaults&&e)try{await this.manager.repository.checkout(this._repoDefaults.base)}catch(t){throw t.gitErrorCode===vt.DirtyWorkTree&&s.window.showErrorMessage(s.l10n.t("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches")),t}this._onDidChangeCurrentIssueState.fire(),this.dispose()}getBasicBranchName(e){return`${e}/issue${this.issueModel.number}`}async getBranch(e){try{return await this.manager.repository.getBranch(e)}catch{}}async createOrCheckoutBranch(e){try{return await this.getBranch(e)?await this.manager.repository.checkout(e):await this.manager.repository.createBranch(e,!0),!0}catch(t){return t.message!=="User aborted"&&s.window.showErrorMessage(`Unable to checkout branch ${e}. There may be file conflicts that prevent this branch change. Git error: ${t.error}`),!1}}async getUser(){return this.user||(this.user=(await this.issueModel.githubRepository.getAuthenticatedUser()).login),this.user}async getBranchTitle(){var e;return(e=s.workspace.getConfiguration(Li).get(In))!=null?e:this.getBasicBranchName(await this.getUser())}validateBranchName(e){const t=/[^ \\@\~\^\?\*\[]+/,i=e.match(t);if(i&&i.length>0&&i[0]!==e)return s.l10n.t("Branch name cannot contain a space or the following characters: \\@~^?*[")}showBranchNameError(e){const t="Edit Setting";s.window.showErrorMessage(e,t).then(i=>{i===t&&s.commands.executeCommand("workbench.action.openSettings",`${Li}.${In}`)})}async offerNewBranch(e,t,i){var r,a,o,v;const T=await this.manager.getMatchingPullRequestMetadataFromGitHub(e,(r=e.upstream)==null?void 0:r.remote,(a=e.upstream)==null?void 0:a.name);if(T&&T.model.state!==Xi.Open){const x=s.l10n.t("The pull request for {0} has been merged. Do you want to create a new branch?",(o=e.name)!=null?o:"unknown branch"),W=s.l10n.t("The pull request for {0} has been closed. Do you want to create a new branch?",(v=e.name)!=null?v:"unknown branch"),te=s.l10n.t("Create New Branch");if(await s.window.showInformationMessage(T.model.state===Xi.Merged?x:W,{modal:!0},te)===te){const fe=(i==null?void 0:i.length)===4?Number(i[3])+1:1;return`${t}_${fe}`}}return t}async createIssueBranch(e){var t;const i=this.shouldPromptForBranch?"prompt":s.workspace.getConfiguration(Li).get(Wr);if(i==="off")return!0;const r=this.stateManager.getSavedIssueState(this.issueModel.number);this._branchName=this.shouldPromptForBranch?void 0:r.branch;const a=await Po(await this.getBranchTitle(),this.issue,void 0,await this.getUser()),o=(t=this._branchName)==null?void 0:t.match(new RegExp("^("+Ke(a)+")(_)?(\\d*)"));if(i==="on"){const T=await this.getBranch(this._branchName);T?e||(this._branchName=await this.offerNewBranch(T,a,o)):o||(this._branchName=a)}if(this._branchName||(this._branchName=await s.window.showInputBox({value:a,prompt:s.l10n.t("Enter the label for the new branch.")})),!this._branchName)return!1;const v=this.validateBranchName(this._branchName);return v?(this.showBranchNameError(v),!1):(r.branch=this._branchName,await this.stateManager.setSavedIssueState(this.issueModel,r),await this.createOrCheckoutBranch(this._branchName)?!0:(this._branchName=void 0,!1))}async getCommitMessage(){const e=s.workspace.getConfiguration(Li).get(Bn);if(typeof e=="string")return Po(e,this.issueModel,this._repoDefaults)}async setCommitMessageAndGitEvent(){const e=await this.getCommitMessage();this.repo&&e&&(this.repo.inputBox.value=e)}}var MR=Object.defineProperty,IR=(n,e,t)=>e in n?MR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cv=(n,e,t)=>IR(n,typeof e!="symbol"?e+"":e,t);const Rf=/\@([^\s]+)/,DR=150,Ys="Permalink";async function dv(n,e,t,i){var r;const a=(r=n.resolvedIssues.get(e.repository.rootUri.path))==null?void 0:r.get(t);if(a)return a;{let o,v,T;const x=await e.getGitHubRemotes();for(const W of x){if(i)o=i.owner?i.owner:W.owner,v=i.name?i.name:W.repositoryName,T=i.issueNumber;else{const te=$s(t.match(hs));te&&(!te.name||!te.owner)&&(o=W.owner,v=W.repositoryName)}if(o&&v&&T!==void 0){let te=await e.resolveIssue(o,v,T,!!i.commentNumber);if(te||(te=await e.resolvePullRequest(o,v,T)),te){let oe;return n.resolvedIssues.has(e.repository.rootUri.path)?oe=n.resolvedIssues.get(e.repository.rootUri.path):n.resolvedIssues.set(e.repository.rootUri.path,oe=new(Ih())(50)),oe.set(t,te),te}}}}}class fv extends s.CompletionItem{constructor(){super(...arguments),cv(this,"login"),cv(this,"uri")}}const hv="HEAD",FR=1,xR=2,OR=3,mv=4,fc=new Map([["upstream",FR],["ups",xR],["origin",OR]]);async function LR(n,e,t){var i,r,a,o;const v=(i=e.state.HEAD)!=null&&i.upstream&&!fc.has(e.state.HEAD.upstream.remote)?e.state.HEAD.upstream.remote:void 0;let T;const x=e.state.remotes.map(ye=>({name:ye.name,remote:ye})).filter(ye=>(ye.name===v&&(T=ye.remote),fc.has(ye.name))).sort((ye,Pe)=>{var Ce,De;const Le=(Ce=fc.get(ye.name))!=null?Ce:mv,$e=(De=fc.get(Pe.name))!=null?De:mv;return Le-$e});v&&x.push({name:v,remote:T});const W=[hv];(r=e.state.HEAD)!=null&&r.name&&e.state.HEAD.name!==hv&&W.unshift((a=e.state.HEAD)==null?void 0:a.name);let te;try{te=await((o=n.getManagerForFile(e.rootUri))==null?void 0:o.getPullRequestDefaults())}catch(ye){if(!(ye instanceof kp))throw ye}te&&W.push(te.base);let oe,fe;for(let ye=0;ye<W.length&&!oe;ye++)for(let Pe=0;Pe<x.length&&!oe;Pe++)try{const Ce=(await e.getBranches({contains:t,remote:!0,pattern:`remotes/${x[Pe].name}/${W[ye]}`,count:1})).filter(De=>De.remote&&De.name);Ce&&Ce.length>0&&(oe=Ce[0],fe=x[Pe].remote)}catch{}return fe}function UR(n){if(n instanceof s.Uri)return{fileUri:n,lineNumber:void 0};const e=n;return{fileUri:e==null?void 0:e.uri,lineNumber:e==null?void 0:e.lineNumber}}function pv(n,e){var t,i;y.debug("getting file and position",Ys);let r,a;const{fileUri:o,lineNumber:v}=UR(n);if(o)r=o,((t=s.window.activeTextEditor)==null?void 0:t.document.uri.fsPath)===r.fsPath&&!s.window.activeNotebookEditor&&(v!==void 0&&(s.window.activeTextEditor.selection.isEmpty||!s.window.activeTextEditor.selection.contains(new s.Position(v-1,0)))?a=new s.Range(new s.Position(v-1,0),new s.Position(v-1,1)):a=s.window.activeTextEditor.selection);else if(!e&&s.window.activeTextEditor)r=s.window.activeTextEditor.document.uri,a=s.window.activeTextEditor.selection;else if(!e&&s.window.activeNotebookEditor)r=s.window.activeNotebookEditor.notebook.uri,a=s.window.activeNotebookEditor.selection;else if(!e&&((i=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:i.input)instanceof s.TabInputCustom)r=s.window.tabGroups.activeTabGroup.activeTab.input.uri;else if(e)r=e.document.uri,a=e.range;else return{uri:void 0,range:void 0};return y.debug(`got file and position: ${r.fsPath} ${a!=null&&a.start?a.start instanceof s.Position?`${a.start.line}:${a.start.character}`:a.start:"unknown"}`,Ys),{uri:r,range:a}}function hc(n){var e;const t=(e=n.state.HEAD)==null?void 0:e.upstream;for(const i of n.state.remotes)if(!t||t.remote===i.name)return i}async function gv(n,e,t){const i=new Promise(a=>{a(hc(e))});let r=t?await Promise.race([LR(n,e,t),new Promise(a=>{setTimeout(()=>{a(i)},1500)})]):await i;if(!((!r||!r.fetchUrl)&&(r=await i,!r||!r.fetchUrl)))return r}function vv(n,e,t){const i=n.getManagerForFile(e.rootUri),r=i==null?void 0:i.gitHubRepositories.find(a=>a.remote.remoteName===t.name);return r?`${r.remote.owner}/${r.remote.repositoryName}`:new br(t.fetchUrl).nameWithOwner}async function Ef(n,e,t,i,r,a){var o,v,T;const{uri:x,range:W}=pv(a,r);if(!x)return{permalink:void 0,error:s.l10n.t("No active text editor position to create permalink from."),originalFile:void 0};const te=_d(e,x);if(!te)return{permalink:void 0,error:s.l10n.t("The current file isn't part of repository."),originalFile:x};let oe;if(x.scheme===qt.Review&&(oe=da(x.query).commit),!oe)try{const Le=await te.log({maxEntries:1,path:x.fsPath});if(Le.length===0)return{permalink:void 0,error:s.l10n.t("No branch on a remote contains the most recent commit for the file."),originalFile:x};(o=te.state.HEAD)!=null&&o.commit&&Le[0].hash!==((v=te.state.HEAD)==null?void 0:v.commit)?oe=te.state.HEAD.commit:oe=Le[0].hash}catch{oe=(T=te.state.HEAD)==null?void 0:T.commit}y.debug(`commit hash: ${oe}`,Ys);const fe=await gv(n,te,oe);if(!fe||!fe.fetchUrl)return{permalink:void 0,error:s.l10n.t("The selection may not exist on any remote."),originalFile:x};const ye=fe;y.debug(`upstream: ${ye.fetchUrl}`,Ys);const Pe=mc(x.path.substring(te.rootUri.path.length)),De={permalink:`${Nf(fe).replace(/\/$/,"")}/${vv(n,te,ye)}/blob/${oe}${i?`${Pe}${t?Tf(W):""}`:""}`,error:void 0,originalFile:x};return y.debug(`permalink generated: ${De.permalink}`,Ys),De}async function BR(n,e,t,i,r,a){return s.window.withProgress({location:s.ProgressLocation.Window},async o=>{o.report({message:s.l10n.t("Creating permalink...")});let v=0,T=a?a[v++]:void 0;const x=[];do x.push(Ef(n,e,t,i,r,T)),T=a?a[v++]:void 0;while(T);return Promise.all(x)})}function Nf(n,e="github.com"){const t=Co();let i=n.fetchUrl;if(t&&i){const r=new br(i);(r.host.startsWith(t.authority)||!r.host.includes("github.com"))&&(e=t.authority)}return`https://${e}`}function mc(n){return n.split("/").map(e=>encodeURIComponent(e)).join("/")}function Tf(n){if(!n||n instanceof s.NotebookRange)return"";let e=`#L${n.start.line+1}`;return n.start.line!==n.end.line&&(e+=`-L${n.end.line+1}`),e}async function qR(n,e,t){var i;const{uri:r,range:a}=pv(e);if(!r)return{permalink:void 0,error:s.l10n.t("No active text editor position to create permalink from."),originalFile:void 0};const o=n.getManagerForFile(r);if(!o)return{permalink:void 0,error:s.l10n.t("Current file does not belong to an open repository."),originalFile:void 0};let v=(i=o.repository.state.HEAD)==null?void 0:i.name;v||(v=(await(await o.getOrigin()).getMetadata()).default_branch);const T=hc(o.repository);if(!(T!=null&&T.fetchUrl))return{permalink:void 0,error:s.l10n.t("Repository does not have any remotes."),originalFile:void 0};const x=r.path.substring(o.repository.rootUri.path.length),W=Nf(T).replace(/\/$/,""),te=mc(`${v}${x}`);return{permalink:`${W}/${new br(T.fetchUrl).nameWithOwner}/blob/${te}${t?Tf(a):""}`,error:void 0,originalFile:r}}async function $R(n,e,t){let i=0,r=e?e[i++]:void 0;const a=[];do a.push(qR(n,r,t)),r=e?e[i++]:void 0;while(r);return Promise.all(a)}async function bv(n,e,t){var i;const r=await((i=e.currentIssue(n.repository.rootUri))==null?void 0:i.getCommitMessage());if(r)return n.repository.commit(r,{all:t})}const yv=s.l10n.t("Commit Staged"),wv=s.l10n.t("Commit All");async function HR(n,e,t){var i,r;if(n.repository.state.workingTreeChanges.length>0||n.repository.state.indexChanges.length>0){const a=[];switch(n.repository.state.indexChanges&&a.push(yv),n.repository.state.workingTreeChanges&&a.push(wv),await s.window.showInformationMessage(s.l10n.t("There are uncommitted changes. Do you want to commit them with the default commit message?"),{modal:!0},...a)){case yv:{await bv(n,t,!1);break}case wv:{await bv(n,t,!0);break}default:return!1}}if((i=n.repository.state.HEAD)!=null&&i.upstream)return await n.repository.push(),await e.createPullRequest(void 0),!0;{let a;return n.repository.state.remotes.length===1?a=n.repository.state.remotes[0].name:n.repository.state.remotes.length>1&&(a=await s.window.showQuickPick(n.repository.state.remotes.map(o=>o.name),{placeHolder:s.l10n.t("Remote to push to")})),a?(await n.repository.push(a,(r=n.repository.state.HEAD)==null?void 0:r.name,!0),await e.createPullRequest(void 0),!0):(s.window.showWarningMessage(s.l10n.t("The current repository has no remotes to push to. Please set up a remote and try again.")),!1)}}async function Cf(n,e){return!(n.languageId!=="markdown"&&n.languageId!=="plaintext"&&(await s.languages.getTokenInformationAtPosition(n,e)).type!==s.StandardTokenType.Comment)}async function _v(n,e){return n.lineAt(e.line).range.end.character>1e4?!1:Cf(n,e)}function kv(n){const e=new URLSearchParams(n.query).get("rootUri");return e?s.Uri.parse(e):void 0}function GR(n){return n.replace(/([_~*])/g,"\\$1")}class Sv extends s.CompletionItem{constructor(e){super(`${e.number}: ${e.title}`,s.CompletionItemKind.Issue),this.issue=e}}class VR extends s.CompletionItem{constructor(){super(s.l10n.t("Configure issue queries..."),s.CompletionItemKind.Text),this.detail=s.l10n.t("No issues found. Set up queries to see relevant issues."),this.insertText="",this.command={command:"workbench.action.openSettings",title:s.l10n.t("Open Settings"),arguments:[`@ext:${bn} githubIssues.queries`]},this.sortText="~"}}class jR{constructor(e,t,i){this.stateManager=e,this.repositoriesManager=t,this.context=i}async provideCompletionItems(e,t,i,r){var a,o,v,T,x,W,te;let oe=e.getWordRangeAtPosition(t),fe=oe?e.getText(oe):void 0;if(!oe||(fe==null?void 0:fe.charAt(0))!=="#"){const Ve=(a=oe==null?void 0:oe.start)!=null?a:t,We=new s.Range(Ve.translate(void 0,Ve.character?-1:0),t),ct=e.getText(We);ct.charAt(0)==="#"&&(oe=We,fe=ct)}if(e.languageId!=="scminput"&&e.uri.scheme!=="comment"&&t.character>0&&r.triggerKind===s.CompletionTriggerKind.Invoke&&!(fe!=null&&fe.match(/#[0-9]*$/)))return[];if(t.character<=6&&e.languageId==="markdown"&&e.getText(new s.Range(t.with(void 0,0),t))===new Array(t.character+1).join("#")&&e.uri.scheme!=="comment"&&r.triggerKind===s.CompletionTriggerKind.TriggerCharacter)return[];if(r.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&s.workspace.getConfiguration(Li).get(Br,[]).find(Ve=>Ve===e.languageId))return[];if(e.languageId!=="scminput"&&e.languageId!=="git-commit"&&!await Cf(e,t))return[];let ye=new s.Range(t,t);t.character-1>=0&&oe&&((fe==null?void 0:fe.charAt(0))==="#"||e.languageId==="scminput"||e.languageId==="git-commit")&&(ye=oe);let Pe;if(fe==="#"&&oe&&oe.start.character>=3){const Ve=new s.Range(oe.start.with(void 0,0),oe.start),ct=e.getText(Ve).match(/([^\s]+)\/([^\s]+)/);ct&&(Pe={owner:ct[1],repo:ct[2]})}const Ce=[],De=new Set;let Le,$e;if(e.languageId==="scminput")$e=kv(e.uri);else if(e.uri.scheme==="comment"&&((o=s.workspace.workspaceFolders)!=null&&o.length))for(const Ve of s.window.visibleTextEditors){const We=s.workspace.workspaceFolders[0].uri.with({path:Ve.document.uri.path}),ct=s.workspace.getWorkspaceFolder(We);if(ct){$e=ct.uri;break}}else $e=e.uri.scheme===qt.NewIssue&&(T=(v=qu(e.uri))==null?void 0:v.originUri)!=null?T:e.uri;if(!$e)return[];let Ze;try{Ze=this.repositoriesManager.getManagerForFile($e),Le=await(Ze==null?void 0:Ze.getPullRequestDefaults())}catch{}const rt=this.stateManager.getIssueCollection((x=Ze==null?void 0:Ze.repository.rootUri)!=null?x:$e);for(const Ve of rt){const We=await Ve[1];if(((W=We.issues)!=null?W:[]).length!==0)for(const ct of(te=We.issues)!=null?te:[]){if(Pe&&(ct.remote.owner!==Pe.owner||ct.remote.repositoryName!==Pe.repo))continue;const jt=Rl(ct);De.has(jt)||(De.add(jt),Ce.push(await this.completionItemFromIssue(Le,ct,ye,e)))}}return Ce.length===0?[new VR]:Ce}async completionItemFromIssue(e,t,i,r,a){var o;const v=new Sv(t);if(r.languageId==="markdown")v.insertText=`[${Rl(t,e)}](${t.html_url})`;else{const x=s.workspace.getConfiguration(Li).get(rr);r.uri.path.match(/git\/scm\d\/input/)&&typeof x=="string"?v.insertText=await Po(x,t,e):v.insertText=`${Rl(t,e)}`}v.documentation=t.body,v.range=i,v.detail=a?a.title:(o=t.milestone)==null?void 0:o.title;const T=Number.MAX_SAFE_INTEGER-new Date(t.updatedAt).getTime();return v.sortText=T.toString().padStart(15,"0"),v.filterText=`${v.detail} # ${t.number} ${t.title} ${v.documentation}`,v}async resolveCompletionItem(e,t){return e instanceof Sv&&(e.documentation=await vs(e.issue,this.context,this.repositoriesManager),e.command={command:"issues.issueCompletion",title:s.l10n.t("Issue Completion Choose,")}),e}}var zR=Object.defineProperty,WR=(n,e,t)=>e in n?zR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ul=(n,e,t)=>WR(n,typeof e!="symbol"?e+"":e,t);const Ko=s.l10n.t("Assignees:"),Qo=s.l10n.t("Labels:"),Bl=s.l10n.t("Milestone:"),Yo=s.l10n.t("Projects:"),Pf="newIssue.cache";class KR{constructor(e){this.cache=e,Ul(this,"content"),Ul(this,"createTime",0),Ul(this,"modifiedTime",0),Ul(this,"_onDidChangeFile",new s.EventEmitter),Ul(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,t){const i=this.onDidChangeFile(r=>{r.length===0&&r[0].type===s.FileChangeType.Deleted&&i.dispose()});return i}stat(e){var t,i;return{type:s.FileType.File,ctime:this.createTime,mtime:this.modifiedTime,size:(i=(t=this.content)==null?void 0:t.length)!=null?i:0}}readDirectory(e){return[]}createDirectory(e){}readFile(e){var t;return(t=this.content)!=null?t:new Uint8Array(0)}writeFile(e,t,i={create:!1,overwrite:!1}){const r=this.content;this.content=t,r===void 0?(this.createTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Created}])):(this.modifiedTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Changed}])),this.cache.cache(t)}delete(e,t){this.content=void 0,this.createTime=0,this.modifiedTime=0,this._onDidChangeFile.fire([{uri:e,type:s.FileChangeType.Deleted}])}rename(e,t,i){}}class QR{constructor(e){this.manager=e}async provideCompletionItems(e,t,i,r){var a,o;const v=e.lineAt(t.line).text;if(!v.startsWith(Qo)&&!v.startsWith(Bl)&&!v.startsWith(Yo))return[];const T=(o=(a=qu(e.uri))==null?void 0:a.repoUriParams)==null?void 0:o.repoRootUri;if(!T)return[];const x=this.manager.getManagerForFile(T);if(!x)return[];const W=await x.getPullRequestDefaults();return v.startsWith(Qo)?this.provideLabelCompletionItems(x,W):v.startsWith(Bl)?this.provideMilestoneCompletionItems(x):v.startsWith(Yo)?this.provideProjectCompletionItems(x):[]}async provideLabelCompletionItems(e,t){return(await e.getLabels(void 0,t)).map(r=>{const a=new s.CompletionItem(r.name,s.CompletionItemKind.Color);return a.documentation=`#${r.color}`,a.commitCharacters=[" ",","],a})}async provideMilestoneCompletionItems(e){var t,i;return((i=await((t=await e.getPullRequestDefaultRepo())==null?void 0:t.getMilestones()))!=null?i:[]).map(a=>{const o=new s.CompletionItem(a.title,s.CompletionItemKind.Event);return o.commitCharacters=[" ",","],o})}async provideProjectCompletionItems(e){var t;const i=await e.getPullRequestDefaultRepo();return((t=await e.getAllProjects(i))!=null?t:[]).map(a=>{const o=new s.CompletionItem(a.title,s.CompletionItemKind.Event);return o.commitCharacters=[" ",","],o})}}class YR{constructor(e){this.context=e,this.clear()}cache(e){this.context.workspaceState.update(Pf,e)}clear(){this.context.workspaceState.update(Pf,void 0)}get(){const e=this.context.workspaceState.get(Pf);if(e)return new TextDecoder().decode(e)}}async function ZR(n){var e,t;let i;if(!s.window.activeTextEditor||s.window.activeTextEditor.document.uri.scheme!==qt.NewIssue)return;const r=qu(s.window.activeTextEditor.document.uri),a=r==null?void 0:r.originUri;if(!a)return;let o;if((e=r.repoUriParams)!=null&&e.repoRootUri?o=n.getManagerForFile(r.repoUriParams.repoRootUri):o=n.getManagerForFile(a),!o)return;const v=await o.getPullRequestDefaultRepo();i=s.window.activeTextEditor.document.getText();const T=i.indexOf(`\r
\r
`),x=i.indexOf(`

`);let W;if(T<0&&x<0)return;T<0?W=x:x<0?W=T:W=Math.min(T,x);const te=i.substring(0,W);if(!te)return;let oe;if(i=i.substring(W+2).trim(),i.startsWith("<!--")){const De=i.indexOf("-->");if(De<0)return;i=i.substring(De+3).trim()}if(i.startsWith(Ko)){const De=i.split(/\r\n|\n/,1);De.length===1&&(oe=De[0].substring(Ko.length).split(",").map(Le=>(Le=Le.trim(),Le.startsWith("@")&&(Le=Le.substring(1)),Le)),i=i.substring(De[0].length).trim())}let fe;if(i.startsWith(Qo)){const De=i.split(/\r\n|\n/,1);De.length===1&&(fe=De[0].substring(Qo.length).split(",").map(Le=>Le.trim()).filter(Le=>Le),i=i.substring(De[0].length).trim())}let ye;if(i.startsWith(Bl)){const De=i.split(/\r\n|\n/,1);if(De.length===1){const Le=De[0].substring(Bl.length).trim();if(Le){const $e=await v.getMilestones();ye=(t=$e==null?void 0:$e.find(Ze=>Ze.title===Le))==null?void 0:t.number}i=i.substring(De[0].length).trim()}}let Pe;if(i.startsWith(Yo)){const De=i.split(/\r\n|\n/,1);if(De.length===1){if(await v.canGetProjectsNow()){const Le=await o.getAllProjects(v);Pe=De[0].substring(Yo.length).split(",").map($e=>($e=$e.trim(),Le.find(Ze=>Ze.title===$e))).filter($e=>!!$e)}i=i.substring(De[0].length).trim()}}const Ce=i!=null?i:"";return{labels:fe,milestone:ye,projects:Pe,assignees:oe,title:te,body:Ce,originUri:a}}class JR{constructor(e,t,i,r){this.manager=e,this.stateManager=t,this.context=i,this.telemetry=r}async provideHover(e,t,i){var r;if(!await _v(e,t))return;let a=e.getWordRangeAtPosition(t,hs);if(a&&a.start.character>0){a=new s.Range(new s.Position(a.start.line,a.start.character),a.end);const v=e.getText(a).match(hs),T=$s(v),x=(r=this.manager.getManagerForFile(e.uri))!=null?r:this.manager.folderManagers[0];if(!x)return;if(T&&v&&(T.owner||T.issueNumber<=this.stateManager.maxIssueNumber(x.repository.rootUri)))return this.createHover(x,v[0],T,a)}else return}async createHover(e,t,i,r){const a=await dv(this.stateManager,e,t,i);if(a)return this.telemetry.sendTelemetryEvent("issues.issueHover"),new s.Hover(await vs(a,this.context,this.manager,i.commentNumber),r)}}var XR=Object.defineProperty,eE=(n,e,t)=>e in n?XR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Rv=(n,e,t)=>eE(n,typeof e!="symbol"?e+"":e,t);class ql{constructor(e,t,i){this.repoRootUri=e,this.queryLabel=t,this.isFirst=i}}class pc{constructor(e,t,i,r,a,o,v){this.repoRootUri=e,this.queryLabel=t,this.isInFirstQuery=i,this.groupLevel=r,this.group=a,this.groupByOrder=o,this.issuesInGroup=v}}class tE{constructor(e,t,i){this.stateManager=e,this.manager=t,this.context=i,Rv(this,"_onDidChangeTreeData",new s.EventEmitter),Rv(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),i.subscriptions.push(this.manager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeIssueData(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeCurrentIssue(()=>{this._onDidChangeTreeData.fire()}))}getFolderRepoItem(e){return new s.TreeItem(z.basename(e.repository.rootUri.fsPath),Mf(this.context,e,s.TreeItemCollapsibleState.Expanded))}getQueryItem(e){const t=new s.TreeItem(e.queryLabel,Mf(this.context,e,e.isFirst?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed));return t.contextValue="query",t}getIssueGroupItem(e){return new s.TreeItem(e.group,Mf(this.context,e,e.isInFirstQuery?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed))}async getIssueTreeItem(e){var t,i;const r=new s.TreeItem(e.title,s.TreeItemCollapsibleState.None);return r.iconPath=(t=(await cr.avatarCirclesAsImageDataUris(this.context,[e.author],16,16))[0])!=null?t:e.isOpen?new s.ThemeIcon("issues",new s.ThemeColor("issues.open")):new s.ThemeIcon("issue-closed",new s.ThemeColor("issues.closed")),r.command={command:"issue.openDescription",title:s.l10n.t("View Issue Description"),arguments:[e]},((i=this.stateManager.currentIssue(e.uri))==null?void 0:i.issue.number)===e.number?(r.label=`\u2713 ${r.label}`,r.contextValue="currentissue"):this.stateManager.getSavedIssueState(e.number).branch?r.contextValue="continueissue":r.contextValue="issue",G1(e)&&(r.contextValue="link"+r.contextValue),r}async getTreeItem(e){return e instanceof Ks?this.getFolderRepoItem(e):e instanceof ql?this.getQueryItem(e):e instanceof pc?this.getIssueGroupItem(e):this.getIssueTreeItem(e)}getChildren(e){return e===void 0&&this.manager.state!==tr.RepositoriesLoaded?this.getStateChildren():this.getIssuesChildren(e)}async resolveTreeItem(e,t){return t instanceof Gn&&(e.tooltip=await vs(t,this.context,this.manager)),e}getStateChildren(){return this.manager.state===tr.NeedsAuthentication||!this.manager.folderManagers.length?[]:(ei.setContext(Ct.LOADING_ISSUES_TREE,!0),[])}getRootChildren(){return this.manager.folderManagers.length===1?this.getRepoChildren(this.manager.folderManagers[0]):this.manager.folderManagers.length>1?this.manager.folderManagers:[]}getRepoChildren(e){const t=this.stateManager.getIssueCollection(e.repository.rootUri),i=Array.from(t.keys());return i.length===1?this.getQueryNodeChildren(new ql(e.repository.rootUri,i[0],!0)):i.map((r,a)=>new ql(e.repository.rootUri,r,a===0))}async getQueryNodeChildren(e){var t;const r=await this.stateManager.getIssueCollection(e.repoRootUri).get(e.queryLabel);return r?this.getIssueGroupsForGroupIndex(e.repoRootUri,e.queryLabel,e.isFirst,r.groupBy,0,(t=r.issues)!=null?t:[]):[]}getIssueGroupsForGroupIndex(e,t,i,r,a,o){if(r.length<=a)return o;const v=r[a];if(v!=="milestone"&&v!=="repository"||r.findIndex(W=>W===v)!==a)return this.getIssueGroupsForGroupIndex(e,t,i,r,a+1,o);const T=B(o,W=>{var te,oe;return v==="repository"?`${W.remote.owner}/${W.remote.repositoryName}`:(oe=(te=W.milestone)==null?void 0:te.title)!=null?oe:"No Milestone"}),x=[];for(const W in T)x.push(new pc(e,t,i,a,W,r,T[W]));return x}async getIssueGroupChildren(e){return this.getIssueGroupsForGroupIndex(e.repoRootUri,e.queryLabel,e.isInFirstQuery,e.groupByOrder,e.groupLevel+1,e.issuesInGroup)}getIssuesChildren(e){return e===void 0?this.getRootChildren():e instanceof Ks?this.getRepoChildren(e):e instanceof ql?this.getQueryNodeChildren(e):e instanceof pc?this.getIssueGroupChildren(e):[]}}const Af="expandedIssuesState";function Ev(n){let e;return n instanceof Ks?e=n.repository.rootUri.toString():n instanceof ql?e=`${n.repoRootUri.toString()}/${n.queryLabel}`:n instanceof pc&&(e=`${n.repoRootUri.toString()}/${n.queryLabel}/${n.groupLevel}/${n.group}`),e}function Nv(n,e,t){const i=Ev(e);if(i){const r=new Set(n.workspaceState.get(Af,[]));t?r.add(i):r.delete(i),n.workspaceState.update(Af,Array.from(r.keys()))}}function Mf(n,e,t=s.TreeItemCollapsibleState.Expanded){const i=Ev(e);if(i){const r=n.workspaceState.get(Af);return r?new Set(r).has(i)?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed:t}return s.TreeItemCollapsibleState.None}var iE=Object.defineProperty,nE=(n,e,t)=>e in n?iE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rE=(n,e,t)=>nE(n,typeof e!="symbol"?e+"":e,t);class aE{constructor(e,t){this.copilotRemoteAgentManager=t,rE(this,"expression"),e.subscriptions.push(s.workspace.onDidChangeConfiguration(()=>{this.updateTriggers()})),this.updateTriggers()}updateTriggers(){const e=s.workspace.getConfiguration(Li).get(aa,[]);this.expression=e.length>0?new RegExp(e.map(t=>Ke(t)).join("|")):void 0}async provideCodeActions(e,t,i,r){var a;if(this.expression===void 0||i.only&&i.only!==s.CodeActionKind.QuickFix)return[];const o=[];let v=t.start.line;do{const T=e.lineAt(v).text,x=T.substring(0,DR);if(!x.match(hs)){const te=x.match(this.expression),oe=(a=te==null?void 0:te.index)!=null?a:-1;if(oe>=0&&te){const fe=new s.CodeAction(s.l10n.t("Create GitHub Issue"),s.CodeActionKind.QuickFix);fe.ranges=[new s.Range(v,oe,v,oe+te[0].length)];const ye=x.substring(oe).search(/\s/),Pe=oe+(ye>0?ye:x.match(this.expression)[0].length);if(fe.command={title:s.l10n.t("Create GitHub Issue"),command:"issue.createIssueFromSelection",arguments:[{document:e,lineNumber:v,line:T,insertIndex:Pe,range:t}]},o.push(fe),this.copilotRemoteAgentManager){const Ce=new s.CodeAction(s.l10n.t("Delegate to coding agent"),s.CodeActionKind.QuickFix);Ce.ranges=[new s.Range(v,oe,v,oe+te[0].length)],Ce.command={title:s.l10n.t("Delegate to coding agent"),command:"issue.startCodingAgentFromTodo",arguments:[{document:e,lineNumber:v,line:T,insertIndex:Pe,range:t}]},o.push(Ce)}break}}v++}while(t.end.line>=v);return o}}var sE=Object.defineProperty,oE=(n,e,t)=>e in n?sE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Tv=(n,e,t)=>oE(n,typeof e!="symbol"?e+"":e,t);class lE extends d{constructor(e,t){super(),s.window.registerShareProvider&&(this._register(new cE(e,t)),this._register(new Cv(e,t)),this._register(new dE(e,t)),this._register(new fE(e,t)))}}const uE=[qt.File,qt.Review,qt.Pr,qt.VscodeVfs];class If extends d{constructor(e,t,i,r,a,o="github.com"){super(),this.repositoryManager=e,this.gitAPI=t,this.id=i,this.label=r,this.priority=a,this.origin=o,Tv(this,"shareProviderRegistrations"),this.initialize()}dispose(){super.dispose(),this.unregister()}async initialize(){await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register(),this._register(this.repositoryManager.onDidLoadAnyRepositories(async()=>{await this.hasGitHubRepositories()&&this.shouldRegister()&&this.register()})),this._register(this.gitAPI.onDidCloseRepository(()=>{this.hasGitHubRepositories()||this.unregister()}))}async hasGitHubRepositories(){for(const e of this.repositoryManager.folderManagers)return!!(await e.computeAllGitHubRemotes()).length}register(){this.shareProviderRegistrations||(this.shareProviderRegistrations=uE.map(e=>s.window.registerShareProvider({scheme:e},this)))}unregister(){this.shareProviderRegistrations&&(c(this.shareProviderRegistrations),this.shareProviderRegistrations=void 0)}async provideShare(e){const t=this.repositoryManager.getManagerForFile(e.resourceUri);if(!t)throw new Error(s.l10n.t("Current file does not belong to an open repository."));const i=await this.getBlob(t,e.resourceUri),r=t.repository,a=await this.getUpstream(r,i);if(!a||!a.fetchUrl)throw new Error(s.l10n.t("The selection may not exist on any remote."));const o=Nf(a,this.origin).replace(/\/$/,""),v=mc(e.resourceUri.path.substring(r.rootUri.path.length)),T=hE(e);return s.Uri.parse([o,"/",vv(this.repositoryManager,r,{...a,fetchUrl:a.fetchUrl}),"/blob/",i,v,T].join(""))}}class cE extends If{constructor(e,t){super(e,t,"githubDevLink",s.l10n.t("Copy github.dev Link"),10,"github.dev")}shouldRegister(){return s.env.appHost==="github.dev"}async getBlob(e){return Av(e)}async getUpstream(e){return hc(e)}}class Cv extends If{constructor(e,t,i="githubComPermalink",r=s.l10n.t("Copy GitHub Permalink"),a=11){super(e,t,i,r,a)}shouldRegister(){return!0}async getBlob(e,t){var i,r,a;let o,v;if(t.scheme===qt.Review&&(v=da(t.query).commit),!v){const T=e.repository;try{const x=await T.log({maxEntries:1,path:t.fsPath});if(x.length===0)throw new Error(s.l10n.t("No branch on a remote contains the most recent commit for the file."));(i=T.state.HEAD)!=null&&i.commit&&x[0].hash!==((r=T.state.HEAD)==null?void 0:r.commit)&&(o=await T.getCommit(T.state.HEAD.commit)),o||(o=x[0]),v=o.hash}catch{v=(a=T.state.HEAD)==null?void 0:a.commit}}if(v)return v;throw new Error}async getUpstream(e,t){return gv(this.repositoryManager,e,(await e.getCommit(t)).hash)}}const Pv=class y0 extends Cv{constructor(e,t){super(e,t,"githubComPermalinkAsMarkdown",s.l10n.t("Copy GitHub Permalink as Markdown"),12)}async provideShare(e){var t;y.trace("providing permalink markdown share",y0.ID);const i=await super.provideShare(e),r=await this.getMarkdownLinkText(e);if(i)return`[${(t=r==null?void 0:r.trim())!=null?t:""}](${i.toString()})`}async getMarkdownLinkText(e){const t=z.basename(e.resourceUri.path);if(e.selection){const i=await s.workspace.openTextDocument(e.resourceUri),r=e.selection.start===e.selection.end?e.selection:new s.Range(e.selection.start,new s.Position(e.selection.start.line+1,0)),a=i.getText(r);if(a)return a;const o=i.getWordRangeAtPosition(e.selection.start);if(o)return i.getText(o)}return t}};Tv(Pv,"ID","GitHubPermalinkAsMarkdownShareProvider");let dE=Pv;class fE extends If{constructor(e,t){super(e,t,"githubComHeadLink",s.l10n.t("Copy GitHub HEAD Link"),13)}shouldRegister(){return!0}async getBlob(e){return Av(e)}async getUpstream(e){return hc(e)}}function hE(n){return n.resourceUri.scheme==="vscode-notebook-cell"?"":Tf(n.selection)}async function Av(n){var e;let t=(e=n.repository.state.HEAD)==null?void 0:e.name;return t||(t=(await(await n.getOrigin()).getMetadata()).default_branch),mc(t)}var mE=Object.defineProperty,pE=(n,e,t)=>e in n?mE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gr=(n,e,t)=>pE(n,typeof e!="symbol"?e+"":e,t);const gE="currentIssue",Df="issues",gc=[{label:s.l10n.t("My Issues"),query:"is:open assignee:@me repo:${owner}/${repository}",groupBy:["milestone"]}];class f2 extends Gn{constructor(){super(...arguments),Gr(this,"uri")}}class vE{constructor(e,t,i){this.gitAPI=e,this.manager=t,this.context=i,Gr(this,"resolvedIssues",new Map),Gr(this,"_singleRepoStates",new Map),Gr(this,"_onRefreshCacheNeeded",new s.EventEmitter),Gr(this,"onRefreshCacheNeeded",this._onRefreshCacheNeeded.event),Gr(this,"_onDidChangeIssueData",new s.EventEmitter),Gr(this,"onDidChangeIssueData",this._onDidChangeIssueData.event),Gr(this,"_queries",[]),Gr(this,"_onDidChangeCurrentIssue",new s.EventEmitter),Gr(this,"onDidChangeCurrentIssue",this._onDidChangeCurrentIssue.event),Gr(this,"initializePromise"),Gr(this,"statusBarItem"),Gr(this,"isSettingIssue",!1)}getIssueCollection(e){var t;let i=(t=this._singleRepoStates.get(e.path))==null?void 0:t.issueCollection;return i||(i=new Map,i)}getOrCreateSingleRepoState(e,t){let i=this._singleRepoStates.get(e.path);return i||(t||(t=this.manager.getManagerForFile(e)),i={issueCollection:new Map,maxIssueNumber:0,folderManager:t},this._singleRepoStates.set(e.path,i),i)}async tryInitializeAndWait(){return this.initializePromise||(this.initializePromise=new Promise(e=>{if(this.manager.credentialStore.isAnyAuthenticated())if(this.manager.state===tr.RepositoriesLoaded)this.doInitialize().then(()=>e());else{const t=this.manager.onDidChangeState(()=>{this.manager.state===tr.RepositoriesLoaded&&this.doInitialize().then(()=>{t.dispose(),e()})});this.context.subscriptions.push(t)}else{const t=this.manager.credentialStore.onDidGetSession(()=>{t.dispose(),this.doInitialize()});e()}})),this.initializePromise}registerRepositoryChangeEvent(){async function e(i,r){var a;const o=i.getOrCreateSingleRepoState(r.rootUri),v=o.lastHead,T=o.lastBranch,x=r.state.HEAD?r.state.HEAD.commit:void 0;(r.state.HEAD?r.state.HEAD.commit:void 0)!==v&&await i.setIssueData(o.folderManager);const W=(a=r.state.HEAD)==null?void 0:a.name;(v!==x||T!==W)&&(!o.currentIssue||W!==o.currentIssue.branchName)&&(W?o.folderManager&&await i.setCurrentIssueFromBranch(o,W,!0):await i.setCurrentIssue(o,void 0,!!W)),o.lastHead=r.state.HEAD?r.state.HEAD.commit:void 0,o.lastBranch=r.state.HEAD?r.state.HEAD.name:void 0}function t(i,r){i.context.subscriptions.push(r.state.onDidChange(async()=>{e(i,r)}))}this.context.subscriptions.push(this.gitAPI.onDidOpenRepository(i=>{e(this,i),t(this,i)})),this.gitAPI.repositories.forEach(i=>{t(this,i)})}refreshCacheNeeded(){this._onRefreshCacheNeeded.fire()}async refresh(e){return e?this.setIssueData(e):this.setAllIssueData()}async doInitialize(){var e;this.cleanIssueState(),this._queries=s.workspace.getConfiguration(Li,null).get(ai,gc),this._queries.length===0&&(this._queries=gc),this.context.subscriptions.push(s.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${Li}.${ai}`)?(this._queries=s.workspace.getConfiguration(Li,null).get(ai,gc),this._onRefreshCacheNeeded.fire()):t.affectsConfiguration(`${Li}.${Tn}`)&&this._onRefreshCacheNeeded.fire()})),this.registerRepositoryChangeEvent(),await this.setAllIssueData(),this.context.subscriptions.push(this.onRefreshCacheNeeded(async()=>{await this.refresh()}));for(const t of this.manager.folderManagers){this.context.subscriptions.push(t.onDidChangeRepositories(async a=>{if(a.added){const o=this.getOrCreateSingleRepoState(t.repository.rootUri);(o.issueCollection.size===0||(await Promise.all(o.issueCollection.values())).some(v=>v.issues===void 0))&&this.refresh(t)}}));const i=this.getOrCreateSingleRepoState(t.repository.rootUri,t);i.lastHead=t.repository.state.HEAD?t.repository.state.HEAD.commit:void 0,this._singleRepoStates.set(t.repository.rootUri.path,i);const r=(e=t.repository.state.HEAD)==null?void 0:e.name;!i.currentIssue&&r&&await this.setCurrentIssueFromBranch(i,r,!0)}}cleanIssueState(){const e=this.context.workspaceState.get(Df),t=e?JSON.parse(e):{issues:[],branches:[]},i=new Date().valueOf()-30*864e5;for(const r in t.issues)t.issues[r].stateModifiedTime<i&&(t.branches&&t.branches[r]&&delete t.branches[r],delete t.issues[r])}async getUsers(e){var t;await this.initializePromise;const i=await((t=this.manager.getManagerForFile(e))==null?void 0:t.getAssignableUsers()),r=new Map;for(const a in i)i[a].forEach(o=>{r.set(o.login,o)});return r}async getUserMap(e){if(!this.initializePromise)return Promise.resolve(new Map);const t=this.getOrCreateSingleRepoState(e);return(!t.userMap||(await t.userMap).size===0)&&(t.userMap=this.getUsers(e)),t.userMap}async getCurrentUser(e){var t;return(t=await this.manager.credentialStore.getCurrentUser(e))==null?void 0:t.login}async setAllIssueData(){return Promise.all(this.manager.folderManagers.map(e=>this.setIssueData(e)))}async setIssueData(e){var t,i;const r=this.getOrCreateSingleRepoState(e.repository.rootUri,e);r.issueCollection.clear();const a=Ya(e.repository).filter(v=>v.isEnterprise),o=await this.getCurrentUser(a.length?li.githubEnterprise:li.github);for(let v of this._queries){let T;v.query===Kr&&(v=gc[0]),T=this.setIssues(e,await Po(v.query,void 0,void 0,o)).then(x=>{var W;return{groupBy:(W=v.groupBy)!=null?W:[],issues:x}}),T&&r.issueCollection.set(v.label,T)}r.maxIssueNumber=await e.getMaxIssue(),r.lastHead=(t=e.repository.state.HEAD)==null?void 0:t.commit,r.lastBranch=(i=e.repository.state.HEAD)==null?void 0:i.name}setIssues(e,t){return new Promise(async i=>{const r=await e.getIssues(t);this._onDidChangeIssueData.fire(),i(r==null?void 0:r.items.map(a=>{const o=a;return o.uri=e.repository.rootUri,o}))})}async setCurrentIssueFromBranch(e,t,i=!1){if(s.workspace.getConfiguration(Li).get(Wr)==="off")return;let a;try{a=await e.folderManager.getPullRequestDefaults()}catch{return}if(t===a.base){await this.setCurrentIssue(e,void 0,!1);return}if(e.currentIssue&&e.currentIssue.branchName===t)return;const o=this.getSavedState();for(const v in o.branches)if(v===t){const T=await e.folderManager.resolveIssue(o.branches[v].owner,o.branches[v].repositoryName,o.branches[v].number);T&&await this.setCurrentIssue(e,new uv(T,e.folderManager,this),!1,i);return}}currentIssue(e){var t;return(t=this._singleRepoStates.get(e.path))==null?void 0:t.currentIssue}currentIssues(){return Array.from(this._singleRepoStates.values()).filter(e=>e==null?void 0:e.currentIssue).map(e=>e.currentIssue)}maxIssueNumber(e){var t,i;return(i=(t=this._singleRepoStates.get(e.path))==null?void 0:t.maxIssueNumber)!=null?i:0}async setCurrentIssue(e,t,i,r=!1){if(!(this.isSettingIssue&&t===void 0)){if(this.isSettingIssue=!0,e instanceof Ks){const a=this._singleRepoStates.get(e.repository.rootUri.path);if(!a)return;e=a}try{if(e.currentIssue&&(t==null?void 0:t.issue.number)===e.currentIssue.issue.number)return;e.currentIssue&&await e.currentIssue.stopWorking(i),t&&this.context.subscriptions.push(t.onDidChangeCurrentIssueState(()=>this.updateStatusBar())),this.context.workspaceState.update(gE,t==null?void 0:t.issue.number),(!t||await t.startWorking(r))&&(e.currentIssue=t,this.updateStatusBar()),this._onDidChangeCurrentIssue.fire()}catch{}finally{this.isSettingIssue=!1}}}updateStatusBar(){const e=this.currentIssues(),t=e.length>0;if(!t){this.statusBarItem&&(this.statusBarItem.hide(),this.statusBarItem.dispose(),this.statusBarItem=void 0);return}t&&!this.statusBarItem&&(this.statusBarItem=s.window.createStatusBarItem("github.issues.status",s.StatusBarAlignment.Left,0),this.statusBarItem.name=s.l10n.t("GitHub Active Issue"));const i=this.statusBarItem;i.text=s.l10n.t("{0} Issue {1}","$(issues)",e.map(r=>Rl(r.issue,r.repoDefaults)).join(", ")),i.tooltip=e.map(r=>r.issue.title).join(", "),i.command="issue.statusBar",i.show()}getSavedState(){const e=this.context.workspaceState.get(Df);return e?JSON.parse(e):{issues:Object.create(null),branches:Object.create(null)}}getSavedIssueState(e){var t;return(t=this.getSavedState().issues[`${e}`])!=null?t:{}}async setSavedIssueState(e,t){const i=this.getSavedState();return i.issues[`${e.number}`]={...t,stateModifiedTime:new Date().valueOf()},t.branch&&(i.branches||(i.branches=Object.create(null)),i.branches[t.branch]={number:e.number,owner:e.remote.owner,repositoryName:e.remote.repositoryName}),this.context.workspaceState.update(Df,JSON.stringify(i))}}var bE=Object.defineProperty,yE=(n,e,t)=>e in n?bE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$l=(n,e,t)=>yE(n,typeof e!="symbol"?e+"":e,t);const Mv=class eo{constructor(e,t,i){this.stateManager=e,this.manager=t,$l(this,"_gitBlameCache",{}),$l(this,"cachedPrUsers",[]),$l(this,"cachedPrTimelineEvents",[]),$l(this,"cachedForPrNumber")}async provideCompletionItems(e,t,i,r){var a,o,v,T,x;let W=e.getWordRangeAtPosition(t),te=W?e.getText(W):void 0;if(!W||(te==null?void 0:te.charAt(0))!=="@"){const Le=(a=W==null?void 0:W.start)!=null?a:t,$e=new s.Range(Le.translate(void 0,Le.character?-1:0),t),Ze=e.getText($e);Ze.charAt(0)==="@"&&(W=$e,te=Ze)}if(e.languageId!=="scminput"&&e.uri.scheme!==qt.NewIssue&&t.character>0&&r.triggerKind===s.CompletionTriggerKind.Invoke&&(te==null?void 0:te.charAt(0))!=="@")return[];if(e.uri.scheme===qt.NewIssue&&r.triggerKind===s.CompletionTriggerKind.Invoke&&e.getText(new s.Range(t.with(void 0,0),t.with(void 0,Ko.length)))!==Ko)return[];if(r.triggerKind===s.CompletionTriggerKind.TriggerCharacter&&s.workspace.getConfiguration(Li).get(Pi,[]).find(Le=>Le===e.languageId))return[];if(!this.isCodeownersFiles(e.uri)&&e.languageId!=="scminput"&&e.languageId!=="git-commit"&&!await Cf(e,t))return[];let oe=new s.Range(t,t);t.character-1>=0&&W&&(te==null?void 0:te.charAt(0))==="@"&&(oe=W);let fe=e.uri;if(e.uri.scheme===qt.NewIssue){const Le=qu(e.uri);fe=(o=Le==null?void 0:Le.originUri)!=null?o:e.uri}else if(e.languageId==="scminput")fe=kv(e.uri);else if(e.uri.scheme===qt.Comment){const Le=(v=s.window.tabGroups.activeTabGroup.activeTab)==null?void 0:v.input;Le instanceof s.TabInputText?fe=Le.uri:Le instanceof s.TabInputTextDiff?fe=Le.modified:Le.textDiffs?fe=Le.textDiffs[0].modified:fe=s.workspace.workspaceFolders?s.workspace.workspaceFolders[0].uri:void 0}if(!fe)return[];const ye=(x=(T=this.manager.getManagerForFile(fe))==null?void 0:T.repository.rootUri)!=null?x:fe;let Pe=[];const Ce=await this.stateManager.getUserMap(ye);Ce.forEach(Le=>{var $e;const Ze=($e=Le.specialDisplayName)!=null?$e:Le.login,rt=new fv({label:Ze,description:Le.name},s.CompletionItemKind.User);rt.insertText=`@${Ze}`,rt.login=Le.login,rt.uri=ye,rt.range=oe,rt.detail=Le.name,rt.filterText=`@ ${Le.login} ${Le.name}`,e.uri.scheme===qt.NewIssue&&(rt.commitCharacters=[" ",","]),Pe.push(rt)});const De=await this.getCommentSpecificSuggestions(Ce,e,t);return De&&(Pe=Pe.concat(De)),Pe}isCodeownersFiles(e){const t=this.manager.getManagerForFile(e);if(!t||!J(t.repository.rootUri.fsPath,e.fsPath))return!1;const i=e.path.substring(t.repository.rootUri.path.length).toLowerCase();return!!["/codeowners","/docs/codeowners","/.github/codeowners"].find(a=>a===i)}async resolveCompletionItem(e,t){const i=this.manager.getManagerForFile(e.uri);if(!i)return e;const r=await i.getPullRequestDefaults(),a=await i.resolveUser(r.owner,r.repo,e.login);return a&&(e.documentation=eg(r,a),e.command={command:"issues.userCompletion",title:s.l10n.t("User Completion Chosen")}),e}async getCommentSpecificSuggestions(e,t,i){try{const r=JSON.parse(t.uri.query);if(t.uri.scheme!==qt.Comment||pe(r.extensionId,bn)!==0)return;const a=t.getWordRangeAtPosition(i,/@([a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38})?/i);if(!a||a.isEmpty)return;const o=s.window.visibleTextEditors;if(!o.length)return;let v,T,x,W;for(const Ze of o)if(v=this.manager.getManagerForFile(Ze.document.uri),v){if(v.activePullRequest){x=v.activePullRequest.number,W=v.activePullRequest.remote.remoteName;break}else if(Ze.document.uri.scheme===qt.Pr){const rt=Nn(Ze.document.uri);x=rt.prNumber,W=rt.remoteName;break}}if(!v)return;const te=v;if(x&&x===this.cachedForPrNumber)return this.cachedPrUsers;let oe=[];const fe={};let ye={};const Pe=new Promise(async Ze=>{if(x&&W){if(y.debug("get Timeline Events and parse users",eo.ID),this.cachedForPrNumber===x)return this.cachedPrTimelineEvents;const rt=te.gitHubRepositories.find(Ve=>Ve.remote.remoteName===W);if(rt){const Ve=await rt.getPullRequest(x);this.cachedForPrNumber=x,this.cachedPrTimelineEvents=await Ve.getTimelineEvents()}oe=Xy(this.cachedPrTimelineEvents),Ze()}Ze()}),Ce=new Promise(async Ze=>{if(o.length)try{y.debug("git blame and parse users",eo.ID);const rt=z.resolve(o[0].document.uri.fsPath);let Ve;this._gitBlameCache[rt]?Ve=this._gitBlameCache[rt]:(Ve=await te.repository.blame(rt),this._gitBlameCache[rt]=Ve);const We=Ve.split(`
`);for(const ct of We){const jt=/^\w{11} \S*\s*\((.*)\s*\d{4}\-/.exec(ct);if(jt&&jt.length===2){const Se=jt[1].trim();fe[Se]=!0}}}catch(rt){y.debug(rt,eo.ID)}Ze()}),De=new Promise(async Ze=>{y.debug("get mentionable users",eo.ID),ye=await te.getMentionableUsers(),Ze()});await Promise.all([Pe,Ce,De]),this.cachedPrUsers=[];const Le={};y.debug("prepare user suggestions",eo.ID),oe.forEach(Ze=>{Le[Ze.login]||(Le[Ze.login]=Ze)});const $e={};for(const Ze in ye)for(const rt of ye[Ze])if(!Le[rt.login]&&!$e[rt.login]&&!e.get(rt.login)){$e[rt.login]=!0;let Ve=2;(fe[rt.login]||rt.name&&fe[rt.name])&&(Ve=1),Le[rt.login]&&(Ve=0);const We=new fv({label:rt.login,description:rt.name},s.CompletionItemKind.User);We.insertText=`@${rt.login}`,We.login=rt.login,We.uri=te.repository.rootUri,We.detail=rt.name,We.filterText=`@ ${rt.login} ${rt.name}`,We.sortText=`${Ve}_${rt.login}`,(T==null?void 0:T.document.uri.scheme)===qt.NewIssue&&(We.commitCharacters=[" ",","]),this.cachedPrUsers.push(We)}return y.debug("done",eo.ID),this.cachedPrUsers}catch{return[]}}};$l(Mv,"ID","UserCompletionProvider");let wE=Mv;class _E{constructor(e,t){this.manager=e,this.telemetry=t}async provideHover(e,t,i){if(!await _v(e,t))return;let r=e.getWordRangeAtPosition(t,Rf);if(r&&r.start.character>0){r=new s.Range(new s.Position(r.start.line,r.start.character),r.end);const o=e.getText(r).match(Rf);if(o){const v=o[1];return["javascript","javascriptreact","typescript","typescriptreact"].includes(e.languageId)&&Oh.indexOf(v)>=0||e.languageId==="php"&&Lh.indexOf(v)>=0||(e.languageId==="cpp"||e.languageId==="c"||e.languageId==="csharp"||e.languageId==="java"||e.languageId==="objective-c"||e.languageId==="php")&&Pb.indexOf(v)>=0?void 0:this.createHover(e.uri,v,r)}}else return}async createHover(e,t,i){try{const r=this.manager.getManagerForFile(e);if(!r)return;const a=await r.getPullRequestDefaults(),o=await r.resolveUser(a.owner,a.repo,t);return o&&o.name?(this.telemetry.sendTelemetryEvent("issues.userHover"),new s.Hover(eg(a,o),i)):void 0}catch{return}}}var kE=Object.defineProperty,SE=(n,e,t)=>e in n?kE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Hl=(n,e,t)=>SE(n,typeof e!="symbol"?e+"":e,t);const Iv="issues.creatingFromFile",Dv=class w0 extends d{constructor(e,t,i,r,a,o){super(),this.gitAPI=e,this.manager=t,this.reviewsManager=i,this.context=r,this.telemetry=a,this.copilotRemoteAgentManager=o,Hl(this,"_stateManager"),Hl(this,"_newIssueCache"),Hl(this,"createIssueInfo"),Hl(this,"documentFilters",[{language:"php"},{language:"powershell"},{language:"jade"},{language:"python"},{language:"r"},{language:"razor"},{language:"ruby"},{language:"rust"},{language:"scminput"},{language:"scss"},{language:"search-result"},{language:"shaderlab"},{language:"shellscript"},{language:"sql"},{language:"swift"},{language:"typescript"},{language:"vb"},{language:"xml"},{language:"yaml"},{language:"markdown"},{language:"bat"},{language:"clojure"},{language:"coffeescript"},{language:"jsonc"},{language:"c"},{language:"cpp"},{language:"csharp"},{language:"css"},{language:"dockerfile"},{language:"fsharp"},{language:"git-commit"},{language:"go"},{language:"groovy"},{language:"handlebars"},{language:"hlsl"},{language:"html"},{language:"ini"},{language:"java"},{language:"javascriptreact"},{language:"javascript"},{language:"json"},{language:"less"},{language:"log"},{language:"lua"},{language:"makefile"},{language:"ignore"},{language:"properties"},{language:"objective-c"},{language:"perl"},{language:"perl6"},{language:"typescriptreact"},{language:"yml"},"*"]),this._stateManager=new vE(e,this.manager,this.context),this._newIssueCache=new YR(r)}async initialize(){this._register(s.workspace.registerFileSystemProvider(qt.NewIssue,new KR(this._newIssueCache))),this._register(s.languages.registerCompletionItemProvider({scheme:qt.NewIssue},new QR(this.manager)," ",","));const e=s.window.createTreeView("issues:github",{showCollapseAll:!0,treeDataProvider:new tE(this._stateManager,this.manager,this.context)});this._register(e),this._register(e.onDidCollapseElement(i=>Nv(this.context,i.element,!1))),this._register(e.onDidExpandElement(i=>Nv(this.context,i.element,!0))),this._register(s.commands.registerCommand("issue.createIssueFromSelection",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromSelection"),this.createTodoIssue(i,r)),this)),this._register(s.commands.registerCommand("issue.createIssueFromClipboard",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromClipboard"),this.createTodoIssueClipboard()),this)),this._register(s.commands.registerCommand("issue.startCodingAgentFromTodo",i=>(this.telemetry.sendTelemetryEvent("issue.startCodingAgentFromTodo"),this.startCodingAgentFromTodo(i)),this)),this._register(s.commands.registerCommand("issue.assignToCodingAgent",i=>(this.telemetry.sendTelemetryEvent("issue.assignToCodingAgent"),this.assignToCodingAgent(i)),this)),this._register(s.commands.registerCommand("issue.copyGithubPermalink",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalink"),this.copyPermalink(this.manager,r&&r.length>0?r:[i])),this)),this._register(s.commands.registerCommand("issue.copyGithubHeadLink",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLink"),this.copyHeadLink(r&&r.length>0?r:[i])),this)),this._register(s.commands.registerCommand("issue.copyGithubPermalinkWithoutRange",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalinkWithoutRange"),this.copyPermalink(this.manager,r&&r.length>0?r:[i],!1)),this)),this._register(s.commands.registerCommand("issue.copyGithubHeadLinkWithoutRange",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubHeadLinkWithoutRange"),this.copyHeadLink(r&&r.length>0?r:[i],!1)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLinkWithoutRange",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkWithoutRange"),this.copyPermalink(this.manager,r&&r.length>0?r:[i],!1,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLink",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLink"),this.copyPermalink(this.manager,r&&r.length>0?r:[i],!0,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyGithubDevLinkFile",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyGithubDevLinkFile"),this.copyPermalink(this.manager,r&&r.length>0?r:[i],!1,!0,!0)),this)),this._register(s.commands.registerCommand("issue.copyMarkdownGithubPermalink",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalink"),this.copyMarkdownPermalink(this.manager,r&&r.length>0?r:[i])),this)),this._register(s.commands.registerCommand("issue.copyMarkdownGithubPermalinkWithoutRange",(i,r)=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalinkWithoutRange"),this.copyMarkdownPermalink(this.manager,r&&r.length>0?r:[i],!1)),this)),this._register(s.commands.registerCommand("issue.openGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.openGithubPermalink"),this.openPermalink(this.manager)),this)),this._register(new lE(this.manager,this.gitAPI)),this._register(s.commands.registerCommand("issue.openIssue",i=>(this.telemetry.sendTelemetryEvent("issue.openIssue"),this.openIssue(i)))),this._register(s.commands.registerCommand("issue.startWorking",i=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(i)),this)),this._register(s.commands.registerCommand("issue.startWorkingBranchDescriptiveTitle",i=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(i)),this)),this._register(s.commands.registerCommand("issue.continueWorking",i=>(this.telemetry.sendTelemetryEvent("issue.continueWorking"),this.startWorking(i)),this)),this._register(s.commands.registerCommand("issue.startWorkingBranchPrompt",i=>(this.telemetry.sendTelemetryEvent("issue.startWorkingBranchPrompt"),this.startWorkingBranchPrompt(i)),this)),this._register(s.commands.registerCommand("issue.stopWorking",i=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(i)),this)),this._register(s.commands.registerCommand("issue.stopWorkingBranchDescriptiveTitle",i=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(i)),this)),this._register(s.commands.registerCommand("issue.statusBar",()=>(this.telemetry.sendTelemetryEvent("issue.statusBar"),this.statusBar()),this)),this._register(s.commands.registerCommand("issue.copyIssueNumber",i=>(this.telemetry.sendTelemetryEvent("issue.copyIssueNumber"),this.copyIssueNumber(i)))),this._register(s.commands.registerCommand("issue.copyIssueUrl",i=>(this.telemetry.sendTelemetryEvent("issue.copyIssueUrl"),this.copyIssueUrl(i)))),this._register(s.commands.registerCommand("issue.refresh",()=>(this.telemetry.sendTelemetryEvent("issue.refresh"),this.refreshView()),this)),this._register(s.commands.registerCommand("issue.suggestRefresh",()=>(this.telemetry.sendTelemetryEvent("issue.suggestRefresh"),this.suggestRefresh()),this)),this._register(s.commands.registerCommand("issue.getCurrent",()=>(this.telemetry.sendTelemetryEvent("issue.getCurrent"),this.getCurrent()),this)),this._register(s.commands.registerCommand("issue.editQuery",i=>(this.telemetry.sendTelemetryEvent("issue.editQuery"),Dt(Li,i.queryLabel)),this)),this._register(s.commands.registerCommand("issue.createIssue",()=>(this.telemetry.sendTelemetryEvent("issue.createIssue"),this.createIssue()),this)),this._register(s.commands.registerCommand("issue.createIssueFromFile",async()=>{this.telemetry.sendTelemetryEvent("issue.createIssueFromFile"),await s.commands.executeCommand("setContext",Iv,!0),await this.createIssueFromFile(),await s.commands.executeCommand("setContext",Iv,!1)},this)),this._register(s.commands.registerCommand("issue.issueCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.issueCompletion")})),this._register(s.commands.registerCommand("issue.userCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.userCompletion")})),this._register(s.commands.registerCommand("issue.signinAndRefreshList",async()=>this.manager.authenticate())),this._register(s.commands.registerCommand("issue.goToLinkedCode",async i=>V1(i,this.manager)));const t=lv();this._register(s.commands.registerCommand("issue.chatSummarizeIssue",i=>{if(i instanceof Gn||i instanceof Ln)if(this.telemetry.sendTelemetryEvent("issue.chatSummarizeIssue"),i instanceof Gn)ei.executeCommand(t,s.l10n.t("@githubpr Summarize issue {0}/{1}#{2}",i.remote.owner,i.remote.repositoryName,i.number));else{const r=i.pullRequestModel,a=r.githubRepository.remote;ei.executeCommand(t,s.l10n.t("@githubpr Summarize pull request {0}/{1}#{2}",a.owner,a.repositoryName,r.number))}})),this._register(s.commands.registerCommand("issue.chatSuggestFix",i=>{i instanceof Gn&&(this.telemetry.sendTelemetryEvent("issue.chatSuggestFix"),ei.executeCommand(t,s.l10n.t("@githubpr Find a fix for issue {0}/{1}#{2}",i.remote.owner,i.remote.repositoryName,i.number)))})),this._register(s.commands.registerCommand("issues.configureIssuesViewlet",async()=>s.commands.executeCommand("workbench.action.openSettings",`@ext:${bn} issues`))),this._stateManager.tryInitializeAndWait().then(()=>{this.registerCompletionProviders(),this._register(s.languages.registerHoverProvider("*",new JR(this.manager,this._stateManager,this.context,this.telemetry))),this._register(s.languages.registerHoverProvider("*",new _E(this.manager,this.telemetry))),this._register(s.languages.registerCodeActionsProvider("*",new aE(this.context,this.copilotRemoteAgentManager),{providedCodeActionKinds:[s.CodeActionKind.QuickFix]}))})}registerCompletionProviders(){const e=[{provider:jR,trigger:"#",disposable:void 0,configuration:`${Mn}.${cn}`},{provider:wE,trigger:"@",disposable:void 0,configuration:`${_n}.${cn}`}];for(const t of e)s.workspace.getConfiguration(Li).get(t.configuration,!0)&&this._register(t.disposable=s.languages.registerCompletionItemProvider(this.documentFilters,new t.provider(this._stateManager,this.manager,this.context),t.trigger));this._register(s.workspace.onDidChangeConfiguration(t=>{for(const i of e)if(t.affectsConfiguration(`${Li}.${i.configuration}`)){const r=s.workspace.getConfiguration(Li).get(i.configuration,!0);!r&&i.disposable?(i.disposable.dispose(),i.disposable=void 0):r&&!i.disposable&&this._register(i.disposable=s.languages.registerCompletionItemProvider(this.documentFilters,new i.provider(this._stateManager,this.manager,this.context),i.trigger));break}}))}async createIssue(){var e,t,i;let r=(e=s.window.activeTextEditor)==null?void 0:e.document.uri,a=r?this.manager.getManagerForFile(r):void 0;const o=s.workspace.getConfiguration(Li).get(Rr);if((!a||o)&&(a=await this.chooseRepo(s.l10n.t("Select the repo to create the issue in.")),r=a==null?void 0:a.repository.rootUri),!a||!r)return;const v=await this.chooseTemplate(a);this._newIssueCache.clear();const T=(i=(t=a.repository.state.HEAD)==null?void 0:t.upstream)==null?void 0:i.remote;let x=T?a.repository.state.remotes.find(te=>te.name===T):void 0;if(!x){const oe=a.repository.state.remotes.filter(ye=>ye.fetchUrl||ye.pushUrl).map(ye=>({label:`${ye.name}: ${ye.fetchUrl||ye.pushUrl}`,remote:ye})),fe=await s.window.showQuickPick(oe,{placeHolder:s.l10n.t("Select a remote to file this issue to")});if(!fe)return;x=fe.remote}let W={remote:x};v&&(W={...W,title:v.title,body:v.body}),this.makeNewIssueFile(r,W)}async createIssueFromFile(){var e,t,i,r;const a=await ZR(this.manager);if(!a||!s.window.activeTextEditor)return;const o=await this.doCreateIssue((e=this.createIssueInfo)==null?void 0:e.document,(t=this.createIssueInfo)==null?void 0:t.newIssue,a.title,a.body,a.assignees,a.labels,a.milestone,a.projects,(i=this.createIssueInfo)==null?void 0:i.lineNumber,(r=this.createIssueInfo)==null?void 0:r.insertIndex,a.originUri);this.createIssueInfo=void 0,o&&s.window.tabGroups.activeTabGroup.activeTab&&(await s.window.activeTextEditor.document.save(),await s.window.tabGroups.close(s.window.tabGroups.activeTabGroup.activeTab),this._newIssueCache.clear())}getCurrent(){const e=this._stateManager.currentIssues();if(e.length>0)return{owner:e[0].issue.remote.owner,repo:e[0].issue.remote.repositoryName,number:e[0].issue.number}}refreshView(){this._stateManager.refreshCacheNeeded()}async suggestRefresh(){return await s.commands.executeCommand("hideSuggestWidget"),await this._stateManager.refresh(),s.commands.executeCommand("editor.action.triggerSuggest")}openIssue(e){if(e instanceof Gn)return s.env.openExternal(s.Uri.parse(e.html_url))}async doStartWorking(e,t,i){let r=e,a=t.githubRepository,o=t.remote;if(!r){if(r=await this.chooseRepo(s.l10n.t("Choose which repository you want to work on this isssue in.")),!r)return;a=await r.getOrigin(),o=a.remote}const v=await r.findUpstreamForItem({githubRepository:a,remote:o});v.needsFork&&await r.tryOfferToFork(a)===void 0||await this._stateManager.setCurrentIssue(r,new uv(t,r,this._stateManager,v.remote,i),!0)}async startWorking(e){if(e instanceof Gn)return this.doStartWorking(this.manager.getManagerForIssueModel(e),e);if(e instanceof s.Uri){const t=e.toString().match(hs),i=$s(t),r=this.manager.folderManagers.find(a=>a.gitHubRepositories.find(o=>o.remote.owner===(i==null?void 0:i.owner)&&o.remote.repositoryName===i.name));if(i&&r){const a=await dv(this._stateManager,r,e.toString(),i);if(a)return this.doStartWorking(r,a)}}}async startWorkingBranchPrompt(e){e instanceof Gn&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e,!0)}async stopWorking(e){var t;let i=this.manager.getManagerForIssueModel(e);!i&&(i=await this.chooseRepo(s.l10n.t("Choose which repository you want to stop working on this issue in.")),!i)||e instanceof Gn&&((t=this._stateManager.currentIssue(i.repository.rootUri))==null?void 0:t.issue.number)===e.number&&await this._stateManager.setCurrentIssue(i,void 0,!0)}async statusBarActions(e){const t=s.l10n.t("{0} Open #{1} {2}","$(globe)",e.issue.number,e.issue.title),i=s.l10n.t({message:"{0} Create pull request for #{1} (pushes branch)",args:["$(git-pull-request)",e.issue.number],comment:["The first placeholder is an icon and shouldn't be localized","The second placeholder is the ID number of a GitHub Issue."]});let r;try{r=await e.manager.getPullRequestDefaults()}catch{}const a=s.l10n.t("{0} Stop working on #{1}","$(primitive-square)",e.issue.number),o=e.branchName&&r?[t,i,a]:[t,i,a];switch(await s.window.showQuickPick(o,{placeHolder:s.l10n.t("Current issue options")})){case t:return this.openIssue(e.issue);case i:{const T=Hr.getReviewManagerForFolderManager(this.reviewsManager.reviewManagers,e.manager);if(T)return HR(e.manager,T,this._stateManager);break}case a:return this._stateManager.setCurrentIssue(e.manager,void 0,!0)}}async statusBar(){const e=this._stateManager.currentIssues();if(e.length===1)return this.statusBarActions(e[0]);{const t=e.map(r=>({label:s.l10n.t("#{0} from {1}",r.issue.number,`${r.issue.githubRepository.remote.owner}/${r.issue.githubRepository.remote.repositoryName}`),currentIssue:r})),i=await s.window.showQuickPick(t);if(i)return this.statusBarActions(i.currentIssue)}}stringToUint8Array(e){return new TextEncoder().encode(e)}copyIssueNumber(e){if(e instanceof Gn)return s.env.clipboard.writeText(e.number.toString())}copyIssueUrl(e){if(e instanceof Gn)return s.env.clipboard.writeText(e.html_url)}async createTodoIssueClipboard(){return this.createTodoIssue(void 0,await s.env.clipboard.readText())}async createTodoIssueBody(e,t){var i;if(t||e!=null&&e.document.isUntitled)return t;let r="";if(e){const a=this.manager.getManagerForFile(e.document.uri);if(((i=a==null?void 0:a.repository)==null?void 0:i.state.workingTreeChanges.find(v=>v.uri.toString()===e.document.uri.toString()))&&(r=`\`\`\`
${e.line}
\`\`\`

`),a){const v=a.gitRelativeRootPath(e.document.uri.path);r+=s.l10n.t(`In file {0}
`,v)}}return r+=(await Ef(this.manager,this.gitAPI,!0,!0,e)).permalink,r}async createTodoIssue(e,t){let i,r,a,o,v,T;if(!e&&s.window.activeTextEditor)i=s.window.activeTextEditor.document,T=i.getText(s.window.activeTextEditor.selection);else if(e)i=e.document,a=e.insertIndex,o=e.lineNumber,r=e.line.substring(a,e.line.length).trim(),T=i.getText(e.range.isEmpty?i.lineAt(e.range.start.line).range:e.range);else return;const x=T.match(Rf);x&&x.length===2&&(await this._stateManager.getUserMap(i.uri)).has(x[1])&&(v=[x[1]]);let W;const te=await this.createTodoIssueBody(e,t),oe=s.window.createInputBox();oe.value=r!=null?r:"",oe.prompt=s.l10n.t("Set the issue title. Confirm to create the issue now or use the edit button to edit the issue title and description."),oe.title=s.l10n.t("Create Issue"),oe.buttons=[{iconPath:new s.ThemeIcon("edit"),tooltip:s.l10n.t("Edit Description")}],oe.onDidAccept(async()=>{W=oe.value,W&&(oe.busy=!0,await this.doCreateIssue(i,e,W,te,v,void 0,void 0,void 0,o,a),oe.busy=!1),oe.hide()}),oe.onDidTriggerButton(async()=>{W=oe.value,oe.busy=!0,this.createIssueInfo={document:i,newIssue:e,lineNumber:o,insertIndex:a},this.makeNewIssueFile(i.uri,{title:W,body:te,assignees:v}),oe.busy=!1,oe.hide()}),oe.show()}async makeNewIssueFile(e,t){var i,r,a;const o=this.manager.getManagerForFile(e);if(!o)return;const v=(i=o.findRepo(We=>{var ct;return We.remote.remoteName===((ct=t==null?void 0:t.remote)==null?void 0:ct.name)}))==null?void 0:i.remote.gitProtocol,T=v!=null&&v.url.toString().endsWith(".git")?v==null?void 0:v.url.toString().slice(0,-4):v==null?void 0:v.url.toString(),x=v?{owner:v==null?void 0:v.owner,repo:v==null?void 0:v.repositoryName,repoRootUri:o.repository.rootUri}:void 0,W=$w({originUri:e,repoUriParams:x});if(s.window.visibleTextEditors.filter(We=>We.document.uri.scheme===qt.NewIssue).length>0)return;await s.workspace.fs.delete(W);const te=`${Ko} ${t!=null&&t.assignees&&t.assignees.length>0?t.assignees.map(We=>"@"+We).join(", ")+" ":""}`,oe=`${Qo} `,fe=`${Bl} `,ye=`${Yo} `,Pe=this._newIssueCache.get(),Ce=Pe&&Pe!==""?Pe:`${(r=t==null?void 0:t.title)!=null?r:s.l10n.t("Issue Title")}

${v?`<!-- ${s.l10n.t("This issue will be created in repo {0} ({1}). Changing this line has no effect.",v.nameWithOwner,T)} -->
`:""}
${te}
${oe}
${fe}
${ye}

${(a=t==null?void 0:t.body)!=null?a:""}

<!-- ${s.l10n.t('Edit the body of your new issue then click the \u2713 "Create Issue" button in the top right of the editor. The first line will be the issue title. Assignees and Labels follow after a blank line. Leave an empty line before beginning the body of the issue.')} -->`;await s.workspace.fs.writeFile(W,this.stringToUint8Array(Ce));const De=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated usernames, either @username or just username."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),Le=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated labels."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),$e=s.window.createTextEditorDecorationType({after:{contentText:s.l10n.t(" Comma-separated projects."),fontStyle:"italic",color:new s.ThemeColor("issues.newIssueDecoration")}}),Ze=s.window.onDidChangeActiveTextEditor(We=>{if((We==null?void 0:We.document.uri.scheme)===qt.NewIssue){const ct=v?4:2,jt=ct+0,Se=ct+1,qe=ct+3,Ge=We.document.lineAt(jt);Ge.text.startsWith(Ko)&&We.setDecorations(De,[new s.Range(new s.Position(jt,0),new s.Position(jt,Ge.text.length))]);const it=We.document.lineAt(Se);it.text.startsWith(Qo)&&We.setDecorations(Le,[new s.Range(new s.Position(Se,0),new s.Position(Se,it.text.length))]);const dt=We.document.lineAt(qe);dt.text.startsWith(Yo)&&We.setDecorations($e,[new s.Range(new s.Position(qe,0),new s.Position(qe,dt.text.length))])}}),rt=await s.window.showTextDocument(W),Ve=s.workspace.onDidCloseTextDocument(We=>{We===rt.document&&(Ze.dispose(),Ve.dispose())})}async verifyLabels(e,t){var i;if(!t.labels)return!0;const r=(await e.getLabels(void 0,t)).map(v=>v.name),a=[],o=[];if((i=t.labels)==null||i.forEach(v=>{let T=typeof v=="string"?v:v.name;T&&(r.includes(T)?o.push(T):a.push(T))}),a.length>0){const v=s.l10n.t("Yes"),T=s.l10n.t("No");switch(await s.window.showInformationMessage(s.l10n.t(`The following labels don't exist in this repository: {0}. 
Do you want to create these labels?`,a.join(", ")),{modal:!0},v,T)){case v:return!0;case T:return t.labels=o,!0;default:return!1}}return!0}async chooseRepo(e){const t=[];for(const r of this.manager.folderManagers)try{const a=await r.getPullRequestDefaults();t.push({label:`${a.owner}/${a.repo}`,repo:r})}catch{}if(t.length===0)return;if(t.length===1)return t[0].repo;const i=await s.window.showQuickPick(t,{placeHolder:e});return i==null?void 0:i.repo}async chooseTemplate(e){const t=await e.getIssueTemplates();if(t.length===0)return{title:void 0,body:void 0};const r=(await Promise.all(t.map(async o=>{try{const v=await s.workspace.fs.readFile(o),T=new TextDecoder("utf-8").decode(v);return this.getDataFromTemplate(T)}catch(v){y.warn(`Reading issue template failed: ${v}`);return}}))).filter(o=>!!o&&!!(o!=null&&o.name)).map(o=>({label:o.name,description:o.about,template:o}));r.push({label:s.l10n.t("Blank issue"),template:{title:void 0,body:void 0}});const a=await s.window.showQuickPick(r,{placeHolder:s.l10n.t("Select a template for the new issue.")});return a==null?void 0:a.template}getDataFromTemplate(e){var t,i,r,a,o,v,T;const x=(i=(t=e.match(/title:\s*(.*)/))==null?void 0:t[1])==null?void 0:i.replace(/^["']|["']$/g,""),W=(a=(r=e.match(/name:\s*(.*)/))==null?void 0:r[1])==null?void 0:a.replace(/^["']|["']$/g,""),te=(v=(o=e.match(/about:\s*(.*)/))==null?void 0:o[1])==null?void 0:v.replace(/^["']|["']$/g,""),oe=(T=e.match(/---([\s\S]*)---([\s\S]*)/))==null?void 0:T[2];return{title:x,name:W,about:te,body:oe}}async doCreateIssue(e,t,i,r,a,o,v,T,x,W,te){let oe,fe;if(te&&te.scheme===qt.Repo){const Ce=Fd(te);if(Ce&&(oe={owner:Ce.owner,repo:Ce.repo,base:""},fe=this.manager.getManagerForFile(Ce.repoRootUri)),!fe)return s.window.showErrorMessage(s.l10n.t("Could not find the correct repository for the issue; see logs for more details.")),y.error(`Could not find the folder manager for the issue originUri: ${te.toString()}`,w0.ID),!1}fe||(e?fe=this.manager.getManagerForFile(e.uri):te&&(fe=this.manager.getManagerForFile(te))),fe||(fe=await this.chooseRepo(s.l10n.t("Choose where to create the issue.")));const ye=a==null?void 0:a.filter(Ce=>!en[Ce]),Pe=!!(a!=null&&a.find(Ce=>en[Ce]));return s.window.withProgress({location:s.ProgressLocation.Notification,title:s.l10n.t("Creating issue")},async Ce=>{var De;if(!fe)return!1;const Le=fe;Ce.report({message:s.l10n.t("Verifying that issue data is valid...")});try{oe||(oe=await Le.getPullRequestDefaults())}catch{return s.window.showErrorMessage(s.l10n.t("There is no remote. Can't create an issue.")),!1}const $e=r||t!=null&&t.document.isUntitled?r:(await Ef(this.manager,this.gitAPI,!0,!0,t)).permalink,Ze={owner:oe.owner,repo:oe.repo,title:i,body:$e,assignees:ye,labels:o,milestone:v};if(!await this.verifyLabels(Le,Ze))return!1;Ce.report({message:s.l10n.t("Creating issue in {0}...",`${Ze.owner}/${Ze.repo}`)});const rt=await Le.createIssue(Ze);if(rt){if(Pe){const Ve=(await fe.getAssignableUsers())[rt.remote.remoteName].find(We=>en[We.login]);Ve&&await rt.replaceAssignees([...(De=rt.assignees)!=null?De:[],Ve])}if(T&&await rt.updateProjects(T),e!==void 0&&W!==void 0&&x!==void 0){const Ve=new s.WorkspaceEdit,We=s.workspace.getConfiguration(Li).get(gi,"number")==="number"?`#${rt.number}`:rt.html_url;Ve.insert(e.uri,new s.Position(x,W),` ${We}`),await s.workspace.applyEdit(Ve)}else{const Ve=s.l10n.t("Copy Issue Link"),We=s.l10n.t({message:"Open Issue",comment:"Open the issue description in the editor to see it's full contents."});s.window.showInformationMessage(s.l10n.t("Issue created"),Ve,We).then(async ct=>{switch(ct){case Ve:await s.env.clipboard.writeText(rt.html_url);break;case We:await So.createOrShow(this.telemetry,this.context.extensionUri,Le,rt);break}})}return this._stateManager.refreshCacheNeeded(),!0}return!1})}async getPermalinkWithError(e,t,i,r){const a=await BR(e,this.gitAPI,t,i,void 0,r),o=a.find(v=>v.error);return o&&s.window.showWarningMessage(s.l10n.t("Unable to create a GitHub permalink for the selection. {0}",o.error)),a}async getHeadLinkWithError(e,t){const i=await $R(this.manager,e,t);if(i.length>0){const r=i.find(a=>a.error);r&&s.window.showWarningMessage(s.l10n.t("Unable to create a GitHub link for the selection. {0}",r.error))}return i}async getContextualizedLink(e,t){let i;try{i=await s.env.asExternalUri(e)}catch{return t}const r=i.scheme==="https"&&/^(insiders\.vscode|vscode|github)\./.test(i.authority)?i.authority:void 0;if(!r)return t;const a=s.Uri.parse(t),o=/^(github)\./.test(i.authority)?a.path:`/github${a.path}`;return a.with({authority:r,path:o}).toString()}async permalinkInfoToClipboardText(e,t=!1){const i=e.filter(r=>!!r.permalink);if(i.length!==0){const a=(await Promise.all(i.map(async o=>t&&o.originalFile?await this.getContextualizedLink(o.originalFile,o.permalink):o.permalink))).join(`
`);return y.debug(`Will write ${a} to the clipboard`,Ys),a}}async copyPermalink(e,t,i=!0,r=!0,a=!1){const o=await this.getPermalinkWithError(e,i,r,t),v=await this.permalinkInfoToClipboardText(o,a);if(v)return s.env.clipboard.writeText(v)}async copyHeadLink(e,t=!0){const i=await this.getHeadLinkWithError(e,t),r=await this.permalinkInfoToClipboardText(i);if(r)return s.env.clipboard.writeText(r)}getMarkdownLinkText(){if(!s.window.activeTextEditor)return;let e=s.window.activeTextEditor.selection;e.start.line!==e.end.line&&(e=new s.Range(e.start,new s.Position(e.start.line+1,0)));const t=s.window.activeTextEditor.document.getText(e);if(t)return t;if(e=s.window.activeTextEditor.document.getWordRangeAtPosition(e.start),e)return s.window.activeTextEditor.document.getText(e)}async copyMarkdownPermalink(e,t,i=!0){const a=(await this.getPermalinkWithError(e,i,!0,t)).filter(v=>!!v.permalink);if(a.length===1){const v=this.getMarkdownLinkText();if(v)return s.env.clipboard.writeText(`[${v.trim()}](${a[0].permalink})`)}const o=a.map(v=>{var T,x;return`[${(0,z.basename)((x=(T=v.originalFile)==null?void 0:T.fsPath)!=null?x:"")}](${v.permalink})`}).join(`
`);return y.debug(`writing ${o} to the clipboard`,Ys),s.env.clipboard.writeText(o)}async openPermalink(e){const i=(await this.getPermalinkWithError(e,!0,!0)).filter(r=>!!r.permalink);if(i.length>0)return s.env.openExternal(s.Uri.parse(i[0].permalink))}async startCodingAgentFromTodo(e){if(!e)return;const{document:t,line:i,insertIndex:r}=e,a=i.substring(r).trim();if(!a){s.window.showWarningMessage(s.l10n.t("No task description found in TODO comment"));return}const o=s.workspace.asRelativePath(t.uri),v=s.l10n.t("Work on TODO: {0} (from {1})",a,o);try{await this.copilotRemoteAgentManager.commandImpl({userPrompt:v,source:"todo"})}catch(T){s.window.showErrorMessage(s.l10n.t("Failed to start coding agent session: {0}",T.message))}}async assignToCodingAgent(e){var t,i;if(e&&e instanceof Gn)try{const r=this.manager.getManagerForIssueModel(e);if(!r){s.window.showErrorMessage(s.l10n.t("Failed to find repository for issue #{0}",e.number));return}const o=(t=(await r.getAssignableUsers())[e.remote.remoteName])==null?void 0:t.find(v=>en[v.login]);if(!o){s.window.showErrorMessage(s.l10n.t("Copilot coding agent is not available for assignment in this repository"));return}await e.replaceAssignees([...(i=e.assignees)!=null?i:[],o]),s.window.showInformationMessage(s.l10n.t("Issue #{0} has been assigned to Copilot coding agent",e.number))}catch(r){s.window.showErrorMessage(s.l10n.t("Failed to assign issue to coding agent: {0}",r.message))}}};Hl(Dv,"ID","IssueFeatureRegistrar");let RE=Dv;var vc=Xt(60937);class EE extends vc.PromptElement{render(){return vscpp(vscppf,null,vscpp(vc.AssistantMessage,null,"Instructions:",vscpp("br",null),"- The user will ask a question related to GitHub, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question.",vscpp("br",null),"- If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have.",vscpp("br",null),"- Don't ask the user for confirmation to use tools, just use them.",vscpp("br",null),"- When talking about issues, be as concise as possible while still conveying all the information you need to. Avoid mentioning the following:",vscpp("br",null),"- The fact that there are no comments.",vscpp("br",null),"- Any info that seems like template info."),vscpp(vc.UserMessage,null,this.props.userMessage))}}const Fv="TOOL_MARKDOWN_RESULT",Ff="TOOL_COMMAND_RESULT";class xv{constructor(e){this.chatParticipantState=e}}async function Zs(n){let e="";for await(const t of n)e+=t;return e}class Gl extends xv{constructor(e,t,i){super(i),this.credentialStore=e,this.repositoriesManager=t}async getRepoInfo(e){if(!this.credentialStore.isAnyAuthenticated())throw new lo;let t,i,r;if(e.owner&&e.name&&!e.owner.includes("owner")&&!e.name.includes("name")&&(t=e.owner,i=e.name,r=this.repositoriesManager.getManagerForRepository(e.owner,e.name)),!r&&this.repositoriesManager.folderManagers.length>0)if(r=this.repositoriesManager.folderManagers[0],t&&i)await r.createGitHubRepositoryFromOwnerName(t,i);else{const a=await r.getPullRequestDefaults();a?(t=a.owner,i=a.repo):(t=r.gitHubRepositories[0].remote.owner,i=r.gitHubRepositories[0].remote.repositoryName)}if(!r||!t||!i)throw new Error(`No repository found for ${t}/${i}. Make sure to have the repository open.`);return{owner:t,name:i,folderManager:r}}getGitHub(){let e;return this.credentialStore.isAuthenticated(li.githubEnterprise)&&Lr()?e=li.githubEnterprise:this.credentialStore.isAuthenticated(li.github)&&(e=li.github),e!==void 0?this.credentialStore.getHub(e):void 0}}var NE=Object.defineProperty,TE=(n,e,t)=>e in n?NE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,CE=(n,e,t)=>TE(n,typeof e!="symbol"?e+"":e,t);class PE{constructor(){CE(this,"_messages",[])}get lastToolResult(){for(let e=this._messages.length-1;e>=0;e--){const t=this._messages[e];for(const i of t.content)if(i instanceof s.LanguageModelToolResultPart)return t.content}return[]}get firstUserMessage(){for(let e=0;e<this._messages.length;e++){const t=this._messages[e];if(t.role===s.LanguageModelChatMessageRole.User&&t.content){for(const i of t.content)if(i instanceof s.LanguageModelTextPart)return i}}}get messages(){return this._messages}addMessage(e){this._messages.push(e)}addMessages(e){this._messages.push(...e)}reset(){this._messages=[]}}class AE extends d{constructor(e,t){super(),this.state=t;const i=this._register(s.chat.createChatParticipant("githubpr",(r,a,o,v)=>this.handleParticipantRequest(r,a,o,v)));i.iconPath=s.Uri.joinPath(e.extensionUri,"resources/icons/github_logo.png")}async handleParticipantRequest(e,t,i,r){this.state.reset();const o=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],v=[];for(const fe of s.lm.tools)(e.tools.has(fe.name)&&e.tools.get(fe.name)||fe.name.startsWith("github-pull-request"))&&v.push(fe);const{messages:T}=await(0,vc.renderPrompt)(EE,{userMessage:e.prompt},{modelMaxPromptTokens:o.maxInputTokens},o);this.state.addMessages(T);const x=[...e.toolReferences],W={justification:"Answering user questions pertaining to GitHub."},te=[],oe=async()=>{const fe=x.shift();fe?(W.toolMode=s.LanguageModelChatToolMode.Required,W.tools=v.filter(Ce=>Ce.name===fe.name)):(W.toolMode=void 0,W.tools=v);const ye=[],Pe=await o.sendRequest(this.state.messages,W,r);for await(const Ce of Pe.stream)if(Ce instanceof s.LanguageModelTextPart)i.markdown(Ce.value);else if(Ce instanceof s.LanguageModelToolCallPart){const De=s.lm.tools.find(Ze=>Ze.name===Ce.name);if(!De)throw new Error("Got invalid tool choice: "+Ce.name);let Le;try{Le=Ce.input}catch(Ze){throw new Error(`Got invalid tool use parameters: "${JSON.stringify(Ce.input)}". (${Ze.message})`)}const $e={input:Le,toolInvocationToken:e.toolInvocationToken};ye.push({call:Ce,result:s.lm.invokeTool(De.name,$e,r),tool:De})}if(ye.length){const Ce=s.LanguageModelChatMessage.Assistant("");Ce.content=ye.map(Le=>new s.LanguageModelToolCallPart(Le.call.callId,Le.tool.name,Le.call.input)),this.state.addMessage(Ce);let De=!1;for(const Le of ye){let $e=await Le.result;const Ze=[];let rt;for(let We=0;We<$e.content.length;We++){const ct=$e.content[We];if(!(ct instanceof s.LanguageModelTextPart)){rt=new s.LanguageModelToolResultPart(Le.call.callId,$e.content);continue}if(ct.value===Fv){const jt=new s.MarkdownString($e.content[++We].value);jt.supportHtml=!0,i.markdown(jt),De=!0}else ct.value===Ff?te.push(JSON.parse($e.content[++We].value)):rt?Ze.push(ct):rt=new s.LanguageModelToolResultPart(Le.call.callId,[ct])}const Ve=s.LanguageModelChatMessage.User("");if(Ve.content=[rt],this.state.addMessage(Ve),Ze.length){const We=s.LanguageModelChatMessage.User("");We.content=Ze,this.state.addMessage(We)}}return this.state.addMessage(s.LanguageModelChatMessage.User(`Above is the result of calling the functions ${ye.map(Le=>Le.tool.name).join(", ")}. ${De?"The user can see the result of the tool call.":""}`)),oe()}};await oe(),this.addButtons(i,te)}addButtons(e,t){for(const i of t)e.button(i)}}var ME=Object.defineProperty,IE=(n,e,t)=>e in n?ME(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,DE=(n,e,t)=>IE(n,typeof e!="symbol"?e+"":e,t);class Ov{constructor(e,t){this.folderManagers=e,this.copilotRemoteAgentManager=t}shouldIncludeCodingAgentSession(e){return!!e&&this.copilotRemoteAgentManager.enabled&&_a.includes(e.author.login)}async prepareInvocation(){const e=this._findActivePullRequest();return{pastTenseMessage:e?s.l10n.t('Read pull request "{0}"',e.title):s.l10n.t("No active pull request"),invocationMessage:e?s.l10n.t('Reading pull request "{0}"',e.title):s.l10n.t("Reading active pull request"),confirmationMessages:{title:this._confirmationTitle(),message:e?s.l10n.t('Allow reading the details of "{0}"?',e.title):s.l10n.t("Allow reading the details of the active pull request?")}}}parseCopilotEventStream(e){const t=[];return e.split(`
`).filter(i=>i.startsWith("data:")).forEach(i=>{try{const r=JSON.parse(i.replace(/^data:\s*/,""));if(Array.isArray(r.choices))for(const a of r.choices){const o=a.delta||{};typeof o.content=="string"&&o.role&&t.push(o.content)}}catch{}}),t}async fallbackSessionLogs(e,t,i){var r;const a=await this.copilotRemoteAgentManager.getSessionLogsFromAction(e),o=[s.LanguageModelChatMessage.Assistant("You are an expert summarizer. The following logs show the thinking process and performed actions of a GitHub Copilot agent that was in charge of working on the current pull request. Read the logs and always maintain the thinking process. You can remove information on the tool call results that you think are not necessary for building context."),s.LanguageModelChatMessage.User(`Copilot Agent Logs (JSON):
${JSON.stringify(a)}`)];let v;try{const T=await t.sendRequest(o,{justification:"Summarizing Copilot agent logs for the active pull request."},i);v=await(typeof T.text=="string"?T.text:typeof((r=T.text)==null?void 0:r[Symbol.asyncIterator])=="function"?(async()=>{let x="";for await(const W of T.text)x+=W;return x})():"")}catch{v=""}return v}async fetchCodingAgentSession(e,t,i){let r=[];try{const a=await this.copilotRemoteAgentManager.getSessionLogFromPullRequest(e);if(!a)throw new Error("Could not get session logs");if(r=this.parseCopilotEventStream(a.logs),r.length===0)throw new Error("Empty Copilot agent logs received")}catch(a){y.debug(`Failed to fetch Copilot agent logs from API: ${a}.`,bc.toolId),r=await this.fallbackSessionLogs(e,t,i)}return r}async invoke(e,t){var i,r,a,o,v,T,x;let W=this._findActivePullRequest();if(!W)return new s.LanguageModelToolResult([new s.LanguageModelTextPart("There is no active pull request")]);let te=[];this.shouldIncludeCodingAgentSession(W)&&e.model&&(te=await this.fetchCodingAgentSession(W,e.model,t));const oe=await W.getStatusChecks(),fe=W.timelineEvents.length>0?W.timelineEvents:await W.getTimelineEvents(),ye={title:W.title,body:W.body,author:W.author,assignees:W.assignees,comments:W.comments.map(Ce=>{var De;return{author:(De=Ce.user)==null?void 0:De.login,body:Ce.body,commentState:Ce.isResolved?"resolved":"unresolved",file:Ce.path}}),timelineComments:fe.filter(Ce=>Ce.event===Ft.Reviewed||Ce.event===Ft.Commented).map(Ce=>{var De;return{author:(De=Ce.user)==null?void 0:De.login,body:Ce.body,commentType:Ce.event===Ft.Reviewed?Ce.state:"COMMENTED"}}),state:W.state,statusChecks:(i=oe[0])==null?void 0:i.statuses.map(Ce=>({context:Ce.context,description:Ce.description,state:Ce.state,name:Ce.workflowName,targetUrl:Ce.targetUrl})),reviewRequirements:{approvalsNeeded:(a=(r=oe[1])==null?void 0:r.count)!=null?a:0,currentApprovals:(v=(o=oe[1])==null?void 0:o.approvals.length)!=null?v:0,areChangesRequested:((x=(T=oe[1])==null?void 0:T.requestedChanges.length)!=null?x:0)>0},isDraft:W.isDraft?"is a draft and cannot be merged until marked as ready for review":"false",codingAgentSession:te,changes:(await W.getFileChangesInfo()).map(Ce=>{var De;return Ce instanceof Jr?((De=Ce.diffHunks)==null?void 0:De.map(Le=>Le.diffLines.map($e=>$e.raw).join(`
`)).join(`
`))||"":`File: ${Ce.fileName} was ${Ce.status===$t.ADD?"added":Ce.status===$t.DELETE?"deleted":"modified"}.`})},Pe=new s.ExtendedLanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(ye))]);return Pe.toolResultDetails=[s.Uri.parse(W.html_url)],Pe}}class bc extends Ov{_findActivePullRequest(){const e=this.folderManagers.folderManagers.find(t=>t.activePullRequest);return e==null?void 0:e.activePullRequest}_confirmationTitle(){return s.l10n.t("Active Pull Request")}}DE(bc,"toolId","github-pull-request_activePullRequest");var FE=Xt(48287).Buffer,xE=Object.defineProperty,OE=(n,e,t)=>e in n?xE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,LE=(n,e,t)=>OE(n,typeof e!="symbol"?e+"":e,t);class xf{constructor(e,t){this.manager=e,this.telemetry=t}async prepareInvocation(e){const{title:t,existingPullRequest:i}=e.input,r=i?void 0:await this.manager.tryPromptForAuthAndRepo();if(!await this.manager.isAvailable())throw new Error(s.l10n.t("Copilot coding agent is not available for this repository. Make sure the agent is enabled and assignable to this repository."));const o=await this.manager.repoInfo(r),v=this.manager.autoCommitAndPushEnabled,T=i||await this.getActivePullRequestWithSession(o);return this.telemetry.sendTelemetryEvent("copilot.remoteAgent.tool.prepare",{}),{pastTenseMessage:s.l10n.t("Launched coding agent"),invocationMessage:s.l10n.t("Launching coding agent"),confirmationMessages:{message:T?s.l10n.t("The coding agent will incorporate your feedback on existing pull request **#{0}**.",T):o&&v?s.l10n.t('The coding agent will continue work on "**{0}**" in a new branch on "**{1}/{2}**". Any uncommitted changes will be **automatically pushed**.',t,o.owner,o.repo):s.l10n.t('The coding agent will start working on "**{0}**"',t),title:s.l10n.t("Start coding agent?")}}}async invoke(e,t){var i,r;const a=e.input.title,o=e.input.body||"",v=e.input.existingPullRequest||"",T=v?void 0:await this.manager.tryPromptForAuthAndRepo(),x=await this.manager.repoInfo(T);if(!x)return new s.LanguageModelToolResult([new s.LanguageModelTextPart(s.l10n.t("No repository information found. Please open a workspace with a Git repository."))]);let W;if(v){if(W=parseInt(v,10),isNaN(W))return new s.LanguageModelToolResult([new s.LanguageModelTextPart(s.l10n.t("Invalid pull request number: {0}",v))])}else W=await this.getActivePullRequestWithSession(x);if(this.telemetry.sendTelemetryEvent("copilot.remoteAgent.tool.invoke",{hasExistingPR:W?"true":"false",hasBody:o?"true":"false"}),W)return await this.manager.addFollowUpToExistingPR(W,a,o),new s.LanguageModelToolResult([new s.LanguageModelTextPart(s.l10n.t("Follow-up added to pull request #{0}.",W))]);const te=await this.manager.invokeRemoteAgent(a,o);if(te.state==="error")throw this.telemetry.sendTelemetryErrorEvent("copilot.remoteAgent.tool.error",{reason:"invocationError"}),new Error(te.error);let oe=[new s.LanguageModelTextPart(te.llmDetails)];const fe=await x.fm.resolvePullRequest(x.owner,x.repo,te.number);if(fe){const ye=Uo(fe.body,{renderer:new qo,smartypants:!0}).trim(),Pe={uri:(await Mo({owner:fe.githubRepository.remote.owner,repo:fe.githubRepository.remote.repositoryName,pullRequestNumber:fe.number})).toString(),title:fe.title,description:ye,author:en[fe.author.login].name,linkTag:`#${fe.number}`},Ce=FE.from(JSON.stringify(Pe)),De=Uint8Array.from(Ce),Le=(r=(i=s.LanguageModelPartAudience)==null?void 0:i.User)!=null?r:1;oe.push(new s.LanguageModelDataPart2(De,"application/pull-request+json",[Le]))}return new s.LanguageModelToolResult2(oe)}async getActivePullRequestWithSession(e){if(!e)return;const t=e.fm.activePullRequest;if(t&&this.manager.getStateForPR(e.owner,e.repo,t.number))return t.number}}LE(xf,"toolId","github-pull-request_copilot-coding-agent");var UE=Object.defineProperty,BE=(n,e,t)=>e in n?UE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Lv=(n,e,t)=>BE(n,typeof e!="symbol"?e+"":e,t);const qE=`Instructions:
You are an expert on GitHub issues. You can help the user identify the most important columns for rendering issues based on a query for issues:
- Include a column related to the sort value, if given.
- Output a newline separated list of columns only, max 4 columns.
- List the columns in the order they should be displayed.
- Don't change the casing.
- Don't include columns that will all have the same value for all the resulting issues.
Here are the possible columns:
`,Of=class nh extends xv{constructor(e,t){super(t),this.context=e}assistantPrompt(e){const t=Object.keys(e[0]);return`${qE}
${t.map(i=>`- ${i}`).join(`
`)}
Here's the data you have about the issues:
`}postProcess(e,t){const i=e.split(`
`),r=Object.keys(t[0]),a=[];for(let o of i)if(o=o.trim(),o!=="")if(r.includes(o))a.push(o);else{const v=o.split(" ");if(v.length>1){const T=v[v.length-1];r.includes(T)&&a.push(T)}}return a}async getImportantColumns(e,t,i){if(!e)return["number","title","state"];const a=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],o={justification:"Answering user questions pertaining to GitHub."},v=[s.LanguageModelChatMessage.Assistant(this.assistantPrompt(t))];v.push(new s.LanguageModelChatMessage(s.LanguageModelChatMessageRole.User,e==null?void 0:e.value));const T=await a.sendRequest(v,o,i),x=this.postProcess(await Zs(T.text),t),W=x.indexOf("url");return x.length===0?["number","title","state"]:(W>=0&&x.splice(W,1),x)}renderUser(e){return`[@${wa(e)}](${e.url})`}issueToRow(e,t){return`| ${t.map(i=>{var r,a;switch(i){case"number":return`[${e[i]}](${e.url})`;case"labels":return(r=e[i])==null?void 0:r.map(T=>T!=null&&T.name&&T.color?Um({name:T.name,color:T.color}):"").join(", ");case"assignees":return(a=e[i])==null?void 0:a.map(T=>this.renderUser(T)).join(", ");case"author":const o=e[i];return o?this.renderUser(o):"";case"createdAt":case"updatedAt":const v=e[i];return v?new Date(v).toLocaleDateString():"";case"milestone":return e[i];default:return e[i]}}).join(" | ")} |`}foundIssuesCount(e){var t,i;return e.totalIssues!==void 0?e.totalIssues:(i=(t=e.arrayOfIssues)==null?void 0:t.length)!=null?i:0}async prepareInvocation(e){const i=this.foundIssuesCount(e.input),r=Math.min(10,i);return r===0?{invocationMessage:s.l10n.t("No issues found")}:r<i?{invocationMessage:s.l10n.t("Found {0} issues. Generating a markdown table of the first {1}",i,r)}:{invocationMessage:s.l10n.t("Found {0} issues. Generating a markdown table",i)}}async invoke(e,t){await or(this.context);const i=this.chatParticipantState.firstUserMessage,r=e.input.arrayOfIssues;if(!r||r.length===0)return new s.LanguageModelToolResult([new s.LanguageModelTextPart(s.l10n.t("No issues found. Please try another query."))]);y.debug(`Displaying ${this.foundIssuesCount(e.input)} issues, first issue ${r[0].number}`,nh.ID);const a=await this.getImportantColumns(i,r,t),o=`| ${a.join(" | ")} |`;y.debug(`Columns ${o} issues`,nh.ID);const v=`| ${a.map(()=>"---").join(" | ")} |
`,T=new s.MarkdownString(o);return T.supportHtml=!0,T.appendMarkdown(`
`),T.appendMarkdown(v),T.appendMarkdown(r.slice(0,10).map(x=>this.issueToRow(x,a)).join(`
`)),new s.LanguageModelToolResult([new s.LanguageModelTextPart(Fv),new s.LanguageModelTextPart(T.value),new s.LanguageModelTextPart("The issues have been shown to the user. Simply say that you've already displayed the issue or first 10 issues.")])}};Lv(Of,"toolId","github-pull-request_renderIssues"),Lv(Of,"ID","DisplayIssuesTool");let Uv=Of;var $E=Object.defineProperty,HE=(n,e,t)=>e in n?$E(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,GE=(n,e,t)=>HE(n,typeof e!="symbol"?e+"":e,t);class Lf extends Gl{async invoke(e,t){var i,r,a,o,v,T,x;const W=e.input.issueNumber;if(!W)throw new Error("No issue/pull-request number provided.");const{owner:te,name:oe,folderManager:fe}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(r=e.input.repo)==null?void 0:r.name}),ye=await fe.resolveIssueOrPullRequest(te,oe,W);if(!ye)throw new Error(`No issue or pull request found for ${te}/${oe}/${W}. Make sure the issue or pull request exists.`);const Pe={owner:te,repo:oe,title:ye.title,body:ye.body,comments:(o=(a=ye.item.comments)==null?void 0:a.map(Ce=>({body:Ce.body,author:Ce.author.login})))!=null?o:[],author:(v=ye.author)==null?void 0:v.login,assignees:(T=ye.assignees)==null?void 0:T.map(Ce=>Ce.login),reviewers:ye instanceof fn?(x=ye.reviewers)==null?void 0:x.map(Ce=>Fn(Ce)?Ce.name:Ce.login).filter(Ce=>!!Ce):void 0};if(ye instanceof fn&&ye.isResolved()){const Ce=await ye.getFileChangesInfo(),De=[];for(const Le of Ce)Le instanceof Jr&&De.push({fileName:Le.fileName,patch:Le.patch});Pe.fileChanges=De}return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(Pe)),new s.LanguageModelTextPart("Above is a stringified JSON representation of the issue or pull request. This can be passed to other tools for further processing.")])}async prepareInvocation(e){var t,i;if(!e.input.issueNumber)return{invocationMessage:s.l10n.t("Fetching item from GitHub")};const{owner:r,name:a}=await this.getRepoInfo({owner:(t=e.input.repo)==null?void 0:t.owner,name:(i=e.input.repo)==null?void 0:i.name}),o=r&&a?`https://github.com/${r}/${a}/issues/${e.input.issueNumber}`:void 0;return{invocationMessage:o?new s.MarkdownString(s.l10n.t("Fetching item [#{0}]({1}) from GitHub",e.input.issueNumber,o)):s.l10n.t("Fetching item #{0} from GitHub",e.input.issueNumber)}}}GE(Lf,"toolId","github-pull-request_issue_fetch");var VE=Object.defineProperty,jE=(n,e,t)=>e in n?VE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zE=(n,e,t)=>jE(n,typeof e!="symbol"?e+"":e,t);class Uf extends Gl{async prepareInvocation(e){return{invocationMessage:s.l10n.t("Fetching notification from GitHub")}}async invoke(e,t){var i,r;const a=this.getGitHub();if(!a)return;const o=e.input.thread_id;if(o===void 0)return;const T=(await a.octokit.api.activity.getThread({thread_id:o})).data,x=T.subject.url.split("/").pop();if(x===void 0)return;const W=T.updated_at,te=(i=T.last_read_at)!=null?i:void 0,oe=T.unread,fe=T.repository.owner.login,ye=T.repository.name,{folderManager:Pe}=await this.getRepoInfo({owner:fe,name:ye}),Ce=await Pe.resolveIssueOrPullRequest(fe,ye,Number(x));if(!Ce)throw new Error(`No notification found with thread ID #${o}.`);const De=Ce instanceof fn?"pr":"issue",Le=Fm(fe,ye,String(Ce.number)),$e=(r=Ce.item.comments)!=null?r:[];let Ze;te!==void 0&&$e?Ze=$e.filter(Ve=>Ve.createdAt>te).map(Ve=>({body:Ve.body,author:Ve.author.login})):Ze=$e.map(Ve=>({body:Ve.body,author:Ve.author.login}));const rt={lastReadAt:te,lastUpdatedAt:W,unread:oe,comments:Ze,threadId:o,notificationKey:Le,title:Ce.title,body:Ce.body,owner:fe,repo:ye,itemNumber:x,itemType:De};if(Ce instanceof fn){const Ve=await Ce.getFileChangesInfo(),We=[];for(const ct of Ve)ct instanceof Jr&&We.push({fileName:ct.fileName,patch:ct.patch});rt.fileChanges=We}return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(rt)),new s.LanguageModelTextPart("Above is a stringified JSON representation of the notification. This can be passed to other tools for further processing or display.")])}}zE(Uf,"toolId","github-pull-request_notification_fetch");var WE=Object.defineProperty,KE=(n,e,t)=>e in n?WE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,QE=(n,e,t)=>KE(n,typeof e!="symbol"?e+"":e,t);class Bf extends Ov{_findActivePullRequest(){var e;return(e=Jn.currentPanel)==null?void 0:e.getCurrentItem()}_confirmationTitle(){return s.l10n.t("Open Pull Request")}}QE(Bf,"toolId","github-pull-request_openPullRequest");var YE=Object.defineProperty,ZE=(n,e,t)=>e in n?YE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,yc=(n,e,t)=>ZE(n,typeof e!="symbol"?e+"":e,t),JE=(n=>(n.is="is",n.type="type",n.state="state",n.in="in",n.linked="linked",n.status="status",n.draft="draft",n.review="review",n.no="no",n))(JE||{});const Bv={is:{possibleValues:["issue","pr","draft","public","private","locked","unlocked"]},assignee:{valueDescription:"A GitHub user name or @me"},author:{valueDescription:"A GitHub user name or @me"},mentions:{valueDescription:"A GitHub user name or @me"},team:{valueDescription:"A GitHub user name"},commenter:{valueDescription:"A GitHub user name or @me"},involves:{valueDescription:"A GitHub user name or @me"},label:{valueDescription:"A GitHub issue/pr label"},type:{possibleValues:["pr","issue"]},state:{possibleValues:["open","closed","merged"]},in:{possibleValues:["title","body","comments"]},user:{valueDescription:"A GitHub user name or @me"},org:{valueDescription:"A GitHub org, without the repo name"},repo:{valueDescription:"A GitHub repo, without the org name"},linked:{possibleValues:["pr","issue"]},milestone:{valueDescription:"A GitHub milestone"},project:{valueDescription:"A GitHub project"},status:{possibleValues:["success","failure","pending"]},head:{valueDescription:"A git commit sha or branch name"},base:{valueDescription:"A git commit sha or branch name"},comments:{valueDescription:"A number"},interactions:{valueDescription:"A number"},reactions:{valueDescription:"A number"},draft:{possibleValues:["true","false"]},review:{possibleValues:["none","required","approved","changes_requested"]},reviewedBy:{valueDescription:"A GitHub user name or @me"},reviewRequested:{valueDescription:"A GitHub user name or @me"},userReviewRequested:{valueDescription:"A GitHub user name or @me"},teamReviewRequested:{valueDescription:"A GitHub user name"},created:{valueDescription:"A date, with an optional < >"},updated:{valueDescription:"A date, with an optional < >"},closed:{valueDescription:"A date, with an optional < >"},no:{possibleValues:["label","milestone","assignee","project"]},sort:{possibleValues:["updated","updated-asc","interactions","interactions-asc","author-date","author-date-asc","committer-date","committer-date-asc","reactions","reactions-asc","reactions-(+1, -1, smile, tada, heart)"]}},qf=/(?!\B"[^"]*)\s+(?![^"]*"\B)/,$f=class _0 extends Gl{async fullQueryAssistantPrompt(e){var t,i,r,a;const o=(a=(r=(t=e.activePullRequest)==null?void 0:t.remote)!=null?r:(i=e.activeIssue)==null?void 0:i.remote)!=null?a:(await e.getPullRequestDefaultRepo()).remote;return`Instructions:
You are an expert on GitHub issue search syntax. GitHub issues are always software engineering related. You can help the user convert a natural language query to a query that can be used to search GitHub issues. Here are some rules to follow:
- Always try to include "repo:" or "org:" in your response.
- "repo" is often formated as "owner/name". If needed, the current repo is ${o.owner}/${o.repositoryName}.
- Ignore display information.
- Respond with only the query.
- Always include a "sort:" parameter. If multiple sorts are possible, choose the one that the user requested.
- Always include a property with the @me value if the query includes "me" or "my".
- Here are some examples of valid queries:
	- repo:microsoft/vscode is:issue state:open sort:updated-asc
	- mentions:@me org:microsoft is:issue state:open sort:updated
	- assignee:@me milestone:"October 2024" is:open is:issue sort:reactions
	- comments:>5 org:contoso is:issue state:closed mentions:@me label:bug
	- interactions:>5 repo:contoso/cli is:issue state:open
	- repo:microsoft/vscode-python is:issue sort:updated -assignee:@me
	- repo:contoso/cli is:issue sort:updated no:milestone
- Go through each word of the natural language query and try to match it to a syntax component.
- Use a "-" in front of a syntax component to indicate that it should be "not-ed".
- Use the "no" syntax component to indicate that a property should be empty.
- As a reminder, here are the components of the query syntax:
	${JSON.stringify(Bv)}
`}async labelsAssistantPrompt(e,t){return`Instructions:
You are an expert on choosing search keywords based on a natural language search query. Here are some rules to follow:
- Choose labels based on what the user wants to search for, not based on the actual words in the query.
- The user might include info on how they want their search results to be displayed. Ignore all of that.
- Labels will be and-ed together, so don't pick a bunch of super specific labels.
- Try to pick just one label.
- Respond with a space-separated list of labels: Examples: 'bug polish', 'accessibility "feature accessibility"'
- Only choose labels that you're sure are relevant. Having no labels is preferable than lables that aren't relevant.
- Don't choose labels that the user has explicitly excluded.
- Respond with label names chosen from this JSON array of options:
${JSON.stringify(t.filter(i=>!i.name.includes("required")&&!i.name.includes("search")&&!i.name.includes("question")&&!i.name.includes("find")&&!i.name.includes("issue")).map(i=>({name:i.name,description:i.description})))}
`}freeFormAssistantPrompt(){return`Instructions:
You are getting ready to make a GitHub search query. Given a natural language query, you should find any key words that might be good for searching:
- Only include a max of 1 key word that is relevant to the search query.
- Don't refer to issue numbers.
- Don't refer to product names.
- Don't include any key words that might be related to display or rendering.
- Respond with only your chosen key word.
- It's better to return no keywords than to return irrelevant keywords.
- If an issue is provided, choose a keyword that names the feature or bug that the issue is about.
- Don't include key words or concepts that are already covered by labels.
`}freeFormUserPrompt(e,t){return`I've already included the following labels: [${e.join(", ")}]. The best search keywords in "${t}" are:`}labelsUserPrompt(e){return`The following labels are most appropriate for "${e}":`}fullQueryUserPrompt(e){e=e.replace(/\b(me|my)\b/,i=>i.toUpperCase());const t=new Date;return`Pretend today's date is ${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}, but only include it if needed. How should this be converted to a GitHub issue search query? ${e}`}validateSpecificQueryPart(e,t){switch(e){case"is":return t==="issue"||t==="pr"||t==="draft"||t==="public"||t==="private"||t==="locked"||t==="unlocked";case"type":return t==="pr"||t==="issue";case"state":return t==="open"||t==="closed"||t==="merged";case"in":return t==="title"||t==="body"||t==="comments";case"linked":return t==="pr"||t==="issue";case"status":return t==="success"||t==="failure"||t==="pending";case"draft":return t==="true"||t==="false";case"review":return t==="none"||t==="required"||t==="approved"||t==="changes_requested";case"no":return t==="label"||t==="milestone"||t==="assignee"||t==="project";default:return!0}}validateLabelsList(e,t){const i=o=>o==="AND"||o==="OR",r=e.split(qf).map(o=>o.trim());let a=[];for(let o of r){if(i(o)){if(a.length===0)continue;a.length>0&&i(a[a.length-1])?a[a.length-1]=o:a.push(o);continue}const v=/^label:(?!\B"[^"]*)\s+(?![^"]*"\B)/,T=o.match(v);let x=o;T&&(x=T[1]),t.find(W=>W.name===x)&&a.push(x)}return a.length>0&&i(a[a.length-1])&&(a=a.slice(0,a.length-1)),a}validateFreeForm(e,t,i){return i=i.trim(),i.includes("issue")||i.match(qf)||i.toLowerCase()==="none"||e.includes(i)||t.includes(i)||t.some(r=>i.includes(r)||r.includes(i))||Object.keys(Bv).find(r=>i.includes(r)||r.includes(i))?"":i}validateQuery(e,t,i){let r="";const a=e.split(qf);for(const v of a){if(v.startsWith("label:"))continue;const T=v.split(":");if(T.length===2){const W=T[0].startsWith("-")?T[0].substring(1):T[0],te=T[1];if(!W.match(/^[a-zA-Z]+$/)||!this.validateSpecificQueryPart(W,te)||W==="no"&&te==="label"&&t.length>0)continue}r=`${r} ${v}`}const o=this.validateFreeForm(r,t,i);return r=`${r} ${t.map(v=>`label:${v}`).join(" ")} ${o}`,r.trim()}postProcess(e,t,i){const r=this.findQuery(e);if(!r)return;const a=this.validateQuery(r,i,t);return this.fixRepo(a)}fixRepo(e){const t=/repo:([^ ]+)/,i=/org:([^ ]+)/,r=e.match(t),a=e.match(i);let o=e.trim(),v,T;if(r){const x=r[1];if(x.includes("/")){const W=x.split("/");v=W[0],T=W[1]}a&&x.includes("/")?o=e.replace(i,""):a&&(o=e.replace(t,`repo:${a[1]}/${x}`),v=a[1],T=x)}return{query:o,repo:v&&T?{owner:v,name:T}:void 0}}findQuery(e){if(e.includes("```")){const i=e.indexOf("```"),r=e.indexOf("```",i+3);return e.substring(i+3,r)}const t=e.split(`
`);if(t.length<=1)return t.length===0?e:t[0];for(const i of t)if(i.includes(":"))return i}async generateLabelQuery(e,t,i,r,a,o){const v=[s.LanguageModelChatMessage.Assistant(await this.labelsAssistantPrompt(e,t))];v.push(s.LanguageModelChatMessage.User(this.labelsUserPrompt(a)));const T=await r.sendRequest(v,i,o);return Zs(T.text)}async generateFreeFormQuery(e,t,i,r,a,o){const v=[s.LanguageModelChatMessage.Assistant(this.freeFormAssistantPrompt())];v.push(s.LanguageModelChatMessage.User(this.freeFormUserPrompt(a,r)));const T=await i.sendRequest(v,t,o);return Zs(T.text)}async generateQuery(e,t,i,r,a){const o=[s.LanguageModelChatMessage.Assistant(await this.fullQueryAssistantPrompt(e))];o.push(s.LanguageModelChatMessage.User(this.fullQueryUserPrompt(r)));const v=await i.sendRequest(o,t,a);return Zs(v.text)}async prepareInvocation(e){return{invocationMessage:s.l10n.t("Converting to search syntax")}}async invoke(e,t){var i,r,a;const{owner:o,name:v,folderManager:T}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(r=e.input.repo)==null?void 0:r.name}),x=`${(a=this.chatParticipantState.firstUserMessage)==null?void 0:a.value}, ${e.input.naturalLanguageString}`,W=await T.getLabels(void 0,{owner:o,repo:v}),oe=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],fe={justification:"Answering user questions pertaining to GitHub."},[ye,Pe]=await Promise.all([this.generateQuery(T,fe,oe,x,t),this.generateLabelQuery(T,W,fe,oe,x,t)]),Ce=this.validateLabelsList(Pe,W),De=await this.generateFreeFormQuery(T,fe,oe,x,Ce,t),Le=this.postProcess(ye,De,Ce);if(!Le)throw new Error("Unable to form a query.");y.debug(`Query \`${Le.query}\``,_0.ID);const $e={query:Le.query,repo:{owner:o,name:v}};return new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify($e)),new s.LanguageModelTextPart("Above is the query in stringified json format. You can pass this VERBATIM to a tool that knows how to search.")])}};yc($f,"toolId","github-pull-request_formSearchQuery"),yc($f,"ID","ConvertToSearchSyntaxTool");let qv=$f;const Hf=class rh extends Gl{toGitHubUrl(e){return`https://github.com/issues/?q=${encodeURIComponent(e)}`}async prepareInvocation(e){const t=e.input.query,i=new s.MarkdownString;return i.appendText(s.l10n.t('Searching for issues with "{0}".',t)),i.appendMarkdown(s.l10n.t(" [Open on GitHub.com]({0})",GR(this.toGitHubUrl(t)))),{invocationMessage:i}}async invoke(e,t){var i,r,a,o;const{folderManager:v}=await this.getRepoInfo({owner:(i=e.input.repo)==null?void 0:i.owner,name:(r=e.input.repo)==null?void 0:r.name}),T=e.input.query;y.debug(`Searching with query \`${T}\``,rh.ID);const x=await v.getIssues(T);if(!x)throw new Error(`No issues found for ${T}. Make sure the query is valid.`);const te={arrayOfIssues:x.items.slice(0,30).map(oe=>{var fe,ye;const Pe=oe.item;return{title:Pe.title,url:Pe.url,number:Pe.number,labels:Pe.labels.map(Ce=>({name:Ce.name,color:Ce.color})),state:Pe.state,assignees:(fe=Pe.assignees)==null?void 0:fe.map(Ce=>({login:Ce.login,url:Ce.url})),createdAt:Pe.createdAt,updatedAt:Pe.updatedAt,author:{login:Pe.user.login,url:Pe.user.url},milestone:(ye=Pe.milestone)==null?void 0:ye.title,commentCount:Pe.commentCount,reactionCount:Pe.reactionCount}}),totalIssues:(a=x.totalCount)!=null?a:x.items.length};return y.debug(`Found ${te.totalIssues} issues, first issue ${(o=te.arrayOfIssues[0])==null?void 0:o.number}.`,rh.ID),new s.LanguageModelToolResult([new s.LanguageModelTextPart(JSON.stringify(te)),new s.LanguageModelTextPart(`Above are the issues I found for the query ${T} in json format. You can pass these to a tool that can display them, or you can reason over the issues to answer a question.`)])}};yc(Hf,"toolId","github-pull-request_doSearch"),yc(Hf,"ID","SearchTool");let $v=Hf;var XE=Object.defineProperty,eN=(n,e,t)=>e in n?XE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,tN=(n,e,t)=>eN(n,typeof e!="symbol"?e+"":e,t);class Gf extends Gl{constructor(e,t,i){super(e,t,i)}async prepareInvocation(e){return{invocationMessage:e.input.issueNumber?s.l10n.t("Suggesting a fix for issue #{0}",e.input.issueNumber):s.l10n.t("Suggesting a fix for the issue")}}async invoke(e,t){var i,r;const a=e.input.repo,o=a==null?void 0:a.owner,v=a==null?void 0:a.name,T=e.input.issueNumber;if(!a||!o||!v||!T)return;const{folderManager:x}=await this.getRepoInfo(a);if(!x)throw new Error(`No folder manager found for ${a.owner}/${a.name}. Make sure to have the repository open.`);const W=await x.resolveIssue(o,v,T,!0);if(!W)throw new Error(`No issue found for ${a.owner}/${a.name}/${e.input.issueNumber}. Make sure the issue exists.`);const te={title:W.title,body:W.body,comments:(r=(i=W.item.comments)==null?void 0:i.map(Ze=>({body:Ze.body})))!=null?r:[]},oe=[];oe.push(s.LanguageModelChatMessage.Assistant("You are a world-class developer who is capable of solving very difficult bugs and issues.")),oe.push(s.LanguageModelChatMessage.Assistant("The user will give you an issue title, body and a list of comments from GitHub. The user wants you to suggest a fix.")),oe.push(s.LanguageModelChatMessage.Assistant("Analyze the issue content, the workspace context below and using all this information suggest a fix.")),oe.push(s.LanguageModelChatMessage.Assistant("Where possible output code-blocks and reference real files in the workspace with the fix.")),oe.push(s.LanguageModelChatMessage.User("The issue content is as follows: ")),oe.push(s.LanguageModelChatMessage.User(`Issue Title: ${te.title}`)),oe.push(s.LanguageModelChatMessage.User(`Issue Body: ${te.body}`)),te.comments.forEach((Ze,rt)=>{oe.push(s.LanguageModelChatMessage.User(`Comment ${rt}: ${Ze.body}`))});const fe=s.lm.tools.find(Ze=>Ze.tags.includes("vscode_codesearch"));if(!fe)throw new Error("Could not find the code search tool");const Pe=(await s.lm.invokeTool(fe.name,{toolInvocationToken:void 0,input:{query:te.title}},t)).content[0];if(Pe instanceof s.LanguageModelTextPart){oe.push(s.LanguageModelChatMessage.User("Below is some potential relevant workspace context to the issue. The user cannot see this result, so you should explain it to the user if referencing it in your answer."));const Ze=s.LanguageModelChatMessage.User("");Ze.content=[Pe],oe.push(Ze)}const Le=await(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0].sendRequest(oe,{},t);let $e="";for await(const Ze of Le.text)$e+=Ze;return new s.LanguageModelToolResult([new s.LanguageModelTextPart($e)])}}tN(Gf,"toolId","github-pull-request_suggest-fix");var iN=Object.defineProperty,nN=(n,e,t)=>e in n?iN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rN=(n,e,t)=>nN(n,typeof e!="symbol"?e+"":e,t);class Vf{async prepareInvocation(e){if(!e.input.title)return{invocationMessage:s.l10n.t("Summarizing issue")};const i=e.input.title.length>40?e.input.title.substring(0,40):e.input.title;return{invocationMessage:s.l10n.t('Summarizing "{0}',i)}}async invoke(e,t){let i=`
Title : ${e.input.title}
Body : ${e.input.body}
`;const r=e.input.fileChanges;if(r){i+=`
The following are the files changed:
`;for(const W of r.values())i+=`
File : ${W.fileName}
Patch: ${W.patch}
`}const a=e.input.comments;if(a)for(const[W,te]of a.entries())i+=`
Comment ${W} :
Author: ${te.author}
Body: ${te.body}
`;const v=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],T=e.input.repo,x=e.input.owner;if(v&&T&&x){const W=[s.LanguageModelChatMessage.User(this.summarizeInstructions(T,x))];W.push(s.LanguageModelChatMessage.User("The issue or pull request information is as follows:")),W.push(s.LanguageModelChatMessage.User(i));const te=await v.sendRequest(W,{}),oe=await Zs(te.text);return new s.LanguageModelToolResult([new s.LanguageModelTextPart(oe)])}else return new s.LanguageModelToolResult([new s.LanguageModelTextPart(i)])}summarizeInstructions(e,t){return`
You are an AI assistant who is very proficient in summarizing issues and pull requests (PRs).
You will be given information relative to an issue or PR : the title, the body and the comments. In the case of a PR you will also be given patches of the PR changes.
Your task is to output a summary of all this information.
Do not output code. When you try to summarize PR changes, summarize in a textual format.
Output references to other issues and PRs as Markdown links. The current issue has owner ${t} and is in the repo ${e}.
If a comment references for example issue or PR #123, then output either of the following in the summary depending on if it is an issue or a PR:

[#123](https://github.com/${t}/${e}/issues/123)
[#123](https://github.com/${t}/${e}/pull/123)

When you summarize comments, always give a summary of each comment and always mention the author clearly before the comment. If the author is called 'joe' and the comment is 'this is a comment', then the output should be:

joe: this is a comment

Make sure the summary is at least as short or shorter than the issue or PR with the comments and the patches if there are.
`}}rN(Vf,"toolId","github-pull-request_issue_summarize");var aN=Object.defineProperty,sN=(n,e,t)=>e in n?aN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,oN=(n,e,t)=>sN(n,typeof e!="symbol"?e+"":e,t);class jf{async prepareInvocation(e){const t=e.input;if(!t.itemType||!t.itemNumber)return{invocationMessage:s.l10n.t("Summarizing notification")};const i=t.itemType==="issue"?"issues":"pull",r=`https://github.com/${t.owner}/${t.repo}/${i}/${t.itemNumber}`;return{invocationMessage:new s.MarkdownString(s.l10n.t("Summarizing item [#{0}]({1})",t.itemNumber,r))}}async invoke(e,t){let i="";e.input.lastReadAt||(i+="This thread is viewed for the first time. Here is the main item information of the thread:"),i+=`
Title : ${e.input.title}
Body : ${e.input.body}
`;const a=e.input.fileChanges;if(a){i+=`
The following are the files changed:
`;for(const ye of a.values())i+=`
File : ${ye.fileName}
Patch: ${ye.patch}
`}const o=e.input.comments;if(o&&o.length>0){i+=`
The following are the unread comments of the thread:
`;for(const[ye,Pe]of o.entries())i+=`
Comment ${ye} :
Author: ${Pe.author}
Body: ${Pe.body}
`}const T=(await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"}))[0],x=[],W=e.input.threadId,te=e.input.notificationKey;if(W&&te){const ye={title:"Mark As Read",command:"notification.markAsRead",arguments:[{threadId:W,notificationKey:te}]},Pe={title:"Mark As Done",command:"notification.markAsDone",arguments:[{threadId:W,notificationKey:te}]};x.push(new s.LanguageModelTextPart(Ff)),x.push(new s.LanguageModelTextPart(JSON.stringify(ye))),x.push(new s.LanguageModelTextPart(Ff)),x.push(new s.LanguageModelTextPart(JSON.stringify(Pe)))}const oe=e.input.owner,fe=e.input.repo;if(T&&oe&&fe){const ye=[s.LanguageModelChatMessage.User(this.summarizeInstructions(oe,fe))];ye.push(s.LanguageModelChatMessage.User("The notification information is as follows:")),ye.push(s.LanguageModelChatMessage.User(i));const Pe=await T.sendRequest(ye,{}),Ce=await Zs(Pe.text);x.push(new s.LanguageModelTextPart(Ce))}else x.push(new s.LanguageModelTextPart(i));return x.push(new s.LanguageModelTextPart("Above is a summary of the notification. Extract and output this notification summary directly as is to the user. Do not output the result from the call to the fetch notification tool.")),new s.LanguageModelToolResult(x)}summarizeInstructions(e,t){return`
You are an AI assistant who is very proficient in summarizing notification threads.
You will be given information relative to a notification thread : the title, the body and the comments. In the case of a PR you will also be given patches of the PR changes.
Since you are reviewing a notification thread, part of the content is by definition unread. You will be told what part of the content is yet unread. This can be the comments or it can be both the thread issue/PR as well as the comments.
Your task is to output a summary of all this notification thread information and give an update to the user concerning the unread part of the thread.
Output references to issues and PRs as Markdown links. The current notification is for a thread that has owner ${e} and is in the repo ${t}.
If a comment references for example issue or PR #123, then output either of the following in the summary depending on if it is an issue or a PR:

[#123](https://github.com/${e}/${t}/issues/123)
[#123](https://github.com/${e}/${t}/pull/123)

When you summarize comments, always give a summary of each comment and always mention the author clearly before the comment. If the author is called 'joe' and the comment is 'this is a comment', then the output should be:

joe: this is a comment

Always include in your output, which part of the thread is unread by prefixing that part with the markdown heading of level 1 with text "Unread Thread" or "Unread Comments".
Make sure the summary is at least as short or shorter than the issue or PR with the comments and the patches if there are.
Example output:

# Unread Thread
<summary>
<comments>

or:

<summary>
# Unread Comments
<comments>

Both 'Unread Thread' and 'Unread Comments' should not appear at the same time as markdown titles. The following is incorrect:

# Unread Thread
<summary>
# Unread Comments
<comments>
`}}oN(jf,"toolId","github-pull-request_notification_summarize");function lN(n,e,t,i,r,a){uN(n,e,t,i),cN(n),dN(n,e,t,i),hN(n,e,t,i),fN(n,r,a),n.subscriptions.push(s.lm.registerTool(bc.toolId,new bc(t,r))),n.subscriptions.push(s.lm.registerTool(Bf.toolId,new Bf(t,r)))}function uN(n,e,t,i){n.subscriptions.push(s.lm.registerTool(Lf.toolId,new Lf(e,t,i))),n.subscriptions.push(s.lm.registerTool(Uf.toolId,new Uf(e,t,i)))}function cN(n){n.subscriptions.push(s.lm.registerTool(Vf.toolId,new Vf)),n.subscriptions.push(s.lm.registerTool(jf.toolId,new jf))}function dN(n,e,t,i){n.subscriptions.push(s.lm.registerTool(Gf.toolId,new Gf(e,t,i)))}function fN(n,e,t){n.subscriptions.push(s.lm.registerTool(xf.toolId,new xf(e,t)))}function hN(n,e,t,i){n.subscriptions.push(s.lm.registerTool(qv.toolId,new qv(e,t,i))),n.subscriptions.push(s.lm.registerTool($v.toolId,new $v(e,t,i))),n.subscriptions.push(s.lm.registerTool(Uv.toolId,new Uv(n,i)))}var mN=Object.defineProperty,pN=(n,e,t)=>e in n?mN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Vr=(n,e,t)=>pN(n,typeof e!="symbol"?e+"":e,t),Zo=(n=>(n[n.Empty=0]="Empty",n[n.More=1]="More",n[n.TryOtherRemotes=2]="TryOtherRemotes",n[n.Login=3]="Login",n[n.LoginEnterprise=4]="LoginEnterprise",n[n.NoRemotes=5]="NoRemotes",n[n.NoMatchingRemotes=6]="NoMatchingRemotes",n[n.ConfigureRemotes=7]="ConfigureRemotes",n))(Zo||{});class ys extends er{constructor(e,t,i){switch(super(e),Vr(this,"collapsibleState"),Vr(this,"iconPath"),Vr(this,"type"),Vr(this,"command"),this.type=t,this.collapsibleState=s.TreeItemCollapsibleState.None,t){case 0:this.label=s.l10n.t("0 pull requests in this category");break;case 1:this.label=s.l10n.t("Load more"),this.command={title:s.l10n.t("Load more"),command:"pr.loadMore",arguments:[i]};break;case 2:this.label=s.l10n.t("Continue fetching from other remotes"),this.command={title:s.l10n.t("Load more"),command:"pr.loadMore",arguments:[i]};break;case 3:this.label=s.l10n.t("Sign in"),this.command={title:s.l10n.t("Sign in"),command:"pr.signinAndRefreshList",arguments:[]};break;case 4:this.label=s.l10n.t("Sign in with GitHub Enterprise..."),this.command={title:"Sign in",command:"pr.signinAndRefreshList",arguments:[]};break;case 5:this.label=s.l10n.t("No GitHub repositories found.");break;case 6:this.label=s.l10n.t("No remotes match the current setting.");break;case 7:this.label=s.l10n.t("Configure remotes..."),this.command={title:s.l10n.t("Configure remotes"),command:"pr.configureRemotes",arguments:[]};break;default:break}}getTreeItem(){return this}}var Ua;(n=>{let e;(i=>{i.LOCAL="Local Pull Request Branches",i.ALL="All Open"})(e=n.Queries||(n.Queries={}));let t;(i=>{i.DEFAULT="default"})(t=n.Values||(n.Values={}))})(Ua||(Ua={}));function zf(n){return n.label===Ua.Queries.LOCAL&&n.query===Ua.Values.DEFAULT}function Wf(n){return n.label===Ua.Queries.ALL&&n.query===Ua.Values.DEFAULT}class pa extends er{constructor(e,t,i,r,a,o,v,T,x){var W,te;super(e),this.folderRepoManager=t,this._telemetry=i,this.type=r,this._notificationProvider=a,this._prsTreeModel=o,this._copilotManager=v,this._categoryQuery=x,Vr(this,"collapsibleState"),Vr(this,"prs"),Vr(this,"fetchNextPage",!1),Vr(this,"repositoryPageInformation",new Map),Vr(this,"contextValue"),Vr(this,"resourceUri"),Vr(this,"tooltip"),Vr(this,"isCopilot"),Vr(this,"_firstLoad"),this.prs=new Map,this.isCopilot=!!x&&Yp(x);const oe=this.isCopilot&&this._copilotManager.notificationsCount>0;switch(this.type){case ji.All:this.label=s.l10n.t("All Open");break;case ji.Query:this.label=T;break;case ji.LocalPullRequest:this.label=s.l10n.t("Local Pull Request Branches");break;default:this.label="";break}this.id=e instanceof er?`${(W=e.id)!=null?W:e.label}/${this.label}`:this.label,this.resourceUri=s.Uri.parse(qt.PRQuery),oe?(this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.resourceUri=ap):this._prsTreeModel.expandedQueries===void 0&&this.type===ji.All?this.collapsibleState=s.TreeItemCollapsibleState.Expanded:this.collapsibleState=(te=this._prsTreeModel.expandedQueries)!=null&&te.has(this.id)?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.Collapsed,this._categoryQuery&&(this.contextValue="query"),this.isCopilot?this.tooltip=s.l10n.t("Pull requests you asked the coding agent to create"):this.type===ji.LocalPullRequest?this.tooltip=s.l10n.t("Pull requests for branches you have locally"):this.type===ji.All?this.tooltip=s.l10n.t("All open pull requests in the current repository"):x?this.tooltip=new s.MarkdownString(s.l10n.t("Pull requests for query: `{0}`",x)):this.tooltip=this.label,this.description=this._getDescription()}_getDescription(){if(!this.isCopilot)return;const e=this._copilotManager.getCounts();if(e.total!==0)return e.error>0?e.inProgress>0?s.l10n.t("{0} in progress, {1} with errors",e.inProgress,e.error):s.l10n.t("{0} with errors",e.error):e.inProgress>0?s.l10n.t("{0} in progress",e.inProgress):s.l10n.t("done working on {0}",e.total)}async expandPullRequest(e,t=!0){if(!this._children&&t&&(await this.getChildren(),t=!1),this._children){for(const i of this._children)if(i instanceof Ln&&i.pullRequestModel.equals(e))return this.reveal(i,{expand:!0,select:!0}),!0;if(t)return await this.getChildren(),await this.expandPullRequest(e,!1)}return!1}async getChildren(e=!0){if(await super.getChildren(e),!e&&this._children)return this._children;const t=!this._firstLoad;return t&&(this._firstLoad=this.doGetChildren(),!this._prsTreeModel.hasLoaded)?(this._firstLoad.then(()=>this.refresh(this)),[]):t?this._firstLoad:this.doGetChildren()}async doGetChildren(){let e=!1,t=!1,i=!1;const r=this.fetchNextPage;if(this.fetchNextPage=!1,this.type===ji.LocalPullRequest)try{this.prs.clear(),(await this._prsTreeModel.getLocalPullRequests(this.folderRepoManager)).items.forEach(a=>this.prs.set(a.id,a))}catch(a){s.window.showErrorMessage(s.l10n.t("Fetching local pull requests failed: {0}",we(a))),i=a instanceof lo}else try{let a;switch(this.type){case ji.All:a=await this._prsTreeModel.getAllPullRequests(this.folderRepoManager,r);break;case ji.Query:a=await this._prsTreeModel.getPullRequestsForQuery(this.folderRepoManager,r,this._categoryQuery);break}r||this.prs.clear(),a.items.forEach(o=>this.prs.set(o.id,o)),e=a.hasMorePages,t=a.hasUnsearchedRepositories}catch(a){const o=we(a),v=[];o.includes("Bad credentials")&&v.push(s.l10n.t("Login again")),s.window.showErrorMessage(s.l10n.t("Fetching pull requests failed: {0}",we(a)),...v).then(T=>{T&&T===v[0]&&this.folderRepoManager.credentialStore.recreate(s.l10n.t("Your login session is no longer valid."))}),i=a instanceof lo}if(this.prs.size>0){const a=Array.from(this.prs.values()).map(o=>new Ln(this,this.folderRepoManager,o,this.type===ji.LocalPullRequest,this._notificationProvider));return e?a.push(new ys(this,1,this)):t&&a.push(new ys(this,2,this)),this._children=a,a}else{const a=i?3:0,o=[new ys(this,a)];return this._children=o,o}}getTreeItem(){return this}}const Hv="prompts",Gv="createPROnPublish";async function gN(n){await vN(),await bN(n),await yN(n)}async function vN(){xe(Hv,Gv)===!1&&(await s.workspace.getConfiguration(tt).update(gt,"never",s.ConfigurationTarget.Global),Je(Hv,Gv,!0))}const wc="hasMigratedQueries";async function bN(n){const e=n.globalState.get(wc,!1),t=n.workspaceState.get(wc,!1);if(e&&t)return;const i=s.workspace.getConfiguration(tt),r=i.inspect(ai),a=o=>o.map(v=>zf(v)||Wf(v)?v:{label:v.label,query:v.query.includes("repo:")?v.query:`repo:\${owner}/\${repository} ${v.query}`});!e&&(r!=null&&r.globalValue)&&await i.update(ai,a(r.globalValue),s.ConfigurationTarget.Global),n.globalState.update(wc,!0),!t&&(r!=null&&r.workspaceValue)&&await i.update(ai,a(r.workspaceValue),s.ConfigurationTarget.Workspace),n.workspaceState.update(wc,!0)}const _c="hasMigratedDefaultQueries4";async function yN(n){const e=n.globalState.get(_c,!1),t=n.workspaceState.get(_c,!1);if(e&&t)return;const i=s.workspace.getConfiguration(tt),r=i.inspect(ai),a=o=>{const v=o.some(x=>zf(x)),T=o.some(x=>Wf(x));return v||o.unshift({label:Ua.Queries.LOCAL,query:Ua.Values.DEFAULT}),T||o.push({label:Ua.Queries.ALL,query:Ua.Values.DEFAULT}),o};!e&&(r!=null&&r.globalValue)&&await i.update(ai,a(r.globalValue),s.ConfigurationTarget.Global),n.globalState.update(_c,!0),!t&&(r!=null&&r.workspaceValue)&&await i.update(ai,a(r.workspaceValue),s.ConfigurationTarget.Workspace),n.workspaceState.update(_c,!0)}var wN=Object.defineProperty,_N=(n,e,t)=>e in n?wN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ba=(n,e,t)=>_N(n,typeof e!="symbol"?e+"":e,t),kc=(n=>(n.Timestamp="Timestamp",n.Priority="Priority",n))(kc||{});class kN extends d{constructor(e,t,i,r){super(),this._notificationProvider=e,this._credentialStore=t,this._repositoriesManager=i,this._context=r,Ba(this,"_onDidChangeTreeData",this._register(new s.EventEmitter)),Ba(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Ba(this,"_onDidChangeNotifications",this._register(new s.EventEmitter)),Ba(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),Ba(this,"_pageCount",1),Ba(this,"_hasNextPage",!1),Ba(this,"_dateTime",new Date),Ba(this,"_fetchNotifications",!1),Ba(this,"_notifications",new Map),Ba(this,"_sortingMethod","Timestamp"),this._register(this._onDidChangeTreeData),this._register(this._onDidChangeNotifications)}get sortingMethod(){return this._sortingMethod}async getChildren(e){if(e!==void 0)return;const t=await this.getNotifications();if(t!==void 0)return t.hasNextPage?[...t.notifications,{kind:"loadMoreNotifications"}]:t.notifications}async getTreeItem(e){return Cl(e)?this._resolveNotificationTreeItem(e):this._resolveLoadMoreNotificationsTreeItem()}async resolveTreeItem(e,t){return Cl(t)&&(e.tooltip=await this._notificationMarkdownHover(t)),e}_resolveNotificationTreeItem(e){const t=e.notification.subject.title,i=new s.TreeItem(t,s.TreeItemCollapsibleState.None),r=e.notification,a=e.model;return r.subject.type===Tr.Issue&&a instanceof Gn&&(i.iconPath=e.model.isOpen?new s.ThemeIcon("issues",new s.ThemeColor("issues.open")):new s.ThemeIcon("issue-closed",new s.ThemeColor("issues.closed"))),r.subject.type===Tr.PullRequest&&a instanceof fn&&(i.iconPath=a.isOpen?new s.ThemeIcon("git-pull-request",new s.ThemeColor("pullRequests.open")):a.isMerged?new s.ThemeIcon("git-pull-request",new s.ThemeColor("pullRequests.merged")):new s.ThemeIcon("git-pull-request-closed",new s.ThemeColor("pullRequests.closed"))),i.description=`${r.owner}/${r.name}`,i.contextValue=r.subject.type,i.resourceUri=Dd({key:e.notification.key}),e.model instanceof fn?i.command={command:"pr.openDescription",title:s.l10n.t("Open Pull Request Description"),arguments:[e.model]}:i.command={command:"issue.openDescription",title:s.l10n.t("Open Issue Description"),arguments:[e.model]},i}_resolveLoadMoreNotificationsTreeItem(){const e=new s.TreeItem(s.l10n.t("Load More Notifications..."),s.TreeItemCollapsibleState.None);return e.command={title:"Load More Notifications",command:"notifications.loadMore"},e.contextValue="loadMoreNotifications",e}async _notificationMarkdownHover(e){const t=new s.MarkdownString(void 0,!0);t.supportHtml=!0;const i=e.notification,r=e.model;if(i.subject.type===Tr.Issue)return await vs(r,this._context,this._repositoriesManager);if(i.subject.type===Tr.PullRequest)return await vs(r,this._context,this._repositoriesManager);const a=`${i.owner}/${i.name}`;return t.appendMarkdown(`[${a}](https://github.com/${a})  
`),t.appendMarkdown(`**${i.subject.title}**  
`),t.appendMarkdown(`Type: ${i.subject.type}  
`),t.appendMarkdown(`Updated: ${i.updatedAd.toLocaleString()}  
`),t.appendMarkdown(`Reason: ${i.reason}  
`),t}async getNotifications(){if(this._fetchNotifications){const t=await this._notificationProvider.getNotifications(this._dateTime.toISOString(),this._pageCount);if(!t)return;const i=new Map;await Promise.all(t.notifications.map(async r=>{const a=await this._notificationProvider.getNotificationModel(r);a&&i.set(r.key,{notification:r,model:a,kind:"notification"})}));for(const[r,a]of i.entries())this._notifications.set(r,a);this._hasNextPage=t.hasNextPage,this._fetchNotifications=!1}if(this._sortingMethod==="Priority"){const t=Array.from(this._notifications.values()).filter(r=>r.priority===void 0),i=await this._notificationProvider.getNotificationsPriority(t);for(const{key:r,priority:a,priorityReasoning:o}of i){const v=this._notifications.get(r);v&&(v.priority=a,v.priorityReason=o,this._notifications.set(r,v))}}const e=Array.from(this._notifications.values());return this._updateContext(),this._onDidChangeNotifications.fire(e),{notifications:this._sortNotifications(e),hasNextPage:this._hasNextPage}}_updateContext(){const e=this._notifications.size;ei.setContext(Ct.NOTIFICATION_COUNT,e===0?-1:e)}getNotification(e){return this._notifications.get(e)}getAllNotifications(){return Array.from(this._notifications.values())}refresh(){if(this._notifications.size!==0){const e=Array.from(this._notifications.values());this._onDidChangeNotifications.fire(e)}this._pageCount=1,this._dateTime=new Date,this._notifications.clear(),this._refresh(!0)}loadMore(){this._pageCount++,this._refresh(!0)}_refresh(e){this._fetchNotifications=e,this._onDidChangeTreeData.fire()}async markAsRead(e){const t=this._notifications.get(e.notificationKey);t&&(await this._notificationProvider.markAsRead(e),this._onDidChangeNotifications.fire([t]),this._notifications.delete(e.notificationKey),this._updateContext(),this._refresh(!1))}async markAsDone(e){const t=this._notifications.get(e.notificationKey);t&&(await this._notificationProvider.markAsDone(e),this._onDidChangeNotifications.fire([t]),this._notifications.delete(e.notificationKey),this._updateContext(),this._refresh(!1))}_getMeaningfulEventTime(e,t,i){var r,a;const o=v=>{if(i)return v===t;if(!i)return v!==t};if(e.event===Ft.Committed){if(o(e.author.login))return new Date(e.committedDate)}else if(e.event===Ft.Commented){if(o((r=e.user)==null?void 0:r.login))return new Date(e.createdAt)}else if(e.event===Ft.Reviewed&&(i||e.comments.length>0||e.body.length>0)&&o((a=e.user)==null?void 0:a.login))return new Date(e.submittedAt)}async markPullRequests(e=!1){const t=Array.from(this._notifications.values()).filter(a=>a.notification.subject.type===Tr.PullRequest),i=await Promise.all(t.map(a=>a.model.getTimelineEvents())),r=[];for(const[a,o]of t.entries()){const v=await this._credentialStore.getCurrentUser(o.model.remote.authProviderId),T=i[a];let x,W;for(let te=T.length-1;te>=0;te--){const oe=T[te];if(x||(x=this._getMeaningfulEventTime(oe,v.login,!0)),W||(W=this._getMeaningfulEventTime(oe,v.login,!1)),x&&W)break}(!W||x&&x.getTime()>W.getTime())&&(e?r.push(this._notificationProvider.markAsDone({threadId:o.notification.id,notificationKey:o.notification.key})):r.push(this._notificationProvider.markAsRead({threadId:o.notification.id,notificationKey:o.notification.key})),this._notifications.delete(o.notification.key))}await Promise.all(r),this.refresh()}sortNotifications(e){this._sortingMethod!==e&&(this._sortingMethod=e,this._refresh(!1))}_sortNotifications(e){return this._sortingMethod==="Timestamp"?e.sort((t,i)=>i.notification.updatedAd.getTime()-t.notification.updatedAd.getTime()):this._sortingMethod==="Priority"?e.sort((t,i)=>Number(i.priority)-Number(t.priority)):e}}var SN=Object.defineProperty,RN=(n,e,t)=>e in n?SN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Vv=(n,e,t)=>RN(n,typeof e!="symbol"?e+"":e,t);class EN extends d{constructor(e){super(),this._notificationsManager=e,Vv(this,"_readonlyOnDidChangeFileDecorations",this._register(new s.EventEmitter)),Vv(this,"onDidChangeFileDecorations",this._readonlyOnDidChangeFileDecorations.event),this._register(e.onDidChangeNotifications(t=>{const i=t.map(r=>Dd({key:r.notification.key}));this._readonlyOnDidChangeFileDecorations.fire(i)})),this._register(s.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(`${tt}.${Ga}`)&&this._readonlyOnDidChangeFileDecorations.fire(e.getAllNotifications().map(i=>Dd({key:i.notification.key})))}))}settingValue(){return s.workspace.getConfiguration(tt).get(Ga,!1)}provideFileDecoration(e,t){var i,r;if(!this.settingValue()||this._notificationsManager.sortingMethod!==kc.Priority)return;const a=qw(e);if(!a)return;const o=this._notificationsManager.getNotification(a.key),v=(o==null?void 0:o.priority)==="100"?"99":(i=o==null?void 0:o.priority)!=null?i:"0";return{badge:v,tooltip:s.l10n.t("Priority score is {0}. {1}",v,(r=o==null?void 0:o.priorityReason)!=null?r:"")}}}var NN=Object.defineProperty,TN=(n,e,t)=>e in n?NN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,CN=(n,e,t)=>TN(n,typeof e!="symbol"?e+"":e,t);class PN extends d{constructor(e,t){super(),this._credentialStore=e,this._repositoriesManager=t,CN(this,"_authProvider"),e.isAuthenticated(li.githubEnterprise)&&Lr()?this._authProvider=li.githubEnterprise:e.isAuthenticated(li.github)&&(this._authProvider=li.github),this._register(e.onDidChangeSessions(i=>{e.isAuthenticated(li.githubEnterprise)&&Lr()&&(this._authProvider=li.githubEnterprise),e.isAuthenticated(li.github)&&(this._authProvider=li.github)}))}_getGitHub(){return this._authProvider!==void 0?this._credentialStore.getHub(this._authProvider):void 0}async markAsRead(e){const t=this._getGitHub();t!==void 0&&await t.octokit.call(t.octokit.api.activity.markThreadAsRead,{thread_id:Number(e.threadId)})}async markAsDone(e){const t=this._getGitHub();t!==void 0&&await t.octokit.call(t.octokit.api.activity.markThreadAsDone,{thread_id:Number(e.threadId)})}async getNotifications(e,t){var i;const r=this._getGitHub();if(r===void 0||this._repositoriesManager.folderManagers.length===0)return;const a=s.workspace.getConfiguration(tt).get(sa,50),{data:o,headers:v}=await r.octokit.call(r.octokit.api.activity.listNotificationsForAuthenticatedUser,{all:!1,before:e,page:t,per_page:a});return{notifications:o.map(x=>tw(x)).filter(x=>!!x),hasNextPage:((i=v.link)==null?void 0:i.includes('rel="next"'))===!0}}async getNotificationModel(e){var t;const i=e.subject.url;if(typeof i!="string")return;const r=i.split("/").pop();if(r===void 0)return;const a=(t=this._repositoriesManager.getManagerForRepository(e.owner,e.name))!=null?t:this._repositoriesManager.folderManagers[0];return e.subject.type===Tr.Issue?await a.resolveIssue(e.owner,e.name,parseInt(r),!0):await a.resolvePullRequest(e.owner,e.name,parseInt(r))}async getNotificationsPriority(e){const i=[];for(let o=0;o<e.length;o+=5)i.push(e.slice(o,o+5));const r=await s.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"});return(await Promise.all(i.map(o=>this._prioritizeNotificationBatch(o,r[0])))).flat()}async _prioritizeNotificationBatch(e,t){try{const i=(await this._credentialStore.getCurrentUser(li.github)).login,r=[s.LanguageModelChatMessage.User(AN(i))];for(const[v,T]of e.entries()){const x=T.model;if(!x)continue;let W=this._getBasePrompt(x,v);W+=await this._getLabelsPrompt(x),W+=await this._getCommentsPrompt(x),r.push(s.LanguageModelChatMessage.User(W))}r.push(s.LanguageModelChatMessage.User("Please provide the priority for each notification in a separate text code block. Remember to place the title and the reasoning outside of the text code block."));const a=await t.sendRequest(r,{}),o=await Zs(a.text);return this._updateNotificationsWithPriorityFromLLM(e,o)}catch(i){return console.log(i),[]}}_getBasePrompt(e,t){var i;const r=e.assignees;return`
The following is the data for notification ${t+1}:
\u2022 Title: ${e.title}
\u2022 Author: ${e.author.login}
\u2022 Assignees: ${(r==null?void 0:r.map(a=>a.login).join(", "))||"none"}
\u2022 Body:

${e.body}

\u2022 Reaction Count: ${(i=e.item.reactionCount)!=null?i:0}
\u2022 isOpen: ${e.isOpen}
\u2022 isMerged: ${e.isMerged}
\u2022 Created At: ${e.createdAt}
\u2022 Updated At: ${e.updatedAt}`}async _getLabelsPrompt(e){const t=e.item.labels;if(!t)return"";let i="";return t.length>0&&(i=`
\u2022 Labels: ${t.map(a=>a.name).join(", ")}`),i}async _getCommentsPrompt(e){const t=e.item.comments;if(!t||t.length===0)return"";let i=`

The following is the data concerning the at most last 5 comments for the notification:`,r=1;const a=Math.max(0,t.length-5);for(let o=a;o<t.length;o++){const v=t.at(o);i+=`

Comment ${r} for notification:
\u2022 Body:
${v.body}
\u2022 Reaction Count: ${v.reactionCount}`,r+=1}return i}_updateNotificationsWithPriorityFromLLM(e,t){const i=/```text\s*[\s\S]+?\s*=\s*([\S]+?)\s*```/gm,r=/```(?!text)([\s\S]+?)(###|$)/g,a=[];for(let o=0;o<e.length;o++){const v=i.exec(t);if(v){const T=r.exec(t);a.push({key:e[o].notification.key,priority:v[1],priorityReasoning:T?T[1].trim():void 0})}}return a}}function AN(n){return`
You are an intelligent assistant tasked with prioritizing GitHub notifications.
You are given a list of notifications for the current user ${n}, each related to an issue, pull request or discussion. In the case of an issue/PR, if there are comments, you are given the last 5 comments under it.
Use the following scoring mechanism to prioritize the notifications and assign them a score from 0 to 100:

	1. Assign points from 0 to 30 for the relevance of the notification. Below when we talk about the current user, it is always the user with the GitHub login handle ${n}. First consider if the corresponding thread is open or closed:
		- If the thread is closed, assign points as follows:
			- 0 points: If the current user is neither assigned, nor requested for a review, nor mentioned in the issue/PR/discussion.
			- 5 points: If the current user is mentioned or is the author of the issue/PR. In the case of an issue/PR, the current user should not be assigned to it.
			- 10 points: If the current user is assigned to the issue/PR or is requested for a review.
		- If the thread is open, assign points as follows:
			- 20 points: If the current user is neither assigned, nor requested for a review, nor mentioned in the issue/PR/discussion.
			- 25 points: If the current user is mentioned or is the author of the issue/PR. In the case of an issue/PR, the current user should not be assigned to it.
			- 30 points: If the current user is assigned to the issue/PR or is requested for a review.
	2. Assign points from 0 to 40 to the importance of the notification. Consider the following points:
		- In case of an issue, does the content/title suggest this is a critical issue? In the case of a PR, does the content/title suggest it fixes a critical issue? In the case of a discussion, do the comments suggest a critical discussion? A critical issue/pr/discussion has a higher priority.
		- To evaluate the importance/criticality of a notification evaluate whether it references the following. Such notifications should be assigned a higher priority.
			- security vulnerabilities
			- major regressions
			- data loss
			- crashes
			- performance issues
			- memory leaks
			- breaking changes
		- Do the labels assigned to the issue/PR/discussion indicate it is critical? Labels that include the following: 'critical', 'urgent', 'important', 'high priority' should be assigned a higher priority.
		- Is the issue/PR suggesting it is blocking for other work and must be addressed immediately? If so, the notification should be assigned a higher priority.
		- Is the issue/PR user facing? User facing issues/PRs that have a clear negative impact on the user should be assigned a higher priority.
		- Is the tone of voice urgent or neutral? An urgent tone of voice has a higher priority.
		- For issues, do the comments mention that the issue is a duplicate of another issue or is already fixed? If so assign a lower priority.
		- Issues should generally be assigned a higher score than PRs and discussions.
		- Issues about bugs/regressions should be assigned a higher priority than issues about feature requests which are less critical.
	3. Assign points from 0 to 30 for the community engagement. Consider the following points:
		- Reactions: Consider the number of reactions under an issue/PR/discussion that correspond to real users. A higher number of reactions should be assigned a higher priority.
		- Comments: Evaluate the community engagement on the issue/PR through the last 5 comments. If you detect a comment coming from a bot, do not include it in the following evaluation. Consider the following:
			- Does the issue/PR/discussion have a lot of comments indicating widespread interest?
			- Does the issue/PR/discussion have comments from many different users which would indicate widespread interest?
			- Evaluate the comments content. Do they indicate that the issue/PR is critical and touches many people? A critical issue/PR should be assigned a higher priority.
			- Evaluate the effort/detail put into the comments, are the users invested in the issue/PR/discussion? A higher effort should be assigned a higher priority.
			- Evaluate the tone of voice in the comments, an urgent tone of voice should be assigned a higher priority.
			- Evaluate the reactions under the comments, a higher number of reactions indicate widespread interest and issue/PR/discussion following. A higher number of reactions should be assigned a higher priority.
		- Generally evaluate the issue/PR/discussion content quality. Consider the following points:
			- Description: In the case of an issue, are there clear steps to reproduce the issue? In the case of a PR, is there a clear description of the change? A clearer, more complete description should be assigned a higher priority.
			- Effort: Evaluate the general effort put into writing this issue/PR. Does the user provide a lengthy clear explanation? A higher effort should be assigned a higher priority.

Use the above guidelines to assign points to each notification. Provide the sum of the individual points in a SEPARATE text code block for each notification. The points sum to 100 as a maximum.
After the text code block containing the priority, add a detailed summary of the notification and generally explain why it is important or not, do NOT reference the scoring mechanism above. This summary and reasoning will be displayed to the user.
The output should look as follow. Here <summary + reasoning> corresponds to your summary and reasoning and <title> corresponds to the notification title. The title should be placed after three hashtags:

### <title>
\`\`\`text
20 + 30 + 20 = 70
\`\`\`text
<summary + reasoning>

The following is INCORRECT:

<title>
20 + 30 + 20 = 70
<summary + reasoning>
`}class MN extends d{constructor(e,t,i,r){super(),this.credentialStore=e,this._repositoriesManager=t,this._telemetry=i,this._context=r;const a=new PN(e,this._repositoriesManager);this._register(a);const o=new kN(a,e,this._repositoriesManager,this._context);this._register(o);const v=new EN(o);this._register(s.window.registerFileDecorationProvider(v)),this._register(s.window.createTreeView("notifications:github",{treeDataProvider:o})),o.refresh(),this._register(s.commands.registerCommand("notifications.sortByTimestamp",async()=>{this._telemetry.sendTelemetryEvent("notifications.sortByTimestamp"),o.sortNotifications(kc.Timestamp)},this)),this._register(s.commands.registerCommand("notifications.sortByPriority",async()=>{this._telemetry.sendTelemetryEvent("notifications.sortByTimestamp"),o.sortNotifications(kc.Priority)},this)),this._register(s.commands.registerCommand("notifications.refresh",()=>{this._telemetry.sendTelemetryEvent("notifications.refresh"),o.refresh()},this)),this._register(s.commands.registerCommand("notifications.loadMore",()=>{this._telemetry.sendTelemetryEvent("notifications.loadMore"),o.loadMore()})),this._register(s.commands.registerCommand("notification.chatSummarizeNotification",T=>{Cl(T)&&(this._telemetry.sendTelemetryEvent("notification.chatSummarizeNotification"),s.commands.executeCommand(lv(),s.l10n.t("@githubpr Summarize notification with thread ID #{0}",T.notification.id)))})),this._register(s.commands.registerCommand("notification.markAsRead",T=>{const{threadId:x,notificationKey:W}=this._extractMarkAsCommandOptions(T);this._telemetry.sendTelemetryEvent("notification.markAsRead"),o.markAsRead({threadId:x,notificationKey:W})})),this._register(s.commands.registerCommand("notification.markAsDone",T=>{const{threadId:x,notificationKey:W}=this._extractMarkAsCommandOptions(T);this._telemetry.sendTelemetryEvent("notification.markAsDone"),o.markAsDone({threadId:x,notificationKey:W})})),this._register(s.commands.registerCommand("notifications.markPullRequestsAsRead",()=>(this._telemetry.sendTelemetryEvent("notifications.markPullRequestsAsRead"),o.markPullRequests()))),this._register(s.commands.registerCommand("notifications.markPullRequestsAsDone",()=>(this._telemetry.sendTelemetryEvent("notifications.markPullRequestsAsDone"),o.markPullRequests(!0)))),this._register(s.commands.registerCommand("notifications.configureNotificationsViewlet",()=>(this._telemetry.sendTelemetryEvent("notifications.configureNotificationsViewlet"),s.commands.executeCommand("workbench.action.openSettings",`@ext:${bn} notifications`)))),this._register(G(this._repositoriesManager.onDidLoadAnyRepositories)(()=>{o.refresh()}))}_extractMarkAsCommandOptions(e){let t,i;const r=e;if(Cl(e))t=e.notification.id,i=e.notification.key;else if(r.threadId!==void 0&&r.notificationKey!==void 0)t=r.threadId,i=r.notificationKey;else throw new Error(`Invalid arguments for command notification.markAsRead : ${JSON.stringify(e)}`);return{threadId:t,notificationKey:i}}}var IN=Object.defineProperty,DN=(n,e,t)=>e in n?IN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Kf=(n,e,t)=>DN(n,typeof e!="symbol"?e+"":e,t);class FN extends d{constructor(){super(),Kf(this,"_themeData"),Kf(this,"_onDidChangeTheme",this._register(new s.EventEmitter)),Kf(this,"onDidChangeTheme",this._onDidChangeTheme.event),this._register(s.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${kt}.${Mt}`)&&await this.updateTheme()})),this.updateTheme()}async updateTheme(){this._themeData=await pd(),this._onDidChangeTheme.fire(this._themeData)}get themeData(){return this._themeData}}class xN{constructor(e,t,i){this._reposManagers=e,this._telemetry=t,this._context=i}async handleUri(e){switch(e.path){case xd.OpenIssueWebview:return this._openIssueWebview(e);case xd.OpenPullRequestWebview:return this._openPullRequestWebview(e)}}async _openIssueWebview(e){var t;const i=jw(e);if(!i)return;const r=(t=this._reposManagers.getManagerForRepository(i.owner,i.repo))!=null?t:this._reposManagers.folderManagers[0],a=await r.resolveIssue(i.owner,i.repo,i.issueNumber,!0);if(a)return So.createOrShow(this._telemetry,this._context.extensionUri,r,a)}async _openPullRequestWebview(e){var t;const i=zw(e);if(!i)return;const r=(t=this._reposManagers.getManagerForRepository(i.owner,i.repo))!=null?t:this._reposManagers.folderManagers[0],a=await r.resolvePullRequest(i.owner,i.repo,i.pullRequestNumber);if(a)return Jn.createOrShow(this._telemetry,this._context.extensionUri,r,a)}}var ON=Object.defineProperty,LN=(n,e,t)=>e in n?ON(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Jo=(n,e,t)=>LN(n,typeof e!="symbol"?e+"":e,t);class jv extends d{constructor(){super(),Jo(this,"_onDidChangeFileDecorations",this._register(new s.EventEmitter)),Jo(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this))}_handlePullRequestPropertyChange(e,t,i){const r=i.path,a=s.Uri.joinPath(e.repository.rootUri,r),o=t.fileChanges.get(r);if(o){const v=Md(a,t.number,r,o.status,o.previousFileName);this._onDidChangeFileDecorations.fire(v),this._onDidChangeFileDecorations.fire(v.with({scheme:e.repository.rootUri.scheme})),this._onDidChangeFileDecorations.fire(v.with({scheme:qt.Pr,authority:""}))}}}class UN extends d{constructor(e){super(),this._repositoriesManager=e,Jo(this,"_gitHubReposListeners",[]),Jo(this,"_pullRequestListeners",[]),Jo(this,"_pullRequestPropertyChangeListeners",[]),Jo(this,"_providers",[])}registerProviders(e){this._providers.push(...e),this._registerListeners()}_registerPullRequestPropertyListeners(e,t){return this._providers.map(i=>i.registerPullRequestPropertyChangedListeners(e,t))}_registerPullRequestAddedListeners(e){e.gitHubRepositories.forEach(t=>{this._pullRequestListeners.push(t.onDidAddPullRequest(a=>{this._pullRequestPropertyChangeListeners.push(...this._registerPullRequestPropertyListeners(e,a))}));const r=t.pullRequestModels.map(a=>this._registerPullRequestPropertyListeners(e,a)).flat();this._pullRequestPropertyChangeListeners.push(...r)})}_registerRepositoriesChangedListeners(){c(this._gitHubReposListeners),c(this._pullRequestListeners),c(this._pullRequestPropertyChangeListeners),this._repositoriesManager.folderManagers.forEach(e=>{this._gitHubReposListeners.push(e.onDidChangeRepositories(()=>{this._registerPullRequestAddedListeners(e)}))})}_registerListeners(){this._registerRepositoriesChangedListeners(),this._register(this._repositoriesManager.onDidChangeFolderRepositories(()=>{this._registerRepositoriesChangedListeners()}))}dispose(){super.dispose(),c(this._gitHubReposListeners),c(this._pullRequestListeners),c(this._pullRequestPropertyChangeListeners),c(this._providers)}}class BN extends jv{constructor(e){super(),this._repositoriesManager=e}registerPullRequestPropertyChangedListeners(e,t){return t.onDidChangeReviewThreads(i=>{[...i.added,...i.removed].forEach(r=>{this._handlePullRequestPropertyChange(e,t,r)})})}provideFileDecoration(e,t){if(e.scheme!==qt.Pr&&e.scheme!==qt.File&&e.scheme!==qt.Review&&e.scheme!==qt.FileChange)return;const i=ip(e),r=this._repositoriesManager.getManagerForFile(e);if(i&&r&&r.gitHubRepositories.find(o=>{const v=o.getExistingPullRequestModel(i.prNumber);if(v!=null&&v.reviewThreadsCache.find(T=>T.path===i.fileName))return!0}))return{propagate:!1,tooltip:s.l10n.t("Commented"),badge:new s.ThemeIcon("comment")}}}var qN=Object.defineProperty,$N=(n,e,t)=>e in n?qN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ns=(n,e,t)=>$N(n,typeof e!="symbol"?e+"":e,t);function zv(n){switch(n){case yt.DELETED:return $t.DELETE;case yt.ADDED_BY_US:case yt.INDEX_ADDED:return $t.ADD;case yt.INDEX_RENAMED:return $t.RENAME;case yt.MODIFIED:return $t.MODIFY;default:return $t.UNKNOWN}}class HN extends er{constructor(e,t,i,r){super(e),this.model=t,this.commit=i,this.parentRef=r}getTreeItem(){var e;return{label:this.commit.commit.message,description:(e=this.commit.commit.author)!=null&&e.date?ne(new Date(this.commit.commit.author.date)):void 0,iconPath:new s.ThemeIcon("git-commit"),collapsibleState:s.TreeItemCollapsibleState.Collapsed}}async getChildren(){if(!this.model.gitHubRepository)return[];const{octokit:e,remote:t}=await this.model.gitHubRepository.ensure(),{data:i}=await e.call(e.api.repos.compareCommits,{repo:t.repositoryName,owner:t.owner,base:this.parentRef,head:this.commit.sha}),r=i.files;return r?r.map(a=>new Gu(this,a.filename,a.previous_filename,Cs(a.status),this.parentRef,this.commit.sha,!1)):[]}}class GN extends er{constructor(e,t,i,r){super(e),this.commit=t,this.folderRepoManager=i,this.parentRef=r}getTreeItem(){return{label:this.commit.message,description:this.commit.authorDate?ne(new Date(this.commit.authorDate)):void 0,iconPath:new s.ThemeIcon("git-commit"),collapsibleState:s.TreeItemCollapsibleState.Collapsed}}async getChildren(){return(await this.folderRepoManager.repository.diffBetween(this.parentRef,this.commit.hash)).map(t=>{const i=z.posix.relative(this.folderRepoManager.repository.rootUri.path,t.uri.path),r=z.posix.relative(this.folderRepoManager.repository.rootUri.path,t.originalUri.path);return new Gu(this,i,r,zv(t.status),this.parentRef,this.commit.hash,!0)})}}const Wv=class k0 extends d{constructor(e){super(),this.model=e,ns(this,"_view"),ns(this,"_children"),ns(this,"_onDidChangeTreeData",new s.EventEmitter),ns(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),this._register(e.onDidChange(()=>{this._onDidChangeTreeData.fire()}))}get view(){return this._view}set view(e){this._view=this._register(e)}async reveal(e,t){return this._view.reveal(e,t)}refresh(){this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async getRawGitHubData(){try{const e=await this.model.gitHubFiles(),t=await this.model.gitHubCommits(),i=await this.model.gitHubMergeBase();return!(e!=null&&e.length)||!(t!=null&&t.length)?(this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),{}):this._isDisposed?{}:(this.view.message=void 0,{rawFiles:e,rawCommits:t,mergeBase:i})}catch(e){const t=e;return e.name&&t.name==="HttpError"&&t.status===404&&(this.view.message=new s.MarkdownString(s.l10n.t("The upstream branch `{0}` does not exist on GitHub",this.model.baseBranch))),{}}}get children(){return this._children}async getChildren(e){try{await this.model.getCompareHasUpstream()?this._children=await this.getGitHubChildren(e):this._children=await this.getGitChildren(e)}catch(t){return y.error(`Comparing changes failed: ${t}`,k0.ID),[]}return this._children}static closeTabs(){s.window.tabGroups.all.forEach(e=>e.tabs.forEach(t=>{t.input instanceof s.TabInputTextDiff&&(t.input.modified.scheme===qt.GithubPr||t.input.modified.scheme===qt.GitPr)&&s.window.tabGroups.close(t)}))}};ns(Wv,"ID","CompareChangesTreeProvider");let Qf=Wv;class VN extends Qf{constructor(e,t){super(e),this.folderRepoManager=t}async getGitHubChildren(e){if(e)return e.getChildren();const{rawFiles:t,mergeBase:i}=await this.getRawGitHubData();if(t&&i)return this.view.message=this.addReviewMessage(),t.map(r=>new Gu(this,r.filename,r.previous_filename,Cs(r.status),i,this.model.compareBranch,!1))}async getGitFileChildren(e){return e.map(t=>{const i=z.posix.relative(this.folderRepoManager.repository.rootUri.path,t.uri.path),r=z.posix.relative(this.folderRepoManager.repository.rootUri.path,t.originalUri.path);return new Gu(this,i,r,zv(t.status),this.model.baseBranch,this.model.compareBranch,!0)})}addReviewMessage(e){const t=this.folderRepoManager.getAutoReviewer();return t&&(e?e.appendMarkdown(`

`):e=new s.MarkdownString,e.supportThemeIcons=!0,e.appendMarkdown(`[${s.l10n.t("$(sparkle) {0} Code Review",t.title)}](command:pr.preReview)`)),e}async getGitChildren(e){if(e)return e.getChildren();{const t=await this.model.gitFiles();if(t.length===0)return this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),[];if(await this.model.getCompareHasUpstream()){if(this._isDisposed)return[];this.view.message=void 0}else{const i=new s.MarkdownString(s.l10n.t({message:"Branch `{0}` has not been pushed yet. [Publish branch](command:git.publish) to see all changes from base branch.",args:[this.model.compareBranch],comment:"{Locked='](command:git.publish)'}"}));i.isTrusted={enabledCommands:["git.publish"]},this.view.message=this.addReviewMessage(i)}return this.getGitFileChildren(t)}}}class jN extends Qf{constructor(e,t){super(e),this.folderRepoManager=t}async getGitHubChildren(e){if(e)return e.getChildren();const{rawCommits:t}=await this.getRawGitHubData();if(t)return t.map((i,r)=>new HN(this,this.model,i,r===0?this.model.baseBranch:t[r-1].sha))}async getGitChildren(e){if(e)return e.getChildren();const t=await this.model.gitCommits();return t.length===0?(this.view.message=new s.MarkdownString(s.l10n.t("There are no commits between the base `{0}` branch and the comparing `{1}` branch",this.model.baseBranch,this.model.compareBranch)),[]):this._isDisposed?[]:(this.view.message=void 0,t.reverse().map((i,r)=>new GN(this,i,this.folderRepoManager,r===0?this.model.baseBranch:t[r-1].hash)))}}class Kv extends d{constructor(e,t){super(),this.model=t,ns(this,"_filesView"),ns(this,"_filesDataProvider"),ns(this,"_commitsView"),ns(this,"_commitsDataProvider"),this._filesDataProvider=this._register(new VN(t,e)),this._filesView=this._register(s.window.createTreeView("github:compareChangesFiles",{treeDataProvider:this._filesDataProvider})),this._filesDataProvider.view=this._filesView,this._commitsDataProvider=this._register(new jN(t,e)),this._commitsView=this._register(s.window.createTreeView("github:compareChangesCommits",{treeDataProvider:this._commitsDataProvider})),this._commitsDataProvider.view=this._commitsView,this.initialize()}set compareOwner(e){this.model.compareOwner=e}initialize(){if(this.model.gitHubRepository)try{this._register(s.workspace.registerFileSystemProvider(qt.GithubPr,this.model.gitHubContentProvider)),this._register(s.workspace.registerFileSystemProvider(qt.GitPr,this.model.gitContentProvider)),this._register(l(()=>Qf.closeTabs()))}catch{}}static closeTabs(){s.window.tabGroups.all.forEach(e=>e.tabs.forEach(t=>{t.input instanceof s.TabInputTextDiff&&(t.input.modified.scheme===qt.GithubPr||t.input.modified.scheme===qt.GitPr)&&s.window.tabGroups.close(t)}))}}var zN=Object.defineProperty,WN=(n,e,t)=>e in n?zN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,kr=(n,e,t)=>WN(n,typeof e!="symbol"?e+"":e,t);const KN=new RegExp("closes|closed|close|fixes|fixed|fix|resolves|resolved|resolves$","i"),Qv=class Mc extends xh{constructor(e,t,i,r,a,o){super(i),this.telemetry=e,this.model=t,this._folderRepositoryManager=r,this._pullRequestDefaults=a,this._defaultCompareBranch=o,kr(this,"viewType","github:createPullRequestWebview"),kr(this,"_onDone",new s.EventEmitter),kr(this,"onDone",this._onDone.event),kr(this,"_firstLoad",!0),kr(this,"initializeWhenVisibleDisposable"),kr(this,"_alreadyInitializing"),kr(this,"milestone"),kr(this,"reviewers",[]),kr(this,"assignees",[]),kr(this,"projects",[]),kr(this,"labels",[])}resolveWebviewView(e,t,i){return super.resolveWebviewView(e,t,i),e.webview.html=this._getHtmlForWebview(),this._firstLoad?(this._firstLoad=!1,this.initializeParams(!0)):this.initializeParams()}show(){super.show()}static withProgress(e){return s.window.withProgress({location:{viewId:"github:createPullRequestWebview"}},e)}async getPullRequestDefaultLabels(e){const t=s.workspace.getConfiguration(tt).inspect(Di);if(!t)return[];const i=new Array;return t.workspaceValue&&i.push(...t.workspaceValue),t.globalValue&&i.push(...t.globalValue),!i||i.length===0?[]:(await this._folderRepositoryManager.getLabels(void 0,{owner:e.owner,repo:e.repositoryName})).filter(o=>i.includes(o.name))}async getMergeConfiguration(e,t,i=!1){return(await this._folderRepositoryManager.createGitHubRepositoryFromOwnerName(e,t)).getRepoAccessAndMergeMethods(i)}async initializeParams(e=!1){var t,i;if(((t=this._view)==null?void 0:t.visible)===!1&&this.initializeWhenVisibleDisposable===void 0){this.initializeWhenVisibleDisposable=(i=this._view)==null?void 0:i.onDidChangeVisibility(()=>{var r;(r=this.initializeWhenVisibleDisposable)==null||r.dispose(),this.initializeWhenVisibleDisposable=void 0,this.initializeParams()});return}e&&this._postMessage({command:"reset"}),await this.initializeParamsPromise()}async initializeParamsPromise(){return this._alreadyInitializing||(this._alreadyInitializing=this.doInitializeParams(),this._alreadyInitializing.then(()=>{this._alreadyInitializing=void 0})),this._alreadyInitializing}getTitleAndDescriptionProvider(e){return this._folderRepositoryManager.getTitleAndDescriptionProvider(e)}async getCreateParams(){var e,t,i,r,a;const o=await this._folderRepositoryManager.repository.getBranch(this._defaultCompareBranch),[v,T,x]=await Promise.all([this.detectBaseMetadata(o),this._folderRepositoryManager.getGitHubRemotes(),this._folderRepositoryManager.getOrigin(o),or(this._folderRepositoryManager.context)]),W={owner:(e=v==null?void 0:v.owner)!=null?e:this._pullRequestDefaults.owner,repositoryName:(t=v==null?void 0:v.repositoryName)!=null?t:this._pullRequestDefaults.repo},te={owner:x.remote.owner,repositoryName:x.remote.repositoryName},oe=(i=v==null?void 0:v.branch)!=null?i:this._pullRequestDefaults.base,[fe,ye,Pe,Ce,De]=await Promise.all([this.getTitleAndDescription(o,oe),this.getMergeConfiguration(W.owner,W.repositoryName),x.getViewerPermission(),this._folderRepositoryManager.mergeQueueMethodForBranch(oe,W.owner,W.repositoryName),this.getPullRequestDefaultLabels(W)]),Le=s.workspace.getConfiguration(tt).get(Bi,"lastUsed"),$e=this._folderRepositoryManager.context.workspaceState.get(Hd,void 0),Ze=Su(ye.mergeMethodsAvailability);let rt=Ze,Ve=!1,We=!1;rt=Le==="lastUsed"&&($e!=null&&$e.mergeMethod)?$e==null?void 0:$e.mergeMethod:Ze,Le==="lastUsed"?(rt=(r=$e==null?void 0:$e.mergeMethod)!=null?r:Ze,Ve=!!($e!=null&&$e.isDraft),We=ye.viewerCanAutoMerge&&!!($e!=null&&$e.autoMerge)):Le==="createDraft"?Ve=!0:Le==="createAutoMerge"&&(We=ye.viewerCanAutoMerge),ei.setContext(Ct.CREATE_PR_PERMISSIONS,Pe);const ct=!!this.getTitleAndDescriptionProvider("Copilot")&&s.workspace.getConfiguration(tt).get(Ut)==="Copilot",jt=(a=this.getTitleAndDescriptionProvider())==null?void 0:a.title;jt&&this.telemetry.sendTelemetryEvent("pr.defaultTitleAndDescriptionProvider",{providerTitle:jt});const Se=this._folderRepositoryManager.getAutoReviewer();return this.labels=De.map(Ge=>({...Ge,displayName:la(Ge.name)})),{canModifyBranches:!0,defaultBaseRemote:W,defaultBaseBranch:oe,defaultCompareRemote:te,defaultCompareBranch:this._defaultCompareBranch,defaultTitle:fe.title,defaultDescription:fe.description,defaultMergeMethod:rt,baseHasMergeQueue:!!Ce,remoteCount:T.length,allowAutoMerge:ye.viewerCanAutoMerge,mergeMethodsAvailability:ye.mergeMethodsAvailability,autoMergeDefault:We,createError:"",labels:this.labels,isDraftDefault:Ve,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,generateTitleAndDescriptionTitle:jt,creating:!1,initializeWithGeneratedTitleAndDescription:ct,preReviewState:ku.None,preReviewer:Se==null?void 0:Se.title,reviewing:!1}}async doInitializeParams(){const e=await this.getCreateParams();return y.appendLine(`Initializing "create" view: ${JSON.stringify(e)}`,Mc.ID),this._postMessage({command:"pr.initialize",params:e}),e}async autoAssign(e){var t;const i=s.workspace.getConfiguration(tt).get(Bt);if(!i)return;const r=await Po(i,e,void 0,(t=await this._folderRepositoryManager.getCurrentUser(e.githubRepository))==null?void 0:t.login);if(r)try{const a=await e.githubRepository.resolveUser(r);a&&await e.replaceAssignees([a])}catch{y.error(`Unable to assign pull request to user ${r}.`,Mc.ID)}}async enableAutoMerge(e,t,i){if(t&&i)return e.enableAutoMerge(i)}async setLabels(e,t){t.length>0&&await e.setLabels(t.map(i=>i.name))}async setAssignees(e,t){t.length?await e.replaceAssignees(t):await this.autoAssign(e)}async setReviewers(e,t){if(t.length){const i=[],r=[];for(const a of t)Fn(a)?r.push(a):i.push(a);await e.requestReview(i,r,!0)}}setMilestone(e,t){if(t)return e.updateMilestone(t.id)}setProjects(e,t){if(t.length)return e.updateProjects(t)}async getBaseRemote(){return(await this._folderRepositoryManager.getGitHubRemotes()).find(e=>pe(e.owner,this.model.baseOwner)===0&&pe(e.repositoryName,this.model.repositoryName)===0)}getBaseGitHubRepo(){return this._folderRepositoryManager.gitHubRepositories.find(e=>pe(e.remote.owner,this.model.baseOwner)===0&&pe(e.remote.repositoryName,this.model.repositoryName)===0)}async addMilestone(){const e=await this.getBaseRemote(),t=this._folderRepositoryManager.gitHubRepositories.find(i=>i.remote.remoteName===e.remoteName);return rm(this._folderRepositoryManager,t,this.milestone,i=>(this.milestone=i,this._postMessage({command:"set-milestone",params:{milestone:this.milestone}})))}async addReviewers(){let e;const t=await this.getBaseRemote();try{const i=this._folderRepositoryManager.gitHubRepositories.find(W=>W.remote.remoteName===t.remoteName),[r,a,o]=await Promise.all([i==null?void 0:i.getMetadata(),this._folderRepositoryManager.getCurrentUser(),this._folderRepositoryManager.getOrgTeamsCount(i)]);e=await im(this._folderRepositoryManager,t.remoteName,!!(r!=null&&r.organization),o,a,this.reviewers.map(W=>({reviewer:W,state:"REQUESTED"})),[]),e.busy=!1;const v=Te(e.onDidAccept).then(()=>e.selectedItems.filter(W=>W.user)),T=Te(e.onDidHide),x=await Promise.race([v,T]);e.busy=!0,x&&(this.reviewers=x.map(W=>W.user),this._postMessage({command:"set-reviewers",params:{reviewers:this.reviewers}}))}catch(i){y.error(`Failed to add reviewers: ${we(i)}`,Mc.ID),s.window.showErrorMessage(we(i))}finally{e==null||e.hide(),e==null||e.dispose()}}async addAssignees(){const e=await this.getBaseRemote(),t=this._folderRepositoryManager.gitHubRepositories.find(r=>r.remote.owner===e.owner&&r.remote.repositoryName===e.repositoryName),i=await s.window.showQuickPick(tm(this._folderRepositoryManager,t,e.remoteName,this.assignees,void 0,!0),{canPickMany:!0,matchOnDescription:!0,placeHolder:s.l10n.t("Add assignees")});if(i){const r=new Set,a=i.map(o=>o.user).filter(o=>o&&!r.has(o.login)?(r.add(o.login),!0):!1);this.assignees=a,this._postMessage({command:"set-assignees",params:{assignees:this.assignees}})}}async addProjects(){const e=this.getBaseGitHubRepo();e&&await new Promise(t=>{nm(this._folderRepositoryManager,e,this.projects,async i=>{this.projects=i,this._postMessage({command:"set-projects",params:{projects:this.projects}}),t()})})}async addLabels(){let e=[];const t=await s.window.showQuickPick(am(this._folderRepositoryManager,this.labels,this.model.baseOwner,this.model.repositoryName).then(i=>(e=i.newLabels,i.labelPicks)),{canPickMany:!0,matchOnDescription:!0,placeHolder:s.l10n.t("Apply labels")});if(t){const i=t.map(r=>e.find(a=>a.name===r.name));this.labels=i,this._postMessage({command:"set-labels",params:{labels:this.labels}})}}async removeLabel(e){const{label:t}=e.args;if(!t)return;const i=this.labels.length;this.labels=this.labels.filter(r=>r.name!==t.name),i!==this.labels.length&&this._postMessage({command:"set-labels",params:{labels:this.labels}})}async createFromCommand(e,t,i,r){const a={isDraft:e,autoMerge:t,autoMergeMethod:r?"merge":i,creating:!0};return this._postMessage({command:"create",params:a})}async postCreate(e,t){return Promise.all([this.setLabels(t,e.args.labels),this.enableAutoMerge(t,e.args.autoMerge,e.args.autoMergeMethod),this.setAssignees(t,e.args.assignees),this.setReviewers(t,e.args.reviewers),this.setMilestone(t,e.args.milestone),this.setProjects(t,e.args.projects)])}async cancel(e){return this._onDone.fire(void 0),await this.getMergeConfiguration(e.args.owner,e.args.repo,!0),this._replyMessage(e,void 0)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.requestInitialize":return this.initializeParamsPromise();case"pr.cancelCreate":return this.cancel(e);case"pr.create":return this.create(e);case"pr.changeLabels":return this.addLabels();case"pr.changeReviewers":return this.addReviewers();case"pr.changeAssignees":return this.addAssignees();case"pr.changeMilestone":return this.addMilestone();case"pr.changeProjects":return this.addProjects();case"pr.removeLabel":return this.removeLabel(e);default:return this.MESSAGE_UNHANDLED}}dispose(){super.dispose(),this._postMessage({command:"reset"})}_getHtmlForWebview(){const e=ud(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-create-pr-view-new.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Create Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}};kr(Qv,"ID","CreatePullRequestViewProvider");let Yv=Qv;function Zv(n){return{owner:n.owner,repositoryName:n.repositoryName}}class mr extends Yv{constructor(e,t,i,r,a){super(e,t,i,r,a,t.compareBranch),kr(this,"viewType","github:createPullRequestWebview"),kr(this,"lastGeneratedTitleAndDescription"),kr(this,"generatingCancellationToken"),kr(this,"reviewingCancellationToken"),this._register(this.model.onDidChange(async o=>{var v,T;let x,W;if(o.baseOwner){const ye=(v=this._folderRepositoryManager.findRepo(Pe=>pe(Pe.remote.owner,o.baseOwner)===0&&pe(Pe.remote.repositoryName,this.model.repositoryName)===0))==null?void 0:v.remote;x=ye?Zv(ye):void 0,W=this.model.baseBranch}o.baseBranch&&(W=o.baseBranch);let te,oe;if(o.compareOwner){const ye=(T=this._folderRepositoryManager.findRepo(Pe=>pe(Pe.remote.owner,o.compareOwner)===0&&pe(Pe.remote.repositoryName,this.model.repositoryName)===0))==null?void 0:T.remote;te=ye?Zv(ye):void 0,oe=this.model.compareBranch}o.compareBranch&&(oe=o.compareBranch);const fe={baseRemote:x,baseBranch:W,compareRemote:te,compareBranch:oe,warning:await this.existingPRMessage()};return this._postMessage({command:"pr.initialize",params:fe})}))}async existingPRMessage(){var e;const[t,i]=await Promise.all([wr.getMatchingPullRequestMetadataForBranch(this._folderRepositoryManager.repository,this.model.compareBranch),this.model.getCompareHasUpstream()]);if(!t||!i)return;const[r,a]=await Promise.all([await this._folderRepositoryManager.resolvePullRequest(t.owner,t.repositoryName,t.prNumber),this._folderRepositoryManager.repository.getBranch(this.model.compareBranch)]);return((e=r==null?void 0:r.head)==null?void 0:e.sha)===a.commit?s.l10n.t("A pull request already exists for this branch."):void 0}async setDefaultCompareBranch(e){var t,i;const r=e&&e.name!==this.model.compareBranch,a=(t=this._folderRepositoryManager.gitHubRepositories.find(v=>v.remote.owner===this.model.compareOwner))==null?void 0:t.remote.remoteName,o=e&&((i=e.upstream)==null?void 0:i.remote)!==a;(r||o)&&(this._defaultCompareBranch=e.name,this.model.setCompareBranch(e.name),this.changeBranch(e.name,!1).then(async v=>{const T={defaultTitle:v.title,defaultDescription:v.description,compareBranch:e==null?void 0:e.name,defaultCompareBranch:e==null?void 0:e.name,warning:await this.existingPRMessage()};if(!o)return this._postMessage({command:"pr.initialize",params:T})}))}show(e){e&&this.setDefaultCompareBranch(e),super.show()}async getTotalGitHubCommits(e,t){var i;const r=await this._folderRepositoryManager.getOrigin(e);if(e.upstream){const a=this._folderRepositoryManager.findRepo(xo(e.upstream.remote));if(a){const o=`${a.remote.owner}:${(i=e.name)!=null?i:""}`,v=`${this._pullRequestDefaults.owner}:${t}`,T=await r.compareCommits(v,o);return T==null?void 0:T.commits}}}async getTitleAndDescription(e,t){let i="",r="";const a=s.workspace.getConfiguration(tt).get(Ut);if(a==="none")return{title:i,description:r};const o=await this._folderRepositoryManager.getOrigin(e);let v=this._pullRequestDefaults.base===e.name;y.debug(`Compare branch name: ${e.name}, Base branch name: ${this._pullRequestDefaults.base}`,mr.ID);try{const T=e.name,[x,W,te]=await Promise.all([this.getTotalGitHubCommits(e,t),T?D_(ee(this._folderRepositoryManager.getTipCommitMessage(T),5e3)):void 0,a==="template"?await this.getPullRequestTemplate():void 0]),oe=x==null?void 0:x.filter(fe=>fe.parents.length<2);if(y.debug(`Total commits: ${oe==null?void 0:oe.length}`,mr.ID),oe===void 0?v=!1:oe&&oe.length>1&&(v=await o.getDefaultBranch()!==e.name),T&&!W&&(y.appendLine("Timeout getting last commit message",mr.ID),this.telemetry.sendTelemetryEvent("pr.create.getCommitTimeout")),v&&T?i=`${T.charAt(0).toUpperCase()}${T.slice(1)}`:T&&W&&(i=W.title),te&&(W!=null&&W.body)?r=`${W.body}

${te}`:te?r=te:W!=null&&W.body&&this._pullRequestDefaults.base!==e.name&&(r=W.body),!r){const fe=i.match(Oy),ye=$s(fe);if(ye!=null&&ye.issueNumber&&!ye.name&&!ye.owner){r=`#${ye.issueNumber}`;const Ce=i.substr(0,i.indexOf(fe[0])).match(KN);Ce&&(r=`${Ce[0]} ${r}`)}}}catch(T){y.debug(`Error while getting total commits: ${T}`,mr.ID)}return{title:i,description:r}}async getPullRequestTemplate(){return this._folderRepositoryManager.getPullRequestTemplateBody(this.model.baseOwner)}async detectBaseMetadata(e){var t;const i=this.model.compareOwner,r=this.model.repositoryName,a=s.workspace.getConfiguration(tt).get(wn);if(!e.name||a==="repositoryDefault")return;const o=this._folderRepositoryManager.findRepo(v=>pe(v.remote.owner,i)===0&&pe(v.remote.repositoryName,r)===0);if(!(a==="auto"&&((t=await(o==null?void 0:o.getMetadata()))!=null&&t.fork)))try{const v=await this._folderRepositoryManager.repository.getBranchBase(e.name);if(v!=null&&v.name){const T=this._folderRepositoryManager.findRepo(x=>x.remote.remoteName===v.remote);if(T)return{branch:v.name,owner:T.remote.owner,repositoryName:T.remote.repositoryName}}}catch{return}}async getCreateParams(){const e=await super.getCreateParams();return this.model.baseOwner=e.defaultBaseRemote.owner,this.model.baseBranch=e.defaultBaseBranch,e}async remotePicks(e){return(e?await this._folderRepositoryManager.getActiveGitHubRemotes(await this._folderRepositoryManager.getGitHubRemotes()):this._folderRepositoryManager.gitHubRepositories.map(i=>i.remote)).map(i=>({iconPath:new s.ThemeIcon("repo"),label:`${i.owner}/${i.repositoryName}`,remote:{owner:i.owner,repositoryName:i.repositoryName}}))}async branchPicks(e,t,i){let r;i?r=await e.listBranches(e.remote.owner,e.remote.repositoryName):r=(await this._folderRepositoryManager.repository.getBranches({remote:!1})).filter(o=>o.name);const a=r.map(o=>{const v=typeof o=="string"?o:o.name;return{iconPath:new s.ThemeIcon("git-branch"),label:v,remote:{owner:e.remote.owner,repositoryName:e.remote.repositoryName},branch:v}});return a.unshift({kind:s.QuickPickItemKind.Separator,label:`${e.remote.owner}/${e.remote.repositoryName}`}),a.unshift({iconPath:new s.ThemeIcon("repo"),label:t}),a}async processRemoteAndBranchResult(e,t,i){const[r,a]=await Promise.all([e.getDefaultBranch(),e.getViewerPermission()]);ei.setContext(Ct.CREATE_PR_PERMISSIONS,a);let o;if(i){const v=this.model.baseOwner!==t.remote.owner,T=v||this.model.baseBranch!==t.branch;this.model.baseOwner=t.remote.owner,this.model.baseBranch=t.branch;const x=await this._folderRepositoryManager.repository.getBranch(this.model.compareBranch),[W,te,oe]=await Promise.all([this.getMergeConfiguration(t.remote.owner,t.remote.repositoryName),this.getTitleAndDescription(x,this.model.baseBranch),this._folderRepositoryManager.mergeQueueMethodForBranch(this.model.baseBranch,this.model.baseOwner,this.model.repositoryName)]);let fe=!1;if(W.viewerCanAutoMerge){const ye=s.workspace.getConfiguration(tt).get(Bi,"lastUsed"),Pe=this._folderRepositoryManager.context.workspaceState.get(Hd,void 0);fe=ye==="lastUsed"&&(Pe==null?void 0:Pe.autoMerge)||ye==="createAutoMerge"}o={baseRemote:t.remote,baseBranch:t.branch,defaultBaseBranch:r,defaultMergeMethod:Su(W.mergeMethodsAvailability),allowAutoMerge:W.viewerCanAutoMerge,baseHasMergeQueue:!!oe,mergeMethodsAvailability:W.mergeMethodsAvailability,autoMergeDefault:fe,defaultTitle:te.title,defaultDescription:te.description},v&&this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseRemote"),T&&this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedBaseBranch")}else await this.changeBranch(t.branch,!1),o={compareRemote:t.remote,compareBranch:t.branch,defaultCompareBranch:r},this._folderRepositoryManager.telemetry.sendTelemetryEvent("pr.create.changedCompare");return o}async changeRemoteAndBranch(e,t){this.cancelGenerateTitleAndDescription();const i=s.window.createQuickPick();let r=this._folderRepositoryManager.findRepo(ye=>{var Pe;return((Pe=e.args.currentRemote)==null?void 0:Pe.owner)===ye.remote.owner&&e.args.currentRemote.repositoryName===ye.remote.repositoryName});const a=s.l10n.t("Change Repository..."),o=s.l10n.t("Choose a remote"),v=t?s.l10n.t("Choose a base branch"):s.l10n.t("Choose a branch to merge"),T=t?s.l10n.t("Choose a base repository"):s.l10n.t("Choose a repository to merge from");i.placeholder=r?v:o,i.show(),i.busy=!0,i.items=r?await this.branchPicks(r,a,t):await this.remotePicks(t);const x=e.args.currentBranch?i.items.find(ye=>ye.branch===e.args.currentBranch):void 0;i.activeItems=x?[x]:[],i.busy=!1;const W=new Promise(ye=>{i.onDidAccept(async()=>{if(i.selectedItems.length===0)return;const Pe=i.selectedItems[0];if(Pe.label===a)i.busy=!0,i.items=await this.remotePicks(t),i.busy=!1,i.placeholder=r?T:o;else if(Pe.branch===void 0&&Pe.remote){const Ce=Pe;i.busy=!0,r=this._folderRepositoryManager.findRepo(De=>De.remote.owner===Ce.remote.owner&&De.remote.repositoryName===Ce.remote.repositoryName),i.items=await this.branchPicks(r,a,t),i.placeholder=v,i.busy=!1}else if(Pe.branch&&Pe.remote){const Ce=Pe;ye({remote:Ce.remote,branch:Ce.branch})}})}),te=new Promise(ye=>i.onDidHide(()=>ye())),oe=await Promise.race([W,te]);if(!oe||!r){i.hide(),i.dispose();return}i.busy=!0;const fe=await this.processRemoteAndBranchResult(r,oe,t);return i.hide(),i.dispose(),this._replyMessage(e,fe)}async findIssueContext(e){var t,i;const r=[];for(const a of e){const o=$s(a.match(hs));if(o){const v=(t=o.owner)!=null?t:this.model.baseOwner,T=(i=o.name)!=null?i:this.model.repositoryName;r.push(new Promise(x=>{this._folderRepositoryManager.resolveIssue(v,T,o.issueNumber).then(W=>{x(W?{content:`${W.title}
${W.body}`,reference:Sd(o)}:void 0)}).catch(()=>x(void 0))}))}}if(r.length)return(await Promise.all(r)).filter(a=>!!a)}async getCommitsAndPatches(){var e;let t,i;await this.model.getCompareHasUpstream()?[t,i]=await Promise.all([this.model.gitHubCommits().then(a=>a.map(o=>o.commit.message)),this.model.gitHubFiles().then(a=>a==null?void 0:a.map(o=>{if(!o.patch)return;const v=s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,o.filename).toString(),T=o.previous_filename?s.Uri.joinPath(this._folderRepositoryManager.repository.rootUri,o.previous_filename).toString():void 0;return{patch:o.patch,fileUri:v,previousFileUri:T}}))]):[t,i]=await Promise.all([this.model.gitCommits().then(a=>a.filter(o=>o.parents.length===1).map(o=>o.message)),Promise.all((await this.model.gitFiles()).map(async a=>({patch:await this._folderRepositoryManager.repository.diffBetween(this.model.baseBranch,this.model.compareBranch,a.uri.fsPath),fileUri:a.uri.toString()})))]);const r=(e=i==null?void 0:i.filter(a=>!!a))!=null?e:[];return{commitMessages:t,patches:r}}async getTitleAndDescriptionFromProvider(e,t){return mr.withProgress(async()=>{try{const{commitMessages:i,patches:r}=await this.getCommitsAndPatches(),a=await this.findIssueContext(i),o=this._folderRepositoryManager.getTitleAndDescriptionProvider(t),v=await(o==null?void 0:o.provider.provideTitleAndDescription({commitMessages:i,patches:r,issues:a},e));return o&&(this.lastGeneratedTitleAndDescription={...v,providerTitle:o.title},this.telemetry.sendTelemetryEvent("pr.generatedTitleAndDescription",{providerTitle:o==null?void 0:o.title})),v}catch(i){y.error(`Error while generating title and description: ${i}`,mr.ID);return}})}async generateTitleAndDescription(e){this.generatingCancellationToken&&this.generatingCancellationToken.cancel(),this.generatingCancellationToken=new s.CancellationTokenSource;const t=await Promise.race([this.getTitleAndDescriptionFromProvider(this.generatingCancellationToken.token,e.args.useCopilot?"Copilot":void 0),new Promise(r=>{var a;return(a=this.generatingCancellationToken)==null?void 0:a.token.onCancellationRequested(()=>r(!0))})]);this.generatingCancellationToken=void 0;const i={title:void 0,description:void 0};return t!==!0&&(i.title=t==null?void 0:t.title,i.description=t==null?void 0:t.description),this._replyMessage(e,{title:i==null?void 0:i.title,description:i==null?void 0:i.description})}async cancelGenerateTitleAndDescription(){this.generatingCancellationToken&&this.generatingCancellationToken.cancel()}async getPreReviewFromProvider(e){const t=this._folderRepositoryManager.getAutoReviewer();if(!t)return;const{commitMessages:i,patches:r}=await this.getCommitsAndPatches(),a=await t.provider.provideReviewerComments({repositoryRoot:this._folderRepositoryManager.repository.rootUri.fsPath,commitMessages:i,patches:r},e);return a&&a.succeeded&&a.files.length>0?ku.ReviewedWithComments:ku.ReviewedWithoutComments}async review(){this._postMessage({command:"reviewing",params:{reviewing:!0}})}async preReview(e){return mr.withProgress(async()=>{await ei.setContext("pr:preReviewing",!0),this.reviewingCancellationToken&&this.reviewingCancellationToken.cancel(),this.reviewingCancellationToken=new s.CancellationTokenSource;const t=await Promise.race([this.getPreReviewFromProvider(this.reviewingCancellationToken.token),new Promise(i=>{var r;return(r=this.reviewingCancellationToken)==null?void 0:r.token.onCancellationRequested(()=>i())})]);return this.reviewingCancellationToken=void 0,await ei.setContext("pr:preReviewing",!1),this._replyMessage(e,t)})}async cancelPreReview(){this.reviewingCancellationToken&&this.reviewingCancellationToken.cancel()}async pushUpstream(e,t,i){let r;const a=this._folderRepositoryManager.repository.state.remotes.find(o=>{if(!o.pushUrl)return!1;const v=new ps(o.name,o.pushUrl,new br(o.pushUrl),pn.GitHubDotCom);return v.owner.toLowerCase()===e.toLowerCase()&&v.repositoryName.toLowerCase()===t.toLowerCase()?(r=v,!0):!1});if(a&&r){y.appendLine(`Found push remote ${a.name} for ${e}/${t} and branch ${i}`,mr.ID);const o=await this._folderRepositoryManager.publishBranch(r,i);return o?{compareUpstream:o,repo:this._folderRepositoryManager.findRepo(xo(o.remoteName))}:void 0}}checkGeneratedTitleAndDescription(e,t){var i,r;if(!this.lastGeneratedTitleAndDescription)return;const a=!!this.lastGeneratedTitleAndDescription.title&&(this.lastGeneratedTitleAndDescription.title===e||((i=this.lastGeneratedTitleAndDescription.title)==null?void 0:i.includes(e))||(e==null?void 0:e.includes(this.lastGeneratedTitleAndDescription.title))),o=!!this.lastGeneratedTitleAndDescription.description&&(this.lastGeneratedTitleAndDescription.description===t||((r=this.lastGeneratedTitleAndDescription.description)==null?void 0:r.includes(t))||(t==null?void 0:t.includes(this.lastGeneratedTitleAndDescription.description)));this.telemetry.sendTelemetryEvent("pr.usedGeneratedTitleAndDescription",{providerTitle:this.lastGeneratedTitleAndDescription.providerTitle,usedGeneratedTitle:a.toString(),usedGeneratedDescription:o.toString()})}async checkForChanges(){if(await this.model.filesHaveChanges()){const e=s.l10n.t("Commit"),t=s.l10n.t("Delete my changes"),i=await s.window.showWarningMessage(s.l10n.t("You have made changes to the files in this pull request. Do you want to commit these changes to the pull request before creating it?"),{modal:!0},e,t);if(i===e){const r=await s.window.showInputBox({prompt:s.l10n.t("Commit message for your changes")});if(r)return this.model.applyChanges(r)}else if(i!==t)return!1}return!0}async create(e){if(y.debug(`Creating pull request with args ${JSON.stringify(e.args)}`,mr.ID),!await this.checkForChanges()){y.debug("Not continuing past checking for file changes.",mr.ID),await this._replyMessage(e,{});return}const t={autoMerge:e.args.autoMerge,mergeMethod:e.args.autoMergeMethod,isDraft:e.args.draft};this._folderRepositoryManager.context.workspaceState.update(Hd,t),mr.withProgress(()=>s.window.withProgress({location:s.ProgressLocation.Notification},async i=>{ei.setContext(Ct.CREATING,!0);let r=0;i.report({message:s.l10n.t("Checking for upstream branch"),increment:r});let a;try{const o=e.args.compareOwner,v=e.args.compareRepo,T=e.args.compareBranch,x=`${o}/${v}`;let te=(await this._folderRepositoryManager.repository.getBranch(T)).upstream?this._folderRepositoryManager.findRepo(ye=>ye.remote.owner===o&&ye.remote.repositoryName===v):void 0,oe=te==null?void 0:te.remote;if(!oe||oe.owner!==o||oe.repositoryName!==v){const ye=s.l10n.t("Always Publish Branch"),Pe=s.l10n.t("Publish Branch"),De=s.workspace.getConfiguration(tt).get(xt)==="always"?Pe:await s.window.showInformationMessage(s.l10n.t(`There is no remote branch on {0}/{1} for '{2}'.

Do you want to publish it and then create the pull request?`,o,v,T),{modal:!0},Pe,ye);if(De===ye&&await s.workspace.getConfiguration(tt).update(xt,"always",s.ConfigurationTarget.Global),De===ye||De===Pe){i.report({message:s.l10n.t("Pushing branch"),increment:10}),r+=10;const Le=await this.pushUpstream(o,v,T);Le?(oe=Le.compareUpstream,te=Le.repo):this._throwError(e,s.l10n.t("The current repository does not have a push remote for {0}",x))}}if(!oe){this._throwError(e,s.l10n.t("No remote branch on {0}/{1} for the merge branch.",o,v)),i.report({message:s.l10n.t("Pull request cancelled"),increment:100-r});return}if(!te)throw new Error(s.l10n.t(`Unable to find GitHub repository matching '{0}'. You can add '{0}' to the setting "githubPullRequests.remotes" to ensure '{0}' is found.`,oe.remoteName));i.report({message:s.l10n.t("Creating pull request"),increment:70-r}),r+=70-r;const fe=`${te.remote.owner}:${T}`;this.checkGeneratedTitleAndDescription(e.args.title,e.args.body),a=await this._folderRepositoryManager.createPullRequest({...e.args,head:fe}),a?await this.postCreate(e,a):this._throwError(e,s.l10n.t("There must be a difference in commits to create a pull request."))}catch(o){if(a)o.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await this.postCreate(e,a),s.window.showErrorMessage(s.l10n.t("There was an error creating the pull request: {0}",o.message));else{let v=o.message;v.startsWith("GraphQL error: ")&&(v=v.substring(15)),this._throwError(e,v)}}finally{ei.setContext(Ct.CREATING,!1);let o;a?(this._onDone.fire(a),o=s.l10n.t("Pull request created")):(await this._replyMessage(e,{}),o=s.l10n.t("Unable to create pull request")),i.report({message:o,increment:100-r})}}))}async changeBranch(e,t){let i;if(t)this.model.baseBranch=e;else try{i=await this._folderRepositoryManager.repository.getBranch(e),await this.model.setCompareBranch(e)}catch{s.window.showErrorMessage(s.l10n.t("Branch does not exist locally."))}return i=i!=null?i:await this._folderRepositoryManager.repository.getBranch(this.model.compareBranch),this.getTitleAndDescription(i,this.model.baseBranch)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.changeBaseRemoteAndBranch":return this.changeRemoteAndBranch(e,!0);case"pr.changeCompareRemoteAndBranch":return this.changeRemoteAndBranch(e,!1);case"pr.generateTitleAndDescription":return this.generateTitleAndDescription(e);case"pr.cancelGenerateTitleAndDescription":return this.cancelGenerateTitleAndDescription();case"pr.preReview":return this.preReview(e);case"pr.cancelPreReview":return this.cancelPreReview();default:s.window.showErrorMessage("Unsupported webview message")}}}class Sc extends Yv{constructor(e,t,i,r,a,o){var v,T;super(e,t,i,r,a,(T=(v=r.repository.state.HEAD)==null?void 0:v.name)!=null?T:o.base.name),this.pullRequest=o}async getTitleAndDescription(){return{title:s.l10n.t('Revert "{0}"',this.pullRequest.title),description:s.l10n.t("Reverts {0}",`${this.pullRequest.remote.owner}/${this.pullRequest.remote.repositoryName}#${this.pullRequest.number}`)}}async detectBaseMetadata(){return{owner:this.pullRequest.remote.owner,repositoryName:this.pullRequest.remote.repositoryName,branch:this.pullRequest.base.name}}getTitleAndDescriptionProvider(e){}async getCreateParams(){const e=await super.getCreateParams();return e.canModifyBranches=!1,e.actionDetail=s.l10n.t("Reverting"),e.associatedExistingPullRequest=this.pullRequest.number,e}openAssociatedPullRequest(){return Fl(this.telemetry,this.pullRequest,void 0,this._folderRepositoryManager,!1,!0)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.openAssociatedPullRequest":return this.openAssociatedPullRequest();default:s.window.showErrorMessage("Unsupported webview message")}}async create(e){let t;Sc.withProgress(async()=>{ei.setContext(Ct.CREATING,!0);try{t=await this._folderRepositoryManager.revert(this.pullRequest,e.args.title,e.args.body,e.args.draft),t&&(await this.postCreate(e,t),await Fl(this.telemetry,t,void 0,this._folderRepositoryManager,!0))}catch(i){if(t)i.message==='GraphQL error: ["Pull request Pull request is in unstable status"]'&&await this.postCreate(e,t),s.window.showErrorMessage(s.l10n.t("There was an error creating the pull request: {0}",i.message));else{let r=i.message;r.startsWith("GraphQL error: ")&&(r=r.substring(15)),this._throwError(e,r)}}finally{ei.setContext(Ct.CREATING,!1),t?this._onDone.fire(t):await this._replyMessage(e,{})}})}}var QN=Object.defineProperty,YN=(n,e,t)=>e in n?QN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,pr=(n,e,t)=>YN(n,typeof e!="symbol"?e+"":e,t);const Jv=class ah extends d{constructor(e,t,i,r,a,o){super(),this.folderRepositoryManager=e,this.repositoryName=o,pr(this,"_baseOwner"),pr(this,"_baseBranch"),pr(this,"_compareOwner"),pr(this,"_compareBranch"),pr(this,"_constructed"),pr(this,"_onDidChange",new s.EventEmitter),pr(this,"onDidChange",this._onDidChange.event),pr(this,"_compareGitHubRepository"),pr(this,"_gitLog"),pr(this,"_gitFiles"),pr(this,"_compareHasUpstream",!1),pr(this,"_gitHubMergeBase"),pr(this,"_gitHubLog"),pr(this,"_gitHubFiles"),pr(this,"_gitHubcontentProvider"),pr(this,"_gitcontentProvider"),this._baseOwner=t,this._baseBranch=i,this._compareBranch=i,this._gitcontentProvider=new v_(this.folderRepositoryManager),this._compareGitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(v=>v.remote.owner===r&&v.remote.repositoryName===o),this._gitHubcontentProvider=new wp(this.folderRepositoryManager.gitHubRepositories),this._constructed=new Promise(v=>this.setCompareBranch(a).then(v)),this.compareOwner=r,this._register(e.repository.state.onDidChange(()=>{var v;((v=e.repository.state.HEAD)==null?void 0:v.name)===this._compareBranch&&this.update({})}))}get gitHubContentProvider(){return this._gitHubcontentProvider}get gitContentProvider(){return this._gitcontentProvider}get baseRemoteName(){var e,t;const i=`/${this._baseOwner.toLowerCase()}/`;return(t=(e=this.folderRepositoryManager.repository.state.remotes.find(r=>{var a;return(a=r.fetchUrl)==null?void 0:a.toLowerCase().includes(i)}))==null?void 0:e.name)!=null?t:"origin"}get baseOwner(){return this._baseOwner}set baseOwner(e){e!==this._baseOwner&&(this._baseOwner=e,this.update({baseOwner:this._baseOwner}))}get baseBranch(){return this._baseBranch}set baseBranch(e){e!==this._baseBranch&&(this._baseBranch=e,this.update({baseBranch:this._baseBranch}))}get compareOwner(){return this._compareOwner}set compareOwner(e){e!==this._compareOwner&&(this._compareOwner=e,this._compareGitHubRepository=this.folderRepositoryManager.gitHubRepositories.find(t=>t.remote.owner===this._compareOwner),this._compareGitHubRepository&&(this._gitHubcontentProvider.gitHubRepository=this._compareGitHubRepository),this.update({compareOwner:this._compareOwner}))}async getContentProvider(){return await this.getCompareHasUpstream()?this.gitHubContentProvider:this.gitContentProvider}async filesHaveChanges(){return this.getContentProvider().then(e=>e.hasChanges())}async applyChanges(e){return await this.getCompareHasUpstream()?this.gitHubContentProvider.applyChanges(e,this._compareBranch):this.gitContentProvider.applyChanges(e)}get compareBranch(){return this._compareBranch}async setCompareBranch(e){const t=this._compareHasUpstream;let i=!1;e&&(i=await this.updateHasUpstream(e)!==t),this._compareBranch!==e&&(i=!0,e&&(this._compareBranch=e)),i&&this.update({compareBranch:this._compareBranch})}async updateHasUpstream(e){var t;const i=await this.folderRepositoryManager.repository.getBranch(e);if(this._compareHasUpstream=!!i.upstream,this._compareHasUpstream){const r=await((t=this.gitHubRepository)==null?void 0:t.hasBranch(e));this._compareHasUpstream=r===i.commit}return this._compareHasUpstream}async getCompareHasUpstream(){return await this._constructed,this._compareHasUpstream}get gitHubRepository(){return this._compareGitHubRepository}update(e){var t;this._gitLog=void 0,this._gitFiles=void 0,this._gitHubLog=void 0,this._gitHubFiles=void 0,this.gitContentProvider.editableBranch=this._compareBranch===((t=this.folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name)?this._compareBranch:void 0,this.gitHubContentProvider.editableBranch=this._compareBranch,this._onDidChange.fire(e)}async gitCommits(){if(await this._constructed,this._gitLog===void 0){const e=this._baseBranch,t=this._compareBranch,i=this.folderRepositoryManager.repository.log({range:`${this.baseRemoteName}/${this._baseBranch}..${this._compareBranch}`});if(e!==this._baseBranch||t!==this._compareBranch)return i;this._gitLog=i}return this._gitLog}async gitFiles(){if(await this._constructed,this._gitFiles===void 0){const e=this._baseBranch,t=this._compareBranch,i=await this.folderRepositoryManager.repository.diffBetween(`${this.baseRemoteName}/${this._baseBranch}`,this._compareBranch);if(e!==this._baseBranch||t!==this._compareBranch)return y.debug(`Branches have changed while getting git diff. Base: ${e} -> ${this._baseBranch}, Compare: ${t} -> ${this._compareBranch}`,ah.ID),i;y.debug(`Got ${i.length} git file diffs for merging ${this._compareOwner}/${this._compareBranch} in ${this._baseOwner}/${this._baseBranch}`,ah.ID),this._gitFiles=i}return this._gitFiles}async gitHubCommits(){var e;if(await this._constructed,!this._compareGitHubRepository)return[];if(this._gitHubLog===void 0){const{octokit:t,remote:i}=await this._compareGitHubRepository.ensure(),{data:r}=await t.call(t.api.repos.compareCommits,{repo:i.repositoryName,owner:i.owner,base:`${this._baseOwner}:${this._baseBranch}`,head:`${this._compareOwner}:${this._compareBranch}`});this._gitHubLog=r.commits,this._gitHubFiles=(e=r.files)!=null?e:[],this._gitHubMergeBase=r.merge_base_commit.sha}return this._gitHubLog}async gitHubFiles(){return await this._constructed,this._gitHubFiles===void 0&&await this.gitHubCommits(),this._gitHubFiles}async gitHubMergeBase(){return await this._constructed,this._gitHubMergeBase===void 0&&await this.gitHubCommits(),this._gitHubMergeBase}};pr(Jv,"ID","CreatePullRequestDataModel");let ZN=Jv;var JN=Object.defineProperty,XN=(n,e,t)=>e in n?JN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Vl=(n,e,t)=>XN(n,typeof e!="symbol"?e+"":e,t);class eT extends d{constructor(){super(),Vl(this,"_currentDisposables",[]),Vl(this,"_createPRViewProvider"),Vl(this,"_treeView"),Vl(this,"_postCreateCallback"),Vl(this,"_activeContext")}async setActiveContext(e){this._activeContext&&await ei.setContext(this._activeContext,e)}registerListeners(e,t){g(this._createPRViewProvider.onDone(async i=>{await mr.withProgress(async()=>{var r;return(r=this._postCreateCallback)==null?void 0:r.call(this,i)}),this.dispose()}),this._currentDisposables),g(s.commands.registerCommand("pr.addAssigneesToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addAssignees()}),this._currentDisposables),g(s.commands.registerCommand("pr.addReviewersToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addReviewers()}),this._currentDisposables),g(s.commands.registerCommand("pr.addLabelsToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addLabels()}),this._currentDisposables),g(s.commands.registerCommand("pr.addMilestoneToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addMilestone()}),this._currentDisposables),g(s.commands.registerCommand("pr.addProjectsToNewPr",i=>{var r;return(r=this._createPRViewProvider)==null?void 0:r.addProjects()}),this._currentDisposables),g(s.commands.registerCommand("pr.createPrMenuCreate",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!1,void 0)}),this._currentDisposables),g(s.commands.registerCommand("pr.createPrMenuDraft",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!0,!1,void 0)}),this._currentDisposables),g(s.commands.registerCommand("pr.createPrMenuMergeWhenReady",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,void 0,!0)}),this._currentDisposables),g(s.commands.registerCommand("pr.createPrMenuMerge",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"merge")}),this._currentDisposables),g(s.commands.registerCommand("pr.createPrMenuSquash",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"squash")}),this._currentDisposables),g(s.commands.registerCommand("pr.createPrMenuRebase",()=>{var i;(i=this._createPRViewProvider)==null||i.createFromCommand(!1,!0,"rebase")}),this._currentDisposables),g(s.commands.registerCommand("pr.preReview",()=>{this._createPRViewProvider instanceof mr&&this._createPRViewProvider.review()}),this._currentDisposables),t&&g(e.state.onDidChange(i=>{this._createPRViewProvider&&e.state.HEAD&&this._createPRViewProvider instanceof mr&&this._createPRViewProvider.setDefaultCompareBranch(e.state.HEAD)}),this._currentDisposables)}get isCreatingPullRequest(){return!!this._createPRViewProvider}async ensureDefaultsAreLocal(e,t){if(e.gitHubRepositories.some(i=>i.remote.owner===t.owner&&i.remote.repositoryName===t.repo))return t;{const i=await e.getOrigin(),r=await e.getMetadata(i.remote.remoteName);return{owner:r.owner.login,repo:r.name,base:r.default_branch}}}async revert(e,t,i,r,a){var o;const v=!this._createPRViewProvider||!(this._createPRViewProvider instanceof Sc);if(v&&this.reset(),this._postCreateCallback=a,await i.loginAndUpdate(),this._activeContext="github:revertPullRequest",this.setActiveContext(!0),v){(o=this._createPRViewProvider)==null||o.dispose();const T={baseOwner:r.remote.owner,repositoryName:r.remote.repositoryName};this._createPRViewProvider=g(new Sc(e,T,t,i,{base:r.base.name,owner:r.remote.owner,repo:r.remote.repositoryName},r),this._currentDisposables),this.registerListeners(i.repository,!1),g(s.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider),this._currentDisposables)}this._createPRViewProvider.show()}async create(e,t,i,r,a){var o,v,T,x;const W=!this._createPRViewProvider||!(this._createPRViewProvider instanceof mr);W&&this.reset(),this._postCreateCallback=a,await i.loginAndUpdate(),this._activeContext="github:createPullRequest",this.setActiveContext(!0);const te=((v=r?await i.repository.getBranch(r):void 0)!=null?v:(o=i.repository.state.HEAD)!=null&&o.name)?i.repository.state.HEAD:void 0;let oe;if(W){(T=this._createPRViewProvider)==null||T.dispose();const fe=await this.ensureDefaultsAreLocal(i,await i.getPullRequestDefaults(te)),ye=await i.getOrigin(te),Pe=g(new ZN(i,fe.owner,fe.base,ye.remote.owner,(x=te==null?void 0:te.name)!=null?x:fe.base,ye.remote.repositoryName),this._currentDisposables);oe=this._createPRViewProvider=new mr(e,Pe,t,i,fe),this._treeView=g(new Kv(i,Pe),this._currentDisposables),this.registerListeners(i.repository,!r),g(s.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider),this._currentDisposables)}else oe=this._createPRViewProvider;oe.show(te)}reset(){this.setActiveContext(!1),c(this._currentDisposables),this._createPRViewProvider=void 0,this._treeView=void 0,this._postCreateCallback=void 0,this._activeContext=void 0}dispose(){this.reset(),super.dispose()}}class tT extends jv{constructor(){super()}registerPullRequestPropertyChangedListeners(e,t){return t.onDidChangeFileViewedState(i=>{i.changed.forEach(r=>{this._handlePullRequestPropertyChange(e,t,{path:r.fileName})})})}provideFileDecoration(e,t){if(!e.query)return;const i=ip(e);if(i&&i.status!==void 0)return{propagate:!1,badge:this.letter(i.status),color:this.color(i.status),tooltip:this.tooltip(i)};const r=Nn(e);if(r&&r.status!==void 0)return{propagate:!1,badge:this.letter(r.status),color:this.color(r.status),tooltip:this.tooltip(r)}}gitColors(e){switch(e){case $t.MODIFY:return"gitDecoration.modifiedResourceForeground";case $t.ADD:return"gitDecoration.addedResourceForeground";case $t.DELETE:return"gitDecoration.deletedResourceForeground";case $t.RENAME:return"gitDecoration.renamedResourceForeground";case $t.UNKNOWN:return;case $t.UNMERGED:return"gitDecoration.conflictingResourceForeground"}}remoteReposColors(e){switch(e){case $t.MODIFY:return"remoteHub.decorations.modifiedForegroundColor";case $t.ADD:return"remoteHub.decorations.addedForegroundColor";case $t.DELETE:return"remoteHub.decorations.deletedForegroundColor";case $t.RENAME:return"remoteHub.decorations.incomingRenamedForegroundColor";case $t.UNKNOWN:return;case $t.UNMERGED:return"remoteHub.decorations.conflictForegroundColor"}}color(e){let t=s.extensions.getExtension("vscode.git")?this.gitColors(e):this.remoteReposColors(e);return t?new s.ThemeColor(t):void 0}letter(e){switch(e){case $t.MODIFY:return"M";case $t.ADD:return"A";case $t.DELETE:return"D";case $t.RENAME:return"R";case $t.UNKNOWN:return"U";case $t.UNMERGED:return"C"}return""}tooltip(e){if(e.status===$t.RENAME&&e.previousFileName)return`Renamed ${e.previousFileName} to ${z.basename(e.fileName)}`}}class iT extends jd{constructor(e,t,i){super(t,i),this.repos=e}async readFile(e){await this.waitForAuth(),await this.waitForAnyGitHubRepos(this.repos);const t=Ow(e);if(!t)throw new Error(`Invalid GitHub commit URI: ${e.toString()}`);const i=this.repos.getManagerForRepository(t.owner,t.repo);if(!i)throw new Error(`Repository not found for owner: ${t.owner}, repo: ${t.repo}`);const r=await i.createGitHubRepositoryFromOwnerName(t.owner,t.repo);if(!r)throw new Error(`GitHub repository not found for owner: ${t.owner}, repo: ${t.repo}`);return r.getFile(e.path,t.commit)}}var Rc;(n=>{function e(t,i){const r=i.some(v=>t.items.some(T=>T[0]===v)),a=[],o=[];if(t.items.forEach(v=>{const T=v[0],x=v[1];T instanceof zs&&(x==s.TreeItemCheckboxState.Checked?a.push(T):o.push(T)),T.updateFromCheckboxChanged(x)}),r)for(const v of i)v instanceof zs&&!a.includes(v)&&!o.includes(v)&&(v.checkboxState.state===s.TreeItemCheckboxState.Unchecked?a.push(v):o.push(v));if(a.length>0){const v=a[0].pullRequest,T=a.map(x=>x.fileName);v.markFiles(T,!0,"viewed")}if(o.length>0){const v=o[0].pullRequest,T=o.map(x=>x.fileName);v.markFiles(T,!0,"unviewed")}}n.processCheckboxUpdates=e})(Rc||(Rc={}));var nT=Object.defineProperty,rT=(n,e,t)=>e in n?nT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jl=(n,e,t)=>rT(n,typeof e!="symbol"?e+"":e,t);class Xv extends d{constructor(e,t){super(),this._git=e,this._reposManager=t,jl(this,"_onDidChangeTreeData",new s.EventEmitter),jl(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),jl(this,"_pullRequestManagerMap",new Map),jl(this,"_view"),jl(this,"_children"),this._view=this._register(s.window.createTreeView("prStatus:github",{treeDataProvider:this,showCollapseAll:!0,canSelectMany:!0})),this._register(s.workspace.onDidChangeConfiguration(async i=>{if(i.affectsConfiguration(`${tt}.${Rt}`)){this._onDidChangeTreeData.fire();const r=s.workspace.getConfiguration(tt).get(Rt);await s.commands.executeCommand("setContext","fileListLayout:flat",r==="flat")}else i.affectsConfiguration(`${vr}.${Va}`)&&this._onDidChangeTreeData.fire()})),this._register(this._view.onDidChangeCheckboxState(i=>Rc.processCheckboxUpdates(i,this._view.selection)))}get view(){return this._view}refresh(e){this._onDidChangeTreeData.fire(e)}updateViewTitle(){let e;if(this._pullRequestManagerMap.size===1){const t=this._pullRequestManagerMap.values().next();t.done||(e=t.value.pullRequestModel.number)}this._view.title=e?s.l10n.t("Changes in Pull Request #{0}",e):this._pullRequestManagerMap.size>1?s.l10n.t("Changes in Pull Requests"):s.l10n.t("Changes in Pull Request")}async addPrToView(e,t,i,r,a){if(y.appendLine(`Adding PR #${t.number} to tree`,P),this._pullRequestManagerMap.has(e)){const v=this._pullRequestManagerMap.get(e);if(v&&v.pullRequestModel===t){y.appendLine(`PR #${t.number} already exists in tree`,P);return}else v==null||v.dispose()}const o=new Fa(this,t,e,i,a);this._pullRequestManagerMap.set(e,o),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire(),r&&this.reveal(o)}async setReviewModeContexts(){await ei.setContext(Ct.IN_REVIEW_MODE,this._pullRequestManagerMap.size>0);const e=[],t=[];this._git.repositories.forEach(i=>{const r=this._reposManager.getManagerForFile(i.rootUri);r&&!this._pullRequestManagerMap.has(r)?e.push(i.rootUri):r&&t.push(i.rootUri)}),await ei.setContext(Ct.REPOS_NOT_IN_REVIEW_MODE,e),await ei.setContext(Ct.REPOS_IN_REVIEW_MODE,t)}async removePrFromView(e){const t=this._pullRequestManagerMap.has(e)?this._pullRequestManagerMap.get(e):void 0;t&&y.appendLine(`Removing PR #${t.pullRequestModel.number} from tree`,P),t==null||t.dispose(),this._pullRequestManagerMap.delete(e),this.updateViewTitle(),await this.setReviewModeContexts(),this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}getParent(e){return e.getParent()}async reveal(e,t){try{await this._view.reveal(e,t)}catch(i){y.error(i,P)}}get children(){return this._children}sortMap(){const e=s.workspace.workspaceFolders,t=(i,r)=>{const a=i.fsPath.toLowerCase(),o=r.fsPath.toLowerCase();return J(a,o)||J(o,a)};return Array.from(this._pullRequestManagerMap.entries()).sort((i,r)=>{if(i[0].repository.rootUri.toString()===r[0].repository.rootUri.toString()||!e)return 0;const a=e.findIndex(v=>t(v.uri,i[0].repository.rootUri)),o=e.findIndex(v=>t(v.uri,r[0].repository.rootUri));return a===-1?1:o===-1?-1:a-o}).map(([i,r])=>r)}async getChildren(e){if(e)return await e.getChildren();if(this._children=[],this._pullRequestManagerMap.size>=1){const t=this.sortMap();for(const i of t)this._children.push(i)}return this._children}getDescriptionNode(e){return this._pullRequestManagerMap.get(e)}async resolveTreeItem(e,t){return t instanceof Do&&await t.resolve(),t}}var aT=Object.defineProperty,sT=(n,e,t)=>e in n?aT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,e0=(n,e,t)=>sT(n,typeof e!="symbol"?e+"":e,t);class oT extends d{constructor(e){super(),this._notificationProvider=e,e0(this,"_onDidChangeFileDecorations",new s.EventEmitter),e0(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this)),this._register(this._notificationProvider.onDidChangeNotifications(t=>this._onDidChangeFileDecorations.fire(t)))}provideFileDecoration(e,t){if(!e.query)return;const i=Jm(e);if(i&&this._notificationProvider.hasNotification(i.prIdentifier))return{propagate:!1,color:new s.ThemeColor("pullRequests.notification"),badge:"\u25CF",tooltip:"unread notification"}}}var lT=Object.defineProperty,uT=(n,e,t)=>e in n?lT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Sr=(n,e,t)=>uT(n,typeof e!="symbol"?e+"":e,t);const t0=60;class cT{constructor(e,t,i,r,a){Sr(this,"identifier"),Sr(this,"threadId"),Sr(this,"repositoryName"),Sr(this,"pullRequestNumber"),Sr(this,"pullRequestModel"),this.identifier=e,this.threadId=t,this.repositoryName=i,this.pullRequestNumber=r,this.pullRequestModel=a}}const i0=class Ss extends d{constructor(e,t,i){super(),Sr(this,"_gitHubPrsTree"),Sr(this,"_credentialStore"),Sr(this,"_authProvider"),Sr(this,"_notifications"),Sr(this,"_reposManager"),Sr(this,"_pollingDuration"),Sr(this,"_lastModified"),Sr(this,"_pollingHandler"),Sr(this,"_onDidChangeNotifications",this._register(new s.EventEmitter)),Sr(this,"onDidChangeNotifications",this._onDidChangeNotifications.event),this._gitHubPrsTree=e,this._credentialStore=t,this._reposManager=i,this._notifications=new Map,this._lastModified="",this._pollingDuration=t0,this._pollingHandler=null,this.registerAuthProvider(t);for(const r of this._reposManager.folderManagers)this._register(r.onDidChangeGithubRepositories(()=>{this.refreshOrLaunchPolling()}));this._register(e.onDidChangeTreeData(r=>{Ss.isPRNotificationsOn()&&this.adaptPRNotifications(r)})),this._register(e.onDidChange(()=>{Ss.isPRNotificationsOn()&&this.adaptPRNotifications()})),this._register(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${tt}.${Si}`)&&this.checkNotificationSetting()}))}static isPRNotificationsOn(){return s.workspace.getConfiguration(tt).get(Si)==="pullRequests"}registerAuthProvider(e){e.isAuthenticated(li.githubEnterprise)&&Lr()?this._authProvider=li.githubEnterprise:e.isAuthenticated(li.github)&&(this._authProvider=li.github),this._register(s.authentication.onDidChangeSessions(t=>{e.isAuthenticated(li.githubEnterprise)&&Lr()&&(this._authProvider=li.githubEnterprise),e.isAuthenticated(li.github)&&(this._authProvider=li.github)}))}getPrIdentifier(e){if(e instanceof Gn)return`${e.remote.url}:${e.number}`;const t=e.subject.url.split("/"),i=t[t.length-1];return`${e.repository.html_url}.git:${i}`}hasNotification(e){const t=e instanceof Gn?this.getPrIdentifier(e):e,i=this._notifications.get(t);return i!==void 0&&i.length>0}updateViewBadge(){const e=this._gitHubPrsTree.view,t=s.l10n.t("1 notification"),i=s.l10n.t("{0} notifications",this._notifications.size);e.badge=this._notifications.size!==0?{tooltip:this._notifications.size===1?t:i,value:this._notifications.size}:void 0}adaptPRNotifications(e){this._pollingHandler===void 0&&this.startPolling();const t=i=>{const r=this._notifications.get(this.getPrIdentifier(i));if(r){for(const a of r)if(a){a.pullRequestModel=i;return}}};if(e instanceof Ln)t(e.pullRequestModel);else if(Array.isArray(e))for(const i of e)i instanceof Ln&&t(i.pullRequestModel);this._gitHubPrsTree.cachedChildren().then(async i=>{let r=[];for(const a of i)if(a.id==="All Open")if(a.prs.size===0)for(const o of await a.cachedChildren())o instanceof Ln&&r.push(o.pullRequestModel);else r=Array.from(a.prs.values());r.forEach(a=>{const o=this._notifications.get(this.getPrIdentifier(a));if(o)for(const v of o)v.pullRequestModel=a})})}refreshOrLaunchPolling(){this._lastModified="",this.checkNotificationSetting()}checkNotificationSetting(){const e=Ss.isPRNotificationsOn();e&&this._pollingHandler===null?this.startPolling():!e&&this._pollingHandler!==null&&(clearInterval(this._pollingHandler),this._lastModified="",this._pollingHandler=null,this._pollingDuration=t0,this._onDidChangeNotifications.fire(this.uriFromNotifications()),this._notifications.clear(),this.updateViewBadge())}uriFromNotifications(){const e=[];for(const[t,i]of this._notifications.entries())i.length&&e.push(Bu(t));return e}getGitHub(){return this._authProvider!==void 0?this._credentialStore.getHub(this._authProvider):void 0}async getNotifications(){const e=this.getGitHub();if(e===void 0)return;const{data:t,headers:i}=await e.octokit.call(e.octokit.api.activity.listNotificationsForAuthenticatedUser,{});return{data:t,headers:i}}async markNotificationThreadAsRead(e){const t=this.getGitHub();t&&await t.octokit.call(t.octokit.api.activity.markThreadAsRead,{thread_id:e})}async markPrNotificationsAsRead(e){const t=this.getPrIdentifier(e),i=this._notifications.get(t);if(i&&i.length){for(const a of i)await this.markNotificationThreadAsRead(a.threadId);const r=this.uriFromNotifications();this._onDidChangeNotifications.fire(r),this._notifications.delete(t),this.updateViewBadge()}}async pollForNewNotifications(){var e;const t=await this.getNotifications();if(t===void 0)return;const{data:i,headers:r}=t,a=Number(r["x-poll-interval"]);if(a!==this._pollingDuration&&(this._pollingDuration=a,this._pollingHandler&&Ss.isPRNotificationsOn()&&(y.appendLine("Notifications: Clearing interval",Ss.ID),clearInterval(this._pollingHandler),y.appendLine(`Notifications: Starting new polling interval with ${this._pollingDuration}`,Ss.ID),this.startPolling())),this._lastModified===r["last-modified"])return;this._lastModified=(e=r["last-modified"])!=null?e:"";const o=this.uriFromNotifications();this._notifications.clear();const v=new Map;this._reposManager.folderManagers.forEach(T=>{T.gitHubRepositories.forEach(x=>{v.set(x.remote.url,x)})}),await Promise.all(i.map(async T=>{var x;const W=`${T.repository.html_url}.git`,te=v.get(W);if(te&&T.subject.type==="PullRequest"){const oe=T.subject.url.split("/"),fe=Number(oe[oe.length-1]),ye=this.getPrIdentifier(T),{remote:Pe,query:Ce,schema:De}=await te.ensure(),{data:Le}=await Ce({query:De.PullRequestState,variables:{owner:Pe.owner,name:Pe.repositoryName,number:fe}});if(Le.repository===null&&y.error("Unexpected null repository when getting notifications",Ss.ID),((x=Le.repository)==null?void 0:x.pullRequest.state)==="OPEN"){const $e=new cT(ye,Number(T.id),T.repository.name,Number(fe)),Ze=this._notifications.get(ye);Ze===void 0?this._notifications.set(ye,[$e]):Ze.push($e)}}})),this.adaptPRNotifications(),this.updateViewBadge();for(const T of this.uriFromNotifications())o.find(x=>x.fsPath===T.fsPath)===void 0&&o.push(T);this._onDidChangeNotifications.fire(o)}startPolling(){this.pollForNewNotifications(),this._pollingHandler=setInterval(function(e){e.pollForNewNotifications()},this._pollingDuration*1e3,this),this._register({dispose:()=>clearInterval(this._pollingHandler)})}};Sr(i0,"ID","NotificationProvider");let dT=i0;var fT=Object.defineProperty,hT=(n,e,t)=>e in n?fT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,n0=(n,e,t)=>hT(n,typeof e!="symbol"?e+"":e,t);class mT extends d{constructor(e,t){super(),this._prsTreeModel=e,this._copilotManager=t,n0(this,"_onDidChangeFileDecorations",new s.EventEmitter),n0(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event),this._register(s.window.registerFileDecorationProvider(this)),this._register(this._prsTreeModel.onDidChangePrStatus(i=>{this._onDidChangeFileDecorations.fire(i.map(r=>Bu(r)))})),this._register(this._copilotManager.onDidChangeNotifications(i=>{const r=[ap];for(const a of i)r.push(Bu(a));this._onDidChangeFileDecorations.fire(r)}))}provideFileDecoration(e,t){if(e.scheme===qt.PRQuery)return this._queryDecoration(e);if(e.scheme!==qt.PRNode)return;const i=Jm(e);if(!i)return;const r=this._getCopilotDecoration(i);if(r)return r;const a=this._prsTreeModel.cachedPRStatus(i.prIdentifier);return a?ng(a.status):void 0}_getCopilotDecoration(e){const t=Bw(e.prIdentifier);if(!t)return;const i=new br(t.remote);if(this._copilotManager.hasNotification(i.owner,i.repositoryName,t.prNumber))return{badge:new s.ThemeIcon("copilot"),color:new s.ThemeColor("pullRequests.notification")}}_queryDecoration(e){if(e.path==="copilot"&&this._copilotManager.notificationsCount>0)return{tooltip:s.l10n.t("Coding agent has made changes",this._copilotManager.notificationsCount),badge:new s.ThemeIcon("copilot"),color:new s.ThemeColor("pullRequests.notification")}}}var pT=Object.defineProperty,gT=(n,e,t)=>e in n?pT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,jr=(n,e,t)=>gT(n,typeof e!="symbol"?e+"":e,t);const r0="expandedQueries";class vT extends d{constructor(e,t,i){super(),this._telemetry=e,this._reposManager=t,this._context=i,jr(this,"_activePRDisposables",new Map),jr(this,"_onDidChangePrStatus",this._register(new s.EventEmitter)),jr(this,"onDidChangePrStatus",this._onDidChangePrStatus.event),jr(this,"_onDidChangeData",this._register(new s.EventEmitter)),jr(this,"onDidChangeData",this._onDidChangeData.event),jr(this,"_expandedQueries"),jr(this,"_hasLoaded",!1),jr(this,"_onLoaded",this._register(new s.EventEmitter)),jr(this,"onLoaded",this._onLoaded.event),jr(this,"_queriedPullRequests",new Map),jr(this,"_cachedPRs",new Map),jr(this,"_repoEvents",new Map),jr(this,"_getPullRequestsForQueryLock",Promise.resolve());const r=o=>{this._repoEvents.has(o)?c(this._repoEvents.get(o)):this._repoEvents.set(o,[]),this._repoEvents.get(o).push(o.onDidChangeActivePullRequest(v=>{const T=[];v.old&&T.push({model:v.old,event:{}}),v.new&&T.push({model:v.new,event:{}}),this._onDidChangeData.fire(T),this._activePRDisposables.has(o)&&(c(this._activePRDisposables.get(o)),this._activePRDisposables.delete(o)),o.activePullRequest&&this._activePRDisposables.set(o,[o.activePullRequest.onDidChange(x=>{x.comments&&o.activePullRequest&&this._onDidChangeData.fire([{model:o.activePullRequest,event:x}])})])}))};this._register({dispose:()=>this._repoEvents.forEach(o=>c(o))});for(const o of this._reposManager.folderManagers)r(o);this._register(this._reposManager.onDidChangeAnyPullRequests(o=>{const v=o.filter(T=>T.event.state||T.event.title||T.event.body||T.event.comments||T.event.draft||T.event.timeline);this.clearQueriesContainingPullRequests(v),this._onDidChangeData.fire(v)})),this._register(this._reposManager.onDidAddPullRequest(()=>{this._hasLoaded&&this._onDidChangeData.fire()})),this._register(this._reposManager.onDidChangeFolderRepositories(o=>{o.added&&(r(o.added),this._onDidChangeData.fire(o.added))}));const a=this._context.workspaceState.get(r0,void 0);a&&(this._expandedQueries=new Set(a))}updateExpandedQueries(e,t){this._expandedQueries||(this._expandedQueries=new Set),e instanceof pa&&e.id&&(t?this._expandedQueries.add(e.id):this._expandedQueries.delete(e.id),this._context.workspaceState.update(r0,Array.from(this._expandedQueries.keys())))}get expandedQueries(){return this._reposManager.folderManagers.length>3&&this._expandedQueries&&this._expandedQueries.size>0?new Set:this._expandedQueries}get hasLoaded(){return this._hasLoaded}set hasLoaded(e){this._hasLoaded=e,this._onLoaded.fire()}cachedPRStatus(e){return this._queriedPullRequests.get(e)}clearCache(e=!1){this._cachedPRs.size!==0&&(this._cachedPRs.clear(),e||this._onDidChangeData.fire())}clearRepo(e){this._cachedPRs.delete(e),this._onDidChangeData.fire(e)}async _getChecks(e){let t=[];for(let r=0;r<e.length;r+=100){const a=r+100<e.length?r+100:e.length;t.push(...await Promise.all(e.slice(r,a).map(o=>o.getStatusChecks())))}const i=[];for(let r=0;r<e.length;r++){const a=e[r],[o,v]=t[r];let T=Ar.None;if(v&&(v.state===kn.Failure?T|=Ar.ReviewRequired:v.state==kn.Pending&&(T|=Ar.ChangesRequested)),!o||o.state===kn.Unknown)continue;if(o.state!==kn.Success){for(const te of o.statuses)te.state===kn.Failure?T|=Ar.CIFailed:te.state===kn.Pending&&(T|=Ar.CIPending);T===Ar.None&&(T|=Ar.CIPending)}const x=Id(a),W=this._queriedPullRequests.get(x);if(W===void 0||W.status!==T){const te={pullRequest:a,status:T};i.push(x),this._queriedPullRequests.set(x,te)}}this._onDidChangePrStatus.fire(i)}getFolderCache(e){let t=this._cachedPRs.get(e);return t||(t=new Map,this._cachedPRs.set(e,t)),t}async getLocalPullRequests(e,t){const i=this.getFolderCache(e);if(!t&&i.has(ji.LocalPullRequest))return i.get(ji.LocalPullRequest);const r=ht(),a=(await e.getLocalPullRequests()).filter(o=>o.isOpen||o.isClosed&&r.closed||o.isMerged&&r.merged);return i.set(ji.LocalPullRequest,{hasMorePages:!1,hasUnsearchedRepositories:!1,items:a,totalCount:a.length}),this._telemetry.sendTelemetryEvent("pr.expand.local"),this._getChecks(a),this.hasLoaded=!0,{hasMorePages:!1,hasUnsearchedRepositories:!1,items:a}}async getPullRequestsForQuery(e,t,i){let r;const a=new Promise(v=>{r=v}),o=this._getPullRequestsForQueryLock;this._getPullRequestsForQueryLock=o.then(()=>a),await o;try{const v=this.getFolderCache(e);if(!t&&v.has(i))return v.get(i);const T=await e.getPullRequests(ji.Query,{fetchNextPage:t},i);return v.set(i,T),this._telemetry.sendTelemetryEvent("pr.expand.query"),this._getChecks(T.items),this.hasLoaded=!0,T}finally{r()}}async getAllPullRequests(e,t,i){const r=this.getFolderCache(e);if(!i&&r.has(ji.All)&&!t)return r.get(ji.All);const a=await e.getPullRequests(ji.All,{fetchNextPage:t});return r.set(ji.All,a),this._telemetry.sendTelemetryEvent("pr.expand.all"),this._getChecks(a.items),this.hasLoaded=!0,a}clearQueriesContainingPullRequests(e){const t=e.filter(i=>i.event.state);if(!(!t||t.length===0))for(const[,i]of this._cachedPRs.entries())for(const[r,a]of i.entries()){if(!a||!a.items||a.items.length===0)continue;t.some(v=>a.items.some(T=>T===v.model))&&i.delete(r)}}dispose(){super.dispose(),c(Array.from(this._activePRDisposables.values()).flat())}}var bT=Object.defineProperty,yT=(n,e,t)=>e in n?bT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Yf=(n,e,t)=>yT(n,typeof e!="symbol"?e+"":e,t);class ra extends er{constructor(e,t,i,r,a,o,v,T){super(e),this.folderManager=i,this.telemetry=r,this.notificationProvider=a,this.context=o,this._prsTreeModel=v,this._copilotMananger=T,Yf(this,"_children"),Yf(this,"collapsibleState"),Yf(this,"iconPath"),this.collapsibleState=s.TreeItemCollapsibleState.Expanded,this.label=z.basename(t.fsPath),this.id=i.repository.rootUri.toString()}async expandPullRequest(e){if(this._children){for(const t of this._children)if(t.type===ji.All)return t.expandPullRequest(e)}return!1}static async getQueries(e){var t;return(t=s.workspace.getConfiguration(tt,e.repository.rootUri).get(ai))!=null?t:[]}getTreeItem(){return this}async getChildren(e=!0){return super.getChildren(e),!e&&this._children?this._children:(this._children=await ra.getCategoryTreeNodes(this.folderManager,this.telemetry,this,this.notificationProvider,this.context,this._prsTreeModel,this._copilotMananger),this._children)}static async getCategoryTreeNodes(e,t,i,r,a,o,v){const T=await ra.getQueries(e),x=new Map;for(const W of T)zf(W)?x.set(W.label,new pa(i,e,t,ji.LocalPullRequest,r,o,v)):Wf(W)?x.set(W.label,new pa(i,e,t,ji.All,r,o,v)):x.set(W.label,new pa(i,e,t,ji.Query,r,o,v,W.label,W.query));return Array.from(x.values())}}var wT=Object.defineProperty,_T=(n,e,t)=>e in n?wT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rs=(n,e,t)=>_T(n,typeof e!="symbol"?e+"":e,t);class a0 extends d{constructor(e,t,i,r){super(),this._telemetry=e,this._context=t,this._reposManager=i,this._copilotManager=r,rs(this,"_onDidChangeTreeData",new s.EventEmitter),rs(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),rs(this,"_onDidChange",new s.EventEmitter),rs(this,"_children"),rs(this,"_view"),rs(this,"_initialized",!1),rs(this,"notificationProvider"),rs(this,"prsTreeModel"),rs(this,"_notificationClearTimeout"),this.prsTreeModel=this._register(new vT(this._telemetry,this._reposManager,t)),this._register(this.prsTreeModel.onDidChangeData(a=>{a instanceof Ks?this.refreshRepo(a):Array.isArray(a)?this.refreshPullRequests(a):this.refreshAllQueryResults(!0)})),this._register(new mT(this.prsTreeModel,this._copilotManager)),this._register(s.commands.registerCommand("pr.refreshList",a=>{this.refreshAllQueryResults(!0)})),this._register(s.commands.registerCommand("pr.loadMore",a=>{a.fetchNextPage=!0,this.refresh(a)})),this._view=this._register(s.window.createTreeView("pr:github",{treeDataProvider:this,showCollapseAll:!0})),this._register(this._view.onDidChangeVisibility(a=>{if(a.visible){const o=Jn.getCurrentPullRequest();o&&this.syncWithActivePullRequest(o)}})),this._register({dispose:()=>{this._notificationClearTimeout&&(clearTimeout(this._notificationClearTimeout),this._notificationClearTimeout=void 0)}}),this._register(this._copilotManager.onDidChangeStates(()=>{this.refreshAllQueryResults()})),this._register(this._copilotManager.onDidChangeNotifications(()=>{this._copilotManager.notificationsCount>0?this._view.badge={tooltip:this._copilotManager.notificationsCount===1?s.l10n.t("Coding agent has 1 pull request to view"):s.l10n.t("Coding agent has {0} pull requests to view",this._copilotManager.notificationsCount),value:this._copilotManager.notificationsCount}:this._view.badge=void 0})),this._register(this._copilotManager.onDidCreatePullRequest(()=>this.refreshAllQueryResults(!0))),this._register(Jn.onVisible(a=>{this._view.visible&&this.syncWithActivePullRequest(a)})),this._children=[],this._register(s.commands.registerCommand("pr.configurePRViewlet",async()=>{switch(await s.window.showQuickPick(["Configure Remotes...","Configure Queries...","Configure All Pull Request Settings..."])){case"Configure Queries...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${bn} pull request queries`);case"Configure Remotes...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${bn} remotes`);case"Configure All Pull Request Settings...":return s.commands.executeCommand("workbench.action.openSettings",`@ext:${bn} pull request`);default:return}})),this._register(s.workspace.onDidChangeConfiguration(a=>{a.affectsConfiguration(`${tt}.${Rt}`)&&this.refreshAll()})),this._register(this._view.onDidChangeCheckboxState(a=>Rc.processCheckboxUpdates(a,[]))),this._register(this._view.onDidExpandElement(a=>{this.prsTreeModel.updateExpandedQueries(a.element,!0)})),this._register(this._view.onDidCollapseElement(a=>{this.prsTreeModel.updateExpandedQueries(a.element,!1)}))}get onDidChange(){return this._onDidChange.event}get children(){return this._children}get view(){return this._view}async expandPullRequest(e){this._children.length===0&&await this.getChildren();for(const t of this._children)if(t instanceof ra){if(await t.expandPullRequest(e))return}else if(t.type===ji.All&&await t.expandPullRequest(e))return}async reveal(e,t){return this._view.reveal(e,t)}async syncWithActivePullRequest(e){if(!this._view.selection.find(i=>i instanceof Ln&&i.pullRequestModel.number===e.number&&i.pullRequestModel.remote.owner===e.remote.owner&&i.pullRequestModel.remote.repositoryName===e.remote.repositoryName))try{const i=await this.findPRNode(e);i&&await this.reveal(i,{select:!0,focus:!1,expand:!1})}catch(i){y.warn(`Failed to sync tree view with active PR: ${i}`)}}async findPRNode(e){this._children.length===0&&await this.getChildren();for(const t of this._children)if(t instanceof ra){const i=await this.findPRNodeInWorkspaceFolder(t,e);if(i)return i}else if(t instanceof pa){const i=await this.findPRNodeInCategory(t,e);if(i)return i}}async findPRNodeInWorkspaceFolder(e,t){const i=await e.getChildren(!1);for(const r of i)if(r instanceof pa){const a=await this.findPRNodeInCategory(r,t);if(a)return a}}async findPRNodeInCategory(e,t){if(e.collapsibleState!==s.TreeItemCollapsibleState.Expanded)return;const i=await e.getChildren(!1);for(const r of i)if(r instanceof Ln&&r.pullRequestModel.number===t.number&&r.pullRequestModel.remote.owner===t.remote.owner&&r.pullRequestModel.remote.repositoryName===t.remote.repositoryName)return r}initialize(e,t){if(this._initialized)throw new Error("Tree has already been initialized!");this._initialized=!0,this._register(this._reposManager.onDidChangeState(()=>{this.refreshAll()}));for(const i of e)this._register(i.onDidChangeLocalFileChanges(r=>{this.refreshAllQueryResults()}));this.notificationProvider=this._register(new dT(this,t,this._reposManager)),this.initializeCategories(),this.refreshAll()}async initializeCategories(){this._register(s.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${tt}.${ai}`)&&this.refreshAll()}))}refreshAll(e){this.tryReset(!!e),this._onDidChangeTreeData.fire()}tryReset(e){e&&this.prsTreeModel.clearCache(!0)}refreshAllQueryResults(e){if(this.tryReset(!!e),!this._children||this._children.length===0){this._onDidChangeTreeData.fire();return}if(this._children[0]instanceof ra){this._children.forEach(t=>this.refreshQueryResultsForFolder(t));return}this.refreshQueryResultsForFolder()}refreshQueryResultsForFolder(e,t){var i;if(!e&&this._children[0]instanceof ra)throw new Error("Must specify a folder node to refresh when there are multiple folder nodes");if(!this._children||this._children.length===0){this._onDidChangeTreeData.fire();return}const r=(i=e==null?void 0:e.children)!=null?i:this._children;this.tryReset(!!t),this._onDidChangeTreeData.fire([...r])}refresh(e,t){return this.tryReset(!!t),this._onDidChangeTreeData.fire(e)}refreshRepo(e){if(this._children.length===0||this._children[0]instanceof pa&&this._children[0].folderRepoManager===e)return this.refreshQueryResultsForFolder(void 0,!0);if(this._children[0]instanceof ra){const i=this._children.find(r=>r.folderManager===e);if(i){this.refreshQueryResultsForFolder(i);return}}}refreshPullRequests(e){var t,i,r;if(!((t=this._children)!=null&&t.length)||!(e!=null&&e.length))return;const a=[],o=new Set,v=new Set;for(const te of e)v.add(te.model.number),te.event.state&&o.add(te.model.number);const T=te=>{var oe;const fe=(oe=te.children)!=null?oe:[];for(const ye of fe)if(ye instanceof Ln&&o.has(ye.pullRequestModel.number))return!0;return!1},x=new Set;for(const te of this._children)if(te instanceof ra){const oe=(i=te.children)!=null?i:[];for(const fe of oe)fe instanceof pa&&!x.has(fe)&&T(fe)&&x.add(fe)}else te instanceof pa&&!x.has(te)&&T(te)&&x.add(te);const W=te=>{var oe;const fe=(oe=te.children)!=null?oe:[];for(const ye of fe)ye instanceof Ln&&v.has(ye.pullRequestModel.number)&&a.push(ye)};for(const te of this._children)if(te instanceof ra){const oe=(r=te.children)!=null?r:[];for(const fe of oe)fe instanceof pa&&!x.has(fe)&&W(fe)}else te instanceof pa&&!x.has(te)&&W(te);(a.length||x.size>0)&&this._onDidChangeTreeData.fire([...Array.from(x),...a])}getTreeItem(e){return e.getTreeItem()}async resolveTreeItem(e,t){var i;return t instanceof Ud?(await t.resolve(),e=t.getTreeItem()):t instanceof Ln&&(e.tooltip=await vs(t.pullRequestModel,this._context,this._reposManager,void 0,(i=this.prsTreeModel.cachedPRStatus(Id(t.pullRequestModel)))==null?void 0:i.status)),e}async needsRemotes(){var e,t,i;if(((e=this._reposManager)==null?void 0:e.state)===tr.NeedsAuthentication)return[];const r=s.workspace.getConfiguration(tt).get(Ri);let a;r?a=[new ys(this,Zo.NoMatchingRemotes),new ys(this,Zo.ConfigureRemotes)]:a=[new ys(this,Zo.NoRemotes)];const{enterpriseRemotes:o}=this._reposManager?await Lm((t=this._reposManager)==null?void 0:t.folderManagers):{enterpriseRemotes:[]};return o.length>0&&!((i=this._reposManager)!=null&&i.credentialStore.isAuthenticated(li.githubEnterprise))&&a.push(new ys(this,Zo.LoginEnterprise)),a}async cachedChildren(e){return e?e.cachedChildren():this._children}async getChildren(e){var t;if(!((t=this._reposManager)!=null&&t.folderManagers.length))return[];if(this._reposManager.state===tr.Initializing)return ei.setContext(Ct.LOADING_PRS_TREE,!0),[];const i=await Promise.all(this._reposManager.folderManagers.map(a=>a.getGitHubRemotes()));if(this._reposManager.folderManagers.filter((a,o)=>i[o].length>0).length===0)return this.needsRemotes();const r=this._reposManager.folderManagers.filter(a=>a.gitHubRepositories.length>0);if(!e){this._children&&this._children.length&&this._children.forEach(o=>o.dispose());let a;return r.length===1?a=await ra.getCategoryTreeNodes(r[0],this._telemetry,this,this.notificationProvider,this._context,this.prsTreeModel,this._copilotManager):a=r.map(o=>new ra(this,o.repository.rootUri,o,this._telemetry,this.notificationProvider,this._context,this.prsTreeModel,this._copilotManager)),this._children=a,a}return r.filter(a=>a.repository.state.remotes.length>0).length===0?Promise.resolve([new ys(this,Zo.Empty)]):e.getChildren()}async getParent(e){return e.getParent()}}var kT=Object.defineProperty,ST=(n,e,t)=>e in n?kT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,s0=(n,e,t)=>ST(n,typeof e!="symbol"?e+"":e,t);const o0=class Kl extends jd{constructor(e,t,i){super(e,t),this.getReviewManagers=i,s0(this,"_fallback")}getChangeModelForFileAndFilesArray(e,t){for(const i of this.getReviewManagers()){const r=t(i);for(const a of r)if(a.changeModel.filePath.authority===e.authority&&a.changeModel.filePath.path===e.path)return a.changeModel}}getChangeModelForFile(e){return this.getChangeModelForFileAndFilesArray(e,t=>t.reviewModel.localFileChanges)}getOutdatedChangeModelForFile(e){return this.getChangeModelForFileAndFilesArray(e,t=>t.reviewModel.obsoleteFileChanges)}async getRepositoryForFile(e){return await this.waitForAuth(),(this.gitAPI.state!=="initialized"||this.gitAPI.repositories.length===0)&&await this.waitForRepos(4e3),_d(this.gitAPI,e)}async readFile(e){var t;if(!this._fallback)return new TextEncoder().encode("");const{path:i,commit:r,rootPath:a}=da(e.query);if(!i||!r)return new TextEncoder().encode("");const o=await this.getRepositoryForFile(s.Uri.file(a));if(!o)return s.window.showErrorMessage(`We couldn't find an open repository for ${r} locally.`),new TextEncoder().encode("");const v=z.join(o.rootUri.fsPath,i).replace(/\\/g,"/");let T;try{if(y.appendLine(`Getting change model (${o.rootUri}) content for commit ${r} and path ${v}`,Kl.ID),T=await((t=this.getChangeModelForFile(e))==null?void 0:t.showBase()),T||(y.appendLine(`Getting repository (${o.rootUri}) content for commit ${r} and path ${v}`,Kl.ID),T=await o.show(r,v)),!T)throw new Error}catch{if(y.appendLine("Using fallback content provider.",Kl.ID),T=await this._fallback(e),!T)try{await o.getCommit(r)}catch(W){y.error(W,Kl.ID),this.getOutdatedChangeModelForFile(e)||s.window.showErrorMessage(`We couldn't find commit ${r} locally. You may want to sync the branch with remote. Sometimes commits can disappear after a force-push`)}}return new TextEncoder().encode(T||"")}registerTextDocumentContentFallback(e){this._fallback=e}};s0(o0,"ID","GitContentFileSystemProvider");let RT=o0;var ET=Object.defineProperty,NT=(n,e,t)=>e in n?ET(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,TT=(n,e,t)=>NT(n,typeof e!="symbol"?e+"":e,t);class l0 extends d{constructor(e,t,i,r,a,o,v,T,x){super(),this._context=e,this._reposManager=t,this._reviewManagers=i,this._prsTreeDataProvider=r,this._prFileChangesProvider=a,this._telemetry=o,this._credentialStore=v,this._gitApi=T,this._copilotManager=x;const W=new RT(T,v,()=>this._reviewManagers);W.registerTextDocumentContentFallback(this.provideTextDocumentContent.bind(this)),this._register(s.workspace.registerFileSystemProvider(qt.Review,W,{isReadonly:!0})),this.registerListeners(),this._register(this._prsTreeDataProvider)}get reviewManagers(){return this._reviewManagers}registerListeners(){this._register(s.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("githubPullRequests.showInSCM")){if(this._prFileChangesProvider){this._prFileChangesProvider.dispose(),this._prFileChangesProvider=new Xv(this._gitApi,this._reposManager);for(const t of this._reviewManagers)t.updateState(!0)}this._prsTreeDataProvider.dispose(),this._prsTreeDataProvider=this._register(new a0(this._telemetry,this._context,this._reposManager,this._copilotManager)),this._prsTreeDataProvider.initialize(this._reviewManagers.map(t=>t.reviewModel),this._credentialStore)}}))}async provideTextDocumentContent(e){for(const t of this._reviewManagers)if(J(t.repository.rootUri.fsPath,e.fsPath))return t.provideTextDocumentContent(e);return""}addReviewManager(e){const t=s.workspace.workspaceFolders;if(t){const i=t.findIndex(r=>r.uri.toString()===e.repository.rootUri.toString());if(i>-1){const r=this._reviewManagers.slice(i,this._reviewManagers.length);this._reviewManagers=this._reviewManagers.slice(0,i),this._reviewManagers.push(e),this._reviewManagers.push(...r);return}}this._reviewManagers.push(e)}removeReviewManager(e){const t=this._reviewManagers.findIndex(i=>i.repository.rootUri.toString()===e.rootUri.toString());if(t>=0){const i=this._reviewManagers[t];this._reviewManagers.splice(t),i.dispose()}}}TT(l0,"ID","Reviews");var CT=Object.defineProperty,PT=(n,e,t)=>e in n?CT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ec=(n,e,t)=>PT(n,typeof e!="symbol"?e+"":e,t);class AT extends xh{constructor(e,t,i,r){super(e),this._folderRepositoryManager=t,this._reviewManager=i,this._item=r,Ec(this,"viewType","github:activePullRequest"),Ec(this,"_existingReviewers",[]),Ec(this,"_prDisposables"),Ec(this,"_updatePendingVisibility"),this._register(this._folderRepositoryManager.onDidMergePullRequest(a=>{this._postMessage({command:"update-state",state:Xi.Merged})})),this._register(s.commands.registerCommand("review.approve",a=>this.approvePullRequestCommand(a))),this._register(s.commands.registerCommand("review.comment",a=>this.submitReviewCommand(a))),this._register(s.commands.registerCommand("review.requestChanges",a=>this.requestChangesCommand(a))),this._register(s.commands.registerCommand("review.approveOnDotCom",()=>xa(this._item,this._item._telemetry))),this._register(s.commands.registerCommand("review.requestChangesOnDotCom",()=>xa(this._item,this._item._telemetry)))}resolveWebviewView(e,t,i){super.resolveWebviewView(e,t,i),e.webview.html=this._getHtmlForWebview(),this.updatePullRequest(this._item)}async updateBranch(e){if(this._folderRepositoryManager.repository.state.workingTreeChanges.length>0||this._folderRepositoryManager.repository.state.indexChanges.length>0)return await s.window.showErrorMessage(s.l10n.t("The pull request branch cannot be updated when the there changed files in the working tree or index. Stash or commit all change and then try again."),{modal:!0}),this._replyMessage(e,{});await this._folderRepositoryManager.tryMergeBaseIntoHead(this._item,!0)||this._replyMessage(e,{});let i=dn.Unknown,r=5;do i=(await this._item.getMergeability()).mergeability,r--,await new Promise(o=>setTimeout(o,1e3));while(r>0&&i===dn.Unknown);const a={events:await this._item.getTimelineEvents(),mergeable:i};await this.refresh(),this._replyMessage(e,a)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":s.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.comment":return this.createComment(e);case"pr.merge":return this.mergePullRequest(e);case"pr.open-create":return this.create();case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequestMessage(e);case"pr.request-changes":return this.requestChangesMessage(e);case"pr.submit":return this.submitReviewMessage(e);case"pr.openOnGitHub":return xa(this._item,this._item._telemetry);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e);case"pr.update-branch":return this.updateBranch(e);case"pr.re-request-review":return this.reRequestReview(e)}}async checkoutDefaultBranch(e){var t;try{const i=await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item),r=(t=this._folderRepositoryManager.repository.state.HEAD)==null?void 0:t.name;await this._folderRepositoryManager.checkoutDefaultBranch(i),r&&await this._folderRepositoryManager.cleanupAfterPullRequest(r,this._item)}finally{this._replyMessage(e,{})}}reRequestReview(e){let t;const i=[],r=[];for(const a of this._existingReviewers){let o=a.reviewer.id;o&&(a.state==="REQUESTED"||o===e.args)&&o===e.args&&(t=a)}t&&Fn(t.reviewer)?r.push(t.reviewer):t&&!Fn(t.reviewer)&&i.push(t.reviewer),this._item.requestReview(i,r,!0).then(()=>{t&&(t.state="REQUESTED"),this._replyMessage(e,{reviewers:this._existingReviewers})})}async refresh(){return s.window.withProgress({location:{viewId:"github:activePullRequest"}},async()=>{await this._item.initializeReviewThreadCache(),await this.updatePullRequest(this._item)})}getCurrentUserReviewState(e,t){const i=e.find(r=>xr(r.reviewer)===t.login);return i==null?void 0:i.state}registerPrSpecificListeners(e){this._prDisposables!==void 0&&c(this._prDisposables),this._prDisposables=[],this._prDisposables.push(e.onDidChange(()=>this.updatePullRequest(e))),this._prDisposables.push(e.onDidChangePendingReviewState(()=>this.updatePullRequest(e)))}async updatePullRequest(e){var t;return this._view&&!this._view.visible&&((t=this._updatePendingVisibility)==null||t.dispose(),this._updatePendingVisibility=this._view.onDidChangeVisibility(async()=>{var i;this.updatePullRequest(e),(i=this._updatePendingVisibility)==null||i.dispose()})),(this._prDisposables===void 0||e.number!==this._item.number)&&this.registerPrSpecificListeners(e),this._item=e,Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.getTimelineEvents(),e.getReviewRequests(),this._folderRepositoryManager.getBranchNameForPullRequest(e),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(e),this._folderRepositoryManager.getCurrentUser(e.githubRepository),e.canEdit(),e.validateDraftMode(),or(this._folderRepositoryManager.context)]).then(i=>{var r,a;const[o,v,T,x,W,te,oe,fe,ye]=i;if(!o)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);if(this._item=o,!this._view)return;try{this._view.title=`${s.l10n.t("Review Pull Request")} #${e.number.toString()}`}catch{}const Pe=e.equals(this._folderRepositoryManager.activePullRequest),Ce=v.hasWritePermission,De=v.mergeMethodsAvailability,Le=Ce||fe,$e=Su(De);this._existingReviewers=Dm(x!=null?x:[],T!=null?T:[],o.author);const rt=!!(o.base&&o.head&&!o.base.repositoryCloneUrl.equals(o.head.repositoryCloneUrl)&&Du()),Ve=this.getCurrentUserReviewState(this._existingReviewers,oe),We={number:o.number,title:o.title,url:o.html_url,createdAt:o.createdAt,body:o.body,bodyHTML:o.bodyHTML,labels:o.item.labels.map(ct=>({...ct,displayName:la(ct.name)})),author:{login:o.author.login,name:o.author.name,avatarUrl:o.userAvatar,url:o.author.url,email:o.author.email,id:o.author.id,accountType:o.author.accountType},state:o.state,isCurrentlyCheckedOut:Pe,isRemoteBaseDeleted:o.isRemoteBaseDeleted,base:o.base.label,isRemoteHeadDeleted:o.isRemoteHeadDeleted,isLocalHeadDeleted:!W,head:(a=(r=o.head)==null?void 0:r.label)!=null?a:"",canEdit:Le,hasWritePermission:Ce,mergeable:o.item.mergeable,isDraft:o.isDraft,status:null,reviewRequirement:null,canUpdateBranch:o.item.viewerCanUpdate,events:T,mergeMethodsAvailability:De,defaultMergeMethod:$e,repositoryDefaultBranch:te,isIssue:!1,isAuthor:oe.login===o.author.login,reviewers:this._existingReviewers,continueOnGitHub:rt,isDarkTheme:s.window.activeColorTheme.kind===s.ColorThemeKind.Dark,isEnterprise:o.githubRepository.remote.isEnterprise,hasReviewDraft:ye,currentUserReviewState:Ve};this._postMessage({command:"pr.initialize",pullrequest:We})}).catch(i=>{s.window.showErrorMessage(`Error updating active pull request view: ${we(i)}`)})}close(e){s.commands.executeCommand("pr.close",this._item,e.args).then(t=>{t&&this._replyMessage(e,{value:t})})}create(){this._reviewManager.createPullRequest()}createComment(e){this._item.createIssueComment(e.args).then(t=>{this._replyMessage(e,{value:t})})}updateReviewers(e){if(e&&e.state){const t=this._existingReviewers.find(i=>e.user.login===xr(i.reviewer));t?t.state=e.state:this._existingReviewers.push({reviewer:e.user,state:e.state})}}async doReviewCommand(e,t,i){const r={command:"pr.submitting-review",lastReviewType:t};this._postMessage(r);try{const a=await i(e.body);this.updateReviewers(a);const o={command:"pr.append-review",events:[],reviewers:this._existingReviewers,reviewedEvent:a};await this._postMessage(o)}catch(a){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",we(a))),this._throwError(void 0,`${we(a)}`),this._postMessage({command:"pr.append-review"})}}async doReviewMessage(e,t){try{const i=await t(e.args);this.updateReviewers(i);const r={events:[],reviewedEvent:i,reviewers:this._existingReviewers};this._replyMessage(e,r)}catch(i){s.window.showErrorMessage(s.l10n.t("Submitting review failed. {0}",we(i))),this._throwError(e,`${we(i)}`)}}approvePullRequest(e){return this._item.approve(this._folderRepositoryManager.repository,e)}approvePullRequestMessage(e){return this.doReviewMessage(e,t=>this.approvePullRequest(t))}approvePullRequestCommand(e){return this.doReviewCommand(e,Us.Approve,t=>this.approvePullRequest(t))}requestChanges(e){return this._item.requestChanges(e)}requestChangesCommand(e){return this.doReviewCommand(e,Us.RequestChanges,t=>this.requestChanges(t))}requestChangesMessage(e){return this.doReviewMessage(e,t=>this.requestChanges(t))}submitReview(e){return this._item.submitReview(Fr.Comment,e)}submitReviewCommand(e){return this.doReviewCommand(e,Us.Comment,t=>this.submitReview(t))}submitReviewMessage(e){return this.doReviewMessage(e,t=>this.submitReview(t))}async deleteBranch(e){const t=await _u.deleteBranch(this._folderRepositoryManager,this._item);t.isReply?this._replyMessage(e,t.message):this._postMessage(t.message)}setReadyForReview(e){this._item.setReadyForReview().then(t=>{this._replyMessage(e,t)}).catch(t=>{s.window.showErrorMessage(s.l10n.t("Unable to set pull request ready for review. {0}",we(t))),this._throwError(e,"")})}async mergePullRequest(e){const{title:t,description:i,method:r}=e.args,a=await this._folderRepositoryManager.getPreferredEmail(this._item),o=s.l10n.t("Yes");if(await s.window.showInformationMessage(s.l10n.t("Merge this pull request?"),{modal:!0},o)!==o){this._replyMessage(e,{state:Xi.Open});return}this._folderRepositoryManager.mergePullRequest(this._item,t,i,r,a).then(T=>{var x;s.commands.executeCommand("pr.refreshList"),T.merged||s.window.showErrorMessage(s.l10n.t("Merging pull request failed: {0}",(x=T==null?void 0:T.message)!=null?x:"")),this._replyMessage(e,{state:T.merged?Xi.Merged:Xi.Open})}).catch(T=>{s.window.showErrorMessage(s.l10n.t("Unable to merge pull request. {0}",we(T))),this._throwError(e,"")})}_getHtmlForWebview(){const e=ud(),t=s.Uri.joinPath(this._extensionUri,"dist","webview-open-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Active Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(t).toString()}"><\/script>
	</body>
</html>`}}var MT=Object.defineProperty,IT=(n,e,t)=>e in n?MT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Zf=(n,e,t)=>IT(n,typeof e!="symbol"?e+"":e,t);class DT extends d{constructor(e){super(),this._context=e,Zf(this,"_webviewViewProvider"),Zf(this,"_pullRequestModel",new Map),Zf(this,"_currentDisposables",[])}dispose(){super.dispose(),this.reset()}reset(){c(this._currentDisposables),this._webviewViewProvider=void 0}create(e,t,i){this._webviewViewProvider=g(new AT(this._context.extensionUri,t,i,e),this._currentDisposables),g(s.window.registerWebviewViewProvider(this._webviewViewProvider.viewType,this._webviewViewProvider),this._currentDisposables),g(s.commands.registerCommand("pr.refreshActivePullRequest",r=>{var a;(a=this._webviewViewProvider)==null||a.refresh()}),this._currentDisposables)}setPullRequest(e,t,i,r){r&&this._pullRequestModel.delete(r),this._pullRequestModel.set(e,{folderRepositoryManager:t,reviewManager:i}),this.updatePullRequest()}updatePullRequest(){const e=Array.from(this._pullRequestModel.keys())[0];if(!e){this.reset();return}const{folderRepositoryManager:t,reviewManager:i}=this._pullRequestModel.get(e);this._webviewViewProvider?this._webviewViewProvider.updatePullRequest(e):this.create(e,t,i)}removePullRequest(e){const t=Array.from(this._pullRequestModel.keys())[0];this._pullRequestModel.delete(e),Array.from(this._pullRequestModel.keys())[0]!==t&&this.updatePullRequest()}show(e){this._webviewViewProvider&&this._pullRequestModel.size>0&&Array.from(this._pullRequestModel.keys())[0]===e&&this._webviewViewProvider.show()}}var FT=Object.defineProperty,xT=(n,e,t)=>e in n?FT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,zl=(n,e,t)=>xT(n,typeof e!="symbol"?e+"":e,t);const OT="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";let On;const Js="Activation";async function LT(n,e,t,i,r,a,o,v,T,x,W){n.subscriptions.push(y),y.appendLine("Git repository found, initializing review manager and pr tree view.",Js),n.subscriptions.push(t.onDidChangeSessions(async Ve=>{Ve.provider.id==="github"&&(await v.clearCredentialCache(),De&&De.reviewManagers.forEach(We=>We.updateState(!0)))})),n.subscriptions.push(e.onDidPublish(async Ve=>{if(!Ve.branch||s.workspace.getConfiguration(tt).get(gt)!=="ask")return;const We=De.reviewManagers.find(it=>it.repository.rootUri.toString()===Ve.repository.rootUri.toString());if(We!=null&&We.isCreatingPullRequest)return;const ct=v.folderManagers.find(it=>it.repository.rootUri.toString()===Ve.repository.rootUri.toString());if(!ct||ct.gitHubRepositories.length===0||(await ct.getPullRequestDefaults()).base===Ve.branch)return;const Se=s.l10n.t("Create Pull Request..."),qe=s.l10n.t("Don't Show Again"),Ge=await s.window.showInformationMessage(s.l10n.t("Would you like to create a Pull Request for branch '{0}'?",Ve.branch),Se,qe);Ge===Se?We==null||We.createPullRequest(Ve.branch):Ge===qe&&await s.workspace.getConfiguration(tt).update(gt,"never",s.ConfigurationTarget.Global)}));const te=s.workspace.workspaceFolders;te&&(i=i.sort((Ve,We)=>{let ct=te.length,jt=te.length;for(let Se=0;Se<te.length&&(te[Se].uri.toString()===Ve.rootUri.toString()?ct=Se:te[Se].uri.toString()===We.rootUri.toString()&&(jt=Se),!(ct!==te.length&&jt!==te.length));Se++);return ct-jt})),a.then(Ve=>{Ve&&Ve.registerContactServiceProvider("github-pr",new RR(v))});const oe=new Xv(e,v);n.subscriptions.push(oe);const fe=new DT(n);n.subscriptions.push(fe);let ye=0;const Pe=v.folderManagers.map(Ve=>new Hr(ye++,n,Ve.repository,Ve,On,oe,r,o,fe,T,e)),Ce=new UN(v);n.subscriptions.push(Ce),Ce.registerProviders([new tT,new BN(v)]);const De=new l0(n,v,Pe,r,oe,On,t,e,x);n.subscriptions.push(De),e.onDidChangeState(()=>{y.appendLine(`Git initialization state changed: state=${e.state}`,Js),De.reviewManagers.forEach(Ve=>Ve.updateState(!0))}),e.onDidOpenRepository(Ve=>{function We(){if(v.folderManagers.find(it=>it.repository.rootUri.toString()===Ve.rootUri.toString())){y.appendLine(`Repo ${Ve.rootUri} has already been setup.`,Js);return}if(s.workspace.getConfiguration(tt).get(St,!1)&&m1(Ve,e)){y.appendLine(`Repo ${Ve.rootUri} is a submodule and will be ignored due to ${St} setting.`,Js);return}const qe=new Ks(v.folderManagers.length,n,Ve,On,e,t,T,W);v.insertFolderManager(qe);const Ge=new Hr(ye++,n,qe.repository,qe,On,oe,r,o,fe,T,e);De.addReviewManager(Ge)}We(),r.notificationProvider.refreshOrLaunchPolling();const ct=Ve.state.onDidChange(()=>{y.appendLine(`Repo state for ${Ve.rootUri} changed.`,Js),We(),ct.dispose()})}),e.onDidCloseRepository(Ve=>{v.removeRepo(Ve),De.removeReviewManager(Ve),r.notificationProvider.refreshOrLaunchPolling()}),r.initialize(De.reviewManagers.map(Ve=>Ve.reviewModel),t),n.subscriptions.push(new oT(r.notificationProvider)),h1(n,v,De,On,r,x);const Le=s.workspace.getConfiguration(tt).get(Rt);await s.commands.executeCommand("setContext","fileListLayout:flat",Le==="flat");const $e=new RE(e,v,De,n,On,x);n.subscriptions.push($e),await $e.initialize();const Ze=new MN(t,v,On,n);n.subscriptions.push(Ze),n.subscriptions.push(new CR);const rt=new vd(t,n,v,On,x);n.subscriptions.push(rt),n.subscriptions.push(new eR(v,On,n.extensionUri,t)),await s.commands.executeCommand("setContext","github:initialized",!0),$T(v,e),UT(n,t,v,x,On),n.subscriptions.push(s.window.registerUriHandler(new xN(v,On,n))),Kv.closeTabs(),On.sendTelemetryEvent("startup")}function UT(n,e,t,i,r){const a=()=>{const v=new PE;n.subscriptions.push(new AE(n,v)),lN(n,e,t,v,i,r)},o=()=>s.workspace.getConfiguration(tt).get(Er,!1);o()?a():ot(tt,Er,o,a,n.subscriptions)}async function BT(n){var e;if(y.appendLine(`Extension version: ${(e=s.extensions.getExtension(bn))==null?void 0:e.packageJSON.version}`,"Activation"),bn==="GitHub.vscode-pull-request-github-insiders"&&s.extensions.getExtension("github.vscode-pull-request-github")!==void 0)throw new Error("GitHub Pull Requests and Issues Nightly cannot be used while GitHub Pull Requests and Issues is also installed. Please ensure that only one version of the extension is installed.");const t=new Q_;return s.commands.registerCommand("github.api.preloadPullRequest",async i=>{await s.commands.executeCommand("setContext",Dr,!0),await ei.focusView("github:activePullRequest:welcome"),t.shouldShow=i}),await qT(n),ua.initialize(n),y.debug("Creating API implementation.","Activation"),On=new v1(new p(OT)),n.subscriptions.push(On),await GT(n,t)}async function qT(n){const e=[["openDiffOnClick",()=>s.workspace.getConfiguration(vr,null).get(Va,!0)],["showInlineOpenFileAction",()=>s.workspace.getConfiguration(vr,null).get(Yr,!0)]];for(const[t,i]of e)ei.setContext(t,i()),n.subscriptions.push(s.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${vr}.${t}`)&&ei.setContext(t,i())}))}async function u0(n,e,t){const i=await _R(e,t);return i?(n.subscriptions.push(i),!0):!1}function $T(n,e){const t="GitPostCommitCommands";class i{getCommands(v){y.debug(`Looking for remote. Comparing ${v.state.remotes.length} local repo remotes with ${n.folderManagers.reduce((W,te)=>W+te.gitHubRepositories.length,0)} GitHub repositories.`,t);const T=Ya(v),x=n.folderManagers.find(W=>W.findRepo(te=>!!T.find(oe=>oe.equals(te.remote))));return y.debug(`Found ${x?"a repo":"no repos"} when getting post commit commands.`,t),x?[{command:"pr.pushAndCreate",title:s.l10n.t("{0} Commit & Create Pull Request","$(git-pull-request-create)"),tooltip:s.l10n.t("Commit & Create Pull Request")}]:[]}}function r(){return n.folderManagers.some(o=>o.gitHubRepositories.length>0)}function a(){return y.debug("Trying to register post commit commands.","GitPostCommitCommands"),r()?(y.debug("GitHub remote(s) found, registering post commit commands.",t),e.registerPostCommitCommandsProvider(new i),!0):!1}if(!a()){const o=n.onDidLoadAnyRepositories(()=>{a()&&o.dispose()})}}async function HT(n,e,t){if(y.debug("Registering built in git provider.","Activation"),!await u0(n,t,e)){const i=s.extensions.onDidChange(async()=>{await u0(n,t,e)&&i.dispose()});n.subscriptions.push(i)}}async function GT(n,e){var t,i,r;y.debug("Initializing state.","Activation"),Qn(n),await gN(n),Zm.init(n),y.debug("Creating credential store.","Activation");const a=new QS(On,n);n.subscriptions.push(a);const o=await w1(n,On);await o.initializePromise,await o.isCachedFlightEnabled("githubaa"),await a.create();const v=new nR(a,On);n.subscriptions.push(v);const T=new wt(v);n.subscriptions.push(T),HT(n,T,a),y.debug("Registering live share git provider.","Activation");const x=wR(T);n.subscriptions.push(x);const W=x.initialize();n.subscriptions.push(T),y.debug("Creating tree view.","Activation");const te=new ik(a,v,On,n);if(n.subscriptions.push(te),(t=s.chat)!=null&&t.registerChatSessionItemProvider){const rt=new class{constructor(){zl(this,"label",s.l10n.t("GitHub Copilot Coding Agent")),zl(this,"provideChatSessionItems",async Ve=>await te.provideChatSessions(Ve)),zl(this,"provideChatSessionContent",async(Ve,We)=>await te.provideChatSessionContent(Ve,We)),zl(this,"onDidChangeChatSessionItems",te.onDidChangeChatSessions),zl(this,"provideNewChatSessionItem",async(Ve,We)=>await te.provideNewChatSessionItem(Ve,We))}};n.subscriptions.push((i=s.chat)==null?void 0:i.registerChatSessionItemProvider(qn,rt)),n.subscriptions.push((r=s.chat)==null?void 0:r.registerChatSessionContentProvider(qn,rt,{supportsInterruptions:!0}))}const oe=new a0(On,n,v,te);n.subscriptions.push(oe),n.subscriptions.push(a.onDidGetSession(()=>oe.refreshAll(!0))),y.appendLine("Looking for git repository",Js);const fe=T.repositories;y.appendLine(`Found ${fe.length} repositories during activation`,Js);const ye=new eT;n.subscriptions.push(ye);const Pe=new FN;n.subscriptions.push(Pe);let Ce=0;const De=fe.map(rt=>new Ks(Ce++,n,rt,On,T,a,ye,Pe));n.subscriptions.push(...De);for(const rt of De)v.insertFolderManager(rt);const Le=Wd({reposManager:v,gitAPI:T,credentialStore:a}),$e=new s.MarkdownString(s.l10n.t("Cannot edit this pull request file. [Check out](command:pr.checkoutFromReadonlyFile) this pull request to edit."));$e.isTrusted={enabledCommands:["pr.checkoutFromReadonlyFile"]},n.subscriptions.push(s.workspace.registerFileSystemProvider(qt.Pr,Le,{isReadonly:$e}));const Ze=new iT(v,T,a);return n.subscriptions.push(s.workspace.registerFileSystemProvider(qt.GitHubCommit,Ze,{isReadonly:new s.MarkdownString(s.l10n.t("GitHub commits cannot be edited"))})),await LT(n,T,a,fe,oe,W,e,v,ye,te,Pe),T}async function VT(){On&&On.dispose()}})(),module.exports=Ic})();
