/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e,t={60:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AppInsightsCore:()=>Wr._,ApplicationInsights:()=>zr,Sender:()=>Dr,SeverityLevel:()=>$r,arrForEach:()=>M.Iuo,isNullOrUndefined:()=>M.hXl,proxyFunctions:()=>Me.o$,throwError:()=>M.$8});var n=r(8279),o=r(659),i="sampleRate",s="ProcessLegacy",a="http.method",c="https://dc.services.visualstudio.com",l="/v2/track",u="not_specified",d="split",f="length",h="toLowerCase",p="ingestionendpoint",m="toString",v="removeItem",g="message",y="stringify",w="pathname",b="match",S="name",_="properties",E="measurements",T="sizeInBytes",x="typeName",C="exceptions",P="severityLevel",I="problemGroup",R="parsedStack",L="hasFullStack",k="assembly",D="fileName",A="line",O="aiDataContract",W="duration",M=r(269),N=r(3775),F=r(7292);function q(e,t,r){var n,o=t[f],i=function(e,t){var r;return t&&(t=(0,M.EHq)((0,M.oJg)(t)))[f]>150&&(r=(0,M.P0f)(t,0,150),(0,N.ZP)(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),r||t}(e,t);if(i[f]!==o){for(var s=0,a=i;void 0!==r[a];)s++,a=(0,M.P0f)(i,0,147)+(void 0,n="00"+s,(0,M.hKY)(n,n[f]-3));i=a}return i}function U(e,t,r){var n;return void 0===r&&(r=1024),t&&(r=r||1024,(t=(0,M.EHq)((0,M.oJg)(t)))[f]>r&&(n=(0,M.P0f)(t,0,r),(0,N.ZP)(e,2,61,"string value is too long. It has been truncated to "+r+" characters.",{value:t},!0))),n||t}function $(e,t){return V(e,t,2048,66)}function j(e,t){var r;return t&&t[f]>32768&&(r=(0,M.P0f)(t,0,32768),(0,N.ZP)(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),r||t}function B(e,t){if(t){var r={};(0,M.zav)(t,(function(t,n){if((0,M.Gvm)(n)&&(0,F.Z)())try{n=(0,F.hm)()[y](n)}catch(t){(0,N.ZP)(e,2,49,"custom property is not valid",{exception:t},!0)}n=U(e,n,8192),t=q(e,t,r),r[t]=n})),t=r}return t}function z(e,t){if(t){var r={};(0,M.zav)(t,(function(t,n){t=q(e,t,r),r[t]=n})),t=r}return t}function V(e,t,r,n){var o;return t&&(t=(0,M.EHq)((0,M.oJg)(t)))[f]>r&&(o=(0,M.P0f)(t,0,r),(0,N.ZP)(e,2,n,"input is too long, it has been truncated to "+r+" characters.",{data:t},!0)),o||t}var H=function(){function e(e,t,r,n){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var o=this;o.ver=2,o[S]=U(e,t)||u,o[_]=B(e,r),o[E]=z(e,n)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}(),X=function(){function e(e,t,r,n,o){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var i=this;i.ver=2,t=t||u,i[g]=j(e,t),i[_]=B(e,n),i[E]=z(e,o),r&&(i[P]=r)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}();function K(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=(0,M.jn)(e))%1e3,r=""+(0,M.ZrT)(e/1e3)%60,n=""+(0,M.ZrT)(e/6e4)%60,o=""+(0,M.ZrT)(e/36e5)%24,i=(0,M.ZrT)(e/864e5);return t=1===t[f]?"00"+t:2===t[f]?"0"+t:t,r=r[f]<2?"0"+r:r,n=n[f]<2?"0"+n:n,(i>0?i+".":"")+(o=o[f]<2?"0"+o:o)+":"+n+":"+r+"."+t}var Z=function(){function e(e,t,r,n,o,i,s){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var a=this;a.ver=2,a.id=function(e,t){return t?V(e,t,128,69)[m]():t}(e,s),a.url=$(e,r),a[S]=U(e,t)||u,isNaN(n)||(a[W]=K(n)),a[_]=B(e,o),a[E]=z(e,i)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}(),J=function(){function e(e,t,r,n,o,i,s){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var a=this;a.ver=2,a.url=$(e,r),a[S]=U(e,t)||u,a[_]=B(e,o),a[E]=z(e,i),s&&(a.domProcessing=s.domProcessing,a[W]=s[W],a.networkConnect=s.networkConnect,a.perfTotal=s.perfTotal,a.receivedResponse=s.receivedResponse,a.sentRequest=s.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}(),G=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,Y=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,Q=/([^\(\s\n]+):([0-9]+)$/,ee="<no_method>",te="error",re="stack",ne="stackDetails",oe="errorSrc",ie="message",se="description",ae=[{re:/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,len:5,m:1,fn:2,ln:3,col:4},{chk:function(e){return(0,M.HzD)(e,"[native")<0},pre:function(e){return e.replace(/(\(anonymous\))/,"<anonymous>")},re:/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,len:4,m:1,fn:2,ln:3},{re:/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,len:3,m:1,fn:2,hdl:be},{re:/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,len:2,fn:1,hdl:be}];function ce(e,t){var r=e;return r&&!(0,M.KgX)(r)&&(JSON&&JSON[y]?(r=JSON[y](e),!t||r&&"{}"!==r||(r=(0,M.Tnt)(e[m])?e[m]():""+e)):r=e+" - (Missing JSON.stringify)"),r||""}function le(e,t){var r=e;return e&&(r&&!(0,M.KgX)(r)&&(r=e[ie]||e[se]||r),r&&!(0,M.KgX)(r)&&(r=ce(r,!0)),e.filename&&(r=r+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(0,M.HzD)(r||"",t)&&(r=t+": "+r),r||""}function ue(e){return e&&e.src&&(0,M.KgX)(e.src)&&e.obj&&(0,M.cyL)(e.obj)}function de(e){var t=e||"";(0,M.KgX)(t)||(t=(0,M.KgX)(t[re])?t[re]:""+t);var r=t[d]("\n");return{src:t,obj:r}}function fe(e){var t=null;if(e)try{if(e[re])t=de(e[re]);else if(e[te]&&e[te][re])t=de(e[te][re]);else if(e.exception&&e.exception[re])t=de(e.exception[re]);else if(ue(e))t=e;else if(ue(e[ne]))t=e[ne];else if((0,M.zkX)()&&(0,M.zkX)().opera&&e[ie])t=function(e){for(var t=[],r=e[d]("\n"),n=0;n<r[f];n++){var o=r[n];r[n+1]&&(o+="@"+r[n+1],n++),t.push(o)}return{src:e,obj:t}}(e[g]);else if(e.reason&&e.reason[re])t=de(e.reason[re]);else if((0,M.KgX)(e))t=de(e);else{var r=e[ie]||e[se]||"";(0,M.KgX)(e[oe])&&(r&&(r+="\n"),r+=" from "+e[oe]),r&&(t=de(r))}}catch(e){t=de(e)}return t||{src:"",obj:null}}function he(e){var t="";if(e&&!(t=e.typeName||e[S]||""))try{var r=/function (.{1,200})\(/.exec(e.constructor[m]());t=r&&r[f]>1?r[1]:""}catch(e){}return t}function pe(e){if(e)try{if(!(0,M.KgX)(e)){var t=he(e),r=ce(e,!1);return r&&"{}"!==r||(e[te]&&(t=he(e=e[te])),r=ce(e,!0)),0!==(0,M.HzD)(r,t)&&"String"!==t?t+":"+r:r}}catch(e){}return""+(e||"")}var me=function(){function e(e,t,r,n,o,i){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var s=this;s.ver=2,function(e){try{if((0,M.Gvm)(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(t)?(s[C]=t[C]||[],s[_]=t[_],s[E]=t[E],t[P]&&(s[P]=t[P]),t.id&&(s.id=t.id,t[_].id=t.id),t[I]&&(s[I]=t[I]),(0,M.hXl)(t.isManual)||(s.isManual=t.isManual)):(r||(r={}),i&&(r.id=i),s[C]=[ye(e,t,r)],s[_]=B(e,r),s[E]=z(e,n),o&&(s[P]=o),i&&(s.id=i))}return e.CreateAutoException=function(e,t,r,n,o,i,s,a){var c=he(o||i||e);return{message:le(e,c),url:t,lineNumber:r,columnNumber:n,error:pe(o||i||e),evt:pe(i||e),typeName:c,stackDetails:fe(s||o||i),errorSrc:a}},e.CreateFromInterface=function(t,r,n,i){var s=r[C]&&(0,M.W$7)(r[C],(function(e){return function(e,t){var r=(0,M.cyL)(t[R])&&(0,M.W$7)(t[R],(function(e){return function(e){var t;return _e(((t={})[O]=Se,t.level=e.level,t.method=e.method,t.assembly=e[k],t.fileName=e[D],t.line=e[A],t.sizeInBytes=0,t))}(e)}))||t[R];return ye(e,(0,o.Im)((0,o.Im)({},t),{parsedStack:r}))}(t,e)}));return new e(t,(0,o.Im)((0,o.Im)({},r),{exceptions:s}),n,i)},e.prototype.toInterface=function(){var e=this,t=e.exceptions,r=e.properties,n=e.measurements,o=e.severityLevel,i=e.problemGroup,s=e.id,a=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&(0,M.W$7)(t,(function(e){return e.toInterface()}))||void 0,severityLevel:o,properties:r,measurements:n,problemGroup:i,id:s,isManual:a}},e.CreateSimpleException=function(e,t,r,n,o,i){var s;return{exceptions:[(s={},s[L]=!0,s.message=e,s.stack=o,s.typeName=t,s)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=pe,e}(),ve=(0,M.N6t)({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function ge(){var e=this,t=(0,M.cyL)(e[R])&&(0,M.W$7)(e[R],(function(e){return function(e){return{level:e.level,method:e.method,assembly:e[k],fileName:e[D],line:e[A]}}(e)}));return{id:e.id,outerId:e.outerId,typeName:e[x],message:e[g],hasFullStack:e[L],stack:e[re],parsedStack:t||void 0}}function ye(e,t,r){var n,o,i,s,a,c;if(function(e){try{if((0,M.Gvm)(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(t))o=t[x],i=t[g],a=t[re],c=t[R]||[],s=t[L];else{var l=t,d=l&&l.evt;(0,M.bJ7)(l)||(l=l[te]||d||l),o=U(e,he(l))||u,i=j(e,le(t||l,o))||u;var h=t[ne]||fe(t);c=function(e){var t,r=e.obj;if(r&&r[f]>0){t=[];var n=0,o=!1,i=0;if((0,M.Iuo)(r,(function(e){if(o||function(e){var t=!1;if(e&&(0,M.KgX)(e)){var r=(0,M.EHq)(e);r&&(t=G.test(r))}return t}(e)){var r=(0,M.oJg)(e);o=!0;var s=function(e,t){var r,n;if(e&&(0,M.KgX)(e)&&(0,M.EHq)(e)){(r={})[O]=Se,r.level=t,r.assembly=(0,M.EHq)(e),r.method=ee,r.fileName="",r.line=0,r.sizeInBytes=0,n=r;for(var o=0;o<ae[f];){var i=ae[o];if(i.chk&&!i.chk(e))break;i.pre&&(e=i.pre(e));var s=e[b](i.re);if(s&&s[f]>=i.len){i.m&&(n.method=(0,M.EHq)(s[i.m]||ee)),i.hdl?i.hdl(n,i,s):i.fn&&(i.ln?(n[D]=(0,M.EHq)(s[i.fn]||""),n[A]=parseInt((0,M.EHq)(s[i.ln]||""))||0):we(n,s[i.fn]||""));break}o++}}return _e(n)}(r,n);s&&(i+=s[T],t.push(s),n++)}})),i>32768)for(var s=0,a=t[f]-1,c=0,l=s,u=a;s<a;){if((c+=t[s][T]+t[a][T])>32768){var d=u-l+1;t.splice(l,d);break}l=s,u=a,s++,a--}}return t}(h),(0,M.cyL)(c)&&(0,M.W$7)(c,(function(t){t[k]=U(e,t[k]),t[D]=U(e,t[D])})),a=function(e,t){var r;if(t){var n=""+t;n[f]>32768&&(r=(0,M.P0f)(n,0,32768),(0,N.ZP)(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return r||t}(e,function(e){var t="";return e&&(t=e.obj?e.obj.join("\n"):e.src||""),t}(h)),s=(0,M.cyL)(c)&&c[f]>0,r&&(r[x]=r[x]||o)}return(n={})[O]=ve,n.id=void 0,n.outerId=void 0,n.typeName=o,n.message=i,n[L]=s,n.stack=a,n.parsedStack=c,n.toInterface=ge,n}function we(e,t){var r=t[b](Y);if(r&&r[f]>=4)e[D]=r[1],e[A]=parseInt(r[2]);else{var n=t[b](Q);n&&n[f]>=3?(e[D]=n[1],e[A]=parseInt(n[2])):e[D]=t}}function be(e,t,r){var n=e[D];t.fn&&r&&r[f]>t.fn&&(t.ln&&r[f]>t.ln?(n=(0,M.EHq)(r[t.fn]||""),e[A]=parseInt((0,M.EHq)(r[t.ln]||""))||0):n=(0,M.EHq)(r[t.fn]||"")),n&&we(e,n)}var Se=(0,M.N6t)({level:1,method:1,assembly:0,fileName:0,line:0});function _e(e){var t=58;return e&&(t+=e.method[f],t+=e.assembly[f],t+=e.fileName[f],t+=e.level.toString()[f],t+=e.line.toString()[f],e[T]=t),e}var Ee=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},Te=function(){function e(e,t,r,n,o,i,s,a,c){this.aiDataContract={ver:1,metrics:1,properties:0};var l=this;l.ver=2;var d=new Ee;d.count=n>0?n:void 0,d.max=isNaN(i)||null===i?void 0:i,d.min=isNaN(o)||null===o?void 0:o,d[S]=U(e,t)||u,d.value=r,d.stdDev=isNaN(s)||null===s?void 0:s,l.metrics=[d],l[_]=B(e,a),l[E]=z(e,c)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(),xe=(0,M.YEm)()||{},Ce=0,Pe=[null,null,null,null,null];function Ie(e,t){var r=function(e,t){var r=null;if(e){var n=e[b](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(null!=n&&n[f]>2&&(0,M.KgX)(n[2])&&n[2][f]>0&&(r=n[2]||"",t&&n[f]>2)){var o=(n[1]||"")[h](),i=n[3]||"";("http"===o&&":80"===i||"https"===o&&":443"===i)&&(i=""),r+=i}}return r}(e,t)||"";if(r){var n=r[b](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(null!=n&&n[f]>3&&(0,M.KgX)(n[2])&&n[2][f]>0)return n[2]+(n[3]||"")}return r}var Re=[c+l,"https://breeze.aimon.applicationinsights.io"+l,"https://dc-int.services.visualstudio.com"+l];function Le(e){return-1!==(0,M.rDm)(Re,e[h]())}var ke=function(){function e(e,t,r,n,o,i,s,a,c,l,u,d){void 0===c&&(c="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var h=this;h.ver=2,h.id=t,h[W]=K(o),h.success=i,h.resultCode=s+"",h.type=U(e,c);var p=function(e,t,r,n){var o,i,s,a,c,l=n,u=n;if(t&&t[f]>0){var d=(i=t,c=(a=Pe)[s=Ce],xe.createElement?a[s]||(c=a[s]=xe.createElement("a")):c={host:Ie(i,!0)},c.href=i,++s>=a[f]&&(s=0),Ce=s,c);if(o=d.host,!l)if(null!=d[w]){var h=0===d.pathname[f]?"/":d[w];"/"!==h.charAt(0)&&(h="/"+h),u=d[w],l=U(e,r?r+" "+h:h)}else l=U(e,t)}else o=n,l=n;return{target:o,name:l,data:u}}(e,r,a,n);h.data=$(e,n)||p.data,h.target=U(e,p.target),l&&(h.target="".concat(h.target," | ").concat(l)),h[S]=U(e,p[S]),h[_]=B(e,u),h[E]=z(e,d)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}(),De=r(2845),Ae=r(6149),Oe=r(4276);function We(e,t){(0,Ae.ML)(e,null,null,t)}var Me=r(3673),Ne=r(4282),Fe=(0,Ne.H)({LocalStorage:0,SessionStorage:1}),qe=((0,Ne.H)({AI:0,AI_AND_W3C:1,W3C:2}),void(0,Ne.H)({Normal:1,Critical:2})),Ue="";function $e(e){try{if((0,M.hXl)((0,M.mS$)()))return null;var t=(new Date)[m](),r=(0,M.zS2)(e===Fe.LocalStorage?"localStorage":"sessionStorage"),n=Ue+t;r.setItem(n,t);var o=r.getItem(n)!==t;if(r[v](n),!o)return r}catch(e){}return null}function je(){return Be()?$e(Fe.SessionStorage):null}function Be(e){return(e||void 0===qe)&&(qe=!!$e(Fe.SessionStorage)),qe}function ze(e,t){var r=je();if(null!==r)try{return r.getItem(t)}catch(t){qe=!1,(0,N.ZP)(e,2,2,"Browser failed read of session storage. "+(0,Me.lL)(t),{exception:(0,M.mmD)(t)})}return null}function Ve(e,t,r){var n=je();if(null!==n)try{return n.setItem(t,r),!0}catch(t){qe=!1,(0,N.ZP)(e,2,4,"Browser failed write to session storage. "+(0,Me.lL)(t),{exception:(0,M.mmD)(t)})}return!1}var He=(0,Ne.o)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Xe=r(2475),Ke=r(9749),Ze=r(2317),Je=r(4875),Ge=r(856),Ye=r(4013),Qe=r(1190),et=r(8257);function tt(e){var t="ai."+e+".";return function(e){return t+e}}var rt=tt("application"),nt=tt("device"),ot=tt("location"),it=tt("operation"),st=tt("session"),at=tt("user"),ct=tt("cloud"),lt=tt("internal"),ut=function(e){function t(){return e.call(this)||this}return(0,o.qU)(t,e),t}((0,Me.SZ)({applicationVersion:rt("ver"),applicationBuild:rt("build"),applicationTypeId:rt("typeId"),applicationId:rt("applicationId"),applicationLayer:rt("layer"),deviceId:nt("id"),deviceIp:nt("ip"),deviceLanguage:nt("language"),deviceLocale:nt("locale"),deviceModel:nt("model"),deviceFriendlyName:nt("friendlyName"),deviceNetwork:nt("network"),deviceNetworkName:nt("networkName"),deviceOEMName:nt("oemName"),deviceOS:nt("os"),deviceOSVersion:nt("osVersion"),deviceRoleInstance:nt("roleInstance"),deviceRoleName:nt("roleName"),deviceScreenResolution:nt("screenResolution"),deviceType:nt("type"),deviceMachineName:nt("machineName"),deviceVMName:nt("vmName"),deviceBrowser:nt("browser"),deviceBrowserVersion:nt("browserVersion"),locationIp:ot("ip"),locationCountry:ot("country"),locationProvince:ot("province"),locationCity:ot("city"),operationId:it("id"),operationName:it("name"),operationParentId:it("parentId"),operationRootId:it("rootId"),operationSyntheticSource:it("syntheticSource"),operationCorrelationVector:it("correlationVector"),sessionId:st("id"),sessionIsFirst:st("isFirst"),sessionIsNew:st("isNew"),userAccountAcquisitionDate:at("accountAcquisitionDate"),userAccountId:at("accountId"),userAgent:at("userAgent"),userId:at("id"),userStoreRegion:at("storeRegion"),userAuthUserId:at("authUserId"),userAnonymousUserAcquisitionDate:at("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:at("authUserAcquisitionDate"),cloudName:ct("name"),cloudRole:ct("role"),cloudRoleVer:ct("roleVer"),cloudRoleInstance:ct("roleInstance"),cloudEnvironment:ct("environment"),cloudLocation:ct("location"),cloudDeploymentUnit:ct("deploymentUnit"),internalNodeName:lt("nodeName"),internalSdkVersion:lt("sdkVersion"),internalAgentVersion:lt("agentVersion"),internalSnippet:lt("snippet"),internalSdkSrc:lt("sdkSrc")})),dt=new ut,ft=function(e,t,r){var n=this,o=this;o.ver=1,o.sampleRate=100,o.tags={},o[S]=U(e,r)||u,o.data=t,o.time=(0,Me._u)(new Date),o[O]={time:1,iKey:1,name:1,sampleRate:function(){return 100===n.sampleRate?4:1},tags:1,data:1}},ht=function(e,t){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=t},pt="duration",mt="tags",vt="deviceType",gt="data",yt="name",wt="traceID",bt="length",St="stringify",_t="measurements",Et="dataType",Tt="envelopeType",xt="toString",Ct="enqueue",Pt="count",It="push",Rt="emitLineDelimitedJson",Lt="clear",kt="markAsSent",Dt="clearSent",At="bufferOverride",Ot="BUFFER_KEY",Wt="SENT_BUFFER_KEY",Mt="concat",Nt="MAX_BUFFER_SIZE",Ft="triggerSend",qt="diagLog",Ut="initialize",$t="_sender",jt="endpointUrl",Bt="instrumentationKey",zt="customHeaders",Vt="maxBatchSizeInBytes",Ht="onunloadDisableBeacon",Xt="isBeaconApiDisabled",Kt="alwaysUseXhrOverride",Zt="enableSessionStorageBuffer",Jt="_buffer",Gt="onunloadDisableFetch",Yt="disableSendBeaconSplit",Qt="getSenderInst",er="_onError",tr="_onPartialSuccess",rr="_onSuccess",nr="itemsReceived",or="itemsAccepted",ir="baseType",sr="sampleRate",ar="baseType",cr="baseData",lr="properties",ur="true";function dr(e,t,r){return(0,Me.KY)(e,t,r,M.zzB)}function fr(e,t,r){(0,M.hXl)(e)||(0,M.zav)(e,(function(e,n){(0,M.EtT)(n)?r[e]=n:(0,M.KgX)(n)?t[e]=n:(0,F.Z)()&&(t[e]=(0,F.hm)()[St](n))}))}function hr(e,t){(0,M.hXl)(e)||(0,M.zav)(e,(function(r,n){e[r]=n||t}))}function pr(e,t,r,n){var s=new ft(e,n,t);dr(s,"sampleRate",r[i]),(r[cr]||{}).startTime&&(s.time=(0,Me._u)(r[cr].startTime)),s.iKey=r.iKey;var a=r.iKey.replace(/-/g,"");return s[yt]=s[yt].replace("{0}",a),function(e,t,r){var n=r[mt]=r[mt]||{},i=t.ext=t.ext||{},s=t[mt]=t[mt]||[],a=i.user;a&&(dr(n,dt.userAuthUserId,a.authId),dr(n,dt.userId,a.id||a.localId));var c=i.app;c&&dr(n,dt.sessionId,c.sesId);var l=i.device;l&&(dr(n,dt.deviceId,l.id||l.localId),dr(n,dt[vt],l.deviceClass),dr(n,dt.deviceIp,l.ip),dr(n,dt.deviceModel,l.model),dr(n,dt[vt],l[vt]));var u=t.ext.web;if(u){dr(n,dt.deviceLanguage,u.browserLang),dr(n,dt.deviceBrowserVersion,u.browserVer),dr(n,dt.deviceBrowser,u.browser);var d=r[gt]=r[gt]||{},f=d[cr]=d[cr]||{},h=f[lr]=f[lr]||{};dr(h,"domain",u.domain),dr(h,"isManual",u.isManual?ur:null),dr(h,"screenRes",u.screenRes),dr(h,"userConsent",u.userConsent?ur:null)}var p=i.os;p&&(dr(n,dt.deviceOS,p[yt]),dr(n,dt.deviceOSVersion,p.osVer));var m=i.trace;m&&(dr(n,dt.operationParentId,m.parentID),dr(n,dt.operationName,U(e,m[yt])),dr(n,dt.operationId,m[wt]));for(var v={},g=s[bt]-1;g>=0;g--){var y=s[g];(0,M.zav)(y,(function(e,t){v[e]=t})),s.splice(g,1)}(0,M.zav)(s,(function(e,t){v[e]=t}));var w=(0,o.Im)((0,o.Im)({},n),v);w[dt.internalSdkVersion]||(w[dt.internalSdkVersion]=U(e,"javascript:".concat(vr.Version),64)),r[mt]=(0,Me.hW)(w)}(e,r,s),r[mt]=r[mt]||[],(0,Me.hW)(s)}function mr(e,t){(0,M.hXl)(t[cr])&&(0,N.ZP)(e,1,46,"telemetryItem.baseData cannot be null.")}var vr={Version:"3.3.6"};function gr(e,t,r){mr(e,t);var n={},o={};t[ar]!==H[Et]&&(n.baseTypeSource=t[ar]),t[ar]===H[Et]?(n=t[cr][lr]||{},o=t[cr][_t]||{}):t[cr]&&fr(t[cr],n,o),fr(t[gt],n,o),(0,M.hXl)(r)||hr(n,r);var i=t[cr][yt],s=new H(e,i,n,o),a=new ht(H[Et],s);return pr(e,H[Tt],t,a)}var yr,wr,br=function(){function e(t,r){var o=[],i=!1,s=r.maxRetryCnt;this._get=function(){return o},this._set=function(e){return o=e},(0,n.A)(e,this,(function(e){e[Ct]=function(n){e[Pt]()>=r.eventsLimitInMem?i||((0,N.ZP)(t,2,105,"Maximum in-memory buffer size reached: "+e[Pt](),!0),i=!0):(n.cnt=n.cnt||0,!(0,M.hXl)(s)&&n.cnt>s||o[It](n))},e[Pt]=function(){return o[bt]},e.size=function(){for(var e=o[bt],t=0;t<o[bt];t++)e+=o[t].item[bt];return r[Rt]||(e+=2),e},e[Lt]=function(){o=[],i=!1},e.getItems=function(){return o.slice(0)},e.batchPayloads=function(e){if(e&&e[bt]>0){var t=[];return(0,M.Iuo)(e,(function(e){t[It](e.item)})),r[Rt]?t.join("\n"):"["+t.join(",")+"]"}return null},e.createNew=function(e,r,n){var i=o.slice(0);e=e||t,r=r||{};var s=n?new Er(e,r):new Sr(e,r);return(0,M.Iuo)(i,(function(e){s[Ct](e)})),s}}))}return e.__ieDyn=1,e}(),Sr=function(e){function t(r,o){var i=e.call(this,r,o)||this;return(0,n.A)(t,i,(function(e,t){e[kt]=function(e){t[Lt]()},e[Dt]=function(e){}})),i}return(0,o.qU)(t,e),t.__ieDyn=1,t}(br),_r=["AI_buffer","AI_sentBuffer"],Er=function(e){function t(r,o){var i=e.call(this,r,o)||this,s=!1,a=null==o?void 0:o.namePrefix,c=o[At]||{getItem:ze,setItem:Ve},l=c.getItem,u=c.setItem,d=o.maxRetryCnt;return(0,n.A)(t,i,(function(e,n){var o=m(t[Ot]),i=m(t[Wt]),c=function(){var e=[];try{return(0,M.Iuo)(_r,(function(t){var r=w(t);if(e=e[Mt](r),a){var n=w(a+"_"+t);e=e[Mt](n)}})),e}catch(e){(0,N.ZP)(r,2,41,"Transfer events from previous buffers: "+(0,Me.lL)(e)+". previous Buffer items can not be removed",{exception:(0,M.mmD)(e)})}return[]}(),f=i[Mt](c),h=e._set(o[Mt](f));function p(e,t){var r=[],n=[];return(0,M.Iuo)(e,(function(e){n[It](e.item)})),(0,M.Iuo)(t,(function(e){(0,M.Tnt)(e)||-1!==(0,M.rDm)(n,e.item)||r[It](e)})),r}function m(e){return g(a?a+"_"+e:e)}function g(e){try{var t=l(r,e);if(t){var n=(0,F.hm)().parse(t);if((0,M.KgX)(n)&&(n=(0,F.hm)().parse(n)),n&&(0,M.cyL)(n))return n}}catch(t){(0,N.ZP)(r,1,42," storage key: "+e+", "+(0,Me.lL)(t),{exception:(0,M.mmD)(t)})}return[]}function y(e,t){var n=e;try{n=a?a+"_"+n:n;var o=JSON[St](t);u(r,n,o)}catch(e){u(r,n,JSON[St]([])),(0,N.ZP)(r,2,41," storage key: "+n+", "+(0,Me.lL)(e)+". Buffer cleared",{exception:(0,M.mmD)(e)})}}function w(e){try{var t=g(e),n=[];return(0,M.Iuo)(t,(function(e){var t={item:e,cnt:0};n[It](t)})),function(e,t){var r=je();if(null!==r)try{return r[v](t),!0}catch(t){qe=!1,(0,N.ZP)(e,2,6,"Browser failed removal of session storage item. "+(0,Me.lL)(t),{exception:(0,M.mmD)(t)})}}(r,e),n}catch(e){}return[]}h[bt]>t[Nt]&&(h[bt]=t[Nt]),y(t[Wt],[]),y(t[Ot],h),e[Ct]=function(o){e[Pt]()>=t[Nt]?s||((0,N.ZP)(r,2,67,"Maximum buffer size reached: "+e[Pt](),!0),s=!0):(o.cnt=o.cnt||0,!(0,M.hXl)(d)&&o.cnt>d||(n[Ct](o),y(t[Ot],e._get())))},e[Lt]=function(){n[Lt](),y(t[Ot],e._get()),y(t[Wt],[]),s=!1},e[kt]=function(n){y(t[Ot],e._set(p(n,e._get())));var o=m(t[Wt]);o instanceof Array&&n instanceof Array&&((o=o[Mt](n))[bt]>t[Nt]&&((0,N.ZP)(r,1,67,"Sent buffer reached its maximum size: "+o[bt],!0),o[bt]=t[Nt]),y(t[Wt],o))},e[Dt]=function(e){var r=m(t[Wt]);r=p(e,r),y(t[Wt],r)},e.createNew=function(n,o,i){i=!!i;var s=e._get().slice(0),a=m(t[Wt]).slice(0);n=n||r,o=o||{},e[Lt]();var c=i?new t(n,o):new Sr(n,o);return(0,M.Iuo)(s,(function(e){c[Ct](e)})),i&&c[kt](a),c}})),i}var r;return(0,o.qU)(t,e),r=t,t.VERSION="_1",t.BUFFER_KEY="AI_buffer"+r.VERSION,t.SENT_BUFFER_KEY="AI_sentBuffer"+r.VERSION,t.MAX_BUFFER_SIZE=2e3,t}(br),Tr=function(){function e(t){(0,n.A)(e,this,(function(e){function r(e,i){var s="__aiCircularRefCheck",a={};if(!e)return(0,N.ZP)(t,1,48,"cannot serialize object because it is null or undefined",{name:i},!0),a;if(e[s])return(0,N.ZP)(t,2,50,"Circular reference detected while serializing object",{name:i},!0),a;if(!e.aiDataContract){if("measurements"===i)a=o(e,"number",i);else if("properties"===i)a=o(e,"string",i);else if("tags"===i)a=o(e,"string",i);else if((0,M.cyL)(e))a=n(e,i);else{(0,N.ZP)(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:i},!0);try{(0,F.hm)()[St](e),a=e}catch(e){(0,N.ZP)(t,1,48,e&&(0,M.Tnt)(e[xt])?e[xt]():"Error serializing object",null,!0)}}return a}return e[s]=!0,(0,M.zav)(e.aiDataContract,(function(o,s){var c=(0,M.Tnt)(s)?1&s():1&s,l=(0,M.Tnt)(s)?4&s():4&s,u=2&s,d=void 0!==e[o],f=(0,M.Gvm)(e[o])&&null!==e[o];if(!c||d||u){if(!l){var h;void 0!==(h=f?u?n(e[o],o):r(e[o],o):e[o])&&(a[o]=h)}}else(0,N.ZP)(t,1,24,"Missing required field specification. The field is required but not present on source",{field:o,name:i})})),delete e[s],a}function n(e,n){var o;if(e)if((0,M.cyL)(e)){o=[];for(var i=0;i<e[bt];i++){var s=r(e[i],n+"["+i+"]");o[It](s)}}else(0,N.ZP)(t,1,54,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:n},!0);return o}function o(e,r,n){var o;return e&&(o={},(0,M.zav)(e,(function(e,i){if("string"===r)void 0===i?o[e]="undefined":null===i?o[e]="null":i[xt]?o[e]=i[xt]():o[e]="invalid field: toString() is not defined.";else if("number"===r)if(void 0===i)o[e]="undefined";else if(null===i)o[e]="null";else{var s=parseFloat(i);o[e]=s}else o[e]="invalid field: "+n+" is of unknown type.",(0,N.ZP)(t,1,o[e],null,!0)}))),o}e.serialize=function(e){var n=r(e,"root");try{return(0,F.hm)()[St](n)}catch(e){(0,N.ZP)(t,1,48,e&&(0,M.Tnt)(e[xt])?e[xt]():"Error serializing object",null,!0)}}}))}return e.__ieDyn=1,e}(),xr=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(e){if(""===e)return 0;for(;e[bt]<8;)e=e[Mt](e);for(var t=5381,r=0;r<e[bt];++r)t=(t<<5)+t+e.charCodeAt(r),t|=0;return Math.abs(t)},e.INT_MAX_VALUE=2147483647,e}(),Cr=function(){var e=new xr,t=new ut;this.getSamplingScore=function(r){return r[mt]&&r[mt][t.userId]?e.getHashCodeScore(r[mt][t.userId]):r.ext&&r.ext.user&&r.ext.user.id?e.getHashCodeScore(r.ext.user.id):r[mt]&&r[mt][t.operationId]?e.getHashCodeScore(r[mt][t.operationId]):r.ext&&r.ext.telemetryTrace&&r.ext.telemetryTrace[wt]?e.getHashCodeScore(r.ext.telemetryTrace[wt]):100*Math.random()}},Pr=function(){function e(e,t){this.INT_MAX_VALUE=2147483647;var r=t||(0,N.y0)(null);(e>100||e<0)&&(r.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this[sr]=e,this.samplingScoreGenerator=new Cr}return e.prototype.isSampledIn=function(e){var t=this[sr];return null==t||t>=100||e.baseType===Te[Et]||this.samplingScoreGenerator.getSamplingScore(e)<t},e}(),Ir=void 0;function Rr(e){try{return e.responseText}catch(e){}return null}var Lr=(0,M.ZHX)(((yr={endpointUrl:(0,Xe.Lx)(M.zzB,c+l)})[Rt]=(0,Xe.DD)(),yr.maxBatchInterval=15e3,yr[Vt]=102400,yr.disableTelemetry=(0,Xe.DD)(),yr[Zt]=(0,Xe.DD)(!0),yr.isRetryDisabled=(0,Xe.DD)(),yr[Xt]=(0,Xe.DD)(!0),yr[Yt]=(0,Xe.DD)(!0),yr.disableXhr=(0,Xe.DD)(),yr[Gt]=(0,Xe.DD)(),yr[Ht]=(0,Xe.DD)(),yr[Bt]=Ir,yr.namePrefix=Ir,yr.samplingPercentage=(0,Xe.Lx)((function(e){return!isNaN(e)&&e>0&&e<=100}),100),yr[zt]=Ir,yr.convertUndefined=Ir,yr.eventsLimitInMem=1e4,yr[At]=!1,yr.httpXHROverride={isVal:function(e){return e&&e.sendPOST},v:Ir},yr[Kt]=(0,Xe.DD)(),yr.transports=Ir,yr.retryCodes=Ir,yr.maxRetryCnt={isVal:M.EtT,v:10},yr)),kr=((wr={})[H.dataType]=gr,wr[X.dataType]=function(e,t,r){mr(e,t);var n=t[cr].message,o=t[cr].severityLevel,i=t[cr][lr]||{},s=t[cr][_t]||{};fr(t[gt],i,s),(0,M.hXl)(r)||hr(i,r);var a=new X(e,n,o,i,s),c=new ht(X[Et],a);return pr(e,X[Tt],t,c)},wr[Z.dataType]=function(e,t,r){var n;mr(e,t);var o=t[cr];(0,M.hXl)(o)||(0,M.hXl)(o[lr])||(0,M.hXl)(o[lr][pt])?(0,M.hXl)(t[gt])||(0,M.hXl)(t[gt][pt])||(n=t[gt][pt],delete t[gt][pt]):(n=o[lr][pt],delete o[lr][pt]);var i,s=t[cr];((t.ext||{}).trace||{})[wt]&&(i=t.ext.trace[wt]);var a=s.id||i,c=s[yt],l=s.uri,u=s[lr]||{},d=s[_t]||{};if((0,M.hXl)(s.refUri)||(u.refUri=s.refUri),(0,M.hXl)(s.pageType)||(u.pageType=s.pageType),(0,M.hXl)(s.isLoggedIn)||(u.isLoggedIn=s.isLoggedIn[xt]()),!(0,M.hXl)(s[lr])){var f=s[lr];(0,M.zav)(f,(function(e,t){u[e]=t}))}fr(t[gt],u,d),(0,M.hXl)(r)||hr(u,r);var h=new Z(e,c,l,n,u,d,a),p=new ht(Z[Et],h);return pr(e,Z[Tt],t,p)},wr[J.dataType]=function(e,t,r){mr(e,t);var n=t[cr],o=n[yt],i=n.uri||n.url,s=n[lr]||{},a=n[_t]||{};fr(t[gt],s,a),(0,M.hXl)(r)||hr(s,r);var c=new J(e,o,i,void 0,s,a,n),l=new ht(J[Et],c);return pr(e,J[Tt],t,l)},wr[me.dataType]=function(e,t,r){mr(e,t);var n=t[cr][_t]||{},o=t[cr][lr]||{};fr(t[gt],o,n),(0,M.hXl)(r)||hr(o,r);var i=t[cr],s=me.CreateFromInterface(e,i,o,n),a=new ht(me[Et],s);return pr(e,me[Tt],t,a)},wr[Te.dataType]=function(e,t,r){mr(e,t);var n=t[cr],o=n[lr]||{},i=n[_t]||{};fr(t[gt],o,i),(0,M.hXl)(r)||hr(o,r);var s=new Te(e,n[yt],n.average,n.sampleCount,n.min,n.max,n.stdDev,o,i),a=new ht(Te[Et],s);return pr(e,Te[Tt],t,a)},wr[ke.dataType]=function(e,t,r){mr(e,t);var n=t[cr][_t]||{},o=t[cr][lr]||{};fr(t[gt],o,n),(0,M.hXl)(r)||hr(o,r);var i=t[cr];if((0,M.hXl)(i))return(0,N.OG)(e,"Invalid input for dependency data"),null;var s=i[lr]&&i[lr][a]?i[lr][a]:"GET",c=new ke(e,i.id,i.target,i[yt],i[pt],i.success,i.responseCode,s,i.type,i.correlationContext,o,n),l=new ht(ke[Et],c);return pr(e,ke[Tt],t,l)},wr),Dr=function(e){function t(){var r,o,a,c,l,u,d,f=e.call(this)||this;f.priority=1001,f.identifier=De.Uu;var h,p,m,v,g,y,w,b,S,_,E,T,x,C,P,I,R,L,k,D,A,O,W,q,U,$,j,B=0;return(0,n.A)(t,f,(function(e,n){function z(t,n){var o=Rr(t);if(!t||o+""!="200"&&""!==o){var i=(0,Qe.x)(o);i&&i[nr]&&i[nr]>i[or]&&!C?e[tr](n,i):e[er](n,(0,Me.HU)(t))}else r=0,e[rr](n,0)}function V(e,t,r){4===e.readyState&&re(e.status,t,e.responseURL,r,(0,Me.r4)(e),Rr(e)||e.response)}function H(e){try{if(e){var t=e.oriPayload;return t&&t[bt]?t:null}}catch(e){}return null}function X(t,r){return!(E||(t?t.baseData&&!t[ir]?(r&&(0,N.ZP)(r,1,70,"Cannot send telemetry without baseData and baseType"),1):(t[ir]||(t[ir]="EventData"),e[$t]?(n=t,e._sample.isSampledIn(n)?(t[i]=e._sample[sr],0):(r&&(0,N.ZP)(r,2,33,"Telemetry item was sampled out and not sent",{SampleRate:e._sample[sr]}),1)):(r&&(0,N.ZP)(r,1,28,"Sender was not initialized"),1)):(r&&(0,N.ZP)(r,1,7,"Cannot send empty telemetry"),1)));var n}function K(e,r){var n=e.iKey||T,o=t.constructEnvelope(e,n,r,x);if(o){var i=!1;if(e[mt]&&e[mt][s]&&((0,M.Iuo)(e[mt][s],(function(e){try{e&&!1===e(o)&&(i=!0,(0,N.OG)(r,"Telemetry processor check returns false"))}catch(e){(0,N.ZP)(r,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,Me.lL)(e),{exception:(0,M.mmD)(e)},!0)}})),delete e[mt][s]),!i)return o}else(0,N.ZP)(r,1,47,"Unable to create an AppInsights envelope")}function Z(t){var r="",n=e[qt]();try{var o=X(t,n),i=null;o&&(i=K(t,n)),i&&(r=l.serialize(i))}catch(e){}return r}function J(e){var t="";return e&&e[bt]&&(t="["+e.join(",")+"]"),t}function G(e){var t=ee();return{urlString:v,data:e,headers:t}}function Y(t,r,n,o){void 0===o&&(o=!0);var i=Q(r),s=t&&t.sendPOST;return s&&i?(o&&e._buffer[kt](r),s(i,(function(t,n,o){return function(t,r,n,o){200===r&&t?e._onSuccess(t,t[bt]):o&&e[er](t,o)}(r,t,0,o)}),!n)):null}function Q(t){if((0,M.cyL)(t)&&t[bt]>0){var r=e[Jt].batchPayloads(t),n=ee();return{data:r,urlString:v,headers:n,disableXhrSync:A,disableFetchKeepAlive:!O,oriPayload:t}}return null}function ee(){try{var e=d||{};return Le(v)&&(e[He[6]]=He[7]),e}catch(e){}return null}function te(t){var r=t?t[bt]:0;return e[Jt].size()+r>y&&(p&&!p.isOnline()||e[Ft](!0,null,10),!0)}function re(t,n,o,i,s,a){var c=null;if(e._appId||(c=(0,Qe.x)(a))&&c.appId&&(e._appId=c.appId),(t<200||t>=300)&&0!==t){if((301===t||307===t||308===t)&&!ne(o))return void e[er](n,s);if(p&&!p.isOnline())return void(C||(ae(n,10),(0,N.ZP)(e[qt](),2,40,". Offline - Response Code: ".concat(t,". Offline status: ").concat(!p.isOnline(),". Will retry to send ").concat(n.length," items."))));!C&&ue(t)?(ae(n),(0,N.ZP)(e[qt](),2,40,". Response code "+t+". Will retry to send "+n[bt]+" items.")):e[er](n,s)}else ne(o),206===t?(c||(c=(0,Qe.x)(a)),c&&!C?e[tr](n,c):e[er](n,s)):(r=0,e[rr](n,i))}function ne(e){return!(u>=10||(0,M.hXl)(e)||""===e||e===v||(v=e,++u,0))}function oe(e,t){if(!h)return Y($&&$[Qt]([3],!0),e,t);h(e,!1)}function ie(e){try{if(e&&e[bt])return(0,M.KgX)(e[0])}catch(e){}return null}function se(t,r){var n=null;if((0,M.cyL)(t)){for(var o=t[bt],i=0;i<t[bt];i++)o+=t[i].item[bt];return $.getSyncFetchPayload()+o<=65e3?n=2:(0,F.Uf)()?n=3:(n=1,(0,N.ZP)(e[qt](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender.")),Y($&&$[Qt]([n],!0),t,r)}return null}function ae(t,n){if(void 0===n&&(n=1),t&&0!==t[bt]){var i=e[Jt];i[Dt](t),r++;for(var s=0,a=t;s<a.length;s++){var c=a[s];c.cnt=c.cnt||0,c.cnt++,i[Ct](c)}!function(e){var t;if(r<=1)t=10;else{var n=(Math.pow(2,r)-1)/2,i=(0,M.ZrT)(Math.random()*n*10)+1;i*=e,t=(0,M.JBS)((0,M.rpU)(i,3600),10)}var s=(0,M.f0d)()+1e3*t;o=s}(n),ce()}}function ce(){if(!c&&!a){var t=o?(0,M.JBS)(0,o-(0,M.f0d)()):0,r=(0,M.JBS)(P,t);c=(0,M.dRz)((function(){c=null,e[Ft](!0,null,1)}),r)}}function le(){c&&c.cancel(),c=null,o=null}function ue(e){return(0,M.hXl)(j)?401===e||408===e||429===e||500===e||502===e||503===e||504===e:j[bt]&&j.indexOf(e)>-1}function de(){e[$t]=null,e[Jt]=null,e._appId=null,e._sample=null,d={},p=null,r=0,o=null,a=!1,c=null,l=null,u=0,B=0,h=null,m=null,v=null,g=null,y=0,w=!1,_=null,E=!1,T=null,x=Ir,C=!1,I=null,L=Ir,A=!1,O=!1,U=!1,W=null,q=null,$=null,(0,M.vF1)(e,"_senderConfig",{g:function(){return(0,Me.CP)({},Lr)}})}de(),e.pause=function(){le(),a=!0},e.resume=function(){a&&(a=!1,o=null,te(),ce())},e.flush=function(t,r,n){if(void 0===t&&(t=!0),!a){le();try{return e[Ft](t,null,n||1)}catch(t){(0,N.ZP)(e[qt](),1,22,"flush failed, telemetry will not be collected: "+(0,Me.lL)(t),{exception:(0,M.mmD)(t)})}}},e.onunloadFlush=function(){if(!a)if(w||D)try{return e[Ft](!0,oe,2)}catch(t){(0,N.ZP)(e[qt](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,Me.lL)(t),{exception:(0,M.mmD)(t)})}else e.flush(!1)},e.addHeader=function(e,t){d[e]=t},e[Ut]=function(t,i,s,a){e.isInitialized()&&(0,N.ZP)(e[qt](),1,28,"Sender is already initialized"),n[Ut](t,i,s,a);var c=e.identifier;l=new Tr(i.logger),r=0,o=null,e[$t]=null,u=0;var B=e[qt]();m=(0,Ae.Hm)((0,Oe.Z)("Sender"),i.evtNamespace&&i.evtNamespace()),p=function(e){var t=(0,M.YEm)(),r=(0,M.w3n)(),n=!1,o=[],i=1;!r||(0,M.hXl)(r.onLine)||r.onLine||(i=2);var s=0,a=d(),c=(0,Ae.Hm)((0,Oe.Z)("OfflineListener"),e);try{if(u((0,M.zkX)())&&(n=!0),t){var l=t.body||t;l.ononline&&u(l)&&(n=!0)}}catch(e){n=!1}function u(e){var t=!1;return e&&(t=(0,Ae.mB)(e,"online",h,c))&&(0,Ae.mB)(e,"offline",p,c),t}function d(){return 2!==s&&2!==i}function f(){var e=d();a!==e&&(a=e,(0,M.Iuo)(o,(function(e){var t={isOnline:a,rState:i,uState:s};try{e(t)}catch(e){}})))}function h(){i=1,f()}function p(){i=2,f()}return{isOnline:function(){return a},isListening:function(){return n},unload:function(){var e=(0,M.zkX)();if(e&&n){if(We(e,c),t){var r=t.body||t;(0,M.b07)(r.ononline)||We(r,c)}n=!1}},addListener:function(e){return o.push(e),{rm:function(){var t=o.indexOf(e);return t>-1?o.splice(t,1):void 0}}},setOnlineState:function(e){s=e,f()}}}(m),e._addHook((0,Ke.a)(t,(function(t){var r,n=t.cfg;n.storagePrefix&&(r=n.storagePrefix,Ue=r||"");var o=(0,Ze.i8)(null,n,i).getExtCfg(c,Lr),s=o[jt];if(v&&s===v){var a=n[jt];a&&a!==s&&(o[jt]=a)}(0,M.$XS)(o[Bt])&&(o[Bt]=n[Bt]),(0,M.vF1)(e,"_senderConfig",{g:function(){return o}}),g!==o[jt]&&(v=g=o[jt]),i.activeStatus()===Je.f.PENDING?e.pause():i.activeStatus()===Je.f.ACTIVE&&e.resume(),_&&_!==o[zt]&&(0,M.Iuo)(_,(function(e){delete d[e.header]})),y=o[Vt],w=(!1===o[Ht]||!1===o[Xt])&&(0,F.Uf)(),b=!1===o[Ht]&&(0,F.Uf)(),S=!1===o[Xt]&&(0,F.Uf)(),D=o[Kt],A=!!o.disableXhr,j=o.retryCodes;var l=o[At],u=!!o[Zt]&&(!!l||Be()),p=o.namePrefix,m=u!==I||u&&L!==p||u&&R!==l;if(e[Jt]){if(m)try{e[Jt]=e[Jt].createNew(B,o,u)}catch(t){(0,N.ZP)(e[qt](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+(0,Me.lL)(t),{exception:(0,M.mmD)(t)})}te()}else e[Jt]=u?new Er(B,o):new Sr(B,o);L=p,I=u,R=l,O=!o[Gt]&&(0,F.R7)(!0),U=!!o[Yt],e._sample=new Pr(o.samplingPercentage,B),T=o[Bt],(0,M.$XS)(T)||function(e,t){var r=t.disableInstrumentationKeyValidation;return!((0,M.hXl)(r)||!r)||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)}(T,n)||(0,N.ZP)(B,1,100,"Invalid Instrumentation key "+T),_=o[zt],(0,M.KgX)(v)&&!Le(v)&&_&&_[bt]>0?(0,M.Iuo)(_,(function(e){f.addHeader(e.header,e.value)})):_=null,k=o.enableSendPromise;var X=function(){try{return{enableSendPromise:k,isOneDs:!1,disableCredentials:!1,disableXhr:A,disableBeacon:!S,disableBeaconSync:!b,senderOnCompleteCallBack:{xdrOnComplete:function(e,t,r){var n=H(r);if(n)return z(e,n)},fetchOnComplete:function(e,t,r,n){var o=H(n);if(o)return re(e.status,o,e.url,o[bt],e.statusText,r||"")},xhrOnComplete:function(e,t,r){var n=H(r);if(n)return V(e,n,n[bt])},beaconOnRetry:function(t,r,n){return function(t,r,n){var o=t&&t.oriPayload;if(U)q&&q(o,!0),(0,N.ZP)(e[qt](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var i=[],s=0;s<o[bt];s++){var a=o[s],c=[a];n(Q(c),r)?e._onSuccess(c,c[bt]):i[It](a)}i[bt]>0&&(q&&q(i,!0),(0,N.ZP)(e[qt](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}(t,r,n)}}}}catch(e){}return null}();$?$.SetConfig(X):($=new Ge.v)[Ut](X,B);var K=o.httpXHROverride,Z=null,J=null,G=(0,Me.jL)([3,1,2],o.transports);Z=$&&$[Qt](G,!1);var ee=$&&$.getFallbackInst();W=function(e,t){return Y(ee,e,t)},q=function(e,t){return Y(ee,e,t,!1)},Z=D?K:Z||K||ee,e[$t]=function(e,t){return Y(Z,e,t)},O&&(h=se);var ne=(0,Me.jL)([3,1],o.unloadTransports);O||(ne=ne.filter((function(e){return 2!==e}))),J=$&&$[Qt](ne,!0),J=D?K:J||K,(D||o.unloadTransports||!h)&&J&&(h=function(e,t){return Y(J,e,t)}),h||(h=W),E=o.disableTelemetry,x=o.convertUndefined||Ir,C=o.isRetryDisabled,P=o.maxBatchInterval})))},e.processTelemetry=function(t,r){var n=(r=e._getTelCtx(r))[qt]();try{if(!X(t,n))return;var o=K(t,n);if(!o)return;var i=l.serialize(o),s=e[Jt];te(i);var a={item:i,cnt:0};s[Ct](a),ce()}catch(e){(0,N.ZP)(n,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,Me.lL)(e),{exception:(0,M.mmD)(e)})}e.processNext(t,r)},e.isCompletelyIdle=function(){return!a&&0===B&&0===e._buffer[Pt]()},e.getOfflineListener=function(){return p},e._xhrReadyStateChange=function(e,t,r){if(!ie(t))return V(e,t,r)},e[Ft]=function(t,r,n){var o;if(void 0===t&&(t=!0),!a)try{var i=e[Jt];if(E)i[Lt]();else{if(i[Pt]()>0){var s=i.getItems();!function(t,r){var n,o=(n="getNotifyMgr",e.core[n]?e.core[n]():e.core._notificationManager);if(o&&o.eventsSendRequest)try{o.eventsSendRequest(t,r)}catch(t){(0,N.ZP)(e[qt](),1,74,"send request notification failed: "+(0,Me.lL)(t),{exception:(0,M.mmD)(t)})}}(n||0,t),o=r?r.call(e,s,t):e[$t](s,t)}new Date}le()}catch(t){var c=(0,F.L0)();(!c||c>9)&&(0,N.ZP)(e[qt](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,Me.lL)(t),{exception:(0,M.mmD)(t)})}return o},e.getOfflineSupport=function(){return{getUrl:function(){return v},createPayload:G,serialize:Z,batch:J,shouldProcess:function(e){return!!X(e)}}},e._doTeardown=function(t,r){e.onunloadFlush(),(0,Ye.K)(p,!1),de()},e[er]=function(t,r,n){if(!ie(t))return function(t,r){(0,N.ZP)(e[qt](),2,26,"Failed to send telemetry.",{message:r}),e._buffer&&e._buffer[Dt](t)}(t,r)},e[tr]=function(t,r){if(!ie(t))return function(t,r){for(var n=[],o=[],i=0,s=r.errors.reverse();i<s.length;i++){var a=s[i],c=t.splice(a.index,1)[0];ue(a.statusCode)?o[It](c):n[It](c)}t[bt]>0&&e[rr](t,r[or]),n[bt]>0&&e[er](n,(0,Me.r4)(null,["partial success",r[or],"of",r.itemsReceived].join(" "))),o[bt]>0&&(ae(o),(0,N.ZP)(e[qt](),2,40,"Partial success. Delivered: "+t[bt]+", Failed: "+n[bt]+". Will retry to send "+o[bt]+" our of "+r[nr]+" items"))}(t,r)},e[rr]=function(t,r){if(!ie(t))return function(t){e._buffer&&e._buffer[Dt](t)}(t)},e._xdrOnLoad=function(e,t){if(!ie(t))return z(e,t)}})),f}return(0,o.qU)(t,e),t.constructEnvelope=function(e,t,r,n){var i;return i=t===e.iKey||(0,M.hXl)(t)?e:(0,o.Im)((0,o.Im)({},e),{iKey:t}),(kr[i.baseType]||gr)(r,i,n)},t}(et.s);function Ar(e){if(!e)return{};var t=e[d](";"),r=(0,M.KTd)(t,(function(e,t){var r=t[d]("=");if(2===r[f]){var n=r[0][h](),o=r[1];e[n]=o}return e}),{});if((0,M.cGk)(r)[f]>0){if(r.endpointsuffix){var n=r.location?r.location+".":"";r[p]=r[p]||"https://"+n+"dc."+r.endpointsuffix}r[p]=r[p]||c,(0,M.Cv9)(r[p],"/")&&(r[p]=r[p].slice(0,-1))}return r}var Or,Wr=r(2774),Mr=r(8205),Nr="instrumentationKey",Fr="connectionString",qr="endpointUrl",Ur="userOverrideEndpointUrl",$r=(0,Ne.H)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),jr=void 0,Br=((Or={diagnosticLogInterval:(0,Xe.Lx)((function(e){return e&&e>0}),1e4)})[Fr]=jr,Or.endpointUrl=jr,Or[Nr]=jr,Or.extensionConfig={},Or),zr=function(){function e(t){var r,o=new Wr._;function i(e){e&&(e.baseData=e.baseData||{},e.baseType=e.baseType||"EventData"),o.track(e)}((0,M.hXl)(t)||(0,M.hXl)(t[Nr])&&(0,M.hXl)(t[Fr]))&&(0,M.$8)("Invalid input configuration"),(0,n.A)(e,this,(function(e){function n(){var e=(0,Ke.e)(t||{},Br);r=e.cfg,o.addUnloadHook((0,Ke.a)(e,(function(){var e=r[Fr];if((0,M.$XS)(e)){var t=(0,Mr.Rf)((function(t,n){(0,Mr.Dv)(e,(function(e){var n=e.value,o=r[Nr];!e.rejected&&n&&(r[Fr]=n,o=Ar(n).instrumentationkey||o),t(o)}))})),n=(0,Mr.Rf)((function(t,n){(0,Mr.Dv)(e,(function(e){var n=e.value,o=r[qr];if(!e.rejected&&n){var i=Ar(n).ingestionendpoint;o=i?i+l:o}t(o)}))}));r[Nr]=t,r[qr]=r[Ur]||n}if((0,M.KgX)(e)){var o=Ar(e),i=o.ingestionendpoint;r[qr]=r[Ur]?r[Ur]:i+l,r[Nr]=o.instrumentationkey||r[Nr]}r[qr]=r[Ur]?r[Ur]:r[qr]}))),o.initialize(r,[new Dr])}(0,M.vF1)(e,"config",{g:function(){return r}}),n(),e.initialize=n,e.track=i,(0,Me.o$)(e,o,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"])}))}return e.__ieDyn=1,e}()},172:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noDistrosInstalledMessage=void 0,t.getDialogs=function(e,r,a,c){const l=(0,o.createTerminalRunner)();function u(){return n.env.openExternal(n.Uri.parse("https://www.microsoft.com/en-gb/search/shop/apps?q=wsl&devicetype=pc&category=Developer+tools&Price=0"))}async function d(){const t=e.getWSLExecutablePath(),o=await r.getInstallableDistros();if(!o||!t||e.hostAuthority)return u();const s=new Set([...(await r.getDistros()).map((e=>e.name))]),a=o.filter((e=>!s.has(e.name))).sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>({label:e.label,distro:e})));a.push({label:n.l10n.t("{0} Browse Store...","$(globe)")});const c=await n.window.showQuickPick(a,{placeHolder:n.l10n.t("Select the WSL distro to install")});if(c){if(void 0===c.distro)return u();const o=n.env.remoteAuthority;if(o){const r=(0,i.getDistroFromAuthority)(o)?.distro;if(r){const n=await e.executeWslPath(r,t,!0);l.runCommand(`'${n}' --install -d ${c.distro.name}`)}else l.runCommand(`wsl.exe --install -d ${c.distro.name}`)}else l.runCommand(`${t} --install -d ${c.distro.name}`);r.notifyDistroChanged()}}return{checkIfWSLInstalled:async function(){const t=e.getWSLExecutablePath(),r=await e.isWSLInstalled();if(!r&&t){c.reportDialog("wslNotInstalled","show");const r=n.l10n.t("Documentation"),o=n.l10n.t("Install Now"),i=!e.hostAuthority&&function(e){return e.windowsBuildNumber>=20262}(e)?[o,r]:[r],s=e.hostAuthority?n.l10n.t("A recent Windows Subsystem for Linux version was not detected. The WSL extension requires Windows 10 with an updated Windows Subsystem for Linux installed."):n.l10n.t("Windows Subsystem for Linux not detected. The WSL extension requires Windows 10 with the Windows Subsystem for Linux feature installed."),u=await n.window.showErrorMessage(s,...i);u===r?(c.reportDialog("wslNotInstalled","open"),n.env.openExternal(n.Uri.parse(e.hostAuthority?"https://aka.ms/vscode-remote/wsl/install-wsl-nested":"https://aka.ms/vscode-remote/wsl/install-wsl"))):u===o&&l?(c.reportDialog("wslNotInstalled","install"),l.startWSLInstall(e,t,a)):c.reportDialog("wslNotInstalled","close")}return r},showNoDistroDialog:async function(){const e=n.l10n.t("Add Distro"),r=await n.window.showInformationMessage(t.noDistrosInstalledMessage,e);return r===e&&await d(),r},showDistroStore:d,changeDefaultDistro:async function(e){const t=n.l10n.t("Change Default"),o=n.l10n.t("With WSL builds older than {0}, the WSL extension can only open distros that are configured as the default distro.",s.WIN10_1903.label)+"\n\n"+n.l10n.t("Do you want to make {0} the new default distro?.",e);if(await n.window.showWarningMessage(o,{modal:!0},t)===t){try{await r.makeDefault(e)}catch{}return!0}return!1},checkWSLPathSupport:async function(){return!!e.isWSLPathAvailable()||(await n.window.showInformationMessage(n.l10n.t("The WSL extension requires a recent version of WSL ({0}) to support reopening in Windows or WSL.",s.WIN10_1803.label),n.l10n.t("Ok")),!1)}}};const n=r(1398),o=r(5799),i=r(2552),s=r(7153);t.noDistrosInstalledMessage=n.l10n.t("No WSL distros found. New distros can be installed from the Microsoft Store.")},181:e=>{"use strict";e.exports=require("buffer")},269:(e,t,r)=>{"use strict";function n(e,t){return e||t}function o(e,t){return e[t]}r.d(t,{$8:()=>ue,$PY:()=>$,$XS:()=>V,AHH:()=>mr,Cv9:()=>nr,DA8:()=>bt,EHq:()=>jt,Edw:()=>A,EtT:()=>j,FJj:()=>er,GuU:()=>Xe,Gvm:()=>q,HzD:()=>ir,Iuo:()=>Et,JBS:()=>Ae,JKf:()=>lt,KTd:()=>Lt,KVm:()=>Ct,KgX:()=>N,KhI:()=>J,Lln:()=>ut,Lmq:()=>B,Lok:()=>ht,N6t:()=>ye,Nq2:()=>Rt,O9V:()=>M,P0f:()=>We,QdQ:()=>Vt,R3R:()=>Qt,SZ2:()=>D,Tnt:()=>F,UUD:()=>tr,UxO:()=>te,Vdv:()=>tt,W$7:()=>xt,WSA:()=>Se,Wtk:()=>Qe,Y0g:()=>mt,YEm:()=>et,Yny:()=>_t,ZHX:()=>ge,ZWZ:()=>Fe,ZrT:()=>Bt,aqQ:()=>Wt,b07:()=>O,bJ7:()=>z,cGk:()=>ve,cyL:()=>U,dRz:()=>hr,eCG:()=>gt,f0d:()=>Mt,fn0:()=>Ee,gBW:()=>R,hKY:()=>Me,hXl:()=>W,iho:()=>zt,isD:()=>re,jjc:()=>vt,jn:()=>rr,jsL:()=>we,kgX:()=>K,mS$:()=>Ge,mmD:()=>le,nRs:()=>He,oJg:()=>ae,rDm:()=>Tt,raO:()=>ne,rpU:()=>De,sSX:()=>kt,tGl:()=>sr,twz:()=>it,v0u:()=>Z,vE3:()=>me,vF1:()=>oe,vKV:()=>pr,w3n:()=>ot,w9M:()=>nt,woc:()=>H,xZI:()=>wt,zS2:()=>Ye,zav:()=>Y,zkX:()=>rt,zkd:()=>de,zwS:()=>Gt,zzB:()=>X});var i,s=void 0,a=null,c="",l="function",u="object",d="prototype",f="__proto__",h="undefined",p="constructor",m="Symbol",v="_polyfill",g="length",y="name",w="call",b="toString",S=n(Object),_=o(S,d),E=n(String),T=o(E,d),x=n(Math),C=n(Array),P=o(C,d),I=o(P,"slice");function R(e,t){try{return{v:e.apply(this,t)}}catch(e){return{e}}}function L(e){return function(t){return typeof t===e}}function k(e){var t="[object "+e+"]";return function(e){return!(!e||D(e)!==t)}}function D(e){return _[b].call(e)}function A(e,t){return typeof e===t}function O(e){return typeof e===h||e===h}function W(e){return e===a||O(e)}function M(e){return!!e||e!==s}var N=L("string"),F=L(l);function q(e){return!(!e&&W(e)||!e||typeof e!==u)}var U=o(C,"isArray"),$=k("Date"),j=L("number"),B=L("boolean"),z=k("Error");function V(e){return!!(e&&e.then&&F(e.then))}function H(e){return!e||!X(e)}function X(e){return!(!e||(t=function(){return!(e&&0+e)},r=!e,n=R(t),n.e?r:n.v));var t,r,n}var K=o(S,"getOwnPropertyDescriptor");function Z(e,t){return!!e&&_.hasOwnProperty[w](e,t)}var J=n(o(S,"hasOwn"),G);function G(e,t){return Z(e,t)||!!K(e,t)}function Y(e,t,r){if(e&&q(e))for(var n in e)if(J(e,n)&&-1===t[w](r||e,n,e[n]))break}var Q={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function ee(e){var t={};if(t[Q.c]=!0,t[Q.e]=!0,e.l){t.get=function(){return e.l.v};var r=K(e.l,"v");r&&r.set&&(t.set=function(t){e.l.v=t})}return Y(e,(function(e,r){t[Q[e]]=M(r)?r:t[Q[e]]})),t}var te=o(S,"defineProperty"),re=o(S,"defineProperties");function ne(e,t,r,n,o,i){var s={e:i,c:o};return r&&(s.g=r),n&&(s.s=n),te(e,t,ee(s))}function oe(e,t,r){return te(e,t,ee(r))}function ie(e,t,r,n,o){var i={};return Y(e,(function(e,n){se(i,e,t?n:e),se(i,n,r?n:e)})),n?n(i):i}function se(e,t,r,n){te(e,t,{value:r,enumerable:!0,writable:!1})}var ae=n(E),ce="[object Error]";function le(e,t){var r=c,n=_[b][w](e);n===ce&&(e={stack:ae(e.stack),message:ae(e.message),name:ae(e.name)});try{r=((r=JSON.stringify(e,a,t?"number"==typeof t?t:4:s))?r.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):a)||ae(e)}catch(e){r=" - "+le(e,t)}return n+": "+r}function ue(e){throw new Error(e)}function de(e){throw new TypeError(e)}var fe=o(S,"freeze");function he(e){return e}function pe(e){return e[f]||a}var me=o(S,"assign"),ve=o(S,"keys");function ge(e){return fe&&Y(e,(function(e,t){(U(t)||q(t))&&ge(t)})),ye(e)}var ye=n(fe,he),we=n(o(S,"seal"),he),be=n(o(S,"getPrototypeOf"),pe);function Se(e){return ie(e,1,0,ye)}function _e(e){return ie(e,0,0,ye)}function Ee(e){return function(e){var t={};return Y(e,(function(e,r){se(t,e,r[1]),se(t,r[0],r[1])})),ye(t)}(e)}var Te,xe=_e({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Ce="__tsUtils$gblCfg";function Pe(){var e;return typeof globalThis!==h&&(e=globalThis),e||typeof self===h||(e=self),e||typeof window===h||(e=window),e||typeof global===h||(e=global),e}function Ie(){if(!Te){var e=R(Pe).v||{};Te=e[Ce]=e[Ce]||{}}return Te}var Re=Le;function Le(e,t,r){var n=t?t[e]:a;return function(t){var o=(t?t[e]:a)||n;if(o||r){var i=arguments;return(o||r).apply(t,o?I[w](i,1):i)}de('"'+ae(e)+'" not defined for '+le(t))}}function ke(e){return function(t){return t[e]}}var De=o(x,"min"),Ae=o(x,"max"),Oe=Re("slice",T),We=Re("substring",T),Me=Le("substr",T,Ne);function Ne(e,t,r){return W(e)&&de("Invalid "+le(e)),r<0?c:((t=t||0)<0&&(t=Ae(t+e[g],0)),O(r)?Oe(e,t):Oe(e,t,t+r))}function Fe(e,t){return We(e,0,t)}var qe,Ue,$e,je="_urid";function Be(e){var t={description:ae(e),toString:function(){return m+"("+e+")"}};return t[v]=!0,t}function ze(e){var t=function(){if(!qe){var e=Ie();qe=e.gblSym=e.gblSym||{k:{},s:{}}}return qe}();if(!J(t.k,e)){var r=Be(e),n=ve(t.s).length;r[je]=function(){return n+"_"+r[b]()},t.k[e]=r,t.s[r[je]()]=ae(e)}return t.k[e]}function Ve(){$e=Ie()}function He(e){var t={};return!$e&&Ve(),t.b=$e.lzy,te(t,"v",{configurable:!0,get:function(){var r=e();return $e.lzy||te(t,"v",{value:r}),t.b=$e.lzy,r}}),t}function Xe(e){return te({toJSON:function(){return e}},"v",{value:e})}var Ke,Ze="window";function Je(e,t){var r;return function(){return!$e&&Ve(),r&&!$e.lzy||(r=Xe(R(e,t).v)),r.v}}function Ge(e){return!$e&&Ve(),Ke&&!1!==e&&!$e.lzy||(Ke=Xe(R(Pe).v||a)),Ke.v}function Ye(e,t){var r;if((r=Ke&&!1!==t?Ke.v:Ge(t))&&r[e])return r[e];if(e===Ze)try{return window}catch(e){}return a}function Qe(){return!!et()}var et=Je(Ye,["document"]);function tt(){return!!rt()}var rt=Je(Ye,[Ze]);function nt(){return!!ot()}var ot=Je(Ye,["navigator"]);function it(){return!!lt()}var st,at,ct,lt=Je(Ye,["history"]),ut=Je((function(){return!!R((function(){return process&&(process.versions||{}).node})).v}));function dt(){return st=Xe(R(Ye,[m]).v)}function ft(e){var t=($e.lzy?0:st)||dt();return t.v?t.v[e]:s}function ht(){return!!pt()}function pt(){return!$e&&Ve(),(($e.lzy?0:st)||dt()).v}function mt(e,t){var r=xe[e];!$e&&Ve();var n=($e.lzy?0:st)||dt();return n.v?n.v[r||e]:t?s:function(e){var t;!Ue&&(Ue={});var r=xe[e];return r&&(t=Ue[r]=Ue[r]||Be(m+"."+r)),t}(e)}function vt(e,t){!$e&&Ve();var r=($e.lzy?0:st)||dt();return r.v?r.v(e):t?a:Be(e)}function gt(e){return!$e&&Ve(),((at=($e.lzy?0:at)||Xe(R(ft,["for"]).v)).v||ze)(e)}function yt(e){return!!e&&F(e.next)}function wt(e){return!function(e){return e===a||!M(e)}(e)&&F(e[mt(3)])}function bt(e,t,r){if(e&&(yt(e)||(!ct&&(ct=Xe(mt(3))),e=e[ct.v]?e[ct.v]():a),yt(e))){var n=s,o=s;try{for(var i=0;!(o=e.next()).done&&-1!==t[w](r||e,o.value,i,e);)i++}catch(t){n={e:t},e.throw&&(o=a,e.throw(n))}finally{try{o&&!o.done&&e.return&&e.return(o)}finally{if(n)throw n.e}}}}function St(e,t,r){return e.apply(t,r)}function _t(e,t){return!O(t)&&e&&(U(t)?St(e.push,e,t):yt(t)||wt(t)?bt(t,(function(t){e.push(t)})):e.push(t)),e}function Et(e,t,r){if(e)for(var n=e[g]>>>0,o=0;o<n&&(!(o in e)||-1!==t[w](r||e,e[o],o,e));o++);}var Tt=Re("indexOf",P),xt=Re("map",P);function Ct(e,t,r){return((e?e.slice:a)||I).apply(e,I[w](arguments,1))}function Pt(e,t,r){return-1!==Tt(e,t,r)}var It,Rt=Le("includes",P,Pt),Lt=Re("reduce",P),kt=n(o(S,"create"),Dt);function Dt(e){if(!e)return{};var t=typeof e;function r(){}return t!==u&&t!==l&&de("Prototype must be an Object or function: "+le(e)),r[d]=e,new r}function At(e,t){return(S.setPrototypeOf||function(e,t){var r;!It&&(It=Xe(((r={})[f]=[],r instanceof Array))),It.v?e[f]=t:Y(t,(function(t,r){return e[t]=r}))})(e,t)}function Ot(e,t){t&&(e[y]=t)}function Wt(e,t,r){var n=r||Error,o=n[d][y],i=Error.captureStackTrace;return function(e,t,r){function n(){this[p]=t,R(oe,[this,y,{v:e,c:!0,e:!1}])}return R(oe,[t,y,{v:e,c:!0,e:!1}]),(t=At(t,r))[d]=r===a?kt(r):(n[d]=r[d],new n),t}(e,(function(){var r=this,s=arguments;try{R(Ot,[n,e]);var a=St(n,r,I[w](s))||r;if(a!==r){var c=be(r);c!==be(a)&&At(a,c)}return i&&i(a,r[p]),t&&t(a,s),a}finally{R(Ot,[n,o])}}),n)}function Mt(){return(Date.now||Nt)()}function Nt(){return(new Date).getTime()}function Ft(e){return function(t){return W(t)&&de("strTrim called ["+le(t)+"]"),t&&t.replace&&(t=t.replace(e,c)),t}}var qt,Ut,$t,jt=Le("trim",T,Ft(/^\s+|(?=\s)\s+$/g)),Bt=o(x,"floor"),zt=o(x,"ceil");function Vt(e){if(!e||typeof e!==u)return!1;$t||($t=!tt()||rt());var t=!1;if(e!==$t){Ut||(qt=Function[d][b],Ut=qt[w](S));try{var r=be(e);(t=!r)||(Z(r,p)&&(r=r[p]),t=!(!r||typeof r!==l||qt[w](r)!==Ut))}catch(e){}}return t}function Ht(e){return e.value&&Jt(e),!0}var Xt=[function(e){var t=e.value;if(U(t)){var r=e.result=[];return r.length=t.length,e.copyTo(r,t),!0}return!1},Jt,function(e){return e.type===l},function(e){var t=e.value;return!!$(t)&&(e.result=new Date(t.getTime()),!0)}];function Kt(e,t,r,n){var o=r.handler,s=r.path?n?r.path.concat(n):r.path:[],c={handler:r.handler,src:r.src,path:s},l=typeof t,d=!1,f=t===a;f||(t&&l===u?d=Vt(t):f=function(e){return!i&&(i=["string","number","boolean",h,"symbol","bigint"]),!(e===u||-1===i.indexOf(e))}(l));var p={type:l,isPrim:f,isPlain:d,value:t,result:t,path:s,origin:r.src,copy:function(t,n){return Kt(e,t,n?c:r,n)},copyTo:function(t,r){return Zt(e,t,r,c)}};return p.isPrim?o&&o[w](r,p)?p.result:t:function(e,t){var n;return Et(e,(function(e){if(e.k===t)return n=e,-1})),n||(n={k:t,v:t},e.push(n),function(e){oe(p,"result",{g:function(){return e.v},s:function(t){e.v=t}});for(var t=0,n=o;!(n||(t<Xt.length?Xt[t++]:Ht))[w](r,p);)n=a}(n)),n.v}(e,t)}function Zt(e,t,r,n){if(!W(r))for(var o in r)t[o]=Kt(e,r[o],n,o);return t}function Jt(e){var t=e.value;if(t&&e.isPlain){var r=e.result={};return e.copyTo(r,t),!0}return!1}function Gt(e,t,r,n,o,i,s){return function(e,t){return Et(t,(function(t){!function(e,t){Zt([],e,t,{handler:void 0,src:t,path:[]})}(e,t)})),e}(Kt([],a=e,{handler:undefined,src:a})||{},I[w](arguments));var a}var Yt,Qt=ke(g);function er(){return!$e&&Ve(),Yt&&!$e.lzy||(Yt=Xe(R(Ye,["performance"]).v)),Yt.v}function tr(){var e=er();return e&&e.now?e.now():Mt()}var rr=o(x,"round");ht();var nr=Le("endsWith",T,or);function or(e,t,r){N(e)||de("'"+le(e)+"' is not a string");var n=N(t)?t:ae(t),o=!O(r)&&r<e[g]?r:e[g];return We(e,o-n[g],o)===n}var ir=Re("indexOf",T),sr=Le("startsWith",T,ar);function ar(e,t,r){N(e)||de("'"+le(e)+"' is not a string");var n=N(t)?t:ae(t),o=r>0?r:0;return We(e,o,o+n[g])===n}var cr="ref",lr="unref",ur="hasRef",dr="enabled";function fr(e,t,r){var n=U(t),o=n?t.length:0,i=(o>0?t[0]:n?s:t)||setTimeout,c=(o>1?t[1]:s)||clearTimeout,l=r[0];r[0]=function(){u.dn(),St(l,s,I[w](arguments))};var u=function(e,t,r){var n,o=!0,i=e?t(a):a;function s(){return o=!1,i&&i[lr]&&i[lr](),n}function c(){i&&r(i),i=a}function l(){return i=t(i),o||s(),n}return(n={cancel:c,refresh:l})[ur]=function(){return i&&i[ur]?i[ur]():o},n[cr]=function(){return o=!0,i&&i[cr]&&i[cr](),n},n[lr]=s,{h:n=te(n,dr,{get:function(){return!!i},set:function(e){!e&&i&&c(),e&&!i&&l()}}),dn:function(){i=a}}}(e,(function(e){if(e){if(e.refresh)return e.refresh(),e;St(c,s,[e])}return St(i,s,r)}),(function(e){St(c,s,[e])}));return u.h}function hr(e,t){return fr(!0,s,I[w](arguments))}function pr(e,t,r){return fr(!0,e,I[w](arguments,1))}function mr(e,t){return fr(!1,s,I[w](arguments))}},311:(e,t)=>{"use strict";function r(e){return"string"==typeof e||e instanceof String}function n(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=n,t.stringArray=function(e){return n(e)&&e.every((e=>r(e)))}},380:(e,t,r)=>{"use strict";r.d(t,{Cr:()=>l,Xc:()=>d,pI:()=>u,u7:()=>f});var n=r(269),o=r(6182),i=r(4276),s=r(6492),a=r(1864),c=(0,i.T)("plugin");function l(e){return c.get(e,"state",{},!0)}function u(e,t){for(var r,i=[],a=null,c=e[o.uR]();c;){var u=c[o.AP]();if(u){a&&a[o.YH]&&u[s.qT]&&a[o.YH](u);var d=!!(r=l(u))[o.tZ];u[o.tZ]&&(d=u[o.tZ]()),d||i[o.y5](u),a=u,c=c[o.uR]()}}(0,n.Iuo)(i,(function(n){var i=e[s.eT]();n[o.mE](e.getCfg(),i,t,e[o.uR]()),r=l(n),n[s.eT]||r[s.eT]||(r[s.eT]=i),r[o.tZ]=!0,delete r[o.Ik]}))}function d(e){return e.sort((function(e,t){var r=0;if(t){var n=t[s.qT];e[s.qT]?r=n?e[s.Vo]-t[s.Vo]:1:n&&(r=-1)}else r=e?1:-1;return r}))}function f(e){var t={};return{getName:function(){return t[o.RS]},setName:function(r){e&&e.setName(r),t[o.RS]=r},getTraceId:function(){return t.traceId},setTraceId:function(r){e&&e.setTraceId(r),(0,a.hX)(r)&&(t.traceId=r)},getSpanId:function(){return t.spanId},setSpanId:function(r){e&&e.setSpanId(r),(0,a.wN)(r)&&(t.spanId=r)},getTraceFlags:function(){return t[o.Rr]},setTraceFlags:function(r){e&&e.setTraceFlags(r),t[o.Rr]=r}}}},659:(e,t,r)=>{"use strict";r.d(t,{Im:()=>s,qU:()=>c,vz:()=>l});var n=r(269),o=r(5664),i=(((0,n.mS$)()||{}).Symbol,((0,n.mS$)()||{}).Reflect,"hasOwnProperty"),s=n.vE3||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])o.Wy[i].call(t,s)&&(e[s]=t[s]);return e},a=function(e,t){return a=o.s6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t[i](r)&&(e[r]=t[r])},a(e,t)};function c(e,t){function r(){this.constructor=e}typeof t!==o.hW&&null!==t&&(0,n.zkd)("Class extends value "+String(t)+" is not a constructor or null"),a(e,t),e[o.vR]=null===t?(0,n.sSX)(t):(r[o.vR]=t[o.vR],new r)}function l(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e}},836:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});var n=r(269),o=r(6182),i=r(3775);function s(){var e=[];return{add:function(t){t&&e[o.y5](t)},run:function(t,r){(0,n.Iuo)(e,(function(e){try{e(t,r)}catch(e){(0,i.ZP)(t[o.e4](),2,73,"Unexpected error calling unload handler - "+(0,n.mmD)(e))}})),e=[]}}}},856:(e,t,r)=>{"use strict";r.d(t,{v:()=>p});var n=r(8279),o=r(8205),i=r(269),s=r(6182),a=r(7847),c=r(3775),l=r(7292),u=r(3673),d="",f="&NoResponseBody=true",h="POST",p=function(){function e(){var t,r,p,m,v,g,y,w,b,S,_,E,T,x,C=0;(0,n.A)(e,this,(function(e,n){var P=!0;function I(e,t){(0,c.ZP)(p,2,26,"Failed to send telemetry.",{message:e}),L(t,400,{})}function R(e){I("No endpoint url is provided for the batch",e)}function L(e,t,r,n){try{e&&e(t,r,n)}catch(e){}}function k(e,t){var r=(0,i.w3n)(),n=e[s.Vq];if(!n)return R(t),!0;n=e[s.Vq]+(T?f:d);var o=e[s.Cd],a=m?o:new Blob([o],{type:"text/plain;charset=UTF-8"});return r.sendBeacon(n,a)}function D(e,t,r){var n=e[s.Cd];try{if(n)if(k(e,t))L(t,200,{},d);else{var o=v&&v.beaconOnRetry;o&&(0,i.Tnt)(o)?o(e,t,k):(w&&w.sendPOST(e,t,!0),(0,c.ZP)(p,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(e){m&&(0,c.OG)(p,"Failed to send telemetry using sendBeacon API. Ex:"+(0,i.mmD)(e)),L(t,m?0:400,{},d)}}function A(e,r,n){var a,c,l,f=e[s.c1]||{};!n&&t&&(a=(0,o.Qo)((function(e,t){c=e,l=t}))),m&&n&&e.disableXhrSync&&(n=!1);var p=e[s.Vq];if(!p)return R(r),void(c&&c(!1));var g=(0,u.H$)(h,p,P,!0,n,e[s.do]);function y(t){var n=v&&v.xhrOnComplete;if(n&&(0,i.Tnt)(n))n(t,r,e);else{var o=(0,u.Lo)(t);L(r,t[s.cV],(0,u.w3)(t,m),o)}}return m||g.setRequestHeader("Content-type","application/json"),(0,i.Iuo)((0,i.cGk)(f),(function(e){g.setRequestHeader(e,f[e])})),g.onreadystatechange=function(){m||(y(g),4===g.readyState&&c&&c(!0))},g.onload=function(){m&&y(g)},g.onerror=function(e){L(r,m?g[s.cV]:400,(0,u.w3)(g,m),m?d:(0,u.r4)(g)),l&&l(e)},g.ontimeout=function(){L(r,m?g[s.cV]:500,(0,u.w3)(g,m),m?d:(0,u.r4)(g)),c&&c(!1)},g.send(e[s.Cd]),a}function O(e,r,n){var c,l,u,p,g=e[s.Vq],w=e[s.Cd],b=m?w:new Blob([w],{type:"application/json"}),S=new Headers,_=w[s.oI],E=!1,I=!1,k=e[s.c1]||{},D=((c={method:h,body:b})[a.x]=!0,c);e.headers&&(0,i.cGk)(e.headers)[s.oI]>0&&((0,i.Iuo)((0,i.cGk)(k),(function(e){S.append(e,k[e])})),D[s.c1]=S),y?D.credentials=y:P&&m&&(D.credentials="include"),n&&(D.keepalive=!0,C+=_,m?2===e._sendReason&&(E=!0,T&&(g+=f)):E=!0);var A=new Request(g,D);try{A[a.x]=!0}catch(e){}if(!n&&t&&(l=(0,o.Qo)((function(e,t){u=e,p=t}))),!g)return R(r),void(u&&u(!1));function O(e){L(r,m?0:400,{},m?d:e)}function W(e,t,n){var o=e[s.cV],a=v.fetchOnComplete;a&&(0,i.Tnt)(a)?a(e,r,n||d,t):L(r,o,{},n||d)}try{(0,o.Dv)(fetch(m?g:A,m?D:null),(function(t){if(n&&(C-=_,_=0),!I)if(I=!0,t.rejected)O(t.reason&&t.reason[s.pM]),p&&p(t.reason);else{var r=t[s.pF];try{m||r.ok?m&&!r.body?(W(r,null,d),u&&u(!0)):(0,o.Dv)(r.text(),(function(t){W(r,e,t[s.pF]),u&&u(!0)})):(O(r.statusText),u&&u(!1))}catch(e){O((0,i.mmD)(e)),p&&p(e)}}}))}catch(e){I||(O((0,i.mmD)(e)),p&&p(e))}return E&&!I&&(I=!0,L(r,200,{}),u&&u(!0)),m&&!I&&e[s.do]>0&&x&&x.set((function(){I||(I=!0,L(r,500,{}),u&&u(!0))}),e[s.do]),l}function W(e,t,r){var n=(0,i.zkX)(),o=new XDomainRequest,a=e[s.Cd];o.onload=function(){var r=(0,u.Lo)(o),n=v&&v.xdrOnComplete;n&&(0,i.Tnt)(n)?n(o,t,e):L(t,200,{},r)},o.onerror=function(){L(t,400,{},m?d:(0,u.HU)(o))},o.ontimeout=function(){L(t,500,{})},o.onprogress=function(){};var l=n&&n.location&&n.location.protocol||"",f=e[s.Vq];if(f){if(!m&&0!==f.lastIndexOf(l,0)){var g="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";return(0,c.ZP)(p,2,40,". "+g),void I(g,t)}var y=m?f:f[s.W7](/^(https?:)/,"");o.open(h,y),e[s.do]&&(o[s.do]=e[s.do]),o.send(a),m&&r?x&&x.set((function(){o.send(a)}),0):o.send(a)}else R(t)}function M(){C=0,r=!1,t=!1,p=null,m=null,v=null,g=null,y=null,w=null,b=!1,S=!1,_=!1,E=!1,T=!1,x=null}M(),e[s.mE]=function(t,n){p=n,r&&(0,c.ZP)(p,1,28,"Sender is already initialized"),e.SetConfig(t),r=!0},e._getDbgPlgTargets=function(){return[r,m,g,t]},e.SetConfig=function(e){try{if(v=e.senderOnCompleteCallBack||{},g=!!e.disableCredentials,y=e.fetchCredentials,m=!!e.isOneDs,t=!!e.enableSendPromise,b=!!e.disableXhr,S=!!e.disableBeacon,_=!!e.disableBeaconSync,x=e.timeWrapper,T=!!e.addNoResponse,E=!!e.disableFetchKeepAlive,w={sendPOST:A},m||(P=!1),g){var r=(0,l.g$)();r&&r.protocol&&"file:"===r.protocol[s.OL]()&&(P=!1)}return!0}catch(e){}return!1},e.getSyncFetchPayload=function(){return C},e.getSenderInst=function(e,t){return e&&e[s.oI]?function(e,t){for(var r=0,n=null,o=0;null==n&&o<e[s.oI];)r=e[o],b||1!==r?2!==r||!(0,l.R7)(t)||t&&E?3!==r||!(0,l.Uf)()||(t?_:S)||(n=D):n=O:(0,l.PV)()?n=W:(0,l.xk)()&&(n=A),o++;return n?{_transport:r,_isSync:t,sendPOST:n}:null}(e,t):null},e.getFallbackInst=function(){return w},e[s.tn]=function(e,t){M()}}))}return e.__ieDyn=1,e}()},857:e=>{"use strict";e.exports=require("os")},937:(e,t,r)=>{"use strict";r.d(t,{S:()=>o,_0:()=>s,hj:()=>i,m5:()=>n});var n="",o="https://browser.events.data.microsoft.com/OneCollector/1.0/",i="version",s="properties"},956:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ActiveStatus:()=>R.f,AppInsightsCore:()=>p,BaseTelemetryPlugin:()=>C.s,DiagnosticLogger:()=>c.wq,EventLatency:()=>g,EventPersistence:()=>w,EventPropertyType:()=>y,EventsDiscardedReason:()=>I.x,FullVersionString:()=>d.xE,InternalAppInsightsCore:()=>l._,LoggingSeverity:()=>T,MinChannelPriorty:()=>E,NotificationManager:()=>x.h,PerfEvent:()=>s.Q6,PerfManager:()=>s.NS,ProcessTelemetryContext:()=>P.W0,SenderPostManager:()=>$.v,TraceLevel:()=>b,Undefined:()=>W.bA,ValueKind:()=>v,ValueSanitizer:()=>_,Version:()=>d.Rx,_InternalLogMessage:()=>c.WD,__getRegisteredEvents:()=>L.El,_appendHeader:()=>k.LU,_getAllResponseHeaders:()=>k.w3,_logInternalMessage:()=>c.Oc,_testHookMaxUnloadHooksCb:()=>B.d,_throwInternal:()=>c.ZP,_warnToConsole:()=>c.OG,addEventHandler:()=>L.So,addEventListeners:()=>L.lQ,addPageHideEventListener:()=>L.Fc,addPageShowEventListener:()=>L.oS,addPageUnloadEventListener:()=>L.ee,areCookiesSupported:()=>M.gi,arrForEach:()=>i.Iuo,arrIndexOf:()=>i.rDm,arrMap:()=>i.W$7,arrReduce:()=>i.KTd,attachEvent:()=>L.Q3,blockDynamicConversion:()=>U.V9,convertAllHeadersToMap:()=>k.IL,cookieAvailable:()=>M.gi,createCookieMgr:()=>M.xN,createDynamicConfig:()=>a.e,createEnumStyle:()=>m.H,createGuid:()=>d.gj,createProcessTelemetryContext:()=>P.i8,createTraceParent:()=>q.wk,createUniqueNamespace:()=>N.Z,createUnloadHandlerContainer:()=>F.P,dateNow:()=>i.f0d,detachEvent:()=>L.Ym,disallowsSameSiteNone:()=>M.It,doPerf:()=>s.r2,dumpObj:()=>i.mmD,eventOff:()=>L.ML,eventOn:()=>L.mB,extend:()=>d.X$,findW3cTraceParent:()=>q.ef,forceDynamicConversion:()=>U.Hf,formatErrorMessageXdr:()=>k.HU,formatErrorMessageXhr:()=>k.r4,formatTraceParent:()=>q.L0,generateW3CId:()=>D.cL,getCommonSchemaMetaData:()=>d.Go,getConsole:()=>O.U5,getCookieValue:()=>d.UM,getCrypto:()=>O.MY,getDocument:()=>i.YEm,getDynamicConfigHandler:()=>U.QA,getExceptionName:()=>k.lL,getFieldValueType:()=>d.cq,getGlobal:()=>i.mS$,getGlobalInst:()=>i.zS2,getHistory:()=>i.JKf,getIEVersion:()=>O.L0,getISOString:()=>k._u,getJSON:()=>O.hm,getLocation:()=>O.g$,getMsCrypto:()=>O.iN,getNavigator:()=>i.w3n,getPerformance:()=>i.FJj,getResponseText:()=>k.Lo,getSetValue:()=>k.c2,getTenantId:()=>d.EO,getTime:()=>d.WB,getWindow:()=>i.zkX,hasDocument:()=>i.Wtk,hasHistory:()=>i.twz,hasJSON:()=>O.Z,hasNavigator:()=>i.w9M,hasOwnProperty:()=>i.v0u,hasWindow:()=>i.Vdv,isArray:()=>i.cyL,isArrayValid:()=>d.wJ,isBeaconsSupported:()=>O.Uf,isBoolean:()=>i.Lmq,isChromium:()=>d.F2,isDate:()=>i.$PY,isDocumentObjectAvailable:()=>d.g8,isError:()=>i.bJ7,isFetchSupported:()=>O.R7,isFunction:()=>i.Tnt,isGreaterThanZero:()=>d.ei,isIE:()=>O.lT,isLatency:()=>d.Hh,isNotTruthy:()=>i.woc,isNullOrUndefined:()=>i.hXl,isNumber:()=>i.EtT,isObject:()=>i.Gvm,isReactNative:()=>O.lV,isSampledFlag:()=>q.N7,isString:()=>i.KgX,isTruthy:()=>i.zzB,isTypeof:()=>i.Edw,isUint8ArrayAvailable:()=>d.h3,isUndefined:()=>i.b07,isValidSpanId:()=>q.wN,isValidTraceId:()=>q.hX,isValidTraceParent:()=>q.mJ,isValueAssigned:()=>d.yD,isValueKind:()=>d.m0,isWindowObjectAvailable:()=>d.P$,isXhrSupported:()=>O.xk,mergeEvtNamespace:()=>L.Hm,newGuid:()=>D.aq,newId:()=>A.Si,normalizeJsName:()=>k.cH,objDefineAccessors:()=>i.raO,objForEachKey:()=>i.zav,objFreeze:()=>i.N6t,objKeys:()=>i.cGk,objSeal:()=>i.jsL,onConfigChange:()=>a.a,openXhr:()=>d.H$,optimizeObject:()=>k.hW,parseResponse:()=>j.x,parseTraceParent:()=>q.ZI,perfNow:()=>i.UUD,prependTransports:()=>k.jL,proxyAssign:()=>k.qz,proxyFunctionAs:()=>k.RF,proxyFunctions:()=>k.o$,random32:()=>A.VN,randomValue:()=>A.Z1,removeEventHandler:()=>L.zh,removeEventListeners:()=>L.Wg,removePageHideEventListener:()=>L.sq,removePageShowEventListener:()=>L.vF,removePageUnloadEventListener:()=>L.Ds,safeGetCookieMgr:()=>M.um,safeGetLogger:()=>c.y0,sanitizeProperty:()=>d.TC,setEnableEnvMocks:()=>O.cU,setProcessTelemetryTimings:()=>d.u9,setValue:()=>k.KY,strContains:()=>k.Ju,strEndsWith:()=>i.Cv9,strFunction:()=>W.hW,strObject:()=>W._1,strPrototype:()=>W.vR,strStartsWith:()=>i.tGl,strTrim:()=>i.EHq,strUndefined:()=>W.bA,throwError:()=>i.$8,toISOString:()=>k._u,useXDomainRequest:()=>O.PV});var n=r(659),o=r(8279),i=r(269),s=r(8156),a=r(9749),c=r(3775),l=r(2774),u=r(937),d=r(4822),f=r(1739),h=(0,i.ZHX)({endpointUrl:u.S,propertyStorageOverride:{isVal:function(e){return!e||e.getProperty&&e.setProperty||(0,i.$8)("Invalid property storage override passed."),!0}}}),p=function(e){function t(){var r=e.call(this)||this;return(0,o.A)(t,r,(function(e,t){e[f.mE]=function(r,n,o,l){(0,s.r2)(e,(function(){return"AppInsightsCore.initialize"}),(function(){try{t[f.mE]((0,a.e)(r,h,o||e.logger,!1).cfg,n,o,l)}catch(t){var s=e.logger,u=(0,i.mmD)(t);-1!==u[f.Sj]("channels")&&(u+="\n - Channels must be provided through config.channels only!"),(0,c.ZP)(s,1,514,"SDK Initialization Failed - no telemetry will be sent: "+u)}}),(function(){return{config:r,extensions:n,logger:o,notificationManager:l}}))},e.track=function(r){(0,s.r2)(e,(function(){return"AppInsightsCore.track"}),(function(){var n=r;if(n){n[f.dg]=n[f.dg]||{},n[f.dg].trackStart=(0,d.WB)(),(0,d.Hh)(n.latency)||(n.latency=1);var o=n.ext=n.ext||{};o.sdk=o.sdk||{},o.sdk.ver=d.xE;var i=n.baseData=n.baseData||{};i[u._0]=i[u._0]||{};var s=i[u._0];s[u.hj]=s[u.hj]||e.pluginVersionString||u.m5}t.track(n)}),(function(){return{item:r}}),!r.sync)},e[f.h4]=function(e){return t[f.h4](e||"InternalLog")}})),r}return(0,n.qU)(t,e),t.__ieDyn=1,t}(l._),m=r(4282),v=(0,m.H)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,Pii_IPv6ScrubLastHextets:14,Pii_DropValue:15,CustomerContent_GenericContent:32}),g=(0,m.H)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),y=(0,m.H)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),w=(0,m.H)({Normal:1,Critical:2}),b=(0,m.H)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3});function S(e){return"__proto__"==e||"constructor"==e||"prototype"==e}var _=function(){function e(e){var t=this,r={},n=[],o=[];function s(e,t){var s,a=r[e];if(a&&(s=a[t]),!s&&null!==s){if((0,i.KgX)(e)&&(0,i.KgX)(t))if(o[f.oI]>0){for(var c=0;c<o[f.oI];c++)if(o[c][f.hF](e,t)){s={canHandle:!0,fieldHandler:o[c]};break}}else 0===n[f.oI]&&(s={canHandle:!0});if(!s&&null!==s)for(s=null,c=0;c<n[f.oI];c++)if(n[c][f.hF](e,t)){s={canHandle:!0,handler:n[c],fieldHandler:null};break}if(!a){if(S(e))return null;a=r[e]={}}if(S(t))return null;a[t]=s}return s}function a(e,t,r,n,o,s){if(e.handler)return e.handler.property(t,r,o,s);if(!(0,i.hXl)(o.kind)){if(!(4096&~n&&(0,d.m0)(o.kind)))return null;o[f.pF]=o[f.pF].toString()}return l(e.fieldHandler,t,r,n,o)}function c(e,t,r){return(0,d.yD)(r)?{value:r}:null}function l(e,r,n,o,s){if(s&&e){var a=e.getSanitizer(r,n,o,s.kind,s.propertyType);if(a)if(4===o){var u={},h=s[f.pF];(0,i.zav)(h,(function(t,o){var i=r+"."+n;if((0,d.yD)(o)){var s=c(0,0,o);(s=l(e,i,t,(0,d.cq)(o),s))&&(u[t]=s[f.pF])}})),s[f.pF]=u}else{var p={path:r,name:n,type:o,prop:s,sanitizer:t};s=a.call(t,p)}}return s}e&&o.push(e),t.clearCache=function(){r={}},t.addSanitizer=function(e){e&&((0,i.Nq2)(n,e)||n.push(e),r={})},t.addFieldSanitizer=function(e){e&&((0,i.Nq2)(o,e)||o.push(e),r={})},t[f.Rl]=function(e){if(e){var t=(0,i.rDm)(n,e);-1!==t&&(n.splice(t,1),r={}),(0,i.Iuo)(n,(function(t){t&&t[f.Rl]&&t[f.Rl](e)}))}},t[f.Mr]=function(e){if(e){var t=(0,i.rDm)(o,e);-1!==t&&(o.splice(t,1),r={}),(0,i.Iuo)(n,(function(t){t&&t[f.Mr]&&t[f.Mr](e)}))}},t.isEmpty=function(){return(0,i.R3R)(n)+(0,i.R3R)(o)===0},t[f.hF]=function(e,t){var r=s(e,t);return!!r&&r[f.nw]},t[f.pF]=function(e,t,r,n){var o=s(e,t);if(o&&o[f.nw]){if(!o[f.nw])return null;if(o.handler)return o.handler[f.pF](e,t,r,n);if(!(0,i.KgX)(t)||(0,i.hXl)(r)||r===u.m5)return null;var l=null,h=(0,d.cq)(r);if(8192&~h)1!==h&&2!==h&&3!==h&&4096&~h?4===h&&(l=c(0,0,n?JSON.stringify(r):r)):l=c(0,0,r);else{var p=-8193&h;if(l=r,!(0,d.yD)(l[f.pF])||1!==p&&2!==p&&3!==p&&4096&~p)return null}if(l)return a(o,e,t,h,l,n)}return null},t.property=function(e,t,r,n){var o=s(e,t);if(!o||!o[f.nw])return null;if(!(0,i.KgX)(t)||(0,i.hXl)(r)||!(0,d.yD)(r[f.pF]))return null;var c=(0,d.cq)(r[f.pF]);return 0===c?null:a(o,e,t,c,r,n)}}return e.getFieldType=d.cq,e}(),E=100,T=(0,m.H)({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),x=r(1356),C=r(8257),P=r(2317),I=r(3662),R=r(4875),L=r(6149),k=r(3673),D=r(9882),A=r(6535),O=r(7292),W=r(5664),M=r(5034),N=r(4276),F=r(836),q=r(1864),U=r(9147),$=r(856),j=r(1190),B=r(8969)},991:(e,t,r)=>{"use strict";r.d(t,{q:()=>c});var n=r(269),o=r(6182);function i(e){return e&&(0,n.Gvm)(e)&&(e.isVal||e.fb||(0,n.KhI)(e,"v")||(0,n.KhI)(e,"mrg")||(0,n.KhI)(e,"ref")||e.set)}function s(e,t,r){var i,s=r.dfVal||n.O9V;if(t&&r.fb){var a=r.fb;(0,n.cyL)(a)||(a=[a]);for(var c=0;c<a[o.oI];c++){var l=a[c],u=t[l];if(s(u)?i=u:e&&(s(u=e.cfg[l])&&(i=u),e.set(e.cfg,(0,n.oJg)(l),u)),s(i))break}}return!s(i)&&s(r.v)&&(i=r.v),i}function a(e,t,r){var c,l=r;return r&&i(r)&&(l=s(e,t,r)),l&&(i(l)&&(l=a(e,t,l)),(0,n.cyL)(l)?(c=[])[o.oI]=l[o.oI]:(0,n.QdQ)(l)&&(c={}),c&&((0,n.zav)(l,(function(r,n){n&&i(n)&&(n=a(e,t,n)),c[r]=n})),l=c)),l}function c(e,t,r,o){var l,u,d,f,h,p,m,v,g=o;i(g)?(l=g.isVal,u=g.set,p=g.rdOnly,m=g.blkVal,f=g.mrg,!(h=g.ref)&&(0,n.b07)(h)&&(h=!!f),d=s(e,t,g)):d=o,m&&e.blkVal(t,r);var y=!0,w=t[r];!w&&(0,n.hXl)(w)||(v=w,y=!1,l&&v!==d&&!l(v)&&(v=d,y=!0),u&&(y=(v=u(v,d,t))===d)),y?v=d?a(e,t,d):d:((0,n.QdQ)(v)||(0,n.cyL)(d))&&f&&d&&((0,n.QdQ)(d)||(0,n.cyL)(d))&&(0,n.zav)(d,(function(t,r){c(e,v,t,r)})),e.set(t,r,v),h&&e.ref(t,r),p&&e.rdOnly(t,r)}},1190:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});var n=r(269),o=r(6182),i=r(3775),s=r(7292);function a(e,t){try{if(e&&""!==e){var r=(0,s.hm)().parse(e);if(r&&r[o.cp]&&r[o.cp]>=r.itemsAccepted&&r.itemsReceived-r.itemsAccepted===r.errors[o.oI])return r}}catch(r){(0,i.ZP)(t,1,43,"Cannot parse the response. "+(r[o.RS]||(0,n.mmD)(r)),{response:e})}return null}},1356:(e,t,r)=>{"use strict";r.d(t,{h:()=>f});var n=r(8279),o=r(8205),i=r(269),s=r(9749),a=r(6182),c=r(6492),l={perfEvtsSendAll:!1};function u(e){e.h=null;var t=e.cb;e.cb=[],(0,i.Iuo)(t,(function(e){(0,i.gBW)(e.fn,[e.arg])}))}function d(e,t,r,n){(0,i.Iuo)(e,(function(e){e&&e[t]&&(r?(r.cb[a.y5]({fn:n,arg:e}),r.h=r.h||(0,i.dRz)(u,0,r)):(0,i.gBW)(n,[e]))}))}var f=function(){function e(t){var r,u;this.listeners=[];var f=[],h={h:null,cb:[]},p=(0,s.e)(t,l);u=p[a.x6]((function(e){r=!!e.cfg.perfEvtsSendAll})),(0,n.A)(e,this,(function(e){(0,i.vF1)(e,"listeners",{g:function(){return f}}),e[a.vR]=function(e){f[a.y5](e)},e[a.h3]=function(e){for(var t=(0,i.rDm)(f,e);t>-1;)f[a.Ic](t,1),t=(0,i.rDm)(f,e)},e[c.fc]=function(e){d(f,c.fc,h,(function(t){t[c.fc](e)}))},e[c.Yp]=function(e,t){d(f,c.Yp,h,(function(r){r[c.Yp](e,t)}))},e[c.dI]=function(e,t){d(f,c.dI,t?h:null,(function(r){r[c.dI](e,t)}))},e[c.l0]=function(e){e&&(!r&&e[a.Zu]()||d(f,c.l0,null,(function(t){e.isAsync?(0,i.dRz)((function(){return t[c.l0](e)}),0):t[c.l0](e)})))},e[c.s4]=function(e){e&&e[a.oI]&&d(f,c.s4,h,(function(t){t[c.s4](e)}))},e[c.Vj]=function(e){e&&e[a.Cd]&&d(f,c.Vj,h,(function(t){t[c.Vj](e)}))},e[c.Ev]=function(e,t){if(e>0){var r=t||0;d(f,c.Ev,h,(function(t){t[c.Ev](e,r)}))}},e[a.tI]=function(e){var t,r=function(){u&&u.rm(),u=null,f=[],h.h&&h.h[a._w](),h.h=null,h.cb=[]};if(d(f,"unload",null,(function(r){var n=r[a.tI](e);n&&(t||(t=[]),t[a.y5](n))})),t)return(0,o.Qo)((function(e){return(0,o.Dv)((0,o.Xf)(t),(function(){r(),e()}))}));r()}}))}return e.__ieDyn=1,e}()},1398:e=>{"use strict";e.exports=require("vscode")},1566:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetPopulation=t.getExperimentationServiceAsync=t.getExperimentationService=void 0;var n=r(2493);Object.defineProperty(t,"getExperimentationService",{enumerable:!0,get:function(){return n.getExperimentationService}}),Object.defineProperty(t,"getExperimentationServiceAsync",{enumerable:!0,get:function(){return n.getExperimentationServiceAsync}});var o=r(8967);Object.defineProperty(t,"TargetPopulation",{enumerable:!0,get:function(){return o.TargetPopulation}})},1568:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenMode=t.Settings=void 0,t.getFileWatcherPollingInterval=function(){const e=n.workspace.getConfiguration(o.fileWatcher);if(!0===e.get("polling")){const t=e.get("pollingInterval");return"number"==typeof t?Math.ceil(Math.max(500,t)):5e3}return 0},t.showDebugInfo=function(){return!!n.workspace.getConfiguration().get(o.debug)},t.useShellEnvironment=function(){return!1!==n.workspace.getConfiguration().get(o.useShellEnvironment)},t.useScriptlessStartup=function(){return!0===n.workspace.getConfiguration().get(o.scriptLessStartup)},t.getServerPort=function(){const e=n.workspace.getConfiguration().get(o.serverPort);return"number"==typeof e&&e>=0?Math.ceil(Math.min(65535,e)):0},t.getOpenMode=function(){return"on"===n.workspace.getConfiguration().get(o.openFoldersInNewWindow)?i.newWindow:i.reuseWindow};const n=r(1398);var o,i;!function(e){e.connectThroughLocalhost="remote.WSL.server.connectThroughLocalhost",e.fileWatcher="remote.WSL.fileWatcher",e.debug="remote.WSL.debug",e.useShellEnvironment="remote.WSL.useShellEnvironment",e.downloadInBackground="remote.WSL.downloadInBackground",e.scriptLessStartup="remote.WSL.experimental.scriptLessStartup",e.serverPort="remote.WSL.experimental.serverPort",e.openFoldersInNewWindow="window.openFoldersInNewWindow"}(o||(t.Settings=o={})),function(e){e.newWindow="newWindow",e.reuseWindow="reuseWindow"}(i||(t.OpenMode=i={}))},1708:e=>{"use strict";e.exports=require("node:process")},1714:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentationServiceBase=void 0;const n=r(8823);t.ExperimentationServiceBase=class{get features(){return this._features}set features(e){this._features=e,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(e,t,r,o,i){this.telemetry=e,this.assignmentContextTelemetryPropertyName=t,this.telemetryEventName=r,this.storageKey=o,this.storage=i,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(i=new n.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise(((e,t)=>{this.resolveInitialFetchPromise=e}))}async getFeaturesAsync(e=!1){if(null!=this.fetchPromise){try{await this.fetchPromise}catch(e){}return this.features}if(!this.featureProviders||0===this.featureProviders.length)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map((async e=>await e.getFeatures())));const t=await this.fetchPromise;this.updateFeatures(t,e)}catch(e){}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,t=!1){let r={features:[],assignmentContext:"",configs:[]};for(let t of e){for(let e of t.features)r.features.includes(e)||r.features.push(e);for(let e of t.configs){const t=r.configs.find((t=>t.Id===e.Id));t?t.Parameters=Object.assign(Object.assign({},t.Parameters),e.Parameters):r.configs.push(e)}r.assignmentContext+=t.assignmentContext}!t&&this.featuresConsumed||(this.features=r),this.storage&&this.storage.setValue(this.storageKey,r)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),void 0!==e&&void 0===e.configs&&(e.configs=[])),0===this.features.features.length&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){const t=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),t.features.includes(e)}getTreatmentVariable(e,t){this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${t}`);const r=this.features.configs.find((t=>t.Id===e));return null==r?void 0:r.Parameters[t]}async getTreatmentVariableAsync(e,t,r){if(r){const r=this.featuresConsumed,n=this.getTreatmentVariable(e,t);if(void 0!==n)return n;this.featuresConsumed=r}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,t)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(null!=e&&null!=this.featureProviders)for(let t of e)this.featureProviders.push(t)}}},1739:(e,t,r)=>{"use strict";r.d(t,{Jg:()=>l,Mr:()=>f,Rl:()=>d,Sj:()=>o,dg:()=>i,h4:()=>s,hF:()=>u,mE:()=>n,nw:()=>h,oI:()=>c,pF:()=>a});var n="initialize",o="indexOf",i="timings",s="pollInternalLogs",a="value",c="length",l="processTelemetryStart",u="handleField",d="rmSanitizer",f="rmFieldSanitizer",h="canHandle"},1864:(e,t,r)=>{"use strict";r.d(t,{L0:()=>E,N7:()=>_,ZI:()=>y,ef:()=>T,hX:()=>w,mJ:()=>S,wN:()=>b,wk:()=>g});var n=r(269),o=r(6182),i=r(9882),s=r(7292),a=r(6492),c=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,l="00",u="ff",d="00000000000000000000000000000000",f="0000000000000000",h=1;function p(e,t,r){return!(!e||e[o.oI]!==t||e===r||!e.match(/^[\da-f]*$/i))}function m(e,t,r){return p(e,t)?e:r}function v(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t[o.oI]<2;)t="0"+t;return t}function g(e,t,r,o){return{version:p(o,2,u)?o:l,traceId:w(e)?e:(0,i.cL)(),spanId:b(t)?t:(0,n.ZWZ)((0,i.cL)(),16),traceFlags:r>=0&&r<=255?r:1}}function y(e,t){if(!e)return null;if((0,n.cyL)(e)&&(e=e[0]||""),!e||!(0,n.KgX)(e)||e[o.oI]>8192)return null;if(-1!==e.indexOf(",")){var r=e[o.sY](",");e=r[t>0&&r[o.oI]>t?t:0]}var i=c.exec((0,n.EHq)(e));return i&&i[1]!==u&&i[2]!==d&&i[3]!==f?{version:(i[1]||a.m5)[o.OL](),traceId:(i[2]||a.m5)[o.OL](),spanId:(i[3]||a.m5)[o.OL](),traceFlags:parseInt(i[4],16)}:null}function w(e){return p(e,32,d)}function b(e){return p(e,16,f)}function S(e){return!!(e&&p(e[o.s],2,u)&&p(e.traceId,32,d)&&p(e.spanId,16,f)&&p(v(e[o.Rr]),2))}function _(e){return!!S(e)&&(e[o.Rr]&h)===h}function E(e){if(e){var t=v(e[o.Rr]);p(t,2)||(t="01");var r=e[o.s]||l;return"00"!==r&&"ff"!==r&&(r=l),"".concat(r.toLowerCase(),"-").concat(m(e.traceId,32,d).toLowerCase(),"-").concat(m(e.spanId,16,f).toLowerCase(),"-").concat(t.toLowerCase())}return""}function T(e){var t="traceparent",r=y((0,s.$Z)(t),e);return r||(r=y((0,s.Iu)(t),e)),r}},1882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableAllExperiments=l,t.enableExperiments=u,t.enableTelemetry=d,t.setupTelemetry=function(e,t){const r=o.extensions.getExtension(c);if(!r)throw new Error(`${c} not found in extensions.`);const h=r.packageJSON,{name:p,publisher:m,version:v,aiKey:g}=h,y=new n.TelemetryReporter(g);e.subscriptions.push(y);const w=new f(y),b=function(e){const{quality:t}=e;switch(t){case"stable":return s.TargetPopulation.Public;case"insider":return s.TargetPopulation.Insiders;case"exploration":return s.TargetPopulation.Internal;case void 0:return s.TargetPopulation.Team;default:return s.TargetPopulation.Public}}(t);let S;const _=()=>{S=u()&&!l()?(0,s.getExperimentationService)(`${m}.${p}`,v,b,w,e.globalState):void 0};return _(),e.subscriptions.push(o.workspace.onDidChangeConfiguration((e=>{(e.affectsConfiguration(a.enableExperiments)||e.affectsConfiguration(a.enableAllExperiments))&&_()}))),{reportResolver(e,t,r,n,o,s,a){if(!d())return;const c={outcome:e};c.fromBrowser=String(s),o&&(c.hostingRemoteName=o),t&&(c.wslVersion=t,c.wslType=(0,i.isWSL1)(t)?"WSL1":"WSL2",c.wslDistro=t.split(" ")[1]||"",c.windowsBuild=String(n),c.wslPlatform=r||"unknown"),a&&(c.failureReason=a),c.connectionMethod="wslExeProxy",w.sendTelemetryEvent("resolver",c)},reportOpen(e,t,r){if(!d())return;const n={origin:e,isWSLInstalled:String(t),authority:r||""};w.sendTelemetryEvent("openInWSL",n)},reportRecommendation(e,t){if(!d())return;const r={kind:e,outcome:t};w.sendTelemetryEvent("recommendation",r)},reportDialog(e,t){if(!d())return;const r={kind:e,outcome:t};w.sendTelemetryEvent("dialog",r)},isExperimentEnabled:async e=>!!l()||void 0!==S&&S.isCachedFlightEnabled(e),get telemetryLevel(){return y.telemetryLevel}}};const n=r(8355),o=r(1398),i=r(2552),s=r(1566);var a;!function(e){e.enableExperiments="workbench.enableExperiments",e.enableAllExperiments="remote.WSL.allExperiments"}(a||(a={}));const c="ms-vscode-remote.remote-wsl";function l(){return!0===o.workspace.getConfiguration().get(a.enableAllExperiments)}function u(){return!1!==o.workspace.getConfiguration().get(a.enableExperiments)}function d(){return o.env.isTelemetryEnabled}class f{constructor(e){this.baseReporter=e,this.sharedProperties={}}sendTelemetryEvent(e,t,r){this.baseReporter.sendTelemetryEvent(e,{...this.sharedProperties,...t},r)}setSharedProperty(e,t){this.sharedProperties[e]=t}postEvent(e,t){const r={};for(const[e,n]of t)r[e]=n;this.sendTelemetryEvent(e,r)}}},1924:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=t.FetchError=void 0;class r extends Error{constructor(e,t,r){super(e),this.responseReceived=t,this.responseOk=r}}t.FetchError=r,t.HttpClient=class{constructor(e){this.endpoint=e}async get(e){const t=await fetch(this.endpoint,{method:"GET",headers:null==e?void 0:e.headers});if(!t)throw new r("No response received",!1);if(!t.ok)throw new r("Response not ok",!0,!1);const n=await t.json();if(!n)throw new r("No data received",!1);return{data:n}}}},2065:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AbortError:()=>z,Blob:()=>V.YQ,FetchError:()=>h,File:()=>V.ZH,FormData:()=>d.fS,Headers:()=>R,Request:()=>j,Response:()=>A,blobFrom:()=>V.k4,blobFromSync:()=>V.F8,default:()=>X,fileFrom:()=>V.NX,fileFromSync:()=>V._M,isRedirect:()=>k});const n=require("node:http"),o=require("node:https"),i=require("node:zlib"),s=require("node:stream"),a=require("node:buffer"),c=function(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');const t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw new TypeError("malformed data: URI");const r=e.substring(5,t).split(";");let n="",o=!1;const i=r[0]||"text/plain";let s=i;for(let e=1;e<r.length;e++)"base64"===r[e]?o=!0:r[e]&&(s+=`;${r[e]}`,0===r[e].indexOf("charset=")&&(n=r[e].substring(8)));r[0]||n.length||(s+=";charset=US-ASCII",n="US-ASCII");const a=o?"base64":"ascii",c=unescape(e.substring(t+1)),l=Buffer.from(c,a);return l.type=i,l.typeFull=s,l.charset=n,l},l=require("node:util");var u=r(3720),d=r(8435);class f extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class h extends f{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}}const p=Symbol.toStringTag,m=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[p],v=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[p]),g=(e,t)=>{const r=new URL(t).hostname,n=new URL(e).hostname;return r===n||r.endsWith(`.${n}`)},y=(e,t)=>new URL(t).protocol===new URL(e).protocol,w=(0,l.promisify)(s.pipeline),b=Symbol("Body internals");class S{constructor(e,{size:t=0}={}){let r=null;null===e?e=null:m(e)?e=a.Buffer.from(e.toString()):v(e)||a.Buffer.isBuffer(e)||(l.types.isAnyArrayBuffer(e)?e=a.Buffer.from(e):ArrayBuffer.isView(e)?e=a.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof s||(e instanceof d.fS?r=(e=(0,d.$n)(e)).type.split("=")[1]:e=a.Buffer.from(String(e))));let n=e;a.Buffer.isBuffer(e)?n=s.Readable.from(e):v(e)&&(n=s.Readable.from(e.stream())),this[b]={body:e,stream:n,boundary:r,disturbed:!1,error:null},this.size=t,e instanceof s&&e.on("error",(e=>{const t=e instanceof f?e:new h(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[b].error=t}))}get body(){return this[b].stream}get bodyUsed(){return this[b].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:t,byteLength:r}=await _(this);return e.slice(t,t+r)}async formData(){const e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){const e=new d.fS,t=new URLSearchParams(await this.text());for(const[r,n]of t)e.append(r,n);return e}const{toFormData:t}=await r.e(460).then(r.bind(r,7460));return t(this.body,e)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[b].body&&this[b].body.type||"",t=await this.arrayBuffer();return new u.A([t],{type:e})}async json(){const e=await this.text();return JSON.parse(e)}async text(){const e=await _(this);return(new TextDecoder).decode(e)}buffer(){return _(this)}}async function _(e){if(e[b].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[b].disturbed=!0,e[b].error)throw e[b].error;const{body:t}=e;if(null===t)return a.Buffer.alloc(0);if(!(t instanceof s))return a.Buffer.alloc(0);const r=[];let n=0;try{for await(const o of t){if(e.size>0&&n+o.length>e.size){const r=new h(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(r),r}n+=o.length,r.push(o)}}catch(t){throw t instanceof f?t:new h(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0!==t.readableEnded&&!0!==t._readableState.ended)throw new h(`Premature close of server response while trying to fetch ${e.url}`);try{return r.every((e=>"string"==typeof e))?a.Buffer.from(r.join("")):a.Buffer.concat(r,n)}catch(t){throw new h(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}}S.prototype.buffer=(0,l.deprecate)(S.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(S.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,l.deprecate)((()=>{}),"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});const E=(e,t)=>{let r,n,{body:o}=e[b];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof s&&"function"!=typeof o.getBoundary&&(r=new s.PassThrough({highWaterMark:t}),n=new s.PassThrough({highWaterMark:t}),o.pipe(r),o.pipe(n),e[b].stream=r,o=n),o},T=(0,l.deprecate)((e=>e.getBoundary()),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),x=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":m(e)?"application/x-www-form-urlencoded;charset=UTF-8":v(e)?e.type||null:a.Buffer.isBuffer(e)||l.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof d.fS?`multipart/form-data; boundary=${t[b].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${T(e)}`:e instanceof s?null:"text/plain;charset=UTF-8",C=async(e,{body:t})=>{null===t?e.end():await w(t,e)},P="function"==typeof n.validateHeaderName?n.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){const t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},I="function"==typeof n.validateHeaderValue?n.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){const t=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class R extends URLSearchParams{constructor(e){let t=[];if(e instanceof R){const r=e.raw();for(const[e,n]of Object.entries(r))t.push(...n.map((t=>[e,t])))}else if(null==e);else{if("object"!=typeof e||l.types.isBoxedPrimitive(e))throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");{const r=e[Symbol.iterator];if(null==r)t.push(...Object.entries(e));else{if("function"!=typeof r)throw new TypeError("Header pairs must be iterable");t=[...e].map((e=>{if("object"!=typeof e||l.types.isBoxedPrimitive(e))throw new TypeError("Each header pair must be an iterable object");return[...e]})).map((e=>{if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");return[...e]}))}}}return t=t.length>0?t.map((([e,t])=>(P(e),I(e,String(t)),[String(e).toLowerCase(),String(t)]))):void 0,super(t),new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(r,n)=>(P(r),I(r,String(n)),URLSearchParams.prototype[t].call(e,String(r).toLowerCase(),String(n)));case"delete":case"has":case"getAll":return r=>(P(r),URLSearchParams.prototype[t].call(e,String(r).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const t=this.getAll(e);if(0===t.length)return null;let r=t.join(", ");return/^content-encoding$/i.test(e)&&(r=r.toLowerCase()),r}forEach(e,t=void 0){for(const r of this.keys())Reflect.apply(e,t,[this.get(r),r,this])}*values(){for(const e of this.keys())yield this.get(e)}*entries(){for(const e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((e,t)=>(e[t]=this.getAll(t),e)),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((e,t)=>{const r=this.getAll(t);return e[t]="host"===t?r[0]:r.length>1?r:r[0],e}),{})}}Object.defineProperties(R.prototype,["get","entries","forEach","values"].reduce(((e,t)=>(e[t]={enumerable:!0},e)),{}));const L=new Set([301,302,303,307,308]),k=e=>L.has(e),D=Symbol("Response internals");class A extends S{constructor(e=null,t={}){super(e,t);const r=null!=t.status?t.status:200,n=new R(t.headers);if(null!==e&&!n.has("Content-Type")){const t=x(e,this);t&&n.append("Content-Type",t)}this[D]={type:"default",url:t.url,status:r,statusText:t.statusText||"",headers:n,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[D].type}get url(){return this[D].url||""}get status(){return this[D].status}get ok(){return this[D].status>=200&&this[D].status<300}get redirected(){return this[D].counter>0}get statusText(){return this[D].statusText}get headers(){return this[D].headers}get highWaterMark(){return this[D].highWaterMark}clone(){return new A(E(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!k(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new A(null,{headers:{location:new URL(e).toString()},status:t})}static error(){const e=new A(null,{status:0,statusText:""});return e[D].type="error",e}static json(e=void 0,t={}){const r=JSON.stringify(e);if(void 0===r)throw new TypeError("data is not JSON serializable");const n=new R(t&&t.headers);return n.has("content-type")||n.set("content-type","application/json"),new A(r,{...t,headers:n})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(A.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});const O=require("node:url"),W=require("node:net");function M(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e))}const N=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function F(e){return!!/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||!!/^(blob|filesystem):$/.test(e.protocol)||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;const t=e.host.replace(/(^\[)|(]$)/g,""),r=(0,W.isIP)(t);return!(4!==r||!/^127\./.test(t))||!(6!==r||!/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||"localhost"!==e.host&&!e.host.endsWith(".localhost")&&"file:"===e.protocol}(e)}const q=Symbol("Request internals"),U=e=>"object"==typeof e&&"object"==typeof e[q],$=(0,l.deprecate)((()=>{}),".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class j extends S{constructor(e,t={}){let r;if(U(e)?r=new URL(e.url):(r=new URL(e),e={}),""!==r.username||""!==r.password)throw new TypeError(`${r} is an url with embedded credentials.`);let n=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(n)&&(n=n.toUpperCase()),!U(t)&&"data"in t&&$(),(null!=t.body||U(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");const o=t.body?t.body:U(e)&&null!==e.body?E(e):null;super(o,{size:t.size||e.size||0});const i=new R(t.headers||e.headers||{});if(null!==o&&!i.has("Content-Type")){const e=x(o,this);e&&i.set("Content-Type",e)}let s=U(e)?e.signal:null;if("signal"in t&&(s=t.signal),null!=s&&("object"!=typeof(a=s)||"AbortSignal"!==a[p]&&"EventTarget"!==a[p]))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");var a;let c=null==t.referrer?e.referrer:t.referrer;if(""===c)c="no-referrer";else if(c){const e=new URL(c);c=/^about:(\/\/)?client$/.test(e)?"client":e}else c=void 0;this[q]={method:n,redirect:t.redirect||e.redirect||"follow",headers:i,parsedURL:r,signal:s,referrer:c},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[q].method}get url(){return(0,O.format)(this[q].parsedURL)}get headers(){return this[q].headers}get redirect(){return this[q].redirect}get signal(){return this[q].signal}get referrer(){return"no-referrer"===this[q].referrer?"":"client"===this[q].referrer?"about:client":this[q].referrer?this[q].referrer.toString():void 0}get referrerPolicy(){return this[q].referrerPolicy}set referrerPolicy(e){this[q].referrerPolicy=function(e){if(!N.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new j(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(j.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});const B=e=>{const{parsedURL:t}=e[q],r=new R(e[q].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(n="0"),null!==e.body){const t=(e=>{const{body:t}=e[b];return null===t?0:v(t)?t.size:a.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null})(e);"number"!=typeof t||Number.isNaN(t)||(n=String(t))}n&&r.set("Content-Length",n),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[q].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;const n=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";const o=e.referrer;let i=M(o),s=M(o,!0);i.toString().length>4096&&(i=s),t&&(i=t(i)),r&&(s=r(s));const a=new URL(e.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return s;case"unsafe-url":return i;case"strict-origin":return F(i)&&!F(a)?"no-referrer":s.toString();case"strict-origin-when-cross-origin":return i.origin===a.origin?i:F(i)&&!F(a)?"no-referrer":s;case"same-origin":return i.origin===a.origin?i:"no-referrer";case"origin-when-cross-origin":return i.origin===a.origin?i:s;case"no-referrer-when-downgrade":return F(i)&&!F(a)?"no-referrer":i;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}(e):e[q].referrer="no-referrer",e[q].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:o}=e;"function"==typeof o&&(o=o(t));const i=(e=>{if(e.search)return e.search;const t=e.href.length-1,r=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-r.length]?"?":""})(t);return{parsedURL:t,options:{path:t.pathname+i,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:o}}};class z extends f{constructor(e,t="aborted"){super(e,t)}}var V=r(9730);const H=new Set(["data:","http:","https:"]);async function X(e,t){return new Promise(((r,l)=>{const u=new j(e,t),{parsedURL:d,options:f}=B(u);if(!H.has(d.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${d.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===d.protocol){const e=c(u.url),t=new A(e,{headers:{"Content-Type":e.typeFull}});return void r(t)}const p=("https:"===d.protocol?o:n).request,{signal:m}=u;let v=null;const w=()=>{const e=new z("The operation was aborted.");l(e),u.body&&u.body instanceof s.Readable&&u.body.destroy(e),v&&v.body&&v.body.emit("error",e)};if(m&&m.aborted)return void w();const b=()=>{w(),_()},S=p(d.toString(),f);m&&m.addEventListener("abort",b);const _=()=>{S.abort(),m&&m.removeEventListener("abort",b)};S.on("error",(e=>{l(new h(`request to ${u.url} failed, reason: ${e.message}`,"system",e)),_()})),function(e){const t=a.Buffer.from("0\r\n\r\n");let r,n=!1,o=!1;e.on("response",(e=>{const{headers:t}=e;n="chunked"===t["transfer-encoding"]&&!t["content-length"]})),e.on("socket",(i=>{const s=()=>{if(n&&!o){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",(e=>{v&&v.body&&v.body.destroy(e)})(e)}},c=e=>{o=0===a.Buffer.compare(e.slice(-5),t),!o&&r&&(o=0===a.Buffer.compare(r.slice(-3),t.slice(0,3))&&0===a.Buffer.compare(e.slice(-2),t.slice(3))),r=e};i.prependListener("close",s),i.on("data",c),e.on("close",(()=>{i.removeListener("close",s),i.removeListener("data",c)}))}))}(S),process.version<"v14"&&S.on("socket",(e=>{let t;e.prependListener("end",(()=>{t=e._eventsCount})),e.prependListener("close",(r=>{if(v&&t<e._eventsCount&&!r){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",v.body.emit("error",e)}}))})),S.on("response",(e=>{S.setTimeout(0);const n=function(e=[]){return new R(e.reduce(((e,t,r,n)=>(r%2==0&&e.push(n.slice(r,r+2)),e)),[]).filter((([e,t])=>{try{return P(e),I(e,String(t)),!0}catch{return!1}})))}(e.rawHeaders);if(k(e.statusCode)){const o=n.get("Location");let i=null;try{i=null===o?null:new URL(o,u.url)}catch{if("manual"!==u.redirect)return l(new h(`uri requested responds with an invalid redirect URL: ${o}`,"invalid-redirect")),void _()}switch(u.redirect){case"error":return l(new h(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect")),void _();case"manual":break;case"follow":{if(null===i)break;if(u.counter>=u.follow)return l(new h(`maximum redirect reached at: ${u.url}`,"max-redirect")),void _();const o={headers:new R(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:E(u),signal:u.signal,size:u.size,referrer:u.referrer,referrerPolicy:u.referrerPolicy};if(!g(u.url,i)||!y(u.url,i))for(const e of["authorization","www-authenticate","cookie","cookie2"])o.headers.delete(e);if(303!==e.statusCode&&u.body&&t.body instanceof s.Readable)return l(new h("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void _();303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==u.method)||(o.method="GET",o.body=void 0,o.headers.delete("content-length"));const a=function(e){const t=(e.get("referrer-policy")||"").split(/[,\s]+/);let r="";for(const e of t)e&&N.has(e)&&(r=e);return r}(n);return a&&(o.referrerPolicy=a),r(X(new j(i,o))),void _()}default:return l(new TypeError(`Redirect option '${u.redirect}' is not a valid value of RequestRedirect`))}}m&&e.once("end",(()=>{m.removeEventListener("abort",b)}));let o=(0,s.pipeline)(e,new s.PassThrough,(e=>{e&&l(e)}));process.version<"v12.10"&&e.on("aborted",b);const a={url:u.url,status:e.statusCode,statusText:e.statusMessage,headers:n,size:u.size,counter:u.counter,highWaterMark:u.highWaterMark},c=n.get("Content-Encoding");if(!u.compress||"HEAD"===u.method||null===c||204===e.statusCode||304===e.statusCode)return v=new A(o,a),void r(v);const d={flush:i.Z_SYNC_FLUSH,finishFlush:i.Z_SYNC_FLUSH};if("gzip"===c||"x-gzip"===c)return o=(0,s.pipeline)(o,i.createGunzip(d),(e=>{e&&l(e)})),v=new A(o,a),void r(v);if("deflate"===c||"x-deflate"===c){const t=(0,s.pipeline)(e,new s.PassThrough,(e=>{e&&l(e)}));return t.once("data",(e=>{o=8==(15&e[0])?(0,s.pipeline)(o,i.createInflate(),(e=>{e&&l(e)})):(0,s.pipeline)(o,i.createInflateRaw(),(e=>{e&&l(e)})),v=new A(o,a),r(v)})),void t.once("end",(()=>{v||(v=new A(o,a),r(v))}))}if("br"===c)return o=(0,s.pipeline)(o,i.createBrotliDecompress(),(e=>{e&&l(e)})),v=new A(o,a),void r(v);v=new A(o,a),r(v)})),C(S,u).catch(l)}))}},2173:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activateRemotely=async function(e,t,r,u,d,f){let h;try{h=await(0,c.getDelegatedExecServer)(f.host,e)}catch(t){return void e.write(`Not activating WSL due to error: ${t}`)}if("win32"!==h.osPlatform)return void e.write(`Remote is not a Windows machine (is ${h.osPlatform})`);e.write("Workspace platform is Windows"),(0,a.showDebugInfo)()&&e.showLog();const p=t.subscriptions;h.isWSLInstalled().then((t=>(e.write(`WSL feature installed: ${t}`),n.commands.executeCommand("setContext",i.ContextKeys.wslFeatureInstalled,!0),!0)),(t=>(e.write(`Error while detecting if WSL feature installed: ${t}`),!1)));const{dialogs:m,distroStore:v}=d.store(n.env.remoteAuthority,h);(0,i.setupContextKeys)(h,v,p);const g=new o.BrowserResolver(r,m,e,v);g.onStartResolve((()=>{(0,a.showDebugInfo)()&&e.showLog()})),g.onDidResolve((({outcome:e,wslVersion:t,platform:r,reason:n})=>{u.reportResolver(e,t,r,h.windowsBuildNumber,(0,l.getRemoteName)(f.host),!0,n)})),p.push(n.workspace.registerRemoteAuthorityResolver("wsl",g));const y=()=>g?.openedDistro;(0,i.addCommands)(t,n.env.remoteAuthority,y,d),(0,s.activate)(t,y,m,v)},t.addDefaultResources=function(e,t){(0,i.addCommands)(e,void 0,(()=>{}),t)};const n=r(1398),o=r(4439),i=r(5187),s=r(2274),a=r(1568),c=r(6130),l=r(2552)},2189:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstallableDistro=t.Distro=t.DistroStore=void 0,t.indexOfDistro=function(e,t){for(let r=0;r<e.length;r++)if((0,n.compareCaseInsensitive)(t,e[r].name))return r;return-1};const n=r(2552),o=r(1398);class i{get onDidChange(){return this._onDidChange.event}get onError(){return this._onError.event}static create(e,t){const r=function(e){if(!e)return;const t=e.indexOf("+");if(-1!==t){const r=e.substring(t+1);return function(e){try{return JSON.parse(Buffer.from(e,"hex").toString()).hostName}catch(e){return}}(r)||r}return e}(e.hostAuthority),n=new i(e,t),s=Object.create(null);return n.onDidChange((e=>{for(const t of e)if(!s[t.name]){s[t.name]=!0;const e=r?`${t.name} (${r})`:t.name;o.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:t.getAuthority(),formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:o.l10n.t("WSL: {0}",e),workspaceTooltip:void 0!==t.version?o.l10n.t("Running in {0} (WSL {1})",e,t.version):void 0}})}})),n.onError((e=>{t.write(e.toString())})),n}constructor(e,t){this.wslExecServer=e,this.logger=t,this._onDidChange=new o.EventEmitter,this._onError=new o.EventEmitter}get hostAuthority(){return this.wslExecServer.hostAuthority}async getDistros(e=!0){if(!e&&this.distros)return this.distros;try{const e=this.wslExecServer.isWSL2Available();if(!1!==e)try{return this.updateDistros(await this.runWSLExeList())}catch(t){if(!0===e)throw t}return this.updateDistros(await this.runWSLConfigList())}catch(e){this._onError.fire(e)}return[]}getNumberOKnownDistros(){if(this.distros)return this.distros.length}async findDistro(e,t=!0){e=e.toLowerCase();const r=await this.getDistros(t),n=r.find((t=>t.name.toLowerCase()===e));if(n)return{distro:n,default:r.find((e=>e.isDefault))||r[0]}}async deleteDistro(e){const t=o.l10n.t("Delete");await o.window.showInformationMessage(o.l10n.t("Are you sure you want to permanently delete the distro `{0}` including all its data?",e),{modal:!0},t)===t&&(await this.wslExecServer.runWSLCommandLine(["--unregister",e]),await this.getDistros(!0))}async makeDefault(e){try{try{if(!(await this.wslExecServer.runWSLCommandLine(["--set-default",e])).status)return await this.getDistros(!0),!0}catch(e){}const t=await this.wslExecServer.runWSLConfigCommandLine(["/setdefault",e]);return await this.getDistros(!0),!t.status}catch(t){return o.window.showInformationMessage(o.l10n.t({comment:["{0} distro name. Do not change link syntax [message](command), only translate message.",'{Locked="](command:remote-wsl.showLog)"}'],message:"Unable to set {0} as the default distro. See [WSL log](command:remote-wsl.showLog) in terminal for details.",args:[e]})),this.logger.write(t.toString()),this.logger.showLog(),!1}}notifyDistroChanged(){this.distros=void 0}async getInstallableDistros(){try{const{stdout:e,status:t}=await this.wslExecServer.runWSLCommandLine(["--list","--online"]);if(!t&&e)return function(e){const t=/\r\n/.test(e)?"\r\n":"\n",r=e.split(t),n=/^(?<name>[a-zA-Z0-9\.\-_]+)\s\s+(?<label>[a-zA-Z0-9\.\-_ ]+)$/;let o=!1;const i=[];for(let e=1;e<r.length;e++){if(!o){r[e].startsWith("NAME")&&(o=!0);continue}const t=n.exec(r[e]);if(t?.groups){const e=t.groups.name,r=t.groups.label;i.push(new a(e,r))}}return i}(e)}catch(e){}}updateDistros(e){return this.distros=e,this._onDidChange.fire(e),e}async runWSLExeList(){const e=await this.wslExecServer.runWSLCommandLine(["--list","--verbose"]);if(!e.status)return this.parseDistros(e.stdout,!0,this.wslExecServer.hostAuthority);throw new Error(o.l10n.t("Failed to run wsl.exe --list --verbose: error code {0}, error: {1}",e.status,e.stdout+e.stderr))}async runWSLConfigList(){const e=await this.wslExecServer.runWSLConfigCommandLine(["/list"]);if(!e.status&&e.stdout)return this.parseDistros(e.stdout,!1,this.wslExecServer.hostAuthority);throw new Error(o.l10n.t("Failed to run wslconfig.exe /list: error code {0}, error: {1}",e.status??0,e.stdout+e.stderr))}async parseDistros(e,t,r){const n=/\r\n/.test(e)?"\r\n":"\n",o=e.split(n),i=t?/^(?<default>\*|\s)\s*(?<name>[a-zA-Z0-9\.\-_]+)\s+(?<state>\w+)\s+(?<version>\d)/:/^(?<name>[a-zA-Z0-9\.\-_]+)/,a=[];for(let e=1;e<o.length;e++){const t=i.exec(o[e]);if(t?.groups){const n=t.groups.name,o=t.groups.version,i=1===e;a.push(new s(n,i,o,r))}}if(0===a.length)if(this.logger.write("No distros found: "+JSON.stringify(e)),t){const e=await this.wslExecServer.runWSLCommandLine(["--list","--verbose"],!0);this.logger.write(JSON.stringify(e))}else{const e=await this.wslExecServer.runWSLConfigCommandLine(["/list"],!0);this.logger.write(JSON.stringify(e))}else this.logger.write(`${a.length} distros found`);return a}}t.DistroStore=i;class s{constructor(e,t,r,n){this.name=e,this.isDefault=t,this.version=r,this.hostAuthority=n}isInternal(){return!this.isDefault||/^docker-desktop(-data)?$/.test(this.name)}getAuthority(){return(0,n.getAuthorityFromDistro)(this.name,this.hostAuthority)}}t.Distro=s;class a{constructor(e,t){this.name=e,this.label=t}}t.InstallableDistro=a},2274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetsTree=t.ExplorerItem=void 0,t.activate=function(e,t,r,s){const a=new d(t,s),l=n.window.createTreeView("targetsWsl",{treeDataProvider:a});a.setMessage=e=>l.message=e,e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.connectInCurrentWindow",(async e=>{c.isFolderItem(e)&&await(0,o.vscodeOpenFolder)(e.folder,i.OpenMode.reuseWindow)}))),e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.connectInNewWindow",(async e=>{c.isFolderItem(e)&&await(0,o.vscodeOpenFolder)(e.folder,i.OpenMode.newWindow)}))),e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.removeFolder",(async e=>{c.isFolderItem(e)&&(await n.commands.executeCommand("vscode.removeFromRecentlyOpened",e.folder.toString()),a.refresh())}))),e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.openDistroInCurrentWindow",(async e=>{c.isDistroItem(e)&&await(0,o.vscodeOpenWindow)(e.distro.getAuthority(),i.OpenMode.reuseWindow)}))),e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.openDistroInNewWindow",(async e=>{c.isDistroItem(e)&&await(0,o.vscodeOpenWindow)(e.distro.getAuthority(),i.OpenMode.newWindow)}))),e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.setDefaultDistro",(async e=>{c.isDistroItem(e)&&(await s.makeDefault(e.distro.name),a.refresh())}))),e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.deleteDistro",(async e=>{c.isDistroItem(e)&&(await s.deleteDistro(e.distro.name),a.refresh())}))),e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.refresh",(async()=>{a.refresh()}))),e.subscriptions.push(n.commands.registerCommand("remote-wsl.explorer.addDistro",(async()=>{r.showDistroStore()})))};const n=r(1398),o=r(5187),i=r(1568),s=r(2552);var a;!function(e){e.Distro="Distro",e.Folder="Folder"}(a||(a={}));class c{static isDistroItem(e){return!!e&&e.type===a.Distro}static isFolderItem(e){return!!e&&e.type===a.Folder}}t.ExplorerItem=c;class l extends c{constructor(e,t,r=!1){super(),this.distro=e,this.folders=t,this.isDefault=r,this.type=a.Distro}async asTreeItem(e){const t=new n.TreeItem(this.distro.name,this.folders.length>0?n.TreeItemCollapsibleState.Expanded:n.TreeItemCollapsibleState.None),r=void 0!==this.distro.version?n.l10n.t("(WSL {0})",this.distro.version):"";e&&this.distro.name.toLowerCase()===e.toLowerCase()||void 0===e&&this.isDefault?(t.iconPath=f,t.contextValue="activeDistro",t.tooltip=`${this.distro.name} ${r} ${n.l10n.t("Connected")}`):(t.iconPath=h,t.contextValue="inactiveDistro",t.tooltip=`${this.distro.name} ${r} ${n.l10n.t("Not Connected")}`);const o=[];return this.isDefault&&o.push(n.l10n.t("default distro")),"1"===this.distro.version&&o.push(n.l10n.t("wsl1")),t.description=o.length?o.join(" - "):void 0,t}}class u extends c{constructor(e,t){super(),this.distro=e,this.folder=t,this.type=a.Folder}async asTreeItem(e,t){const r=(o=this.folder).path.substring(o.path.lastIndexOf("/")+1);var o;const i=new n.TreeItem(r,n.TreeItemCollapsibleState.None);return i.description=this.folder.path,e&&this.distro.name.toLowerCase()===e.toLowerCase()&&t===this.folder.path?(i.iconPath=p,i.tooltip=n.l10n.t("Active Folder {0}",r)):(i.iconPath=m,i.contextValue="folder"),i}}class d{constructor(e,t){this.getOpenedDistro=e,this.distroStore=t,this._onDidChangeTreeData=new n.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.setTreeMessage=()=>{},this.currentDistro=null,this.setCurrents()}setCurrents(){const e=this.getOpenedDistro();e&&(this.currentDistro=e.name,n.workspace.workspaceFolders&&n.workspace.workspaceFolders.length>0&&(this.currentFolder=n.workspace.workspaceFolders[0].uri.path))}set setMessage(e){this.setTreeMessage=e}getTreeItem(e){return e.asTreeItem(this.currentDistro,this.currentFolder)}async getChildren(e){if(void 0===e){this.setTreeMessage(void 0),this.setCurrents();const e=await this.distroStore.getDistros();if(e.length){const t=await this.getRecentEntries(e[0]);return e.filter((e=>e.isDefault||!(0,s.isDockerDesktopDistro)(e.name))).map((e=>{const r=t.get(e.name.toLowerCase()),n=r?r.map((t=>new u(e,t))):[];return new l(e,n,e.isDefault)})).sort(((e,t)=>e.isDefault?-1:e.distro.name.localeCompare(t.distro.name)))}}else if(c.isDistroItem(e))return e.folders;return[]}async getRecentEntries(e){const t=new Map,r=await n.commands.executeCommand("_workbench.getRecentlyOpened");if(Array.isArray(r?.workspaces)){const o=this.distroStore.hostAuthority;for(const i of r.workspaces){const r=i&&(i.folderUri??i.workspace?.configPath);if(r instanceof n.Uri&&(0,s.isAuthorityWsl)(r.authority)){const n=(0,s.getDistroFromAuthority)(r.authority);if(n&&(0,s.isEqualAuthority)(n.hostAuthority,o)){const o=(n.distro??e.name).toLowerCase(),i=t.get(o);i?i.push(r):t.set(o,[r])}}}}return t}refresh(e){this._onDidChangeTreeData.fire(e)}}t.TargetsTree=d;const f=new n.ThemeIcon("vm-active"),h=new n.ThemeIcon("vm"),p=new n.ThemeIcon("folder-active"),m=new n.ThemeIcon("folder")},2317:(e,t,r)=>{"use strict";r.d(t,{PV:()=>b,W0:()=>S,i8:()=>g,nU:()=>w,tS:()=>y});var n=r(269),o=r(991),i=r(9749),s=r(6182),a=r(3775),c=r(3673),l=r(6492),u=r(8156),d=r(380),f="TelemetryPluginChain",h="_hasRun",p="_getTelCtx",m=0;function v(e,t,r,c){var u=null,d=[];t||(t=(0,i.e)({},null,r[s.Uw])),null!==c&&(u=c?function(e,t,r){for(;e;){if(e[s.AP]()===r)return e;e=e[s.uR]()}return b([r],t.config||{},t)}(e,r,c):e);var f={_next:function(){var e=u;if(u=e?e[s.uR]():null,!e){var t=d;t&&t[s.oI]>0&&((0,n.Iuo)(t,(function(e){try{e.func.call(e.self,e.args)}catch(e){(0,a.ZP)(r[s.Uw],2,73,"Unexpected Exception during onComplete - "+(0,n.mmD)(e))}})),d=[])}return e},ctx:{core:function(){return r},diagLog:function(){return(0,a.y0)(r,t.cfg)},getCfg:function(){return t.cfg},getExtCfg:function(e,r){var i=h(e,!0);return r&&(0,n.zav)(r,(function(e,r){if((0,n.hXl)(i[e])){var s=t.cfg[e];!s&&(0,n.hXl)(s)||(i[e]=s)}(0,o.q)(t,i,e,r)})),t.setDf(i,r)},getConfig:function(e,r,o){void 0===o&&(o=!1);var i,s=h(e,!1),a=t.cfg;return!s||!s[r]&&(0,n.hXl)(s[r])?!a[r]&&(0,n.hXl)(a[r])||(i=a[r]):i=s[r],i||!(0,n.hXl)(i)?i:o},hasNext:function(){return!!u},getNext:function(){return u},setNext:function(e){u=e},iterate:function(e){for(var t;t=f._next();){var r=t[s.AP]();r&&e(r)}},onComplete:function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];e&&d[s.y5]({func:e,self:(0,n.b07)(t)?f.ctx:t,args:r})}}};function h(e,r){var n=null,o=t.cfg;if(o&&e){var i=o[l.Bw];!i&&r&&(i={}),o[l.Bw]=i,(i=t.ref(o,l.Bw))&&(!(n=i[e])&&r&&(n={}),i[e]=n,n=t.ref(i,e))}return n}return f}function g(e,t,r,o){var a=(0,i.e)(t),c=v(e,a,r,o),u=c.ctx;return u[s.$5]=function(e){var t=c._next();return t&&t[l.qT](e,u),!t},u[s.$o]=function(e,t){return void 0===e&&(e=null),(0,n.cyL)(e)&&(e=b(e,a.cfg,r,t)),g(e||u[s.uR](),a.cfg,r,t)},u}function y(e,t,r){var o=(0,i.e)(t.config),a=v(e,o,t,r),c=a.ctx;return c[s.$5]=function(e){var t=a._next();return t&&t[s.tI](c,e),!t},c[s.$o]=function(e,r){return void 0===e&&(e=null),(0,n.cyL)(e)&&(e=b(e,o.cfg,t,r)),y(e||c[s.uR](),t,r)},c}function w(e,t,r){var o=(0,i.e)(t.config),a=v(e,o,t,r).ctx;return a[s.$5]=function(e){return a.iterate((function(t){(0,n.Tnt)(t[s.HC])&&t[s.HC](a,e)}))},a[s.$o]=function(e,r){return void 0===e&&(e=null),(0,n.cyL)(e)&&(e=b(e,o.cfg,t,r)),w(e||a[s.uR](),t,r)},a}function b(e,t,r,o){var i=null,c=!o;if((0,n.cyL)(e)&&e[s.oI]>0){var v=null;(0,n.Iuo)(e,(function(e){if(c||o!==e||(c=!0),c&&e&&(0,n.Tnt)(e[l.qT])){var y=function(e,t,r){var o,i=null,c=(0,n.Tnt)(e[l.qT]),v=(0,n.Tnt)(e[s.YH]),y={getPlugin:function(){return e},getNext:function(){return i},processTelemetry:function(o,a){w(a=a||function(){var o;return e&&(0,n.Tnt)(e[p])&&(o=e[p]()),o||(o=g(y,t,r)),o}(),(function(t){if(!e||!c)return!1;var r=(0,d.Cr)(e);return!r[s.Ik]&&!r[l.Hr]&&(v&&e[s.YH](i),e[l.qT](o,t),!0)}),"processTelemetry",(function(){return{item:o}}),!o.sync)||a[s.$5](o)},unload:function(t,r){w(t,(function(){var n=!1;if(e){var o=(0,d.Cr)(e),i=e[l.eT]||o[l.eT];!e||i&&i!==t.core()||o[s.Ik]||(o[l.eT]=null,o[s.Ik]=!0,o[s.tZ]=!1,e[s.Ik]&&!0===e[s.Ik](t,r)&&(n=!0))}return n}),"unload",(function(){}),r.isAsync)||t[s.$5](r)},update:function(t,r){w(t,(function(){var n=!1;if(e){var o=(0,d.Cr)(e),i=e[l.eT]||o[l.eT];!e||i&&i!==t.core()||o[s.Ik]||e[s.HC]&&!0===e[s.HC](t,r)&&(n=!0)}return n}),"update",(function(){}),!1)||t[s.$5](r)},_id:o=e?e[s.Ju]+"-"+e[l.Vo]+"-"+m++:"Unknown-0-"+m++,_setNext:function(e){i=e}};function w(t,r,c,d,p){var m=!1,v=e?e[s.Ju]:f,g=t[h];return g||(g=t[h]={}),t.setNext(i),e&&(0,u.r2)(t[l.eT](),(function(){return v+":"+c}),(function(){g[o]=!0;try{var e=i?i._id:l.m5;e&&(g[e]=!1),m=r(t)}catch(e){var u=!i||g[i._id];u&&(m=!0),i&&u||(0,a.ZP)(t[s.e4](),1,73,"Plugin ["+v+"] failed during "+c+" - "+(0,n.mmD)(e)+", run flags: "+(0,n.mmD)(g))}}),d,p),m}return(0,n.N6t)(y)}(e,t,r);i||(i=y),v&&v._setNext(y),v=y}}))}return o&&!i?b([o],t,r):i}var S=function(e,t,r,o){var i=g(e,t,r,o);(0,c.o$)(this,i,(0,n.cGk)(i))}},2475:(e,t,r)=>{"use strict";r.d(t,{DD:()=>c,Lx:()=>a,NU:()=>s});var n=r(269),o=r(6182);function i(e,t,r){return!e&&(0,n.hXl)(e)?t:(0,n.Lmq)(e)?e:"true"===(0,n.oJg)(e)[o.OL]()}function s(e){return{mrg:!0,v:e}}function a(e,t,r){return{fb:r,isVal:e,v:t}}function c(e,t){return{fb:t,set:i,v:!!e}}},2493:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExperimentationServiceAsync=t.getExperimentationService=void 0;const n=r(8967),o=r(2909),i=r(1398),s=r(8142),a=r(9052);function c(e,t,r,c,l,...u){if(!l)throw new Error("Memento storage was not provided.");const d=i.workspace.getConfiguration("telemetry");if(!(void 0===i.env.isTelemetryEnabled?d.get("enableTelemetry",!0):i.env.isTelemetryEnabled))return new a.default;const f=[new n.VSCodeFilterProvider(e,t,r),...u],h=new s.MementoKeyValueStorage(l);return new o.ExperimentationService({filterProviders:f,telemetry:c,storageKey:"VSCode.ABExp.FeatureData",keyValueStorage:h,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:"abexp.assignmentcontext",telemetryEventName:"query-expfeature",endpoint:"https://default.exp-tas.com/vscode/ab",refetchInterval:18e5})}t.getExperimentationService=c,t.getExperimentationServiceAsync=async function(e,t,r,n,o,...i){const s=c(e,t,r,n,o,...i);return await s.initializePromise,s}},2552:(e,t)=>{"use strict";function r(e,t){return e.length===t.length&&(e===t||e.toLowerCase()===t.toLowerCase())}Object.defineProperty(t,"__esModule",{value:!0}),t.AuthorityHierarchy=void 0,t.compareCaseInsensitive=r,t.isEqualAuthority=function(e,t){return void 0===e?void 0===t:void 0!==t&&r(e,t)},t.isDockerDesktopDistro=function(e){return/^docker-desktop(-data)?$/.test(e)},t.isWSL1=function(e){return-1!==e.indexOf("Microsoft")},t.getAuthorityFromDistro=function(e="default",t){return t?`wsl+${e}@${t}`:"wsl+"+e},t.isAuthorityWsl=function(e){return e.startsWith("wsl+")},t.getDistroFromAuthority=function(e){let t,r;if(e.startsWith("wsl+")&&(t=e.substring(4)),!t)return;const n=t.indexOf("@"),o=t.indexOf("%40"),i=Math.min(-1===n?1/0:n,-1===o?1/0:o);return isFinite(i)&&(r=t.slice(i+1),t=t.slice(0,i)),"default"===t&&(t=void 0),{hostAuthority:r,distro:t}},t.getRemoteName=function(e){const t=e.indexOf("+");return-1!==t?e.substring(0,t):e},t.onceSuccessfully=function(e){let t;return()=>(void 0!==t||(t=e(),t.catch((()=>{t=void 0}))),t)},t.shouldActivateForAuthority=function(e,t){const r=["tunnel+","wsl+"];return!1!==e.workspace.getConfiguration("remote.SSH").get("useExecServer",!0)&&r.push("ssh-remote+"),r.some((e=>t.startsWith(e)))};class n{static parse(e){return new n(e,e.split(/@|%40/g).reverse())}get length(){return this.parts.length}get host(){return this.last.startsWith("wsl+")?1===this.parts.length?void 0:this.parts.slice(0,-1).reverse().join("@"):this.parts.slice().reverse().join("@")}get last(){return this.parts[this.parts.length-1]}constructor(e,t){this.value=e,this.parts=t}has(e){const t=e+"+";return this.parts.some((e=>e.startsWith(t)))}toString(){return this.parts.join(" > ")}}t.AuthorityHierarchy=n},2690:(e,t,r)=>{(()=>{"use strict";var e=[,(e,t,r)=>{r.r(t),r.d(t,{Connection:()=>n.Connection,ConnectionBearer:()=>n.ConnectionBearer,ConnectionManager:()=>o.ConnectionManager,DeferredPromise:()=>i.DeferredPromise,ExecServer:()=>a.ExecServer,NetworkError:()=>s.NetworkError,RPCError:()=>n.RPCError,RemoteVersion:()=>c.RemoteVersion,ServerWebSocket:()=>l.ServerWebSocket,TimeoutError:()=>s.TimeoutError,closedDuplexStream:()=>u.closedDuplexStream,msgPackEncode:()=>n.msgPackEncode});var n=r(2),o=r(6),i=r(5),s=r(10),a=r(11),c=r(7),l=r(14),u=r(12)},(e,t,r)=>{r.r(t),r.d(t,{Connection:()=>c,ConnectionBearer:()=>d,RPCError:()=>a,msgPackEncode:()=>l});var n=r(3),o=r(4),i=r(5);let s=0;class a extends Error{constructor(e,t){super(`json rpc error ${e}: message`),this.code=e,this.message=t}}class c{constructor(e,t,r=new u){this.tunnel=e,this.encode=t,this.globalHandlers=r,this.callbacks=new Map,this.streams=new Map,this.notifyEmitter=new n.EventEmitter,this.closeEmitter=new n.EventEmitter,this.ownHandlers=new u,this.onClose=this.closeEmitter.event,this.registerRequestHandler=this.ownHandlers.register,(async()=>{for await(const t of(0,o.decodeMultiStream)(e)){const e=t;"result"in e||"error"in e?this.callbacks.get(e.id)?.resolve(e):"id"in e&&"number"==typeof e.id?this.handleRequest(e):this.notifyEmitter.fire(e)}})(),e.once("close",(()=>{this.rejectAllCalls(new a(0,"Connection closed")),this.closeEmitter.fire(void 0)})),e.once("error",(e=>{const t=new a(0,e.message);this.rejectAllCalls(t),this.closeEmitter.fire(t)})),this.onNotification("stream_data",(e=>{this.streams.get(e.stream)?.data.fire(e.segment)})),this.onNotification("stream_end",(e=>{this.streams.get(e.stream)?.end.complete(),this.streams.delete(e.stream)})),this.onNotification("streams_started",(e=>{const t=e.stream_ids,r=this.callbacks.get(e.for_request_id);if(r?.onStream)for(const e of t){const t=new n.EventEmitter,o=new i.DeferredPromise;this.streams.set(e,{data:t,end:o}),r.onStream({id:e,onData:t.event,onEnd:o.p,write:t=>this.notify("stream_data",{stream:e,segment:t}),end:()=>this.notify("stream_ended",{stream:e})})}}))}static fromDuplexStreams(e,t){const r={once:(t,r)=>{"close"===t&&e.onEnd.then(r)},write:e=>t.write(e),async*[Symbol.asyncIterator](){let t=new i.DeferredPromise,r=t;for(e.onData((e=>{const r=new i.DeferredPromise;t.complete({data:e,next:r}),t=r})),e.onEnd.then((()=>{t.complete(void 0)}));;){const e=await r.p;if(!e)return;yield e.data,r=e.next}},end:()=>t.end()};return new c(r,o.encode)}dispose(){this.tunnel.end()}async call(e,t,r,n){const o=s++;return new Promise(((i,s)=>{this.callbacks.set(o,{onStream:n,resolve:e=>{"error"in e?s(new a(e.error?.code,e.error?.message)):i(e.result)},reject:s}),r?.addEventListener("abort",(()=>s(new a(0,"Operation cancelled")))),this.write(this.encode({id:o,method:e,params:t}))})).finally((()=>this.callbacks.delete(o)))}onNotification(e,t){return this.notifyEmitter.event((r=>{r.method===e&&t(r.params)}))}notify(e,t){this.write(this.encode({method:e,params:t}))}async handleRequest(e){const t=this.ownHandlers.map.get(e.method)||this.globalHandlers.map.get(e.method);if(!t){const t={id:e.id,error:{message:"Unknown method. Cannot resolve request",code:36}};return void this.write(this.encode(t))}let r;try{r={id:e.id,result:await t(e.params,e.id)}}catch(t){t instanceof a?r={id:e.id,error:{code:t.code,message:t.message}}:(console.warn("Unexpected error handling request",e,t),r={id:e.id,error:{code:-1,message:String(t)}})}this.write(this.encode(r))}write(e){this.tunnel.write(e)}rejectAllCalls(e){for(const{reject:t}of this.callbacks.values())t(e);this.callbacks.clear()}}function l(e){const t=(0,o.encode)(e),r=new Uint8Array(4+t.length);return new DataView(r.buffer).setUint32(0,t.length),r.set(t,4),r}class u{constructor(){this.map=new Map,this.register=(e,t)=>{this.map.has(e)&&console.warn("Overriding previous handler for method: ",e),this.map.set(e,t)}}}class d{constructor(e){this.callHandlers=new u,this.startEmitter=new n.EventEmitter,this.onStartConnecting=this.startEmitter.event,this.notifyEmitter=new n.EventEmitter,this.closeEmitter=new n.EventEmitter,this.onClose=this.closeEmitter.event,this.registerRequestHandler=this.callHandlers.register,this.BEARER_TYPE=e}async checkedAcquire(){if(this.streamPromise){const e=await this.streamPromise;if(await this.isStreamValid(e))return e;e.dispose()}this.streamPromise=this.acquireNow();try{return await this.streamPromise}catch(e){throw this.streamPromise=void 0,e}}async acquire(){this.streamPromise??(this.streamPromise=this.acquireNow());try{return await this.streamPromise}catch(e){throw this.streamPromise=void 0,e}}async isStreamValid(e){return!0}async close(){this.streamPromise?.then((e=>e.dispose())),this.streamPromise=void 0}async acquireNow(){const e=await this.getConnectionTunnel(),t=new c(e,(e=>this.encodeMessage(e)),this.callHandlers);return t.onClose((e=>{this.streamPromise=void 0,this.closeEmitter.fire(e)})),this.startEmitter.fire(t),t}}},e=>{e.exports=r(4224)},e=>{e.exports=r(3986)},(e,t,r)=>{r.r(t),r.d(t,{DeferredPromise:()=>n});class n{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise(((e,t)=>{this.completeCallback=e,this.errorCallback=t}))}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(e){this.completeCallback(e),this.resolved=!0}error(e){this.errorCallback(e),this.rejected=!0}}},(e,t,r)=>{r.r(t),r.d(t,{ConnectionManager:()=>a});var n=r(3),o=r(8),i=r(5),s=r(7);class a{constructor({bearer:e}){this.socketId=0,this.connectingEmitter=new n.EventEmitter,this.onStartConnecting=this.connectingEmitter.event,this.connectedEmitter=new n.EventEmitter,this.onConnected=this.connectedEmitter.event,this.logEmitter=new n.EventEmitter,this.onLog=this.logEmitter.event,this.versionPromise=new i.DeferredPromise,this.bearer=e,this.bearer.onStartConnecting((e=>{e.onNotification("version",(({version:e,protocol_version:t})=>{this.versionPromise.isSettled&&(this.versionPromise=new i.DeferredPromise),this.versionPromise.complete(new s.RemoteVersion(e,t))}))})),this.onClose=this.bearer.onClose;let t=!0;this.bearer.onStartConnecting((e=>{if(this.connectingEmitter.fire(),e.onNotification("serverlog",(e=>{this.logEmitter.fire(e)})),e.onNotification("makehttpreq",(async({url:t,method:r,req_id:n})=>{this.makeHttpCall(e,t,r,n)})),t){const r=e.onNotification("servermsg",(()=>{t&&(this.connectedEmitter.fire(),r.dispose(),t=!1)}))}}))}get version(){return this.versionPromise.p}async makeHttpCall(e,t,r,n){let i;try{i=await(0,o.fetchFn)(t,{method:r})}catch(t){return e.notify("httpheaders",{headers:[],status_code:503,req_id:n}),void e.notify("httpbody",{segment:(new TextEncoder).encode(String(t)),complete:!0,req_id:n})}e.notify("httpheaders",{headers:[...i.headers],status_code:i.status,req_id:n});const s=()=>e.notify("httpbody",{segment:new Uint8Array,complete:!0,req_id:n});if(i.body&&"function"==typeof i.body.on){const t=i.body;return t.on("data",(t=>e.notify("httpbody",{segment:t,complete:!1,req_id:n}))),t.on("end",s),t.on("error",s),void t.resume()}const a=i.body;if(a)try{const t=a.getReader();for(;;){const{done:r,value:o}=await t.read();if(e.notify("httpbody",{segment:o||new Uint8Array,complete:r,req_id:n}),r)break}}catch(e){throw s(),e}else s()}nextSocketId(){return this.socketId++}async checkForUpdates(e){return(await this.bearer.acquire()).call("update",{do_update:e?.doUpdate??!1})}async call(e,t,r,n){const o=await this.bearer.acquire();return await o.call(e,t,r,n)}}},(e,t,r)=>{r.r(t),r.d(t,{RemoteVersion:()=>n});class n{constructor(e,t=0){this.cliVersion=e,this.protocolVerson=t}shouldWarnOutdated(){return this.protocolVerson<=2}canPing(){return this.protocolVerson>=1}canCompressServerMsg(){return this.protocolVerson>=2}usesConnectionToken(){return this.protocolVerson>=3}shouldLengthPrefixMessages(){return this.protocolVerson<4}}},(e,t,r)=>{r.r(t),r.d(t,{fetchFn:()=>o});var n=r(9);const o=r.n(n)()},e=>{e.exports=r(2065)},(e,t,r)=>{r.r(t),r.d(t,{NetworkError:()=>n,TimeoutError:()=>o});class n extends Error{constructor(e,t="ECONNREFUSED"){super(e.message),this.code=t,this.syscall="connect",this.stack=e.stack}}class o extends Error{constructor(){super("Operation timed out")}}},(e,t,r)=>{r.r(t),r.d(t,{ExecServer:()=>c});var n=r(3),o=r(13),i=r(2),s=r(5),a=r(12);class c{constructor(e){this.connection=e}async spawn(e,t,{env:r={},cwd:n}={}){const o=Array.from({length:3},(()=>new s.DeferredPromise)),i=Promise.all(o.map((e=>e.p))),c=this.connection.call("spawn",{command:e,args:t,env:r,cwd:n},void 0,(e=>{o.shift()?.complete(e)})).then((e=>(o.forEach((e=>e.complete(a.closedDuplexStream))),{status:e.exit_code,message:e.message}))),[l,u,d]=await i;return{stdin:l,stdout:u,stderr:d,onExit:c}}async spawnCli(e,t,{env:r={},cwd:n}={}){const o=Array.from({length:3},(()=>new s.DeferredPromise)),c=Promise.all(o.map((e=>e.p))),l=this.connection.call("spawn_cli",{command:e,args:t,env:r,cwd:n},void 0,(e=>{o.shift()?.complete(e)})).then((e=>(o.forEach((e=>e.complete(a.closedDuplexStream))),{status:e.exit_code,message:e.message}))),[u,d,f]=await c;return{connection:i.Connection.fromDuplexStreams(d,u),logs:f,onExit:l}}async acquireCli(e){return this.connection.call("acquire_cli",{command:e.command,args:e.args,platform:e.platform,quality:e.quality,commit_id:e.commit_id,env:e.env}).then((e=>({status:e.exit_code,message:e.message})))}async serve(e){return await this.connection.call("serve",e),new l(e.socket_id,this.connection,!!e.compress)}async env(){const e=await this.connection.call("get_env",{});return{env:e.env,osRelease:e.os_release,osPlatform:e.os_platform}}async fsStat(e){const t=await this.connection.call("fs_stat",{path:e});return t.exists?{exists:!0,size:t.size,type:t.type}:{exists:!1}}}class l{constructor(e,t,r){if(this.socketId=e,this.connection=t,this.id=0,this.disposables=[],this.onDataEmitter=new n.EventEmitter,this.onData=this.onDataEmitter.event,this.onCloseEmitter=new n.EventEmitter,this.onClose=this.onCloseEmitter.event,this.onEndDeferred=new s.DeferredPromise,this.onEnd=this.onEndDeferred.p,r){const r=this.zip={deflate:(0,o.createDeflateRaw)(),inflate:(0,o.createInflateRaw)()};r.inflate.on("data",(e=>this.onDataEmitter.fire(e))),r.deflate.on("data",(r=>{t.notify("servermsg",{i:e,body:r})})),this.disposables.push({dispose:()=>{r.deflate.close(),r.inflate.close()}})}this.disposables.push(t.onNotification("servermsg",(({i:t,body:r})=>{t===e&&(this.zip?this.zip.inflate.write(r):this.onDataEmitter.fire(r))})))}write(e){const t=this.socketId,r=e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);this.zip?this.zip.deflate.write(r,void 0,(()=>{this.zip.deflate.flush(2)})):this.connection.notify("servermsg",{i:t,body:r})}end(){this.disposables.forEach((e=>e.dispose()))}}},(e,t,r)=>{r.r(t),r.d(t,{closedDuplexStream:()=>n});const n={id:0,onData:()=>({dispose:()=>{}}),onEnd:Promise.resolve(void 0),write:()=>{},end:()=>{}}},e=>{e.exports=r(3106)},(e,t,r)=>{r.r(t),r.d(t,{ServerWebSocket:()=>s});var n=r(3),o=r(10),i=r(11);class s{constructor(e,t){this.options=e,this.version=t,this.SOCKET_TYPE="Local Proxy Server Socket",this.dispose=[],this.onDataEmitter=new n.EventEmitter,this.onData=this.onDataEmitter.event,this.onOpenEmitter=new n.EventEmitter,this.onOpen=this.onOpenEmitter.event,this.onCloseEmitter=new n.EventEmitter,this.onClose=this.onCloseEmitter.event,this.onErrorEmitter=new n.EventEmitter,this.onError=this.onErrorEmitter.event}send(e){const t=e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);this.stream?this.stream.write(t):console.warn(new Error("attempted to send data before socket was open").stack)}close(){this.dispose.forEach((e=>e.dispose()))}onMessage(e){this.onDataEmitter.fire(e)}upgradeToWebSocketConnection(){}async initialize(){const e=await this.options.bearer.checkedAcquire(),t=!!(await this.version).canCompressServerMsg()&&(this.options.compress??!0),r=this.stream=await new i.ExecServer(e).serve({socket_id:this.options.socketId,extensions:this.options.extensions||[],quality:this.options.product.quality,commit_id:this.options.product.commit,archive_path:this.options.archivePath,connection_token:this.options.connectionToken,compress:t});this.dispose.push(r.onData(this.onMessage,this)),this.dispose.push(e.onClose((e=>{e&&this.onErrorEmitter.fire(new o.NetworkError(e)),this.onCloseEmitter.fire()}))),this.upgradeToWebSocketConnection()}}},(e,t,r)=>{r.r(t),r.d(t,{ProxyConnection:()=>v});var n=r(3),o=r(4),i=r(16),s=r(17),a=r(18),c=r(19),l=r(20),u=r(21),d=r(2),f=r(5),h=r(22),p=r(23);const m=!process.env.VSCODE_TUNNELS_DISABLE_PROCESS_REUSE;class v{constructor(e,t){this.args=e,this.logger=t,this.bearerPromise=new f.DeferredPromise,this.bearer=this.bearerPromise.p,this.localPortPromise=new f.DeferredPromise,this.localPort=this.localPortPromise.p,this.startEmitter=new n.EventEmitter,this.onStartConnecting=this.startEmitter.event,this.closeEmitter=new n.EventEmitter,this.onClose=this.closeEmitter.event,this.connectedEmitter=new n.EventEmitter,this.onConnected=this.connectedEmitter.event,this.logEmitter=new n.EventEmitter,this.onLog=this.logEmitter.event,this.initialize(),this.bearer.catch((e=>{this.closeEmitter.fire(e)}))}static async create(e){const t=v.getPathForRunningProxyInTmpDir(e.nonce),r={args:e.args,productInfo:e.productInfo,runningProxyInfoFile:t},n=await v.getValidProxySocket(t);if(n){e.logger.log(3,`Found running server in ${n}`);try{const t=new y({...r,proxySocketPath:n},e.logger);return await(0,h.timeoutPromise)(1e3,t.callOnProxy("greet",{})),t}catch(t){e.logger.log(3,`Error greeting the server, starting a new instance (${t})`)}}e.logger.log(3,"Creating new tunnel proxy server");const o=function(e,t){const r=(0,s.createHash)("sha256").update(e).update("\0").update(t).digest("hex").slice(0,16);return"win32"===process.platform?`\\\\.\\pipe\\vscode-tunneling-${r}-sock`:process.env.XDG_RUNTIME_DIR?u.join(process.env.XDG_RUNTIME_DIR,`vscode-tunneling-${r}.sock`):u.join(l.tmpdir(),`vscode-tunneling-${r}.sock`)}(e.nonce,(0,s.randomBytes)(20).toString("hex"));return new g({...r,proxySocketPath:o},e.logger,e.serverPath)}static async getValidProxySocket(e){try{const t=JSON.parse(await a.promises.readFile(e,"utf-8"));if(t.at>Date.now()-p.proxyFileTimeout)return await a.promises.stat(t.socket),t.socket}catch{}}static getPathForRunningProxyInTmpDir(e){const t=`vscode-server-proxy-${(0,s.createHash)("sha256").update(e).digest("hex").slice(0,16)}-daemon`;return u.join(l.tmpdir(),t)}async callOnProxy(e,t){return(await this.bearer).call(e,t)}async call(e,t,r,n){return(await this.bearer).call("calltunnel",{method:e,params:t,stream:!!n},r,n)}async initialize(){this.connectToProxyServer();const e=await this.bearer;e.onNotification("serverlog",(e=>{this.logger.log(e.level,`[server] ${e.line}`),this.logEmitter.fire(e)})),e.onNotification("proxylog",(e=>this.logger.log(e.level,`[proxy] ${e.message}`,...e.args))),e.onNotification("statechange",(e=>{switch(e.state){case"connecting":this.startEmitter.fire();break;case"connected":this.connectedEmitter.fire();break;case"closed":let t;e.reason&&(t=new Error(e.reason.message),t.stack=e.reason.stack||t.stack),this.closeEmitter.fire(t)}})),e.onClose((e=>{this.closeEmitter.fire(e)}))}connectToProxyServer(){let e,t=!1;const r=()=>{t=!1,e?.destroy(),e=void 0},n=()=>{t||(r(),e=c.connect(this.args.proxySocketPath),e.on("connect",(async()=>{t=!0,this.bearerPromise.complete(new d.Connection(e,o.encode)),this.getPortOfTunnelProxyServer()})),e.on("error",(e=>{r()})))};let i;const s=()=>{n(),i&&clearTimeout(i),i=setTimeout((async()=>{t||s()}),500)};s()}async getPortOfTunnelProxyServer(){const e=await this.bearer,t=(await e.call("getlocalport",{})).value;this.localPortPromise.complete(t)}async dispose(){(await this.bearer).dispose()}}class g extends v{constructor(e,t,r){const n=i.spawn(process.execPath,[r],{detached:m,stdio:m?"ignore":"pipe",env:{...process.env,VSCODE_TUNNEL_ARGS:JSON.stringify(e)}});n.stdout?.on("data",(e=>console.log("Proxy process stdout:",e.toString().trim()))),n.stderr?.on("data",(e=>console.log("Proxy process stderr:",e.toString().trim()))),m&&n.unref(),super(e,t)}}class y extends v{}},e=>{e.exports=r(5317)},e=>{e.exports=r(6982)},e=>{e.exports=r(9896)},e=>{e.exports=r(9278)},e=>{e.exports=r(857)},e=>{e.exports=r(6928)},(e,t,r)=>{r.r(t),r.d(t,{timeoutPromise:()=>n});const n=(e,t)=>new Promise(((r,n)=>{const o=setTimeout((()=>{n(new Error("Operation timed out"))}),e);t.finally((()=>clearTimeout(o))).then(r,n)}))},(e,t,r)=>{r.r(t),r.d(t,{proxyFileTimeout:()=>n});const n=6e3},(e,t,r)=>{r.r(t),r.d(t,{ProxyServer:()=>u});var n=r(4),o=r(18),i=r(19),s=r(5),a=r(2),c=r(14),l=r(25);class u{constructor(e){this._options=e,this.serverConnections=new Set,this.disposables=[],this.setupPromise=new s.DeferredPromise,this.setup=this.setupPromise.p,this.connectionCount=0,this.connectionIdCounter=0,this.args=e.args,this.proxyServer=i.createServer((async e=>{await this.onProxyConnection(e)})),this.disposables.push({dispose:()=>this.proxyServer.close()}),this.controlServer=i.createServer((async e=>{await this.onServerConnection(e)})),this.disposables.push({dispose:()=>this.controlServer.close()}),this.initialize().catch((e=>{console.error(e),process.exit(1)})),this.startSavingRunningInfo(),this.delayShutdown(9e4)}incrementConnectionCount(){this.connectionCount+=1,this.shutdownTimer&&(clearTimeout(this.shutdownTimer),this.shutdownTimer=void 0)}decrementConnectionCount(){this.connectionCount-=1,0===this.connectionCount&&this.delayShutdown(3e4)}static readArgsFromEnvironment(){return JSON.parse(process.env.VSCODE_TUNNEL_ARGS)}getWebSocket(e,t){return new c.ServerWebSocket(t,e.version)}onDidSetUpServerConnection(e){}async initialize(){await Promise.all([new Promise(((e,t)=>{this.proxyServer.listen(0,"127.0.0.1",(()=>e(this.acquireTunnel()))),this.proxyServer.on("error",t)})),new Promise(((e,t)=>{this.controlServer.listen(this._options.proxySocketPath,e),this.controlServer.on("error",t)}))])}delayShutdown(e=3e4){this.shutdownTimer&&clearTimeout(this.shutdownTimer),this.shutdownTimer=setTimeout((()=>{this.dispose(),this.log(2,"Timed out, shutting down"),process.exit(0)}),e)}async onServerConnection(e){this.log(2,"Server connection from:  ",e.localAddress," ",e.localPort),this.incrementConnectionCount();const t=new a.Connection(e,n.encode);this.serverConnections.add(t),e.on("close",(()=>{this.serverConnections.delete(t),this.decrementConnectionCount()})),t.registerRequestHandler("greet",(()=>Promise.resolve({}))),t.registerRequestHandler("getlocalport",(async()=>({value:this.proxyServer.address().port}))),t.onNotification("stream_data",(e=>t.notify("stream_data",e))),t.onNotification("stream_ended",(e=>t.notify("stream_ended",e))),t.registerRequestHandler("calltunnel",(async({method:e,params:r,stream:n},o)=>(await this.setup).call(e,r,void 0,n?e=>{t.notify("streams_started",{for_request_id:o,stream_ids:[e.id]}),e.onData((r=>t.notify("stream_data",{segment:r,stream:e.id}))),e.onEnd.then((()=>t.notify("stream_ended",{stream:e.id})))}:void 0))),this.onDidSetUpServerConnection(t),this.lastState&&t.notify("statechange",this.lastState)}async onProxyConnection(e){const t=`[connection.${this.connectionIdCounter++}]`;this.log(2,`${t} connection from:  ${e.localAddress} ${e.localPort}`),this.incrementConnectionCount();const r=(0,l.writeBuffer)();let n;e.on("data",(e=>r.write(e))),e.on("close",(()=>{n?.close(),this.decrementConnectionCount()}));try{const e=await this.setup,t=this.getWebSocket(e,{bearer:e.bearer,product:this._options.productInfo,socketId:e.nextSocketId(),compress:!0});await t.initialize(),n=t}catch(e){return this.log(5,`${t} error setting up websocket: ${e}`),void this.setState({state:"closed",reason:{message:e.message,stack:e.stack}})}r.connect((e=>n.send(e))),this.disposables.push(n.onData((t=>e.write(new Uint8Array(t)))),n.onError((e=>{this.log(5,`${t} tunnel connection error: ${e}`)})),n.onClose((()=>{this.log(5,`${t} tunnel connection ended`),e.end()}))),this.log(3,`${t} tunnel connection established`)}async acquireTunnel(){let e;try{e=await this.createConnectionManager()}catch(e){return this.log(5,e.message),this.setState({state:"closed",reason:{message:e.message,stack:e.stack}})}this.setupPromise.complete(e),e.onLog((e=>{this.serverConnections.forEach((t=>{t.notify("serverlog",e)}))})),e.onStartConnecting((()=>{this.log(2,"Tunnel started connecting"),this.setState({state:"connecting"})})),e.onConnected((()=>{this.log(3,"Tunnel connection successful"),this.setState({state:"connected"})})),e.onClose((e=>{this.log(5,`Tunnel connection closed with: ${e?.message}`),this.setState({state:"closed",reason:{message:e?.message||"Remote server disconnected"}})}))}setState(e){if(e.state!==this.lastState?.state){this.lastState=e;for(const t of this.serverConnections)t.notify("statechange",e);"closed"===e.state&&process.exit(1)}}startSavingRunningInfo(){this.log(2,`Saving socket path "${this._options.proxySocketPath}" to daemon in: ${this._options.runningProxyInfoFile}`);const e=()=>JSON.stringify({at:Date.now(),socket:this._options.proxySocketPath,pid:process.pid});o.writeFileSync(this._options.runningProxyInfoFile,e());const t=setInterval((()=>o.writeFile(this._options.runningProxyInfoFile,e(),(()=>{}))),3e3);this.disposables.push({dispose:()=>{clearInterval(t);try{o.rmSync(this._options.runningProxyInfoFile)}catch{}}})}log(e,t,...r){for(const n of this.serverConnections)n.notify("proxylog",{level:e,message:t,args:r})}dispose(){this.serverConnections.forEach((e=>{e.notify("statechange",{state:"closed",reason:new Error("Disposing proxy server.")}),e.dispose()})),this.disposables.forEach((e=>e.dispose()))}}},(e,t,r)=>{r.r(t),r.d(t,{writeBuffer:()=>n});const n=()=>{let e=[];return{write:t=>{e.push(t)},connect(t){for(const r of e)t(r);this.write=t,e=void 0}}}}],n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{o.r(i),o.d(i,{Connection:()=>e.Connection,ConnectionBearer:()=>e.ConnectionBearer,ConnectionManager:()=>e.ConnectionManager,DeferredPromise:()=>e.DeferredPromise,ExecServer:()=>e.ExecServer,NetworkError:()=>e.NetworkError,ProxyConnection:()=>t.ProxyConnection,ProxyServer:()=>r.ProxyServer,RPCError:()=>e.RPCError,RemoteVersion:()=>e.RemoteVersion,ServerWebSocket:()=>e.ServerWebSocket,TimeoutError:()=>e.TimeoutError,closedDuplexStream:()=>e.closedDuplexStream,msgPackEncode:()=>e.msgPackEncode});var e=o(1),t=o(15),r=o(24)})();var s=t;for(var a in i)s[a]=i[a];i.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})})()},2774:(e,t,r)=>{"use strict";r.d(t,{_:()=>A});var n,o=r(659),i=r(8279),s=r(8205),a=r(269),c=r(9749),l=r(4875),u=r(6182),d=r(4013),f=r(7847),h=r(5034),p=r(4276),m=r(7867),v=r(3775),g=r(3673),y=r(6492),w=r(1356),b=r(8156),S=r(2317),_=r(380),E=function(e){function t(){var r,n,o=e.call(this)||this;function s(){r=0,n=[]}return o.identifier="TelemetryInitializerPlugin",o.priority=199,s(),(0,i.A)(t,o,(function(e,t){e.addTelemetryInitializer=function(e){return function(e,t,r){var n={id:t,fn:r};return(0,a.Yny)(e,n),{remove:function(){(0,a.Iuo)(e,(function(t,r){if(t.id===n.id)return e[u.Ic](r,1),-1}))}}}(n,r++,e)},e[y.qT]=function(t,r){(function(e,t,r){for(var n=!1,o=e[u.oI],i=0;i<o;++i){var s=e[i];if(s)try{if(!1===s.fn[u.y9](null,[t])){n=!0;break}}catch(e){(0,v.ZP)(r,2,64,"Telemetry initializer failed: "+(0,g.lL)(e),{exception:(0,a.mmD)(e)},!0)}}return!n})(n,t,r?r[u.e4]():e[u.e4]())&&e[u.$5](t,r)},e[u.tn]=function(){s()}})),o}return(0,o.qU)(t,e),t.__ieDyn=1,t}(r(8257).s),T=r(836),x=r(8969),C="Plugins must provide initialize method",P="SDK is still unloading...",I=(0,a.ZHX)(((n={cookieCfg:{}})[y.jy]={rdOnly:!0,ref:!0,v:[]},n[y.LZ]={rdOnly:!0,ref:!0,v:[]},n[y.Bw]={ref:!0,v:{}},n[y.Yd]=y.HP,n.loggingLevelConsole=0,n.diagnosticLogInterval=y.HP,n));function R(e,t){return new b.NS(t)}function L(e,t){var r=!1;return(0,a.Iuo)(t,(function(t){if(t===e)return r=!0,-1})),r}function k(e,t,r,n){r&&(0,a.zav)(r,(function(r,o){n&&(0,a.QdQ)(o)&&(0,a.QdQ)(t[r])&&k(e,t[r],o,n),n&&(0,a.QdQ)(o)&&(0,a.QdQ)(t[r])?k(e,t[r],o,n):e.set(t,r,o)}))}function D(e,t){var r=null,n=-1;return(0,a.Iuo)(e,(function(e,o){if(e.w===t)return r=e,n=o,-1})),{i:n,l:r}}var A=function(){function e(){var t,r,n,A,O,W,M,N,F,q,U,$,j,B,z,V,H,X,K,Z,J,G,Y,Q,ee,te,re,ne,oe,ie,se,ae;(0,i.A)(e,this,(function(e){function i(){oe=!0,(0,a.hXl)(J)?(te=l.f.INACTIVE,(0,v.ZP)(n,1,112,"ikey can't be resolved from promises")):te=l.f.ACTIVE,ce()}function ce(){r&&(e.releaseQueue(),e.pollInternalLogs())}function le(e){return ie&&ie[u.XM]||ae||(e||n&&n.queue[u.oI]>0)&&(se||(se=!0,_e(t[u.x6]((function(e){var t=e.cfg.diagnosticLogInterval;t&&t>0||(t=1e4);var r=!1;ie&&(r=ie[u.XM],ie[u._w]()),(ie=(0,a.AHH)(ge,t)).unref(),ie[u.XM]=r})))),ie[u.XM]=!0),ie}function ue(){var e={};Q=[];var t=function(t){t&&(0,a.Iuo)(t,(function(t){if(t[u.Ju]&&t[u.s]&&!e[t.identifier]){var r=t[u.Ju]+"="+t[u.s];Q[u.y5](r),e[t.identifier]=t}}))};t($),U&&(0,a.Iuo)(U,(function(e){t(e)})),t(q)}function de(){r=!1,(t=(0,c.e)({},I,e[u.Uw])).cfg[u.Bl]=1,(0,a.vF1)(e,"config",{g:function(){return t.cfg},s:function(t){e.updateCfg(t,!1)}}),(0,a.vF1)(e,"pluginVersionStringArr",{g:function(){return Q||ue(),Q}}),(0,a.vF1)(e,"pluginVersionString",{g:function(){return ee||(Q||ue(),ee=Q.join(";")),ee||y.m5}}),(0,a.vF1)(e,"logger",{g:function(){return n||(n=new v.wq(t.cfg),t[u.Uw]=n),n},s:function(e){t[u.Uw]=e,n!==e&&((0,d.K)(n,!1),n=e)}}),e[u.Uw]=new v.wq(t.cfg),Y=[];var o=e.config[y.jy]||[];o.splice(0,o[u.oI]),(0,a.Yny)(o,Y),B=new E,A=[],(0,d.K)(O,!1),O=null,W=null,M=null,(0,d.K)(N,!1),N=null,F=null,q=[],U=null,$=null,j=!1,z=null,V=(0,p.Z)("AIBaseCore",!0),H=(0,T.P)(),Z=null,J=null,X=(0,x.w)(),G=[],ee=null,Q=null,ae=!1,ie=null,se=!1,te=0,re=null,ne=null,oe=!1}function fe(){var r=(0,S.i8)(me(),t.cfg,e);return r[u.by](le),r}function he(t){var r=function(e,t,r){var n=[],o=[],i={};return(0,a.Iuo)(r,(function(r){((0,a.hXl)(r)||(0,a.hXl)(r[u.mE]))&&(0,a.$8)(C);var s=r[y.Vo],c=r[u.Ju];r&&s&&((0,a.hXl)(i[s])?i[s]=c:(0,v.OG)(e,"Two extensions have same priority #"+s+" - "+i[s]+", "+c)),!s||s<t?n[u.y5](r):o[u.y5](r)})),{core:n,channels:o}}(e[u.Uw],f.i,q);F=null,ee=null,Q=null,$=(U||[])[0]||[],$=(0,_.Xc)((0,a.Yny)($,r[y.LZ]));var n=(0,a.Yny)((0,_.Xc)(r[y.eT]),$);Y=(0,a.N6t)(n);var o=e.config[y.jy]||[];o.splice(0,o[u.oI]),(0,a.Yny)(o,Y);var i=fe();$&&$[u.oI]>0&&(0,_.pI)(i[u.$o]($),n),(0,_.pI)(i,n),t&&we(t)}function pe(e){var t=null,r=null,n=[];return(0,a.Iuo)(Y,(function(t){if(t[u.Ju]===e&&t!==B)return r=t,-1;t.getChannel&&n[u.y5](t)})),!r&&n[u.oI]>0&&(0,a.Iuo)(n,(function(t){if(!(r=t.getChannel(e)))return-1})),r&&(t={plugin:r,setEnabled:function(e){(0,_.Cr)(r)[y.Hr]=!e},isEnabled:function(){var e=(0,_.Cr)(r);return!e[u.Ik]&&!e[y.Hr]},remove:function(e,t){void 0===e&&(e=!0);var n=[r];ve(n,{reason:1,isAsync:e},(function(e){e&&he({reason:32,removed:n}),t&&t(e)}))}}),t}function me(){if(!F){var r=(Y||[]).slice();-1===(0,a.rDm)(r,B)&&r[u.y5](B),F=(0,S.PV)((0,_.Xc)(r),t.cfg,e)}return F}function ve(r,n,o){if(r&&r[u.oI]>0){var i=(0,S.PV)(r,t.cfg,e),s=(0,S.tS)(i,e);s[u.by]((function(){var e=!1,t=[];(0,a.Iuo)(q,(function(n,o){L(n,r)?e=!0:t[u.y5](n)})),q=t,ee=null,Q=null;var n=[];U&&((0,a.Iuo)(U,(function(t,o){var i=[];(0,a.Iuo)(t,(function(t){L(t,r)?e=!0:i[u.y5](t)})),n[u.y5](i)})),U=n),o&&o(e),le()})),s[u.$5](n)}else o(!1)}function ge(){if(n&&n.queue){var t=n.queue.slice(0);n.queue[u.oI]=0,(0,a.Iuo)(t,(function(t){var r={name:z||"InternalMessageId: "+t[u.JR],iKey:J,time:(0,g._u)(new Date),baseType:v.WD.dataType,baseData:{message:t[u.pM]}};e.track(r)}))}}function ye(e,t,r,n){var o=1,i=!1,s=null;function c(){o--,i&&0===o&&(s&&s[u._w](),s=null,t&&t(i),t=null)}return n=n||5e3,$&&$[u.oI]>0&&fe()[u.$o]($).iterate((function(t){if(t.flush){o++;var i=!1;t.flush(e,(function(){i=!0,c()}),r)||i||(e&&null==s?s=(0,a.dRz)((function(){s=null,c()}),n):c())}})),i=!0,c(),!0}function we(t){var r=(0,S.nU)(me(),e);r[u.by](le),e._updateHook&&!0===e._updateHook(r,t)||r[u.$5](t)}function be(t){var r=e[u.Uw];r?((0,v.ZP)(r,2,73,t),le()):(0,a.$8)(t)}function Se(t){var r=e[u.RF]();r&&r[y.Yp]([t],2)}function _e(e){X.add(e)}de(),e._getDbgPlgTargets=function(){return[Y,A]},e[u.tZ]=function(){return r},e.activeStatus=function(){return te},e._setPendingStatus=function(){te=3},e[u.mE]=function(d,f,h,p){var w;j&&(0,a.$8)(P),e[u.tZ]()&&(0,a.$8)("Core cannot be initialized more than once"),t=(0,c.e)(d,I,h||e[u.Uw],!1),d=t.cfg,_e(t[u.x6]((function(e){var t=e.cfg;if(3!==te){ne=t.initInMemoMaxSize||100;var o=t.instrumentationKey,c=t.endpointUrl;if((0,a.hXl)(o)){J=null,te=l.f.INACTIVE;var f="Please provide instrumentation key";r?((0,v.ZP)(n,1,100,f),ce()):(0,a.$8)(f)}else{var h=[];if((0,a.$XS)(o)?(h[u.y5](o),J=null):J=o,(0,a.$XS)(c)?(h[u.y5](c),re=null):re=c,h[u.oI]){oe=!1,te=3;var p=(0,g.Gh)(t.initTimeOut)?t.initTimeOut:5e4,m=(0,s.lh)(h);(0,a.dRz)((function(){oe||i()}),p),(0,s.Dv)(m,(function(e){try{if(oe)return;if(!e.rejected){var t=e[u.pF];if(t&&t[u.oI]){var r=t[0];if(J=r&&r[u.pF],t[u.oI]>1){var n=t[1];re=n&&n[u.pF]}}J&&(d.instrumentationKey=J,d.endpointUrl=re)}i()}catch(e){oe||i()}}))}else i();var w=e.ref(e.cfg,y.Bw);(0,a.zav)(w,(function(t){e.ref(w,t)}))}}}))),K=function(e,t,r,n){return t.add(e[u.x6]((function(e){var t=e.cfg.disableDbgExt;!0===t&&n&&(r[u.h3](n),n=null),r&&!n&&!0!==t&&(n=(0,m.M)(e.cfg),r[u.vR](n))}))),n}(t,X,(O=p)&&e[u.RF](),K),_e(t[u.x6]((function(t){if(t.cfg.enablePerfMgr){var r=t.cfg[y.Yd];w===r&&w||(r||(r=R),(0,g.c2)(t.cfg,y.Yd,r),w=r,M=null),W||M||!(0,a.Tnt)(r)||(M=r(e,e[u.RF]()))}else M=null,w=null}))),e[u.Uw]=h;var b=d[y.jy];if((q=[])[u.y5].apply(q,(0,o.vz)((0,o.vz)([],f,!1),b,!1)),U=d[y.LZ],he(null),$&&0!==$[u.oI]||(0,a.$8)("No "+y.LZ+" available"),U&&U[u.oI]>1){var S=e[u.AP]("TeeChannelController");S&&S.plugin||(0,v.ZP)(n,1,28,"TeeChannel required")}!function(e,t,r){(0,a.Iuo)(t,(function(t){var n=(0,c.a)(e,t.w,r);delete t.w,t.rm=function(){n.rm()}}))}(d,G,n),G=null,r=!0,te===l.f.ACTIVE&&ce()},e.getChannels=function(){var e=[];return $&&(0,a.Iuo)($,(function(t){e[u.y5](t)})),(0,a.N6t)(e)},e.track=function(t){(0,b.r2)(e[y.kI](),(function(){return"AppInsightsCore:track"}),(function(){null===t&&(Se(t),(0,a.$8)("Invalid telemetry item")),!t[u.RS]&&(0,a.hXl)(t[u.RS])&&(Se(t),(0,a.$8)("telemetry name required")),t.iKey=t.iKey||J,t.time=t.time||(0,g._u)(new Date),t.ver=t.ver||"4.0",!j&&e[u.tZ]()&&te===l.f.ACTIVE?fe()[u.$5](t):te!==l.f.INACTIVE&&A[u.oI]<=ne&&A[u.y5](t)}),(function(){return{item:t}}),!t.sync)},e[u.DI]=fe,e[u.RF]=function(){return O||(O=new w.h(t.cfg),e._notificationManager=O),O},e[u.vR]=function(t){e.getNotifyMgr()[u.vR](t)},e[u.h3]=function(e){O&&O[u.h3](e)},e.getCookieMgr=function(){return N||(N=(0,h.xN)(t.cfg,e[u.Uw])),N},e.setCookieMgr=function(e){N!==e&&((0,d.K)(N,!1),N=e)},e[y.kI]=function(){return W||M||(0,b.Z4)()},e.setPerfMgr=function(e){W=e},e.eventCnt=function(){return A[u.oI]},e.releaseQueue=function(){if(r&&A[u.oI]>0){var e=A;A=[],2===te?(0,a.Iuo)(e,(function(e){e.iKey=e.iKey||J,fe()[u.$5](e)})):(0,v.ZP)(n,2,20,"core init status is not active")}},e.pollInternalLogs=function(e){return z=e||null,ae=!1,ie&&ie[u._w](),le(!0)},e[u.Di]=function(){ae=!0,ie&&ie[u._w](),ge()},(0,g.o$)(e,(function(){return B}),["addTelemetryInitializer"]),e[u.tI]=function(t,o,i){void 0===t&&(t=!0),r||(0,a.$8)("SDK is not initialized"),j&&(0,a.$8)(P);var c,l={reason:50,isAsync:t,flushComplete:!1};t&&!o&&(c=(0,s.Qo)((function(e){o=e})));var f=(0,S.tS)(me(),e);function h(t){l.flushComplete=t,j=!0,H.run(f,l),e[u.Di](),f[u.$5](l)}return f[u.by]((function(){X.run(e[u.Uw]),(0,d.k)([N,O,n],t,(function(){de(),o&&o(l)}))}),e),ge(),ye(t,h,6,i)||h(!1),c},e[u.AP]=pe,e.addPlugin=function(e,t,r,n){if(!e)return n&&n(!1),void be(C);var o=pe(e[u.Ju]);if(o&&!t)return n&&n(!1),void be("Plugin ["+e[u.Ju]+"] is already loaded!");var i={reason:16};function s(t){q[u.y5](e),i.added=[e],he(i),n&&n(!0)}if(o){var a=[o.plugin];ve(a,{reason:2,isAsync:!!r},(function(e){e?(i.removed=a,i.reason|=32,s()):n&&n(!1)}))}else s()},e.updateCfg=function(r,n){var o;if(void 0===n&&(n=!0),e[u.tZ]()){o={reason:1,cfg:t.cfg,oldCfg:(0,a.zwS)({},t.cfg),newConfig:(0,a.zwS)({},r),merge:n},r=o.newConfig;var i=t.cfg;r[y.jy]=i[y.jy],r[y.LZ]=i[y.LZ]}t._block((function(e){var t=e.cfg;k(e,t,r,n),n||(0,a.zav)(t,(function(n){(0,a.KhI)(r,n)||e.set(t,n,y.HP)})),e.setDf(t,I)}),!0),t.notify(),o&&we(o)},e.evtNamespace=function(){return V},e.flush=ye,e.getTraceCtx=function(e){return Z||(Z=(0,_.u7)()),Z},e.setTraceCtx=function(e){Z=e||null},e.addUnloadHook=_e,(0,g.RF)(e,"addUnloadCb",(function(){return H}),"add"),e.onCfgChange=function(n){var o,i,s,l;return r?o=(0,c.a)(t.cfg,n,e[u.Uw]):((l=D(i=G,s=n).l)||(l={w:s,rm:function(){var e=D(i,s);-1!==e.i&&i[u.Ic](e.i,1)}},i[u.y5](l)),o=l),function(e){return(0,a.vF1)({rm:function(){e.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(e)+">"}})}(o)},e.getWParam=function(){return(0,a.Wtk)()||t.cfg.enableWParam?0:-1}}))}return e.__ieDyn=1,e}()},2845:(e,t,r)=>{"use strict";r.d(t,{Uu:()=>n});var n="AppInsightsChannelPlugin"},2909:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentationService=void 0;var n=r(7291);Object.defineProperty(t,"ExperimentationService",{enumerable:!0,get:function(){return n.ExperimentationService}})},3106:e=>{"use strict";e.exports=require("zlib")},3257:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PollingService=void 0,t.PollingService=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),null!=this.onTick&&(e&&this.onTick().then((()=>{})).catch((()=>{})),this.intervalHandle=setInterval((async()=>{await this.onTick()}),this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}},3328:(e,t,r)=>{if(!globalThis.ReadableStream)try{const e=r(1708),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,r(7830)),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch(e){Object.assign(globalThis,r(5010))}try{const{Blob:e}=r(181);e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0;const r=this;return new ReadableStream({type:"bytes",async pull(e){const n=r.slice(t,Math.min(r.size,t+65536)),o=await n.arrayBuffer();t+=o.byteLength,e.enqueue(new Uint8Array(o)),t===r.size&&e.close()}})})}catch(e){}},3505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.licenseErrorText=void 0,t.hasVSDA=function(){return u(require.main?.paths.map((e=>e+d("f70715b752c50649525efc24a1d133eb")))??[])||u([o.posix.join(i.env.appRoot,d("9e4708daf438152c7e63cf9f3b24d92c"))])};const n=r(6982),o=r(6928),i=r(1398);t.licenseErrorText=["You may install and use any number of copies of the software only with Microsoft Visual Studio,","Visual Studio for Mac, Visual Studio Code, Azure DevOps, Team Foundation Server, and successor Microsoft products","and services (collectively, the “Visual Studio Products and Services”) to develop and test your applications.","The software is licensed, not sold. This agreement only gives you some rights to use the software. Microsoft reserves all other rights.","You may not:","work around any technical limitations in the software that only allow you to use it in certain ways;","reverse engineer, decompile or disassemble the software, or otherwise attempt to derive the source code for the software,","except and to the extent required by third party licensing terms governing use of certain open source components that may be included in the software;","remove, minimize, block, or modify any notices of Microsoft or its suppliers in the software;","use the software in any way that is against the law or to create or propagate malware; or","share, publish, distribute, or lease the software (except for any distributable code, subject to the terms above),","provide the software as a stand-alone offering for others to use, or transfer the software or this agreement to any third party."].join(" ");const s="aes-192-cbc",a="SEE  LICENSE.txt",c=n.scryptSync(t.licenseErrorText,a,24),l=Buffer.from(a);function u(e){try{const t=require.resolve(d("bdf000de72c4f5f5d7cff4fa6dd90b95"),{paths:e}),r=require(t);return!(!r[d("0fd50b75eeecb3b44b3932921442f72c")]||!r[d("80c3ae7905cba507debf9b326fc386ab")])}catch(e){return!1}}function d(e){const t=n.createDecipheriv(s,c,l);let r=t.update(e,"hex","utf8");return r+=t.final("utf8"),r}},3635:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthorityResourceStore=void 0;const n=r(172),o=r(2189),i=r(6130),s=r(7153);t.AuthorityResourceStore=class{constructor(e,t,r){this.logger=e,this.telemetry=t,this.nodeExecServer=r,this._resources=new Map}async get(e){if(!this._resources.has(e)){const t=await this.makeExecServer(e);return this.store(e,t)}return this._resources.get(e)}store(e,t){const r=o.DistroStore.create(t,this.logger),i={execServer:t,remoteAuthority:e,distroStore:r,dialogs:(0,n.getDialogs)(t,r,this.logger,this.telemetry)};return this._resources.set(e,i),i}makeExecServer(e){if(!e){const t=this.nodeExecServer;if(!t)throw new Error("Local hostAuthority resolutions are not possible in web");return(0,s.getWSLExecServer)((()=>Promise.resolve(t)),e,this.logger)}return(0,i.getDelegatedExecServer)(e,this.logger)}}},3662:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var n=r(4282),o=(0,n.H)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5});(0,n.H)({Unknown:0,NonRetryableStatus:1,CleanStorage:2,MaxInStorageTimeExceeded:3})},3673:(e,t,r)=>{"use strict";r.d(t,{CP:()=>E,Gh:()=>u,H$:()=>k,HU:()=>x,IL:()=>D,Ju:()=>f,KY:()=>m,LU:()=>A,Lo:()=>T,RF:()=>w,SZ:()=>S,_u:()=>h,c2:()=>v,cH:()=>d,hW:()=>_,jL:()=>P,lL:()=>p,o$:()=>b,qz:()=>y,r4:()=>C,w3:()=>N});var n=r(5664),o=r(269),i=r(6182),s=r(6492),a=/-([a-z])/g,c=/([^\w\d_$])/g,l=/^(\d+[\w\d_$])/;function u(e){return!(0,o.hXl)(e)}function d(e){var t=e;return t&&(0,o.KgX)(t)&&(t=(t=(t=t[i.W7](a,(function(e,t){return t.toUpperCase()})))[i.W7](c,"_"))[i.W7](l,(function(e,t){return"_"+t}))),t}function f(e,t){return!(!e||!t)&&-1!==(0,o.HzD)(e,t)}function h(e){return e&&e.toISOString()||""}function p(e){return(0,o.bJ7)(e)?e[i.RS]:s.m5}function m(e,t,r,n,o){var i=r;return e&&((i=e[t])===r||o&&!o(i)||n&&!n(r)||(i=r,e[t]=i)),i}function v(e,t,r){var n;return e?!(n=e[t])&&(0,o.hXl)(n)&&(n=(0,o.b07)(r)?{}:r,e[t]=n):n=(0,o.b07)(r)?{}:r,n}function g(e,t){var r=null,n=null;return(0,o.Tnt)(e)?r=e:n=e,function(){var e=arguments;if(r&&(n=r()),n)return n[t][i.y9](n,e)}}function y(e,t,r){if(e&&t&&(0,o.Gvm)(e)&&(0,o.Gvm)(t)){var n=function(n){if((0,o.KgX)(n)){var i=t[n];(0,o.Tnt)(i)?r&&!r(n,!0,t,e)||(e[n]=g(t,n)):r&&!r(n,!1,t,e)||((0,o.KhI)(e,n)&&delete e[n],(0,o.vF1)(e,n,{g:function(){return t[n]},s:function(e){t[n]=e}}))}};for(var i in t)n(i)}return e}function w(e,t,r,n,i){e&&t&&r&&(!1!==i||(0,o.b07)(e[t]))&&(e[t]=g(r,n))}function b(e,t,r,n){return e&&t&&(0,o.Gvm)(e)&&(0,o.cyL)(r)&&(0,o.Iuo)(r,(function(r){(0,o.KgX)(r)&&w(e,r,t,r,n)})),e}function S(e){return function(){var t=this;e&&(0,o.zav)(e,(function(e,r){t[e]=r}))}}function _(e){return e&&o.vE3&&(e=(0,n.s6)((0,o.vE3)({},e))),e}function E(e,t,r,n,s,a){var c=arguments,l=c[0]||{},u=c[i.oI],d=!1,f=1;for(u>0&&(0,o.Lmq)(l)&&(d=l,l=c[f]||{},f++),(0,o.Gvm)(l)||(l={});f<u;f++){var h=c[f],p=(0,o.cyL)(h),m=(0,o.Gvm)(h);for(var v in h)if(p&&v in h||m&&(0,o.KhI)(h,v)){var g=h[v],y=void 0;if(d&&g&&((y=(0,o.cyL)(g))||(0,o.QdQ)(g))){var w=l[v];y?(0,o.cyL)(w)||(w=[]):(0,o.QdQ)(w)||(w={}),g=E(d,w,g)}void 0!==g&&(l[v]=g)}}return l}function T(e){try{return e.responseText}catch(e){}return null}function x(e,t){return e?"XDomainRequest,Response:"+T(e)||0:t}function C(e,t){return e?"XMLHttpRequest,Status:"+e[i.cV]+",Response:"+T(e)||0:t}function P(e,t){return t&&((0,o.EtT)(t)?e=[t].concat(e):(0,o.cyL)(t)&&(e=t.concat(e))),e}Object.getPrototypeOf;var I="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",R="withCredentials",L="timeout";function k(e,t,r,n,o,i){function s(e,t,r){try{e[t]=r}catch(e){}}void 0===n&&(n=!1),void 0===o&&(o=!1);var a=new XMLHttpRequest;return n&&s(a,I,n),r&&s(a,R,r),a.open(e,t,!o),r&&s(a,R,r),!o&&i&&s(a,L,i),a}function D(e){var t={};if((0,o.KgX)(e)){var r=(0,o.EHq)(e)[i.sY](/[\r\n]+/);(0,o.Iuo)(r,(function(e){if(e){var r=e.indexOf(": ");if(-1!==r){var n=(0,o.EHq)(e.substring(0,r))[i.OL](),s=(0,o.EHq)(e.substring(r+1));t[n]=s}else t[(0,o.EHq)(e)]=1}}))}return t}function A(e,t,r){if(!e[r]&&t&&t.getResponseHeader){var n=t.getResponseHeader(r);n&&(e[r]=(0,o.EHq)(n))}return e}var O="kill-duration",W="kill-duration-seconds",M="time-delta-millis";function N(e,t){var r={};return e[i.wJ]?r=D(e[i.wJ]()):t&&(r=A(r,e,M),r=A(r,e,O),r=A(r,e,W)),r}},3696:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6928),o=r(857),i=r(6982),s=r(9278),a=r(8919),c=r(7159);t.generateRandomPipeName=function(){const e=i.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:n.join(o.tmpdir(),`vscode-${e}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let r,n=new Promise(((e,t)=>{r=e}));return new Promise(((o,i)=>{let l=s.createServer((e=>{l.close(),r([new a.SocketMessageReader(e,t),new c.SocketMessageWriter(e,t)])}));l.on("error",i),l.listen(e,(()=>{l.removeListener("error",i),o({onConnected:()=>n})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const r=s.createConnection(e);return[new a.SocketMessageReader(r,t),new c.SocketMessageWriter(r,t)]}},3720:(e,t,r)=>{"use strict";async function*n(e,t=!0){for(const r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let e=r.byteOffset;const t=r.byteOffset+r.byteLength;for(;e!==t;){const n=Math.min(t-e,65536),o=r.buffer.slice(e,e+n);e+=o.byteLength,yield new Uint8Array(o)}}else yield r;else{let e=0,t=r;for(;e!==t.size;){const r=t.slice(e,Math.min(t.size,e+65536)),n=await r.arrayBuffer();e+=n.byteLength,yield new Uint8Array(n)}}}r.d(t,{A:()=>i}),r(3328);const o=class e{#e=[];#t="";#r=0;#n="transparent";constructor(t=[],r={}){if("object"!=typeof t||null===t)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof r&&"function"!=typeof r)throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===r&&(r={});const n=new TextEncoder;for(const r of t){let t;t=ArrayBuffer.isView(r)?new Uint8Array(r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)):r instanceof ArrayBuffer?new Uint8Array(r.slice(0)):r instanceof e?r:n.encode(`${r}`),this.#r+=ArrayBuffer.isView(t)?t.byteLength:t.size,this.#e.push(t)}this.#n=`${void 0===r.endings?"transparent":r.endings}`;const o=void 0===r.type?"":String(r.type);this.#t=/^[\x20-\x7E]*$/.test(o)?o:""}get size(){return this.#r}get type(){return this.#t}async text(){const e=new TextDecoder;let t="";for await(const r of n(this.#e,!1))t+=e.decode(r,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){const e=new Uint8Array(this.size);let t=0;for await(const r of n(this.#e,!1))e.set(r,t),t+=r.length;return e.buffer}stream(){const e=n(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){const r=await e.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await e.return()}})}slice(t=0,r=this.size,n=""){const{size:o}=this;let i=t<0?Math.max(o+t,0):Math.min(t,o),s=r<0?Math.max(o+r,0):Math.min(r,o);const a=Math.max(s-i,0),c=this.#e,l=[];let u=0;for(const e of c){if(u>=a)break;const t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(i&&t<=i)i-=t,s-=t;else{let r;ArrayBuffer.isView(e)?(r=e.subarray(i,Math.min(t,s)),u+=r.byteLength):(r=e.slice(i,Math.min(t,s)),u+=r.size),s-=t,l.push(r),i=0}}const d=new e([],{type:String(n).toLowerCase()});return d.#r=a,d.#e=l,d}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(o.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const i=o},3775:(e,t,r)=>{"use strict";r.d(t,{OG:()=>S,Oc:()=>_,WD:()=>v,ZP:()=>b,wq:()=>y,y0:()=>g});var n,o=r(8279),i=r(269),s=r(9749),a=r(6182),c=r(7867),l=r(7292),u=r(6492),d="warnToConsole",f={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},h=((n={})[0]=null,n[1]="errorToConsole",n[2]=d,n[3]="debugToConsole",n);function p(e){return e?'"'+e[a.W7](/\"/g,u.m5)+'"':u.m5}function m(e,t){var r=(0,l.U5)();if(r){var n="log";r[e]&&(n=e),(0,i.Tnt)(r[n])&&r[n](t)}}var v=function(){function e(e,t,r,n){void 0===r&&(r=!1);var o=this;o[a.JR]=e,o[a.pM]=(r?"AI: ":"AI (Internal): ")+e;var i=u.m5;(0,l.Z)()&&(i=(0,l.hm)().stringify(n));var s=(t?" message:"+p(t):u.m5)+(n?" props:"+p(i):u.m5);o[a.pM]+=s}return e.dataType="MessageData",e}();function g(e,t){return(e||{})[a.Uw]||new y(t)}var y=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var r,n,l,u,p,g=0,y={};(0,o.A)(e,this,(function(e){function o(t,r){if(!(g>=l)){var o=!0,i="AITR_"+r[a.JR];if(y[i]?o=!1:y[i]=!0,o&&(t<=n&&(e.queue[a.y5](r),g++,w(1===t?"error":"warn",r)),g===l)){var s="Internal events throttle limit per PageView reached for this app.",c=new v(23,s,!1);e.queue[a.y5](c),1===t?e.errorToConsole(s):e[a.on](s)}}}function w(e,r){var n=(0,c.$)(t||{});n&&n[a.e4]&&n[a.e4](e,r)}p=function(t){return(0,s.a)((0,s.e)(t,f,e).cfg,(function(e){var t=e.cfg;r=t[a.Bl],n=t.loggingLevelTelemetry,l=t.maxMessageLimit,u=t.enableDebug}))}(t||{}),e.consoleLoggingLevel=function(){return r},e[a.ih]=function(t,n,s,c,l){void 0===l&&(l=!1);var f=new v(n,s,l,c);if(u)throw(0,i.mmD)(f);var p=h[t]||d;if((0,i.b07)(f[a.pM]))w("throw"+(1===t?"Critical":"Warning"),f);else{if(l){var m=+f[a.JR];!y[m]&&r>=t&&(e[p](f[a.pM]),y[m]=!0)}else r>=t&&e[p](f[a.pM]);o(t,f)}},e.debugToConsole=function(e){m("debug",e),w("warning",e)},e[a.on]=function(e){m("warn",e),w("warning",e)},e.errorToConsole=function(e){m("error",e),w("error",e)},e.resetInternalMessageCount=function(){g=0,y={}},e.logInternalMessage=o,e[a.tI]=function(e){p&&p.rm(),p=null}}))}return e.__ieDyn=1,e}();function w(e){return e||new y}function b(e,t,r,n,o,i){void 0===i&&(i=!1),w(e)[a.ih](t,r,n,o,i)}function S(e,t){w(e)[a.on](t)}function _(e,t,r){w(e).logInternalMessage(t,r)}},3986:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DataViewIndexOutOfBoundsError:()=>j,DecodeError:()=>b,Decoder:()=>V,EXT_TIMESTAMP:()=>S,Encoder:()=>D,ExtData:()=>y,ExtensionCodec:()=>L,decode:()=>X,decodeArrayStream:()=>re,decodeAsync:()=>te,decodeMulti:()=>K,decodeMultiStream:()=>ne,decodeStream:()=>oe,decodeTimestampExtension:()=>I,decodeTimestampToTimeSpec:()=>P,encode:()=>O,encodeDateToTimeSpec:()=>x,encodeTimeSpecToTimestamp:()=>T,encodeTimestampExtension:()=>C});var n,o,i,s=4294967295;function a(e,t,r){var n=Math.floor(r/4294967296),o=r;e.setUint32(t,n),e.setUint32(t+4,o)}function c(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var l=("undefined"==typeof process||"never"!==(null===(n=null===process||void 0===process?void 0:process.env)||void 0===n?void 0:n.TEXT_ENCODING))&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function u(e){for(var t=e.length,r=0,n=0;n<t;){var o=e.charCodeAt(n++);if(4294967168&o)if(4294965248&o){if(o>=55296&&o<=56319&&n<t){var i=e.charCodeAt(n);56320==(64512&i)&&(++n,o=((1023&o)<<10)+(1023&i)+65536)}r+=4294901760&o?4:3}else r+=2;else r++}return r}var d=l?new TextEncoder:void 0,f=l?"undefined"!=typeof process&&"force"!==(null===(o=null===process||void 0===process?void 0:process.env)||void 0===o?void 0:o.TEXT_ENCODING)?200:0:s,h=(null==d?void 0:d.encodeInto)?function(e,t,r){d.encodeInto(e,t.subarray(r))}:function(e,t,r){t.set(d.encode(e),r)};function p(e,t,r){for(var n=t,o=n+r,i=[],s="";n<o;){var a=e[n++];if(128&a)if(192==(224&a)){var c=63&e[n++];i.push((31&a)<<6|c)}else if(224==(240&a)){c=63&e[n++];var l=63&e[n++];i.push((31&a)<<12|c<<6|l)}else if(240==(248&a)){var u=(7&a)<<18|(c=63&e[n++])<<12|(l=63&e[n++])<<6|63&e[n++];u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u)}else i.push(a);else i.push(a);i.length>=4096&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return i.length>0&&(s+=String.fromCharCode.apply(String,i)),s}var m,v=l?new TextDecoder:null,g=l?"undefined"!=typeof process&&"force"!==(null===(i=null===process||void 0===process?void 0:process.env)||void 0===i?void 0:i.TEXT_DECODER)?200:0:s,y=function(e,t){this.type=e,this.data=t},w=(m=function(e,t){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},m(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),b=function(e){function t(r){var n=e.call(this,r)||this,o=Object.create(t.prototype);return Object.setPrototypeOf(n,o),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:t.name}),n}return w(t,e),t}(Error),S=-1,_=4294967295,E=17179869183;function T(e){var t,r=e.sec,n=e.nsec;if(r>=0&&n>=0&&r<=E){if(0===n&&r<=_){var o=new Uint8Array(4);return(t=new DataView(o.buffer)).setUint32(0,r),o}var i=r/4294967296,s=4294967295&r;return o=new Uint8Array(8),(t=new DataView(o.buffer)).setUint32(0,n<<2|3&i),t.setUint32(4,s),o}return o=new Uint8Array(12),(t=new DataView(o.buffer)).setUint32(0,n),a(t,4,r),o}function x(e){var t=e.getTime(),r=Math.floor(t/1e3),n=1e6*(t-1e3*r),o=Math.floor(n/1e9);return{sec:r+o,nsec:n-1e9*o}}function C(e){return e instanceof Date?T(x(e)):null}function P(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var r=t.getUint32(0);return{sec:4294967296*(3&r)+t.getUint32(4),nsec:r>>>2};case 12:return{sec:c(t,4),nsec:t.getUint32(0)};default:throw new b("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}function I(e){var t=P(e);return new Date(1e3*t.sec+t.nsec/1e6)}var R={type:S,encode:C,decode:I},L=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(R)}return e.prototype.register=function(e){var t=e.type,r=e.encode,n=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=n;else{var o=1+t;this.builtInEncoders[o]=r,this.builtInDecoders[o]=n}},e.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++)if(null!=(n=this.builtInEncoders[r])&&null!=(o=n(e,t)))return new y(-1-r,o);for(r=0;r<this.encoders.length;r++){var n,o;if(null!=(n=this.encoders[r])&&null!=(o=n(e,t)))return new y(r,o)}return e instanceof y?e:null},e.prototype.decode=function(e,t,r){var n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,r):new y(t,e)},e.defaultCodec=new e,e}();function k(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var D=function(){function e(e,t,r,n,o,i,s,a){void 0===e&&(e=L.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=100),void 0===n&&(n=2048),void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===a&&(a=!1),this.extensionCodec=e,this.context=t,this.maxDepth=r,this.initialBufferSize=n,this.sortKeys=o,this.forceFloat32=i,this.ignoreUndefined=s,this.forceIntegerToFloat=a,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>f){var t=u(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),h(e,this.bytes,this.pos),this.pos+=t}else t=u(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,r){for(var n=e.length,o=r,i=0;i<n;){var s=e.charCodeAt(i++);if(4294967168&s){if(4294965248&s){if(s>=55296&&s<=56319&&i<n){var a=e.charCodeAt(i);56320==(64512&a)&&(++i,s=((1023&s)<<10)+(1023&a)+65536)}4294901760&s?(t[o++]=s>>18&7|240,t[o++]=s>>12&63|128,t[o++]=s>>6&63|128):(t[o++]=s>>12&15|224,t[o++]=s>>6&63|128)}else t[o++]=s>>6&31|192;t[o++]=63&s|128}else t[o++]=s}}(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}var r=k(e);this.writeU8a(r)},e.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large array: ".concat(r));this.writeU8(221),this.writeU32(r)}for(var n=0,o=e;n<o.length;n++){var i=o[n];this.doEncode(i,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var r=0,n=0,o=t;n<o.length;n++)void 0!==e[o[n]]&&r++;return r},e.prototype.encodeMap=function(e,t){var r=Object.keys(e);this.sortKeys&&r.sort();var n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large map object: ".concat(n));this.writeU8(223),this.writeU32(n)}for(var o=0,i=r;o<i.length;o++){var s=i[o],a=e[s];this.ignoreUndefined&&void 0===a||(this.encodeString(s),this.doEncode(a,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,r){var n=r/4294967296,o=r;e.setUint32(t,n),e.setUint32(t+4,o)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),a(this.view,this.pos,e),this.pos+=8},e}(),A={};function O(e,t){return void 0===t&&(t=A),new D(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encodeSharedRef(e)}function W(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var M=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,r){e:for(var n=0,o=this.caches[r-1];n<o.length;n++){for(var i=o[n],s=i.bytes,a=0;a<r;a++)if(s[a]!==e[t+a])continue e;return i.str}return null},e.prototype.store=function(e,t){var r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)},e.prototype.decode=function(e,t,r){var n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;var o=p(e,t,r),i=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(i,o),o},e}(),N=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},F=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}},q=function(e){return this instanceof q?(this.v=e,this):new q(e)},U=new DataView(new ArrayBuffer(0)),$=new Uint8Array(U.buffer),j=function(){try{U.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),B=new j("Insufficient data"),z=new M,V=function(){function e(e,t,r,n,o,i,a,c){void 0===e&&(e=L.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=s),void 0===n&&(n=s),void 0===o&&(o=s),void 0===i&&(i=s),void 0===a&&(a=s),void 0===c&&(c=z),this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=n,this.maxArrayLength=o,this.maxMapLength=i,this.maxExtLength=a,this.keyDecoder=c,this.totalPos=0,this.pos=0,this.view=U,this.bytes=$,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=k(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=k(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),r=k(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,r=this.pos;return new RangeError("Extra ".concat(t.byteLength-r," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return N(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,r,n,o,i,s,a,c;return i=this,s=void 0,c=function(){var i,s,a,c,l,u,d,f;return N(this,(function(h){switch(h.label){case 0:i=!1,h.label=1;case 1:h.trys.push([1,6,7,12]),t=F(e),h.label=2;case 2:return[4,t.next()];case 3:if((r=h.sent()).done)return[3,5];if(a=r.value,i)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{s=this.doDecodeSync(),i=!0}catch(e){if(!(e instanceof j))throw e}this.totalPos+=this.pos,h.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=h.sent(),n={error:c},[3,12];case 7:return h.trys.push([7,,10,11]),r&&!r.done&&(o=t.return)?[4,o.call(t)]:[3,9];case 8:h.sent(),h.label=9;case 9:return[3,11];case 10:if(n)throw n.error;return[7];case 11:return[7];case 12:if(i){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,s]}throw u=(l=this).headByte,d=l.pos,f=l.totalPos,new RangeError("Insufficient data in parsing ".concat(W(u)," at ").concat(f," (").concat(d," in the current buffer)"))}}))},new((a=void 0)||(a=Promise))((function(e,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function n(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(r,n)}o((c=c.apply(i,s||[])).next())}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=o[e](t)).value instanceof q?Promise.resolve(r.value.v).then(c,l):u(i[0][2],r)}catch(e){u(i[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,(function(){var r,n,o,i,s,a,c,l,u;return N(this,(function(d){switch(d.label){case 0:r=t,n=-1,d.label=1;case 1:d.trys.push([1,13,14,19]),o=F(e),d.label=2;case 2:return[4,q(o.next())];case 3:if((i=d.sent()).done)return[3,12];if(s=i.value,t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),r&&(n=this.readArraySize(),r=!1,this.complete()),d.label=4;case 4:d.trys.push([4,9,,10]),d.label=5;case 5:return[4,q(this.doDecodeSync())];case 6:return[4,d.sent()];case 7:return d.sent(),0==--n?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((a=d.sent())instanceof j))throw a;return[3,10];case 10:this.totalPos+=this.pos,d.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=d.sent(),l={error:c},[3,19];case 14:return d.trys.push([14,,17,18]),i&&!i.done&&(u=o.return)?[4,q(u.call(o))]:[3,16];case 15:d.sent(),d.label=16;case 16:return[3,18];case 17:if(l)throw l.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!=(n=e-128)){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){if(0!=(n=e-144)){this.pushArrayState(n),this.complete();continue e}t=[]}else{var r=e-160;t=this.decodeUtf8String(r,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)r=this.lookU8(),t=this.decodeUtf8String(r,1);else if(218===e)r=this.lookU16(),t=this.decodeUtf8String(r,2);else if(219===e)r=this.lookU32(),t=this.decodeUtf8String(r,4);else if(220===e){if(0!==(n=this.readU16())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(221===e){if(0!==(n=this.readU32())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(222===e){if(0!==(n=this.readU16())){this.pushMapState(n),this.complete();continue e}t={}}else if(223===e){if(0!==(n=this.readU32())){this.pushMapState(n),this.complete();continue e}t={}}else if(196===e){var n=this.lookU8();t=this.decodeBinary(n,1)}else if(197===e)n=this.lookU16(),t=this.decodeBinary(n,2);else if(198===e)n=this.lookU32(),t=this.decodeBinary(n,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)n=this.lookU8(),t=this.decodeExtension(n,1);else if(200===e)n=this.lookU16(),t=this.decodeExtension(n,2);else{if(201!==e)throw new b("Unrecognized type byte: ".concat(W(e)));n=this.lookU32(),t=this.decodeExtension(n,4)}this.complete();for(var o=this.stack;o.length>0;){var i=o[o.length-1];if(0===i.type){if(i.array[i.position]=t,i.position++,i.position!==i.size)continue e;o.pop(),t=i.array}else{if(1===i.type){if(void 0,"string"!=(s=typeof t)&&"number"!==s)throw new b("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new b("The key __proto__ is not allowed");i.key=t,i.type=2;continue e}if(i.map[i.key]=t,i.readCount++,i.readCount!==i.size){i.key=null,i.type=1;continue e}o.pop(),t=i.map}}return t}var s},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new b("Unrecognized array type byte: ".concat(W(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new b("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new b("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var r;if(e>this.maxStrLength)throw new b("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw B;var n,o=this.pos+t;return n=this.stateIsMapKey()&&(null===(r=this.keyDecoder)||void 0===r?void 0:r.canBeCached(e))?this.keyDecoder.decode(this.bytes,o,e):e>g?function(e,t,r){var n=e.subarray(t,t+r);return v.decode(n)}(this.bytes,o,e):p(this.bytes,o,e),this.pos+=t+e,n},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new b("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw B;var r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new b("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,r=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,r},e.prototype.readI64=function(){var e=c(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}(),H={};function X(e,t){return void 0===t&&(t=H),new V(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}function K(e,t){return void 0===t&&(t=H),new V(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeMulti(e)}var Z=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},J=function(e){return this instanceof J?(this.v=e,this):new J(e)},G=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=o[e](t)).value instanceof J?Promise.resolve(r.value.v).then(c,l):u(i[0][2],r)}catch(e){u(i[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}};function Y(e){return null!=e[Symbol.asyncIterator]?e:function(e){return G(this,arguments,(function(){var t,r,n,o;return Z(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,J(t.read())];case 3:return r=i.sent(),n=r.done,o=r.value,n?[4,J(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return function(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}(o),[4,J(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e)}var Q=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},ee=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function te(e,t){return void 0===t&&(t=H),Q(this,void 0,void 0,(function(){var r;return ee(this,(function(n){return r=Y(e),[2,new V(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeAsync(r)]}))}))}function re(e,t){void 0===t&&(t=H);var r=Y(e);return new V(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(r)}function ne(e,t){void 0===t&&(t=H);var r=Y(e);return new V(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(r)}function oe(e,t){return void 0===t&&(t=H),ne(e,t)}},4013:(e,t,r)=>{"use strict";r.d(t,{K:()=>s,k:()=>a});var n=r(8205),o=r(269),i=r(6182);function s(e,t){if(e&&e[i.tI])return e[i.tI](t)}function a(e,t,r){var i;return r||(i=(0,n.Qo)((function(e){r=e}))),e&&(0,o.R3R)(e)>0?(0,n.Dv)(s(e[0],t),(function(){a((0,o.KVm)(e,1),t,r)})):r(),i}},4111:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilteredFeatureProvider=void 0;const n=r(6790);class o extends n.BaseFeatureProvider{constructor(e,t){super(e),this.telemetry=e,this.filterProviders=t,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let t of this.filterProviders){let r=t.getFilters();for(let t of r.keys()){let n=r.get(t);e.set(t,n)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;const t=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",t]])),this.cachedTelemetryEvents.push(e)}}t.FilteredFeatureProvider=o},4224:(e,t,r)=>{"use strict";function n(e,t){return t?t.aborted?Promise.resolve(void 0):new Promise((r=>{const n=o(e,(e=>{t.removeEventListener("abort",i),r(e)})),i=()=>{n.dispose(),t.removeEventListener("abort",i),r(void 0)};t.addEventListener("abort",i)})):new Promise((t=>o(e,t)))}r.r(t),r.d(t,{EventEmitter:()=>i,once:()=>o,toPromise:()=>n});const o=(e,t)=>{const r=e((e=>{t(e),r.dispose()}));return r};class i{constructor(){this.event=(e,t,r)=>{const n=this.add(t?e.bind(t):e);return r?.push(n),n}}get size(){return this.listeners?"function"==typeof this.listeners?1:this.listeners.length:0}fire(e){if(this.listeners)if("function"==typeof this.listeners)this.listeners(e);else for(const t of this.listeners)t(e)}dispose(){this.listeners=void 0}add(e){return this.listeners?"function"==typeof this.listeners?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.rm(e)}}rm(e){if(!this.listeners)return;if("function"==typeof this.listeners)return void(this.listeners===e&&(this.listeners=void 0));const t=this.listeners.indexOf(e);-1!==t&&(2===this.listeners.length?this.listeners=0===t?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,t).concat(this.listeners.slice(t+1)))}}},4276:(e,t,r)=>{"use strict";r.d(t,{T:()=>f,Z:()=>d});var n=r(269),o=r(3673),i=r(6492),s=r(6535),a="3.3.6",c="."+(0,s.Si)(6),l=0;function u(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function d(e,t){return void 0===t&&(t=!1),(0,o.cH)(e+l+++(t?"."+a:i.m5)+c)}function f(e){var t={id:d("_aiData-"+(e||i.m5)+"."+a),accept:function(e){return u(e)},get:function(e,r,i,s){var a=e[t.id];return a?a[(0,o.cH)(r)]:(s&&(a=function(e,t){var r=t[e.id];if(!r){r={};try{u(t)&&(0,n.vF1)(t,e.id,{e:!1,v:r})}catch(e){}}return r}(t,e),a[(0,o.cH)(r)]=i),i)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}},4282:(e,t,r)=>{"use strict";r.d(t,{H:()=>o,o:()=>i});var n=r(269),o=n.WSA,i=n.fn0},4439:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserResolver=void 0;const n=r(1398),o=r(2189),i=r(6130),s=r(5732),a=r(2552),c=r(7153),l="code-cli";t.BrowserResolver=class{constructor(e,t,r,o){this._onDidResolveEmmiter=new n.EventEmitter,this._onStartResolveEmmiter=new n.EventEmitter,this._extensionContext=e,this._dialogs=t,this._distroStore=o,this._logger=r}get onStartResolve(){return this._onStartResolveEmmiter.event}get onDidResolve(){return this._onDidResolveEmmiter.event}get openedDistro(){return this._openedDistro}async resolve(e,t){if(this._onStartResolveEmmiter.fire(),this._logger.write(`Resolving ${e}, resolveAttempt: ${t.resolveAttempt}`),!t.execServer)throw n.RemoteAuthorityResolverError.NotAvailable(n.l10n.t("WSL on the web requires an exec server."));const r=await(0,i.getSingleDelegatedExecServer)(e,t.execServer,this._logger),s=(0,a.getDistroFromAuthority)(e);if(!s)return this.handleInputError(n.l10n.t("Remote name must start with wsl+."));const c=this._extensionContext.productConfiguration.commit;if(!c)return this.handleInputError(n.l10n.t("Running from dev not supported yet."));const l=this._extensionContext.productConfiguration.quality;if(!function(e){return"stable"===e||"insider"===e}(l))return this.handleInputError(n.l10n.t("Can only run stable or insider builds. Is {0}.",l||"undefined"));if(this._cliReadyData){this._logger.write("Returning resolved promise.");const e=this._cliReadyData;return this._connectToCliInWsl({wslExecServer:r,cliExe:await e.cliExePath,distro:e.distro,commit:c,quality:l})}if(!await this._dialogs.checkIfWSLInstalled())return Promise.reject(n.RemoteAuthorityResolverError.NotAvailable(n.l10n.t("WSL not installed."),!0));const u=await this._distroStore.getDistros();if(0===u.length)return await this._dialogs.showNoDistroDialog(),Promise.reject(n.RemoteAuthorityResolverError.NotAvailable(n.l10n.t("No distros installed."),!0));let d=u[0];if(s.distro){const e=(0,o.indexOfDistro)(u,s.distro);if(-1===e)return this.handleInputError(n.l10n.t("Unknown distro: {0}",s.distro));d=u[e]}return this._openedDistro=d,n.window.withProgress({location:n.ProgressLocation.Notification,title:n.l10n.t({comment:["{0} is distro name. do not change link format [message](command), only change message",'{Locked="](command:remote-wsl.showLog)"}'],message:"[Starting VS Code in WSL ({0})](command:remote-wsl.showLog)",args:[d.name]}),cancellable:!1},(async e=>{const t=this._resolveCliExe(r,d,c,l,e);return this._cliReadyData={cliExePath:t,distro:d},this._connectToCliInWsl({wslExecServer:r,isFirstConnection:!0,cliExe:await t,commit:c,quality:l,distro:d,progress:e})}))}async _resolveCliExe(e,t,r,o,i){const s="2"===t.version;this._logger.write(`Starting VS Code Server inside WSL (wsl${s?"2":"1"})`),this._logger.write(`Windows build: ${e.windowsBuildNumber}. Multi distro support: ${e.isDistroEnvVarAvailable()?"available":"not available"}. WSL path support: ${e.isWSLPathAvailable()?"enabled":"disabled"}`),i.report({message:n.l10n.t("Starting Linux Subsystem")});const a=`$HOME/${this._extensionContext.productConfiguration.serverDataFolderName||".vscode-remote"}/bin-cli`;try{const s=await this._probeInstallInWSL(e,t.name,a,r);return s.installFound||(this._logger.write(`VS Code CLI not found in ${t.name}, installing...`),i.report({message:n.l10n.t("Installing VS Code CLI in WSL...")}),await this._installCliInWSL(e,t.name,a,r,o,s.platform??"linux-x64")),i.report({message:n.l10n.t("Connecting to VS Code CLI in WSL...")}),`${a}/${r}/${l}`}catch(e){return await this.handleInputError(`Error while resolving: ${e.message}`),Promise.reject(e)}}async _connectToCliInWsl({wslExecServer:e,quality:t,commit:r,cliExe:o,distro:i,progress:s,isFirstConnection:a}){const c="wslembedded",l=await e.getExecServer().then((t=>t.spawnCli({cmd:e.getWSLExecutablePath(),args:["-d",i.name,o],output:this._logger})));this._logger.write("VS Code CLI is running in WSL...");let u=0;const d=async()=>{const e=await l.serve({extensions:[],quality:t,commit_id:r,socket_id:u++,compress:!0,connection_token:c}),o=new n.EventEmitter,i=new n.EventEmitter;return e.onEnd.then((()=>o.fire())),{send:t=>e.write(t),end:()=>e.end(),onDidEnd:o.event,onDidClose:i.event,onDidReceiveMessage:e.onData}};a&&(s?.report({message:n.l10n.t("Installing server in {0}",i.name)}),this._logger.write(`Installing server in ${i.name}`));let f=await d();return new n.ManagedResolvedAuthority((async()=>{if(f){const e=f;return f=void 0,e}return d()}),c)}handleInputError(e){return this._logger.write(e,s.LogLevel.error),n.window.showErrorMessage(e),Promise.reject(n.RemoteAuthorityResolverError.NotAvailable(e,!1))}async _probeInstallInWSL(e,t,r,n){const o="install-found ",i=`if [ -d "${r}/${n}" ]; then printf '${o}'; fi; if [ -f /etc/alpine-release ]; then printf alpine-; fi; uname -m`;this._logger.write(`Probing if server is already installed: ${i}`);try{const r=await(0,c.runExec)(await e.executeDistroShellCommand(t,i));if(r.status)throw new Error(`Failed to probe if server is already installed: code: ${r.status}, ${r.stderr}, ${r.stdout}`);{const e=r.stdout.trim();this._logger.write(`Probing result: ${e}`);const t=e.startsWith(o),n=t?e.substring(14):e,i=function(e){switch(e){case"x86_64":return"linux-x64";case"aarch64":return"linux-arm64";case"alpine-x86_64":return"linux-alpine";case"alpine-aarch64":return"alpine-arm64";default:return}}(n);return i||this._logger.write(`${n} is an unsupported platform. Please file a feature request.`,s.LogLevel.error),{installFound:t,platform:i}}}catch(e){throw new Error(`Failed to probe if server is already installed: code: ${e.message}`)}}async _installCliInWSL(e,t,r,n,o,i){const s={};{this._logger.write(`Remove old installs from ${r}`);const n=await e.executeDistroShellCommand(t,`if [ -d "${r}" ]; then rm -rf "${r}"/????????????????????????????????????????; rm -rf "${r}"/????????????????????????????????????????-*; fi`,s),o=await(0,c.runExecWithLogger)(n,this._logger);o&&this._logger.write(`Failed to remove old cli installs ${r}: error code ${o}`)}const a=`${r}/${n}-${(new Date).getTime()}`;{this._logger.write(`Create directory ${a}`);const r=await e.executeDistroShellCommand(t,`mkdir -p "${a}"`,s),n=await(0,c.runExecWithLogger)(r,this._logger);if(n)throw new Error(`Failed to create directory ${a}: error code ${n}`)}{const r=e.getWSLExecutablePath();if(!r)throw new c.WSLExecError(c.WSLExecErrorCode.WSLCommandNotFound);const s=`${a}/${l}`,u=e.getDistroShellCommandArgs(t,`tee "${s}" >/dev/null`,!1),d=await e.getExecServer().then((e=>e.acquireCli({command:r,args:u,commit_id:n,platform:i,quality:o,env:{}})));if(d.status)throw new Error(`Failed to install cli at ${s}: status code ${d.status}, message: ${d.message}`)}{const o=`${r}/${n}`;this._logger.write(`Move directory ${a} to ${o}`);const i=await e.executeDistroShellCommand(t,`mv "${a}" "${o}" && chmod +x "${o}/${l}"`,s),u=await(0,c.runExecWithLogger)(i,this._logger);if(u)throw new Error(`Failed to move directory ${a}: error code ${u}`)}}}},4565:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProductConfiguration=function(e){if(!i){const t=n.readFileSync(o.join(e,"product.json")).toString();i=JSON.parse(t)}return i};const n=r(9896),o=r(6928);let i},4590:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});const o=r(311),i=r(5043);t.RequestType=i.RequestType,t.RequestType0=i.RequestType0,t.RequestType1=i.RequestType1,t.RequestType2=i.RequestType2,t.RequestType3=i.RequestType3,t.RequestType4=i.RequestType4,t.RequestType5=i.RequestType5,t.RequestType6=i.RequestType6,t.RequestType7=i.RequestType7,t.RequestType8=i.RequestType8,t.RequestType9=i.RequestType9,t.ResponseError=i.ResponseError,t.ErrorCodes=i.ErrorCodes,t.NotificationType=i.NotificationType,t.NotificationType0=i.NotificationType0,t.NotificationType1=i.NotificationType1,t.NotificationType2=i.NotificationType2,t.NotificationType3=i.NotificationType3,t.NotificationType4=i.NotificationType4,t.NotificationType5=i.NotificationType5,t.NotificationType6=i.NotificationType6,t.NotificationType7=i.NotificationType7,t.NotificationType8=i.NotificationType8,t.NotificationType9=i.NotificationType9;const s=r(8919);t.MessageReader=s.MessageReader,t.StreamMessageReader=s.StreamMessageReader,t.IPCMessageReader=s.IPCMessageReader,t.SocketMessageReader=s.SocketMessageReader;const a=r(7159);t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const c=r(8898);t.Disposable=c.Disposable,t.Event=c.Event,t.Emitter=c.Emitter;const l=r(5360);t.CancellationTokenSource=l.CancellationTokenSource,t.CancellationToken=l.CancellationToken;const u=r(8446);var d,f,h,p,m,v,g,y;n(r(3696)),n(r(5851)),function(e){e.type=new i.NotificationType("$/cancelRequest")}(d||(d={})),function(e){e.type=new i.NotificationType("$/progress")}(f||(f={})),t.ProgressType=class{constructor(){}},t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(h=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){if(!o.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(h=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new i.NotificationType("$/setTraceNotification")}(m=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new i.NotificationType("$/logTraceNotification")}(v=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(g=t.ConnectionErrors||(t.ConnectionErrors={}));class w extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,w.prototype)}}function b(e,t,r,n){let s=0,a=0,b=0;const S="2.0";let _,E,T,x,C=Object.create(null),P=Object.create(null),I=new Map,R=new u.LinkedMap,L=Object.create(null),k=Object.create(null),D=h.Off,A=p.Text,O=y.New,W=new c.Emitter,M=new c.Emitter,N=new c.Emitter,F=new c.Emitter,q=new c.Emitter;function U(e){return"req-"+e.toString()}function $(e){}function j(){return O===y.Listening}function B(){return O===y.Closed}function z(){return O===y.Disposed}function V(){O!==y.New&&O!==y.Listening||(O=y.Closed,M.fire(void 0))}function H(){T||0===R.size||(T=setImmediate((()=>{T=void 0,function(){if(0===R.size)return;let e=R.shift();try{i.isRequestMessage(e)?function(e){if(z())return;function r(r,n,o){let s={jsonrpc:S,id:e.id};r instanceof i.ResponseError?s.error=r.toJson():s.result=void 0===r?null:r,K(s,n,o),t.write(s)}function n(r,n,o){let i={jsonrpc:S,id:e.id,error:r.toJson()};K(i,n,o),t.write(i)}!function(e){if(D!==h.Off&&x)if(A===p.Text){let t;D===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),x.log(`Received request '${e.method} - (${e.id})'.`,t)}else Z("receive-request",e)}(e);let s,a,c=C[e.method];c&&(s=c.type,a=c.handler);let u=Date.now();if(a||_){let c=new l.CancellationTokenSource,d=String(e.id);k[d]=c;try{let l;l=void 0===e.params||void 0!==s&&0===s.numberOfParams?a?a(c.token):_(e.method,c.token):o.array(e.params)&&(void 0===s||s.numberOfParams>1)?a?a(...e.params,c.token):_(e.method,...e.params,c.token):a?a(e.params,c.token):_(e.method,e.params,c.token);let f=l;l?f.then?f.then((t=>{delete k[d],r(t,e.method,u)}),(t=>{delete k[d],t instanceof i.ResponseError?n(t,e.method,u):t&&o.string(t.message)?n(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):n(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)})):(delete k[d],r(l,e.method,u)):(delete k[d],function(r,n,o){void 0===r&&(r=null);let i={jsonrpc:S,id:e.id,result:r};K(i,n,o),t.write(i)}(l,e.method,u))}catch(t){delete k[d],t instanceof i.ResponseError?r(t,e.method,u):t&&o.string(t.message)?n(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):n(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else n(new i.ResponseError(i.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):i.isNotificationMessage(e)?function(e){if(z())return;let t,n;if(e.method===d.type.method)n=e=>{let t=e.id,r=k[String(t)];r&&r.cancel()};else{let r=P[e.method];r&&(n=r.handler,t=r.type)}if(n||E)try{!function(e){if(D!==h.Off&&x&&e.method!==v.type.method)if(A===p.Text){let t;D===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),x.log(`Received notification '${e.method}'.`,t)}else Z("receive-notification",e)}(e),void 0===e.params||void 0!==t&&0===t.numberOfParams?n?n():E(e.method):o.array(e.params)&&(void 0===t||t.numberOfParams>1)?n?n(...e.params):E(e.method,...e.params):n?n(e.params):E(e.method,e.params)}catch(t){t.message?r.error(`Notification handler '${e.method}' failed with message: ${t.message}`):r.error(`Notification handler '${e.method}' failed unexpectedly.`)}else N.fire(e)}(e):i.isResponseMessage(e)?function(e){if(!z())if(null===e.id)e.error?r.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let t=String(e.id),n=L[t];if(function(e,t){if(D!==h.Off&&x)if(A===p.Text){let r;if(D===h.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),t){let n=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";x.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${n}`,r)}else x.log(`Received response ${e.id} without active response promise.`,r)}else Z("receive-response",e)}(e,n),n){delete L[t];try{if(e.error){let t=e.error;n.reject(new i.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?r.error(`Response handler '${n.method}' failed with message: ${e.message}`):r.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void r.error("Received empty message.");r.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(o.string(t.id)||o.number(t.id)){let e=String(t.id),r=L[e];r&&r.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{H()}}()})))}e.onClose(V),e.onError((function(e){W.fire([e,void 0,void 0])})),t.onClose(V),t.onError((function(e){W.fire(e)}));let X=e=>{try{if(i.isNotificationMessage(e)&&e.method===d.type.method){let r=U(e.params.id),o=R.get(r);if(i.isRequestMessage(o)){let i=n&&n.cancelUndispatched?n.cancelUndispatched(o,$):void 0;if(i&&(void 0!==i.error||void 0!==i.result))return R.delete(r),i.id=o.id,K(i,e.method,Date.now()),void t.write(i)}}!function(e,t){var r;i.isRequestMessage(t)?e.set(U(t.id),t):i.isResponseMessage(t)?e.set(null===(r=t.id)?"res-unknown-"+(++b).toString():"res-"+r.toString(),t):e.set("not-"+(++a).toString(),t)}(R,e)}finally{H()}};function K(e,t,r){if(D!==h.Off&&x)if(A===p.Text){let n;D===h.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),x.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-r}ms`,n)}else Z("send-response",e)}function Z(e,t){if(!x||D===h.Off)return;const r={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};x.log(r)}function J(){if(B())throw new w(g.Closed,"Connection is closed.");if(z())throw new w(g.Disposed,"Connection is disposed.")}function G(e){return void 0===e?null:e}function Y(e,t){let r,n=e.numberOfParams;switch(n){case 0:r=null;break;case 1:r=G(t[0]);break;default:r=[];for(let e=0;e<t.length&&e<n;e++)r.push(G(t[e]));if(t.length<n)for(let e=t.length;e<n;e++)r.push(null)}return r}let Q={sendNotification:(e,...r)=>{let n,i;if(J(),o.string(e))switch(n=e,r.length){case 0:i=null;break;case 1:i=r[0];break;default:i=r}else n=e.method,i=Y(e,r);let s={jsonrpc:S,method:n,params:i};!function(e){if(D!==h.Off&&x)if(A===p.Text){let t;D===h.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),x.log(`Sending notification '${e.method}'.`,t)}else Z("send-notification",e)}(s),t.write(s)},onNotification:(e,t)=>{J(),o.func(e)?E=e:t&&(o.string(e)?P[e]={type:void 0,handler:t}:P[e.method]={type:e,handler:t})},onProgress:(e,t,r)=>{if(I.has(t))throw new Error(`Progress handler for token ${t} already registered`);return I.set(t,r),{dispose:()=>{I.delete(t)}}},sendProgress:(e,t,r)=>{Q.sendNotification(f.type,{token:t,value:r})},onUnhandledProgress:F.event,sendRequest:(e,...r)=>{let n,a,c;if(J(),function(){if(!j())throw new Error("Call listen() first.")}(),o.string(e))switch(n=e,r.length){case 0:a=null;break;case 1:l.CancellationToken.is(r[0])?(a=null,c=r[0]):a=G(r[0]);break;default:const e=r.length-1;l.CancellationToken.is(r[e])?(c=r[e],a=2===r.length?G(r[0]):r.slice(0,e).map((e=>G(e)))):a=r.map((e=>G(e)))}else{n=e.method,a=Y(e,r);let t=e.numberOfParams;c=l.CancellationToken.is(r[t])?r[t]:void 0}let u=s++,f=new Promise(((e,r)=>{let o={jsonrpc:S,id:u,method:n,params:a},s={method:n,timerStart:Date.now(),resolve:e,reject:r};!function(e){if(D!==h.Off&&x)if(A===p.Text){let t;D===h.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),x.log(`Sending request '${e.method} - (${e.id})'.`,t)}else Z("send-request",e)}(o);try{t.write(o)}catch(e){s.reject(new i.ResponseError(i.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),s=null}s&&(L[String(u)]=s)}));return c&&c.onCancellationRequested((()=>{Q.sendNotification(d.type,{id:u})})),f},onRequest:(e,t)=>{J(),o.func(e)?_=e:t&&(o.string(e)?C[e]={type:void 0,handler:t}:C[e.method]={type:e,handler:t})},trace:(e,t,r)=>{let n=!1,i=p.Text;void 0!==r&&(o.boolean(r)?n=r:(n=r.sendNotification||!1,i=r.traceFormat||p.Text)),D=e,A=i,x=D===h.Off?void 0:t,!n||B()||z()||Q.sendNotification(m.type,{value:h.toString(e)})},onError:W.event,onClose:M.event,onUnhandledNotification:N.event,onDispose:q.event,dispose:()=>{if(z())return;O=y.Disposed,q.fire(void 0);let r=new Error("Connection got disposed.");Object.keys(L).forEach((e=>{L[e].reject(r)})),L=Object.create(null),k=Object.create(null),R=new u.LinkedMap,o.func(t.dispose)&&t.dispose(),o.func(e.dispose)&&e.dispose()},listen:()=>{J(),function(){if(j())throw new w(g.AlreadyListening,"Connection is already listening")}(),O=y.Listening,e.listen(X)},inspect:()=>{console.log("inspect")}};return Q.onNotification(v.type,(e=>{D!==h.Off&&x&&x.log(e.message,D===h.Verbose?e.verbose:void 0)})),Q.onNotification(f.type,(e=>{const t=I.get(e.token);t?t(e.value):F.fire(e)})),Q}t.ConnectionError=w,(t.ConnectionStrategy||(t.ConnectionStrategy={})).is=function(e){let t=e;return t&&o.func(t.cancelUndispatched)},function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(y||(y={})),t.createMessageConnection=function(e,r,n,o){n||(n=t.NullLogger);let i=void 0!==(c=e).listen&&void 0===c.read?e:new s.StreamMessageReader(e);var c;let l=function(e){return void 0!==e.write&&void 0===e.end}(r)?r:new a.StreamMessageWriter(r);return b(i,l,n,o)}},4822:(e,t,r)=>{"use strict";r.d(t,{EO:()=>S,F2:()=>O,Go:()=>x,H$:()=>W,Hh:()=>E,P$:()=>w,Rx:()=>u,TC:()=>T,UM:()=>C,WB:()=>R,X$:()=>I,cq:()=>A,ei:()=>M,g8:()=>y,gj:()=>P,h3:()=>_,m0:()=>L,u9:()=>D,wJ:()=>k,xE:()=>d,yD:()=>b});var n,o=r(9882),i=r(269),s=r(7292),a=r(5664),c=r(937),l=r(1739),u="4.3.6",d="1DS-Web-JS-"+u,f=a.Wy.hasOwnProperty,h="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",p="withCredentials",m="timeout",v=((n={})[0]=0,n[2]=6,n[1]=1,n[3]=7,n[4098]=6,n[4097]=1,n[4099]=7,n),g=null,y=(0,i.Wtk)(),w=(0,i.Vdv)();function b(e){return!(e===c.m5||(0,i.hXl)(e))}function S(e){if(e){var t=(0,i.HzD)(e,"-");if(t>-1)return(0,i.ZWZ)(e,t)}return c.m5}function _(){return null===g&&(g=!(0,i.b07)(Uint8Array)&&!function(){var e=(0,i.w3n)();if(!(0,i.b07)(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t[l.Sj]("safari")>=0||t[l.Sj]("firefox")>=0)&&t[l.Sj]("chrome")<0)return!0}return!1}()&&!(0,s.lV)()),g}function E(e){return!!(e&&(0,i.EtT)(e)&&e>=1&&e<=4)}function T(e,t,r){if(!t&&!b(t)||"string"!=typeof e)return null;var n=typeof t;if("string"===n||"number"===n||"boolean"===n||(0,i.cyL)(t))t={value:t};else if("object"!==n||f.call(t,"value")){if((0,i.hXl)(t[l.pF])||t[l.pF]===c.m5||!(0,i.KgX)(t[l.pF])&&!(0,i.EtT)(t[l.pF])&&!(0,i.Lmq)(t[l.pF])&&!(0,i.cyL)(t[l.pF]))return null}else t={value:r?JSON.stringify(t):t};if((0,i.cyL)(t[l.pF])&&!k(t[l.pF]))return null;if(!(0,i.hXl)(t.kind)){if((0,i.cyL)(t[l.pF])||!L(t.kind))return null;t[l.pF]=t[l.pF].toString()}return t}function x(e,t,r){var n=-1;if(!(0,i.b07)(e))if(t>0&&(32===t?n=8192:t<=13&&(n=t<<5)),function(e){return e>=0&&e<=9}(r))-1===n&&(n=0),n|=r;else{var o=v[A(e)]||-1;-1!==n&&-1!==o?n|=o:6===o&&(n=o)}return n}function C(e,t,r){var n;return void 0===r&&(r=!0),e&&(n=e.get(t),r&&n&&decodeURIComponent&&(n=decodeURIComponent(n))),n||c.m5}function P(e){void 0===e&&(e="D");var t=(0,o.aq)();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,c.m5)),t}function I(e,t,r,n,o){var s={},a=!1,c=0,u=arguments[l.oI],d=arguments;for((0,i.Lmq)(d[0])&&(a=d[0],c++);c<u;c++)e=d[c],(0,i.zav)(e,(function(e,t){a&&t&&(0,i.Gvm)(t)?(0,i.cyL)(t)?(s[e]=s[e]||[],(0,i.Iuo)(t,(function(t,r){t&&(0,i.Gvm)(t)?s[e][r]=I(!0,s[e][r],t):s[e][r]=t}))):s[e]=I(!0,s[e],t):s[e]=t}));return s}var R=i.UUD;function L(e){return 0===e||e>0&&e<=13||32===e}function k(e){return e[l.oI]>0}function D(e,t){var r=e;r[l.dg]=r[l.dg]||{},r[l.dg][l.Jg]=r[l.dg][l.Jg]||{},r[l.dg][l.Jg][t]=R()}function A(e){var t=0;if(null!=e){var r=typeof e;"string"===r?t=1:"number"===r?t=2:"boolean"===r?t=3:r===a._1&&(t=4,(0,i.cyL)(e)?(t=4096,e[l.oI]>0&&(t|=A(e[0]))):f.call(e,"value")&&(t=8192|A(e[l.pF])))}return t}function O(){return!!(0,i.zS2)("chrome")}function W(e,t,r,n,o,i){function s(e,t,r){try{e[t]=r}catch(e){}}void 0===n&&(n=!1),void 0===o&&(o=!1);var a=new XMLHttpRequest;return n&&s(a,h,n),r&&s(a,p,r),a.open(e,t,!o),r&&s(a,p,r),!o&&i&&s(a,m,i),a}function M(e){return e>0}},4875:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});var n=(0,r(4282).H)({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2})},5010:function(e,t){var r;r=function(e){"use strict";function t(){}function r(e){return"object"==typeof e&&null!==e||"function"==typeof e}const n=t;function o(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(e){}}const i=Promise,s=Promise.prototype.then,a=Promise.reject.bind(i);function c(e){return new i(e)}function l(e){return c((t=>t(e)))}function u(e){return a(e)}function d(e,t,r){return s.call(e,t,r)}function f(e,t,r){d(d(e,t,r),void 0,n)}function h(e,t){f(e,t)}function p(e,t){f(e,void 0,t)}function m(e,t,r){return d(e,t,r)}function v(e){d(e,void 0,n)}let g=e=>{if("function"==typeof queueMicrotask)g=queueMicrotask;else{const e=l(void 0);g=t=>d(e,t)}return g(e)};function y(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function w(e,t,r){try{return l(y(e,t,r))}catch(e){return u(e)}}class b{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const o=e._elements,i=o[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),o[r]=void 0,i}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}const S=Symbol("[[AbortSteps]]"),_=Symbol("[[ErrorSteps]]"),E=Symbol("[[CancelSteps]]"),T=Symbol("[[PullSteps]]"),x=Symbol("[[ReleaseSteps]]");function C(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?L(e):"closed"===t._state?function(e){L(e),A(e)}(e):k(e,t._storedError)}function P(e,t){return Or(e._ownerReadableStream,t)}function I(e){const t=e._ownerReadableStream;"readable"===t._state?D(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e){k(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),t._readableStreamController[x](),t._reader=void 0,e._ownerReadableStream=void 0}function R(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function L(e){e._closedPromise=c(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function k(e,t){L(e),D(e,t)}function D(e,t){void 0!==e._closedPromise_reject&&(v(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function A(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const O=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},W=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function M(e,t){if(void 0!==e&&"object"!=typeof(r=e)&&"function"!=typeof r)throw new TypeError(`${t} is not an object.`);var r}function N(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function F(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function q(e,t,r){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function U(e,t,r){if(void 0===e)throw new TypeError(`${t} is required in '${r}'.`)}function $(e){return Number(e)}function j(e){return 0===e?0:e}function B(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=j(n),!O(n))throw new TypeError(`${t} is not a finite number`);if(n=function(e){return j(W(e))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return O(n)&&0!==n?n:0}function z(e,t){if(!Dr(e))throw new TypeError(`${t} is not a ReadableStream.`)}function V(e){return new J(e)}function H(e,t){e._reader._readRequests.push(t)}function X(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function K(e){return e._reader._readRequests.length}function Z(e){const t=e._reader;return void 0!==t&&!!G(t)}class J{constructor(e){if(q(e,1,"ReadableStreamDefaultReader"),z(e,"First parameter"),Ar(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");C(this,e),this._readRequests=new b}get closed(){return G(this)?this._closedPromise:u(ee("closed"))}cancel(e=void 0){return G(this)?void 0===this._ownerReadableStream?u(R("cancel")):P(this,e):u(ee("cancel"))}read(){if(!G(this))return u(ee("read"));if(void 0===this._ownerReadableStream)return u(R("read from"));let e,t;const r=c(((r,n)=>{e=r,t=n}));return Y(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!G(this))throw ee("releaseLock");void 0!==this._ownerReadableStream&&function(e){I(e);Q(e,new TypeError("Reader was released"))}(this)}}function G(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof J}function Y(e,t){const r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[T](t)}function Q(e,t){const r=e._readRequests;e._readRequests=new b,r.forEach((e=>{e._errorSteps(t)}))}function ee(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(J.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),o(J.prototype.cancel,"cancel"),o(J.prototype.read,"read"),o(J.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(J.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const te=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class re{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?m(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?m(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;let t,r;const n=c(((e,n)=>{t=e,r=n}));return Y(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,g((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,I(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,I(e),r(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(!this._preventCancel){const r=P(t,e);return I(t),m(r,(()=>({value:e,done:!0})))}return I(t),l({value:e,done:!0})}}const ne={next(){return oe(this)?this._asyncIteratorImpl.next():u(ie("next"))},return(e){return oe(this)?this._asyncIteratorImpl.return(e):u(ie("return"))}};function oe(e){if(!r(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof re}catch(e){return!1}}function ie(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}Object.setPrototypeOf(ne,te);const se=Number.isNaN||function(e){return e!=e};var ae,ce,le;function ue(e){return e.slice()}function de(e,t,r,n,o){new Uint8Array(e).set(new Uint8Array(r,n,o),t)}let fe=e=>(fe="function"==typeof e.transfer?e=>e.transfer():"function"==typeof structuredClone?e=>structuredClone(e,{transfer:[e]}):e=>e,fe(e)),he=e=>(he="boolean"==typeof e.detached?e=>e.detached:e=>0===e.byteLength,he(e));function pe(e,t,r){if(e.slice)return e.slice(t,r);const n=r-t,o=new ArrayBuffer(n);return de(o,0,e,t,n),o}function me(e,t){const r=e[t];if(null!=r){if("function"!=typeof r)throw new TypeError(`${String(t)} is not a function`);return r}}const ve=null!==(le=null!==(ae=Symbol.asyncIterator)&&void 0!==ae?ae:null===(ce=Symbol.for)||void 0===ce?void 0:ce.call(Symbol,"Symbol.asyncIterator"))&&void 0!==le?le:"@@asyncIterator";function ge(e,t="sync",n){if(void 0===n)if("async"===t){if(void 0===(n=me(e,ve)))return function(e){const t={[Symbol.iterator]:()=>e.iterator},r=async function*(){return yield*t}();return{iterator:r,nextMethod:r.next,done:!1}}(ge(e,"sync",me(e,Symbol.iterator)))}else n=me(e,Symbol.iterator);if(void 0===n)throw new TypeError("The object is not iterable");const o=y(n,e,[]);if(!r(o))throw new TypeError("The iterator method must return an object");return{iterator:o,nextMethod:o.next,done:!1}}function ye(e){const t=pe(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function we(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function be(e,t,r){if("number"!=typeof(n=r)||se(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function Se(e){e._queue=new b,e._queueTotalSize=0}function _e(e){return e===DataView}class Ee{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Ce(this))throw Ge("view");return this._view}respond(e){if(!Ce(this))throw Ge("respond");if(q(e,1,"respond"),e=B(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(he(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");Ke(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!Ce(this))throw Ge("respondWithNewView");if(q(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(he(e.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Ze(this._associatedReadableByteStreamController,e)}}Object.defineProperties(Ee.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),o(Ee.prototype.respond,"respond"),o(Ee.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Ee.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Te{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!xe(this))throw Ye("byobRequest");return He(this)}get desiredSize(){if(!xe(this))throw Ye("desiredSize");return Xe(this)}close(){if(!xe(this))throw Ye("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);je(this)}enqueue(e){if(!xe(this))throw Ye("enqueue");if(q(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);Be(this,e)}error(e=void 0){if(!xe(this))throw Ye("error");ze(this,e)}[E](e){Ie(this),Se(this);const t=this._cancelAlgorithm(e);return $e(this),t}[T](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void Ve(this,e);const r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}const n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}H(t,e),Pe(this)}[x](){if(this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new b,this._pendingPullIntos.push(e)}}}function xe(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof Te}function Ce(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof Ee}function Pe(e){const t=function(e){const t=e._controlledReadableByteStream;if("readable"!==t._state)return!1;if(e._closeRequested)return!1;if(!e._started)return!1;if(Z(t)&&K(t)>0)return!0;if(nt(t)&&rt(t)>0)return!0;return Xe(e)>0}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,f(e._pullAlgorithm(),(()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Pe(e)),null)),(t=>(ze(e,t),null)))))}function Ie(e){Ne(e),e._pendingPullIntos=new b}function Re(e,t){let r=!1;"closed"===e._state&&(r=!0);const n=Le(t);"default"===t.readerType?X(e,n,r):function(e,t,r){const n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function Le(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function ke(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function De(e,t,r,n){let o;try{o=pe(t,r,r+n)}catch(t){throw ze(e,t),t}ke(e,o,0,n)}function Ae(e,t){t.bytesFilled>0&&De(e,t.buffer,t.byteOffset,t.bytesFilled),Ue(e)}function Oe(e,t){const r=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),n=t.bytesFilled+r;let o=r,i=!1;const s=n-n%t.elementSize;s>=t.minimumFill&&(o=s-t.bytesFilled,i=!0);const a=e._queue;for(;o>0;){const r=a.peek(),n=Math.min(o,r.byteLength),i=t.byteOffset+t.bytesFilled;de(t.buffer,i,r.buffer,r.byteOffset,n),r.byteLength===n?a.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,We(0,n,t),o-=n}return i}function We(e,t,r){r.bytesFilled+=t}function Me(e){0===e._queueTotalSize&&e._closeRequested?($e(e),Wr(e._controlledReadableByteStream)):Pe(e)}function Ne(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Fe(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();Oe(e,t)&&(Ue(e),Re(e._controlledReadableByteStream,t))}}function qe(e,t){const r=e._pendingPullIntos.peek();Ne(e),"closed"===e._controlledReadableByteStream._state?function(e,t){"none"===t.readerType&&Ue(e);const r=e._controlledReadableByteStream;if(nt(r))for(;rt(r)>0;)Re(r,Ue(e))}(e,r):function(e,t,r){if(We(0,t,r),"none"===r.readerType)return Ae(e,r),void Fe(e);if(r.bytesFilled<r.minimumFill)return;Ue(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled;De(e,r.buffer,t-n,n)}r.bytesFilled-=n,Re(e._controlledReadableByteStream,r),Fe(e)}(e,t,r),Pe(e)}function Ue(e){return e._pendingPullIntos.shift()}function $e(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function je(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();if(t.bytesFilled%t.elementSize!=0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ze(e,t),t}}$e(e),Wr(t)}}function Be(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;const{buffer:n,byteOffset:o,byteLength:i}=t;if(he(n))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const s=fe(n);if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();if(he(t.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Ne(e),t.buffer=fe(t.buffer),"none"===t.readerType&&Ae(e,t)}Z(r)?(function(e){const t=e._controlledReadableByteStream._reader;for(;t._readRequests.length>0;){if(0===e._queueTotalSize)return;Ve(e,t._readRequests.shift())}}(e),0===K(r)?ke(e,s,o,i):(e._pendingPullIntos.length>0&&Ue(e),X(r,new Uint8Array(s,o,i),!1))):nt(r)?(ke(e,s,o,i),Fe(e)):ke(e,s,o,i),Pe(e)}function ze(e,t){const r=e._controlledReadableByteStream;"readable"===r._state&&(Ie(e),Se(e),$e(e),Mr(r,t))}function Ve(e,t){const r=e._queue.shift();e._queueTotalSize-=r.byteLength,Me(e);const n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(n)}function He(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(Ee.prototype);!function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}(n,e,r),e._byobRequest=n}return e._byobRequest}function Xe(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Ke(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=fe(r.buffer),qe(e,t)}function Ze(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=t.byteLength;r.buffer=fe(t.buffer),qe(e,n)}function Je(e,t,r,n,o,i,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Se(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,t._autoAllocateChunkSize=s,t._pendingPullIntos=new b,e._readableStreamController=t,f(l(r()),(()=>(t._started=!0,Pe(t),null)),(e=>(ze(t,e),null)))}function Ge(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Ye(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Qe(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function et(e){return new ot(e)}function tt(e,t){e._reader._readIntoRequests.push(t)}function rt(e){return e._reader._readIntoRequests.length}function nt(e){const t=e._reader;return void 0!==t&&!!it(t)}Object.defineProperties(Te.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),o(Te.prototype.close,"close"),o(Te.prototype.enqueue,"enqueue"),o(Te.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Te.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class ot{constructor(e){if(q(e,1,"ReadableStreamBYOBReader"),z(e,"First parameter"),Ar(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!xe(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");C(this,e),this._readIntoRequests=new b}get closed(){return it(this)?this._closedPromise:u(ct("closed"))}cancel(e=void 0){return it(this)?void 0===this._ownerReadableStream?u(R("cancel")):P(this,e):u(ct("cancel"))}read(e,t={}){if(!it(this))return u(ct("read"));if(!ArrayBuffer.isView(e))return u(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return u(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return u(new TypeError("view's buffer must have non-zero byteLength"));if(he(e.buffer))return u(new TypeError("view's buffer has been detached"));let r;try{r=function(e,t){var r;return M(e,t),{min:B(null!==(r=null==e?void 0:e.min)&&void 0!==r?r:1,`${t} has member 'min' that`)}}(t,"options")}catch(e){return u(e)}const n=r.min;if(0===n)return u(new TypeError("options.min must be greater than 0"));if(function(e){return _e(e.constructor)}(e)){if(n>e.byteLength)return u(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(n>e.length)return u(new RangeError("options.min must be less than or equal to view's length"));if(void 0===this._ownerReadableStream)return u(R("read from"));let o,i;const s=c(((e,t)=>{o=e,i=t}));return st(this,e,n,{_chunkSteps:e=>o({value:e,done:!1}),_closeSteps:e=>o({value:e,done:!0}),_errorSteps:e=>i(e)}),s}releaseLock(){if(!it(this))throw ct("releaseLock");void 0!==this._ownerReadableStream&&function(e){I(e);at(e,new TypeError("Reader was released"))}(this)}}function it(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof ot}function st(e,t,r,n){const o=e._ownerReadableStream;o._disturbed=!0,"errored"===o._state?n._errorSteps(o._storedError):function(e,t,r,n){const o=e._controlledReadableByteStream,i=t.constructor,s=function(e){return _e(e)?1:e.BYTES_PER_ELEMENT}(i),{byteOffset:a,byteLength:c}=t,l=r*s;let u;try{u=fe(t.buffer)}catch(e){return void n._errorSteps(e)}const d={buffer:u,bufferByteLength:u.byteLength,byteOffset:a,byteLength:c,bytesFilled:0,minimumFill:l,elementSize:s,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(d),void tt(o,n);if("closed"!==o._state){if(e._queueTotalSize>0){if(Oe(e,d)){const t=Le(d);return Me(e),void n._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return ze(e,t),void n._errorSteps(t)}}e._pendingPullIntos.push(d),tt(o,n),Pe(e)}else{const e=new i(d.buffer,d.byteOffset,0);n._closeSteps(e)}}(o._readableStreamController,t,r,n)}function at(e,t){const r=e._readIntoRequests;e._readIntoRequests=new b,r.forEach((e=>{e._errorSteps(t)}))}function ct(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function lt(e,t){const{highWaterMark:r}=e;if(void 0===r)return t;if(se(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function ut(e){const{size:t}=e;return t||(()=>1)}function dt(e,t){M(e,t);const r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:$(r),size:void 0===n?void 0:ft(n,`${t} has member 'size' that`)}}function ft(e,t){return N(e,t),t=>$(e(t))}function ht(e,t,r){return N(e,r),r=>w(e,t,[r])}function pt(e,t,r){return N(e,r),()=>w(e,t,[])}function mt(e,t,r){return N(e,r),r=>y(e,t,[r])}function vt(e,t,r){return N(e,r),(r,n)=>w(e,t,[r,n])}function gt(e,t){if(!_t(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(ot.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),o(ot.prototype.cancel,"cancel"),o(ot.prototype.read,"read"),o(ot.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(ot.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const yt="function"==typeof AbortController;class wt{constructor(e={},t={}){void 0===e?e=null:F(e,"First parameter");const r=dt(t,"Second parameter"),n=function(e,t){M(e,t);const r=null==e?void 0:e.abort,n=null==e?void 0:e.close,o=null==e?void 0:e.start,i=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===r?void 0:ht(r,e,`${t} has member 'abort' that`),close:void 0===n?void 0:pt(n,e,`${t} has member 'close' that`),start:void 0===o?void 0:mt(o,e,`${t} has member 'start' that`),write:void 0===s?void 0:vt(s,e,`${t} has member 'write' that`),type:i}}(e,"First parameter");if(St(this),void 0!==n.type)throw new RangeError("Invalid type is specified");const o=ut(r);!function(e,t,r,n){const o=Object.create(qt.prototype);let i,s,a,c;i=void 0!==t.start?()=>t.start(o):()=>{},s=void 0!==t.write?e=>t.write(e,o):()=>l(void 0),a=void 0!==t.close?()=>t.close():()=>l(void 0),c=void 0!==t.abort?e=>t.abort(e):()=>l(void 0),$t(e,o,i,s,a,c,r,n)}(this,n,lt(r,1),o)}get locked(){if(!_t(this))throw Kt("locked");return Et(this)}abort(e=void 0){return _t(this)?Et(this)?u(new TypeError("Cannot abort a stream that already has a writer")):Tt(this,e):u(Kt("abort"))}close(){return _t(this)?Et(this)?u(new TypeError("Cannot close a stream that already has a writer")):Rt(this)?u(new TypeError("Cannot close an already-closing stream")):xt(this):u(Kt("close"))}getWriter(){if(!_t(this))throw Kt("getWriter");return bt(this)}}function bt(e){return new Dt(e)}function St(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new b,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function _t(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof wt}function Et(e){return void 0!==e._writer}function Tt(e,t){var r;if("closed"===e._state||"errored"===e._state)return l(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort(t);const n=e._state;if("closed"===n||"errored"===n)return l(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let o=!1;"erroring"===n&&(o=!0,t=void 0);const i=c(((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:o}}));return e._pendingAbortRequest._promise=i,o||Pt(e,t),i}function xt(e){const t=e._state;if("closed"===t||"errored"===t)return u(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=c(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;var o;return void 0!==n&&e._backpressure&&"writable"===t&&sr(n),be(o=e._writableStreamController,Ft,0),zt(o),r}function Ct(e,t){"writable"!==e._state?It(e):Pt(e,t)}function Pt(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&Wt(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&r._started&&It(e)}function It(e){e._state="errored",e._writableStreamController[_]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new b,void 0===e._pendingAbortRequest)return void Lt(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void Lt(e);f(e._writableStreamController[S](r._reason),(()=>(r._resolve(),Lt(e),null)),(t=>(r._reject(t),Lt(e),null)))}function Rt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function Lt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&er(t,e._storedError)}function kt(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){rr(e)}(r):sr(r)),e._backpressure=t}Object.defineProperties(wt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),o(wt.prototype.abort,"abort"),o(wt.prototype.close,"close"),o(wt.prototype.getWriter,"getWriter"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(wt.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class Dt{constructor(e){if(q(e,1,"WritableStreamDefaultWriter"),gt(e,"First parameter"),Et(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!Rt(e)&&e._backpressure?rr(this):or(this),Yt(this);else if("erroring"===t)nr(this,e._storedError),Yt(this);else if("closed"===t)or(this),Yt(this),tr(this);else{const t=e._storedError;nr(this,t),Qt(this,t)}}get closed(){return At(this)?this._closedPromise:u(Jt("closed"))}get desiredSize(){if(!At(this))throw Jt("desiredSize");if(void 0===this._ownerWritableStream)throw Gt("desiredSize");return function(e){const t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:Bt(t._writableStreamController)}(this)}get ready(){return At(this)?this._readyPromise:u(Jt("ready"))}abort(e=void 0){return At(this)?void 0===this._ownerWritableStream?u(Gt("abort")):function(e,t){return Tt(e._ownerWritableStream,t)}(this,e):u(Jt("abort"))}close(){if(!At(this))return u(Jt("close"));const e=this._ownerWritableStream;return void 0===e?u(Gt("close")):Rt(e)?u(new TypeError("Cannot close an already-closing stream")):Ot(this)}releaseLock(){if(!At(this))throw Jt("releaseLock");void 0!==this._ownerWritableStream&&Mt(this)}write(e=void 0){return At(this)?void 0===this._ownerWritableStream?u(Gt("write to")):Nt(this,e):u(Jt("write"))}}function At(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof Dt}function Ot(e){return xt(e._ownerWritableStream)}function Wt(e,t){"pending"===e._readyPromiseState?ir(e,t):function(e,t){nr(e,t)}(e,t)}function Mt(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Wt(e,r),function(e,t){"pending"===e._closedPromiseState?er(e,t):function(e,t){Qt(e,t)}(e,t)}(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Nt(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,o=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return Vt(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return u(Gt("write to"));const i=r._state;if("errored"===i)return u(r._storedError);if(Rt(r)||"closed"===i)return u(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return u(r._storedError);const s=function(e){return c(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){try{be(e,t,r)}catch(t){return void Vt(e,t)}const n=e._controlledWritableStream;Rt(n)||"writable"!==n._state||kt(n,Ht(e)),zt(e)}(n,t,o),s}Object.defineProperties(Dt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),o(Dt.prototype.abort,"abort"),o(Dt.prototype.close,"close"),o(Dt.prototype.releaseLock,"releaseLock"),o(Dt.prototype.write,"write"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Dt.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Ft={};class qt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Ut(this))throw Zt("abortReason");return this._abortReason}get signal(){if(!Ut(this))throw Zt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e=void 0){if(!Ut(this))throw Zt("error");"writable"===this._controlledWritableStream._state&&Xt(this,e)}[S](e){const t=this._abortAlgorithm(e);return jt(this),t}[_](){Se(this)}}function Ut(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof qt}function $t(e,t,r,n,o,i,s,a){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Se(t),t._abortReason=void 0,t._abortController=function(){if(yt)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._writeAlgorithm=n,t._closeAlgorithm=o,t._abortAlgorithm=i;const c=Ht(t);kt(e,c),f(l(r()),(()=>(t._started=!0,zt(t),null)),(r=>(t._started=!0,Ct(e,r),null)))}function jt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Bt(e){return e._strategyHWM-e._queueTotalSize}function zt(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void It(t);if(0===e._queue.length)return;const r=e._queue.peek().value;r===Ft?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),we(e);const r=e._closeAlgorithm();jt(e),f(r,(()=>(function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&tr(t)}(t),null)),(e=>(function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),Ct(e,t)}(t,e),null)))}(e):function(e,t){const r=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(r);f(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(we(e),!Rt(r)&&"writable"===t){const t=Ht(e);kt(r,t)}return zt(e),null}),(t=>("writable"===r._state&&jt(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,Ct(e,t)}(r,t),null)))}(e,r)}function Vt(e,t){"writable"===e._controlledWritableStream._state&&Xt(e,t)}function Ht(e){return Bt(e)<=0}function Xt(e,t){const r=e._controlledWritableStream;jt(e),Pt(r,t)}function Kt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Zt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Jt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Gt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Yt(e){e._closedPromise=c(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function Qt(e,t){Yt(e),er(e,t)}function er(e,t){void 0!==e._closedPromise_reject&&(v(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function tr(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function rr(e){e._readyPromise=c(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function nr(e,t){rr(e),ir(e,t)}function or(e){rr(e),sr(e)}function ir(e,t){void 0!==e._readyPromise_reject&&(v(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function sr(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(qt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(qt.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const ar="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof global?global:void 0,cr=function(){const e=null==ar?void 0:ar.DOMException;return function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;if("DOMException"!==e.name)return!1;try{return new e,!0}catch(e){return!1}}(e)?e:void 0}()||function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return o(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function lr(e,r,n,o,i,s){const a=V(e),m=bt(r);e._disturbed=!0;let g=!1,y=l(void 0);return c(((w,b)=>{let S;if(void 0!==s){if(S=()=>{const t=void 0!==s.reason?s.reason:new cr("Aborted","AbortError"),n=[];o||n.push((()=>"writable"===r._state?Tt(r,t):l(void 0))),i||n.push((()=>"readable"===e._state?Or(e,t):l(void 0))),P((()=>Promise.all(n.map((e=>e())))),!0,t)},s.aborted)return void S();s.addEventListener("abort",S)}var _,E,T;if(C(e,a._closedPromise,(e=>(o?R(!0,e):P((()=>Tt(r,e)),!0,e),null))),C(r,m._closedPromise,(t=>(i?R(!0,t):P((()=>Or(e,t)),!0,t),null))),_=e,E=a._closedPromise,T=()=>(n?R():P((()=>function(e){const t=e._ownerWritableStream,r=t._state;return Rt(t)||"closed"===r?l(void 0):"errored"===r?u(t._storedError):Ot(e)}(m))),null),"closed"===_._state?T():h(E,T),Rt(r)||"closed"===r._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");i?R(!0,t):P((()=>Or(e,t)),!0,t)}function x(){const e=y;return d(y,(()=>e!==y?x():void 0))}function C(e,t,r){"errored"===e._state?r(e._storedError):p(t,r)}function P(e,t,n){function o(){return f(e(),(()=>L(t,n)),(e=>L(!0,e))),null}g||(g=!0,"writable"!==r._state||Rt(r)?o():h(x(),o))}function R(e,t){g||(g=!0,"writable"!==r._state||Rt(r)?L(e,t):h(x(),(()=>L(e,t))))}function L(e,t){return Mt(m),I(a),void 0!==s&&s.removeEventListener("abort",S),e?b(t):w(void 0),null}v(c(((e,r)=>{!function n(o){o?e():d(g?l(!0):d(m._readyPromise,(()=>c(((e,r)=>{Y(a,{_chunkSteps:r=>{y=d(Nt(m,r),void 0,t),e(!1)},_closeSteps:()=>e(!0),_errorSteps:r})})))),n,r)}(!1)})))}))}class ur{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!dr(this))throw Sr("desiredSize");return yr(this)}close(){if(!dr(this))throw Sr("close");if(!wr(this))throw new TypeError("The stream is not in a state that permits close");mr(this)}enqueue(e=void 0){if(!dr(this))throw Sr("enqueue");if(!wr(this))throw new TypeError("The stream is not in a state that permits enqueue");return vr(this,e)}error(e=void 0){if(!dr(this))throw Sr("error");gr(this,e)}[E](e){Se(this);const t=this._cancelAlgorithm(e);return pr(this),t}[T](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=we(this);this._closeRequested&&0===this._queue.length?(pr(this),Wr(t)):fr(this),e._chunkSteps(r)}else H(t,e),fr(this)}[x](){}}function dr(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof ur}function fr(e){hr(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,f(e._pullAlgorithm(),(()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,fr(e)),null)),(t=>(gr(e,t),null)))))}function hr(e){const t=e._controlledReadableStream;return!!wr(e)&&!!e._started&&(!!(Ar(t)&&K(t)>0)||yr(e)>0)}function pr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function mr(e){if(!wr(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(pr(e),Wr(t))}function vr(e,t){if(!wr(e))return;const r=e._controlledReadableStream;if(Ar(r)&&K(r)>0)X(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw gr(e,t),t}try{be(e,t,r)}catch(t){throw gr(e,t),t}}fr(e)}function gr(e,t){const r=e._controlledReadableStream;"readable"===r._state&&(Se(e),pr(e),Mr(r,t))}function yr(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function wr(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function br(e,t,r,n,o,i,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Se(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,e._readableStreamController=t,f(l(r()),(()=>(t._started=!0,fr(t),null)),(e=>(gr(t,e),null)))}function Sr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function _r(e){return r(n=e)&&void 0!==n.getReader?function(e){let n;return n=Rr(t,(function(){let t;try{t=e.read()}catch(e){return u(e)}return m(t,(e=>{if(!r(e))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(e.done)mr(n._readableStreamController);else{const t=e.value;vr(n._readableStreamController,t)}}))}),(function(t){try{return l(e.cancel(t))}catch(e){return u(e)}}),0),n}(e.getReader()):function(e){let n;const o=ge(e,"async");return n=Rr(t,(function(){let e;try{e=function(e){const t=y(e.nextMethod,e.iterator,[]);if(!r(t))throw new TypeError("The iterator.next() method must return an object");return t}(o)}catch(e){return u(e)}return m(l(e),(e=>{if(!r(e))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");const t=function(e){return Boolean(e.done)}(e);if(t)mr(n._readableStreamController);else{const t=function(e){return e.value}(e);vr(n._readableStreamController,t)}}))}),(function(e){const t=o.iterator;let n,i;try{n=me(t,"return")}catch(e){return u(e)}if(void 0===n)return l(void 0);try{i=y(n,t,[e])}catch(e){return u(e)}return m(l(i),(e=>{if(!r(e))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")}))}),0),n}(e);var n}function Er(e,t,r){return N(e,r),r=>w(e,t,[r])}function Tr(e,t,r){return N(e,r),r=>w(e,t,[r])}function xr(e,t,r){return N(e,r),r=>y(e,t,[r])}function Cr(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function Pr(e,t){M(e,t);const r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,o=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(i,`${t} has member 'signal' that`),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(o),signal:i}}Object.defineProperties(ur.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),o(ur.prototype.close,"close"),o(ur.prototype.enqueue,"enqueue"),o(ur.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(ur.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Ir{constructor(e={},t={}){void 0===e?e=null:F(e,"First parameter");const r=dt(t,"Second parameter"),n=function(e,t){M(e,t);const r=e,n=null==r?void 0:r.autoAllocateChunkSize,o=null==r?void 0:r.cancel,i=null==r?void 0:r.pull,s=null==r?void 0:r.start,a=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:B(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===o?void 0:Er(o,r,`${t} has member 'cancel' that`),pull:void 0===i?void 0:Tr(i,r,`${t} has member 'pull' that`),start:void 0===s?void 0:xr(s,r,`${t} has member 'start' that`),type:void 0===a?void 0:Cr(a,`${t} has member 'type' that`)}}(e,"First parameter");if(kr(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){const n=Object.create(Te.prototype);let o,i,s;o=void 0!==t.start?()=>t.start(n):()=>{},i=void 0!==t.pull?()=>t.pull(n):()=>l(void 0),s=void 0!==t.cancel?e=>t.cancel(e):()=>l(void 0);const a=t.autoAllocateChunkSize;if(0===a)throw new TypeError("autoAllocateChunkSize must be greater than 0");Je(e,n,o,i,s,r,a)}(this,n,lt(r,0))}else{const e=ut(r);!function(e,t,r,n){const o=Object.create(ur.prototype);let i,s,a;i=void 0!==t.start?()=>t.start(o):()=>{},s=void 0!==t.pull?()=>t.pull(o):()=>l(void 0),a=void 0!==t.cancel?e=>t.cancel(e):()=>l(void 0),br(e,o,i,s,a,r,n)}(this,n,lt(r,1),e)}}get locked(){if(!Dr(this))throw Nr("locked");return Ar(this)}cancel(e=void 0){return Dr(this)?Ar(this)?u(new TypeError("Cannot cancel a stream that already has a reader")):Or(this,e):u(Nr("cancel"))}getReader(e=void 0){if(!Dr(this))throw Nr("getReader");return void 0===function(e,t){M(e,t);const r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:Qe(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?V(this):et(this)}pipeThrough(e,t={}){if(!Dr(this))throw Nr("pipeThrough");q(e,1,"pipeThrough");const r=function(e,t){M(e,t);const r=null==e?void 0:e.readable;U(r,"readable","ReadableWritablePair"),z(r,`${t} has member 'readable' that`);const n=null==e?void 0:e.writable;return U(n,"writable","ReadableWritablePair"),gt(n,`${t} has member 'writable' that`),{readable:r,writable:n}}(e,"First parameter"),n=Pr(t,"Second parameter");if(Ar(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Et(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return v(lr(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){if(!Dr(this))return u(Nr("pipeTo"));if(void 0===e)return u("Parameter 1 is required in 'pipeTo'.");if(!_t(e))return u(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=Pr(t,"Second parameter")}catch(e){return u(e)}return Ar(this)?u(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Et(e)?u(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):lr(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!Dr(this))throw Nr("tee");return ue(xe((e=this)._readableStreamController)?function(e){let t,r,n,o,i,s=V(e),a=!1,u=!1,d=!1,f=!1,h=!1;const m=c((e=>{i=e}));function v(e){p(e._closedPromise,(t=>(e!==s||(ze(n._readableStreamController,t),ze(o._readableStreamController,t),f&&h||i(void 0)),null)))}function y(){it(s)&&(I(s),s=V(e),v(s)),Y(s,{_chunkSteps:t=>{g((()=>{u=!1,d=!1;const r=t;let s=t;if(!f&&!h)try{s=ye(t)}catch(t){return ze(n._readableStreamController,t),ze(o._readableStreamController,t),void i(Or(e,t))}f||Be(n._readableStreamController,r),h||Be(o._readableStreamController,s),a=!1,u?b():d&&S()}))},_closeSteps:()=>{a=!1,f||je(n._readableStreamController),h||je(o._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&Ke(n._readableStreamController,0),o._readableStreamController._pendingPullIntos.length>0&&Ke(o._readableStreamController,0),f&&h||i(void 0)},_errorSteps:()=>{a=!1}})}function w(t,r){G(s)&&(I(s),s=et(e),v(s));const c=r?o:n,l=r?n:o;st(s,t,1,{_chunkSteps:t=>{g((()=>{u=!1,d=!1;const n=r?h:f;if(r?f:h)n||Ze(c._readableStreamController,t);else{let r;try{r=ye(t)}catch(t){return ze(c._readableStreamController,t),ze(l._readableStreamController,t),void i(Or(e,t))}n||Ze(c._readableStreamController,t),Be(l._readableStreamController,r)}a=!1,u?b():d&&S()}))},_closeSteps:e=>{a=!1;const t=r?h:f,n=r?f:h;t||je(c._readableStreamController),n||je(l._readableStreamController),void 0!==e&&(t||Ze(c._readableStreamController,e),!n&&l._readableStreamController._pendingPullIntos.length>0&&Ke(l._readableStreamController,0)),t&&n||i(void 0)},_errorSteps:()=>{a=!1}})}function b(){if(a)return u=!0,l(void 0);a=!0;const e=He(n._readableStreamController);return null===e?y():w(e._view,!1),l(void 0)}function S(){if(a)return d=!0,l(void 0);a=!0;const e=He(o._readableStreamController);return null===e?y():w(e._view,!0),l(void 0)}function _(){}return n=Lr(_,b,(function(n){if(f=!0,t=n,h){const n=ue([t,r]),o=Or(e,n);i(o)}return m})),o=Lr(_,S,(function(n){if(h=!0,r=n,f){const n=ue([t,r]),o=Or(e,n);i(o)}return m})),v(s),[n,o]}(e):function(e){const t=V(e);let r,n,o,i,s,a=!1,u=!1,d=!1,f=!1;const h=c((e=>{s=e}));function m(){return a?(u=!0,l(void 0)):(a=!0,Y(t,{_chunkSteps:e=>{g((()=>{u=!1;const t=e,r=e;d||vr(o._readableStreamController,t),f||vr(i._readableStreamController,r),a=!1,u&&m()}))},_closeSteps:()=>{a=!1,d||mr(o._readableStreamController),f||mr(i._readableStreamController),d&&f||s(void 0)},_errorSteps:()=>{a=!1}}),l(void 0))}function v(){}return o=Rr(v,m,(function(t){if(d=!0,r=t,f){const t=ue([r,n]),o=Or(e,t);s(o)}return h})),i=Rr(v,m,(function(t){if(f=!0,n=t,d){const t=ue([r,n]),o=Or(e,t);s(o)}return h})),p(t._closedPromise,(e=>(gr(o._readableStreamController,e),gr(i._readableStreamController,e),d&&f||s(void 0),null))),[o,i]}(e));var e}values(e=void 0){if(!Dr(this))throw Nr("values");return function(e,t){const r=V(e),n=new re(r,t),o=Object.create(ne);return o._asyncIteratorImpl=n,o}(this,function(e){M(e,"First parameter");const t=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(t)}}(e).preventCancel)}[ve](e){return this.values(e)}static from(e){return _r(e)}}function Rr(e,t,r,n=1,o=()=>1){const i=Object.create(Ir.prototype);return kr(i),br(i,Object.create(ur.prototype),e,t,r,n,o),i}function Lr(e,t,r){const n=Object.create(Ir.prototype);return kr(n),Je(n,Object.create(Te.prototype),e,t,r,0,void 0),n}function kr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Dr(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof Ir}function Ar(e){return void 0!==e._reader}function Or(e,r){if(e._disturbed=!0,"closed"===e._state)return l(void 0);if("errored"===e._state)return u(e._storedError);Wr(e);const n=e._reader;if(void 0!==n&&it(n)){const e=n._readIntoRequests;n._readIntoRequests=new b,e.forEach((e=>{e._closeSteps(void 0)}))}return m(e._readableStreamController[E](r),t)}function Wr(e){e._state="closed";const t=e._reader;if(void 0!==t&&(A(t),G(t))){const e=t._readRequests;t._readRequests=new b,e.forEach((e=>{e._closeSteps()}))}}function Mr(e,t){e._state="errored",e._storedError=t;const r=e._reader;void 0!==r&&(D(r,t),G(r)?Q(r,t):at(r,t))}function Nr(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Fr(e,t){M(e,t);const r=null==e?void 0:e.highWaterMark;return U(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:$(r)}}Object.defineProperties(Ir,{from:{enumerable:!0}}),Object.defineProperties(Ir.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),o(Ir.from,"from"),o(Ir.prototype.cancel,"cancel"),o(Ir.prototype.getReader,"getReader"),o(Ir.prototype.pipeThrough,"pipeThrough"),o(Ir.prototype.pipeTo,"pipeTo"),o(Ir.prototype.tee,"tee"),o(Ir.prototype.values,"values"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Ir.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Ir.prototype,ve,{value:Ir.prototype.values,writable:!0,configurable:!0});const qr=e=>e.byteLength;o(qr,"size");class Ur{constructor(e){q(e,1,"ByteLengthQueuingStrategy"),e=Fr(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!jr(this))throw $r("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!jr(this))throw $r("size");return qr}}function $r(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function jr(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Ur}Object.defineProperties(Ur.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Ur.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const Br=()=>1;o(Br,"size");class zr{constructor(e){q(e,1,"CountQueuingStrategy"),e=Fr(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Hr(this))throw Vr("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Hr(this))throw Vr("size");return Br}}function Vr(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Hr(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof zr}function Xr(e,t,r){return N(e,r),r=>w(e,t,[r])}function Kr(e,t,r){return N(e,r),r=>y(e,t,[r])}function Zr(e,t,r){return N(e,r),(r,n)=>w(e,t,[r,n])}function Jr(e,t,r){return N(e,r),r=>w(e,t,[r])}Object.defineProperties(zr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(zr.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Gr{constructor(e={},t={},r={}){void 0===e&&(e=null);const n=dt(t,"Second parameter"),o=dt(r,"Third parameter"),i=function(e,t){M(e,t);const r=null==e?void 0:e.cancel,n=null==e?void 0:e.flush,o=null==e?void 0:e.readableType,i=null==e?void 0:e.start,s=null==e?void 0:e.transform,a=null==e?void 0:e.writableType;return{cancel:void 0===r?void 0:Jr(r,e,`${t} has member 'cancel' that`),flush:void 0===n?void 0:Xr(n,e,`${t} has member 'flush' that`),readableType:o,start:void 0===i?void 0:Kr(i,e,`${t} has member 'start' that`),transform:void 0===s?void 0:Zr(s,e,`${t} has member 'transform' that`),writableType:a}}(e,"First parameter");if(void 0!==i.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==i.writableType)throw new RangeError("Invalid writableType specified");const s=lt(o,0),a=ut(o),d=lt(n,1),h=ut(n);let p;!function(e,t,r,n,o,i){function s(){return t}e._writable=function(e,t,r,n,o=1,i=()=>1){const s=Object.create(wt.prototype);return St(s),$t(s,Object.create(qt.prototype),e,t,r,n,o,i),s}(s,(function(t){return function(e,t){const r=e._transformStreamController;return e._backpressure?m(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return cn(r,t)})):cn(r,t)}(e,t)}),(function(){return function(e){const t=e._transformStreamController;if(void 0!==t._finishPromise)return t._finishPromise;const r=e._readable;t._finishPromise=c(((e,r)=>{t._finishPromise_resolve=e,t._finishPromise_reject=r}));const n=t._flushAlgorithm();return sn(t),f(n,(()=>("errored"===r._state?dn(t,r._storedError):(mr(r._readableStreamController),un(t)),null)),(e=>(gr(r._readableStreamController,e),dn(t,e),null))),t._finishPromise}(e)}),(function(t){return function(e,t){const r=e._transformStreamController;if(void 0!==r._finishPromise)return r._finishPromise;const n=e._readable;r._finishPromise=c(((e,t)=>{r._finishPromise_resolve=e,r._finishPromise_reject=t}));const o=r._cancelAlgorithm(t);return sn(r),f(o,(()=>("errored"===n._state?dn(r,n._storedError):(gr(n._readableStreamController,t),un(r)),null)),(e=>(gr(n._readableStreamController,e),dn(r,e),null))),r._finishPromise}(e,t)}),r,n),e._readable=Rr(s,(function(){return function(e){return rn(e,!1),e._backpressureChangePromise}(e)}),(function(t){return function(e,t){const r=e._transformStreamController;if(void 0!==r._finishPromise)return r._finishPromise;const n=e._writable;r._finishPromise=c(((e,t)=>{r._finishPromise_resolve=e,r._finishPromise_reject=t}));const o=r._cancelAlgorithm(t);return sn(r),f(o,(()=>("errored"===n._state?dn(r,n._storedError):(Vt(n._writableStreamController,t),tn(e),un(r)),null)),(t=>(Vt(n._writableStreamController,t),tn(e),dn(r,t),null))),r._finishPromise}(e,t)}),o,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,rn(e,!0),e._transformStreamController=void 0}(this,c((e=>{p=e})),d,h,s,a),function(e,t){const r=Object.create(nn.prototype);let n,o,i;n=void 0!==t.transform?e=>t.transform(e,r):e=>{try{return an(r,e),l(void 0)}catch(e){return u(e)}},o=void 0!==t.flush?()=>t.flush(r):()=>l(void 0),i=void 0!==t.cancel?e=>t.cancel(e):()=>l(void 0),function(e,t,r,n,o){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n,t._cancelAlgorithm=o,t._finishPromise=void 0,t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0}(e,r,n,o,i)}(this,i),void 0!==i.start?p(i.start(this._transformStreamController)):p(void 0)}get readable(){if(!Yr(this))throw fn("readable");return this._readable}get writable(){if(!Yr(this))throw fn("writable");return this._writable}}function Yr(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Gr}function Qr(e,t){gr(e._readable._readableStreamController,t),en(e,t)}function en(e,t){sn(e._transformStreamController),Vt(e._writable._writableStreamController,t),tn(e)}function tn(e){e._backpressure&&rn(e,!1)}function rn(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=c((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Gr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Gr.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class nn{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!on(this))throw ln("desiredSize");return yr(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!on(this))throw ln("enqueue");an(this,e)}error(e=void 0){if(!on(this))throw ln("error");var t;t=e,Qr(this._controlledTransformStream,t)}terminate(){if(!on(this))throw ln("terminate");!function(e){const t=e._controlledTransformStream;mr(t._readable._readableStreamController);en(t,new TypeError("TransformStream terminated"))}(this)}}function on(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof nn}function sn(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function an(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!wr(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{vr(n,t)}catch(e){throw en(r,e),r._readable._storedError}const o=function(e){return!hr(e)}(n);o!==r._backpressure&&rn(r,!0)}function cn(e,t){return m(e._transformAlgorithm(t),void 0,(t=>{throw Qr(e._controlledTransformStream,t),t}))}function ln(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function un(e){void 0!==e._finishPromise_resolve&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function dn(e,t){void 0!==e._finishPromise_reject&&(v(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function fn(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(nn.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),o(nn.prototype.enqueue,"enqueue"),o(nn.prototype.error,"error"),o(nn.prototype.terminate,"terminate"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(nn.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=Ur,e.CountQueuingStrategy=zr,e.ReadableByteStreamController=Te,e.ReadableStream=Ir,e.ReadableStreamBYOBReader=ot,e.ReadableStreamBYOBRequest=Ee,e.ReadableStreamDefaultController=ur,e.ReadableStreamDefaultReader=J,e.TransformStream=Gr,e.TransformStreamDefaultController=nn,e.WritableStream=wt,e.WritableStreamDefaultController=qt,e.WritableStreamDefaultWriter=Dt},r(t)},5034:(e,t,r)=>{"use strict";r.d(t,{It:()=>q,gi:()=>A,um:()=>k,xN:()=>D});var n,o,i,s=r(269),a=r(2475),c=r(9749),l=r(6182),u=r(3775),d=r(7292),f=r(3673),h=r(6492),p="toGMTString",m="toUTCString",v="cookie",g="expires",y="isCookieUseDisabled",w="disableCookiesUsage",b="_ckMgr",S=null,_=null,E=null,T={},x={},C=((n={cookieCfg:(0,a.NU)((o={},o[h.Fk]={fb:"cookieDomain",dfVal:f.Gh},o.path={fb:"cookiePath",dfVal:f.Gh},o.enabled=h.HP,o.ignoreCookies=h.HP,o.blockedCookies=h.HP,o)),cookieDomain:h.HP,cookiePath:h.HP})[w]=h.HP,n);function P(){!i&&(i=(0,s.nRs)((function(){return(0,s.YEm)()})))}function I(e){return!e||e.isEnabled()}function R(e,t){return!!(t&&e&&(0,s.cyL)(e.ignoreCookies))&&-1!==(0,s.rDm)(e.ignoreCookies,t)}function L(e,t){var r=t[l.XM];if((0,s.hXl)(r)){var n=void 0;(0,s.b07)(e[y])||(n=!e[y]),(0,s.b07)(e[w])||(n=!e[w]),r=n}return r}function k(e,t){var r;if(e)r=e.getCookieMgr();else if(t){var n=t.cookieCfg;r=n&&n[b]?n[b]:D(t)}return r||(r=function(e,t){var r=D[b]||x[b];return r||(r=D[b]=D(e,t),x[b]=r),r}(t,(e||{})[l.Uw])),r}function D(e,t){var r,n,o,i,a,u,v,y;e=(0,c.e)(e||x,null,t).cfg,i=(0,c.a)(e,(function(t){t.setDf(t.cfg,C),r=t.ref(t.cfg,"cookieCfg"),n=r[h.QW]||"/",o=r[h.Fk],a=!1!==L(e,r),u=r.getCookie||N,v=r.setCookie||F,y=r.delCookie||F}),t);var w={isEnabled:function(){var n=!1!==L(e,r)&&a&&A(t),o=x[b];return n&&o&&w!==o&&(n=I(o)),n},setEnabled:function(e){a=!1!==e,r[l.XM]=e},set:function(e,t,i,a,c){var u=!1;if(I(w)&&!function(e,t){return!!(t&&e&&(0,s.cyL)(e.blockedCookies)&&-1!==(0,s.rDm)(e.blockedCookies,t))||R(e,t)}(r,e)){var y={},b=(0,s.EHq)(t||h.m5),S=(0,s.HzD)(b,";");if(-1!==S&&(b=(0,s.EHq)((0,s.ZWZ)(t,S)),y=O((0,s.P0f)(t,S+1))),(0,f.KY)(y,h.Fk,a||o,s.zzB,s.b07),!(0,s.hXl)(i)){var E=(0,d.lT)();if((0,s.b07)(y[g])){var T=(0,s.f0d)()+1e3*i;if(T>0){var x=new Date;x.setTime(T),(0,f.KY)(y,g,W(x,E?p:m)||W(x,E?p:m)||h.m5,s.zzB)}}E||(0,f.KY)(y,"max-age",h.m5+i,null,s.b07)}var C=(0,d.g$)();C&&"https:"===C.protocol&&((0,f.KY)(y,"secure",null,null,s.b07),null===_&&(_=!q(((0,s.w3n)()||{})[l.tX])),_&&(0,f.KY)(y,"SameSite","None",null,s.b07)),(0,f.KY)(y,h.QW,c||n,null,s.b07),v(e,M(b,y)),u=!0}return u},get:function(e){var t=h.m5;return I(w)&&!R(r,e)&&(t=u(e)),t},del:function(e,t){var r=!1;return I(w)&&(r=w.purge(e,t)),r},purge:function(e,r){var n,o=!1;if(A(t)){var i=((n={})[h.QW]=r||"/",n[g]="Thu, 01 Jan 1970 00:00:01 GMT",n);(0,d.lT)()||(i["max-age"]="0"),y(e,M(h.m5,i)),o=!0}return o},unload:function(e){i&&i.rm(),i=null}};return w[b]=w,w}function A(e){if(null===S){S=!1,!i&&P();try{var t=i.v||{};S=void 0!==t[v]}catch(t){(0,u.ZP)(e,2,68,"Cannot access document.cookie - "+(0,f.lL)(t),{exception:(0,s.mmD)(t)})}}return S}function O(e){var t={};if(e&&e[l.oI]){var r=(0,s.EHq)(e)[l.sY](";");(0,s.Iuo)(r,(function(e){if(e=(0,s.EHq)(e||h.m5)){var r=(0,s.HzD)(e,"=");-1===r?t[e]=null:t[(0,s.EHq)((0,s.ZWZ)(e,r))]=(0,s.EHq)((0,s.P0f)(e,r+1))}}))}return t}function W(e,t){return(0,s.Tnt)(e[t])?e[t]():null}function M(e,t){var r=e||h.m5;return(0,s.zav)(t,(function(e,t){r+="; "+e+((0,s.hXl)(t)?h.m5:"="+t)})),r}function N(e){var t=h.m5;if(!i&&P(),i.v){var r=i.v[v]||h.m5;E!==r&&(T=O(r),E=r),t=(0,s.EHq)(T[e]||h.m5)}return t}function F(e,t){!i&&P(),i.v&&(i.v[v]=e+"="+t)}function q(e){return!(!(0,s.KgX)(e)||!(0,f.Ju)(e,"CPU iPhone OS 12")&&!(0,f.Ju)(e,"iPad; CPU OS 12")&&!((0,f.Ju)(e,"Macintosh; Intel Mac OS X 10_14")&&(0,f.Ju)(e,"Version/")&&(0,f.Ju)(e,"Safari"))&&(!(0,f.Ju)(e,"Macintosh; Intel Mac OS X 10_14")||!(0,s.Cv9)(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!(0,f.Ju)(e,"Chrome/5")&&!(0,f.Ju)(e,"Chrome/6")&&(!(0,f.Ju)(e,"UnrealEngine")||(0,f.Ju)(e,"Chrome"))&&!(0,f.Ju)(e,"UCBrowser/12")&&!(0,f.Ju)(e,"UCBrowser/11"))}},5043:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(311);var o;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.ContentModified=-32801,e.MessageWriteError=1,e.MessageReadError=2}(o=t.ErrorCodes||(t.ErrorCodes={}));class i extends Error{constructor(e,t,r){super(t),this.code=n.number(e)?e:o.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,i.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=i;class s{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=s,t.RequestType0=class extends s{constructor(e){super(e,0)}},t.RequestType=class extends s{constructor(e){super(e,1)}},t.RequestType1=class extends s{constructor(e){super(e,1)}},t.RequestType2=class extends s{constructor(e){super(e,2)}},t.RequestType3=class extends s{constructor(e){super(e,3)}},t.RequestType4=class extends s{constructor(e){super(e,4)}},t.RequestType5=class extends s{constructor(e){super(e,5)}},t.RequestType6=class extends s{constructor(e){super(e,6)}},t.RequestType7=class extends s{constructor(e){super(e,7)}},t.RequestType8=class extends s{constructor(e){super(e,8)}},t.RequestType9=class extends s{constructor(e){super(e,9)}},t.NotificationType=class extends s{constructor(e){super(e,1),this._=void 0}},t.NotificationType0=class extends s{constructor(e){super(e,0)}},t.NotificationType1=class extends s{constructor(e){super(e,1)}},t.NotificationType2=class extends s{constructor(e){super(e,2)}},t.NotificationType3=class extends s{constructor(e){super(e,3)}},t.NotificationType4=class extends s{constructor(e){super(e,4)}},t.NotificationType5=class extends s{constructor(e){super(e,5)}},t.NotificationType6=class extends s{constructor(e){super(e,6)}},t.NotificationType7=class extends s{constructor(e){super(e,7)}},t.NotificationType8=class extends s{constructor(e){super(e,8)}},t.NotificationType9=class extends s{constructor(e){super(e,9)}},t.isRequestMessage=function(e){let t=e;return t&&n.string(t.method)&&(n.string(t.id)||n.number(t.id))},t.isNotificationMessage=function(e){let t=e;return t&&n.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(n.string(t.id)||n.number(t.id)||null===t.id)}},5157:(e,t,r)=>{if(!globalThis.DOMException)try{const{MessageChannel:e}=r(8167),t=(new e).port1,n=new ArrayBuffer;t.postMessage(n,[n,n])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}e.exports=globalThis.DOMException},5187:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextKeys=void 0,t.addCommands=function(e,t,r,f){const h=e.subscriptions,p=t?s.AuthorityHierarchy.parse(t):void 0,m=p?.host;function v(e){return e===m&&p?.last.startsWith("wsl+")}async function g(e,t=m){if(v(t))return void await u(p.value,e);const{dialogs:r,distroStore:n}=await f.get(t);if(!await r.checkIfWSLInstalled())return;const o=await n.getDistros();0===o.length?await r.showNoDistroDialog():await u(o[0].getAuthority(),e)}async function y(e,t=m){const{dialogs:r,distroStore:n}=await f.get(t);if(!await r.checkIfWSLInstalled())return;const o=await b(n,r);o&&await u(o.distro.getAuthority(),e)}async function w(e){return(await e.getDistros()).filter(((e,t)=>0===t||!(0,s.isDockerDesktopDistro)(e.name)))}async function b(e,t,r=!1,i){if(i??(i=await w(e)),0!==i.length){if(1===i.length&&r)return{distro:i[0],default:i[0]};{const e=e=>{const t={label:e.name,distro:e},r=[];return e.isDefault&&r.push(n.l10n.t("default distro")),"1"===e.version&&r.push(n.l10n.t("wsl1")),t.description=r.length?r.join(" - "):void 0,t},r=i.sort(((e,t)=>e.isDefault!==t.isDefault?e.isDefault?-1:1:e.name.localeCompare(t.name))).map(e);r.push({label:n.l10n.t("{0} Install New...","$(plus)"),description:void 0});const o=await n.window.showQuickPick(r,{placeHolder:n.l10n.t("Select WSL distro")});if(o){if(void 0!==o.distro)return{distro:o.distro,default:i[0]};await t.showDistroStore()}return}}n.window.showInformationMessage(o.noDistrosInstalledMessage)}h.push(n.commands.registerCommand("remote-wsl.connect",(e=>g(i.OpenMode.reuseWindow,e)))),h.push(n.commands.registerCommand("remote-wsl.connectUsingDistro",(e=>y(i.OpenMode.reuseWindow,e)))),h.push(n.commands.registerCommand("remote-wsl.connectInNewWindow",(e=>g(i.OpenMode.newWindow,e)))),h.push(n.commands.registerCommand("remote-wsl.connectUsingDistroInNewWindow",(e=>y(i.OpenMode.newWindow,e)))),h.push(n.commands.registerCommand("remote-wsl.openFolder",(e=>async function(e,t=m){const{dialogs:r,execServer:o,distroStore:c}=await f.get(t),l=await r.checkIfWSLInstalled();if(f.telemetry.reportOpen(e,l,t),!l)return;if(v(t))return n.commands.executeCommand("workbench.action.files.openFolder");if(!o.isWSLInExplorerAvailable())return n.window.showInformationMessage(n.l10n.t("The WSL extension requires a more recent version of WSL ({0}) to browse a WSL folder in the Windows file dialog. use 'WSL: New Window' instead.",a.WIN10_1903.label),n.l10n.t("Ok"));const u=await c.getDistros();if(0===u.length)return r.showNoDistroDialog();const h=u[0];let p=n.Uri.file(`\\\\wsl.localhost\\${h.name}`);const g=await async function(e,t){const r=(0,s.getAuthorityFromDistro)(e,t),o=await n.commands.executeCommand("_workbench.getRecentlyOpened");if(o&&o.workspaces)for(const e of o.workspaces)if(e&&(e.folderUri||e.workspace)){const t=e.folderUri?e.folderUri:e.workspace.configPath;if("vscode-remote"===t.scheme&&(0,s.compareCaseInsensitive)(t.authority,r)&&!t.path.startsWith("/mnt/"))return e.folderUri?t:n.Uri.joinPath(t,"..")}}(h.name,o.hostAuthority);g&&(p=n.Uri.joinPath(p,g.path));const y=await n.window.showOpenDialog({canSelectFolders:!0,defaultUri:p});if(!y||"file"!==y[0].scheme)return;const w=y[0];if("wsl$"===w.authority||"wsl.localhost"===w.authority){const e=w.path.match(/^\/?([^/]+)\/(.*)$/);if(e){const t=n.Uri.parse(`vscode-remote://${(0,s.getAuthorityFromDistro)(e[1],o.hostAuthority)}/${e[2]}`);await d(t,(0,i.getOpenMode)())}}else if(!w.authority){const e=w.fsPath;try{const t=await o.executeWslPath(h.name,e,!0),r=h.getAuthority();await d(w.with({scheme:"vscode-remote",authority:r,path:t}),(0,i.getOpenMode)())}catch(t){n.window.showInformationMessage(n.l10n.t({comment:["{0}: folder path, {1} distro name. Do not change link syntax [message](command). Do only translate message.",'{Locked="](command:remote-wsl.showLog)"}'],message:"Unable to open {0} in WSL ({1}). See [WSL log](command:remote-wsl.showLog) for details.",args:[e,h?.name||"default distro"]})),f.logger.write(t.toString()),f.logger.showLog()}}}("other",e)))),h.push(n.commands.registerCommand("remote-wsl.newWindow",(()=>g(i.OpenMode.newWindow)))),h.push(n.commands.registerCommand("remote-wsl.newWindowForDistro",(()=>y(i.OpenMode.newWindow)))),h.push(n.commands.registerCommand("remote-wsl.getHelp",(async()=>n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/wsl"))))),h.push(n.commands.registerCommand("remote-wsl.getStarted",(async()=>n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/wsl/getting-started"))))),h.push(n.commands.registerCommand("remote-wsl.provideFeedback",(async()=>n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/wsl/provide-feedback"))))),h.push(n.commands.registerCommand("remote-wsl.reportIssue",(async()=>n.commands.executeCommand("vscode.openIssueReporter","ms-vscode-remote.remote-wsl")))),h.push(n.commands.registerCommand("remote-wsl.reopenInWSL",(async()=>{const{dialogs:e,execServer:t,distroStore:r}=await f.get(m);if(!await e.checkIfWSLInstalled())return;if(!e.checkWSLPathSupport())return;const o=l();if(!o)return void n.window.showInformationMessage(n.l10n.t("A workspace file or a folder needs be open in the current window."));let s,a;if("file"===o.scheme&&("wsl$"===o.authority||"wsl.localhost"===o.authority)){const e=o.path.match(/^\/?([^/]+)\/(.*)$/);e&&(s=await r.findDistro(e[1]))}if(!s){const n=await w(r),i=n.find((e=>e.isDefault));if(a=i&&(e=>t.executeWslPath(e.name,o.fsPath,!0))(i),s=await b(r,e,!0,n),!s)return}const c=s.distro,u=c.getAuthority();if("wsl"!==n.env.remoteName){if(!t.isExecAndDistroArgumentSupported()&&s.distro!==s.default&&!await e.changeDefaultDistro(c.name))return;const r=o.fsPath;try{const e=c.isDefault&&a?await a:await t.executeWslPath(c.name,r,!0);await d(o.with({scheme:"vscode-remote",authority:u,path:e}),i.OpenMode.reuseWindow)}catch(e){n.window.showInformationMessage(n.l10n.t({comment:["{0}: folder path, {1} distro name. Do not change link syntax [message](command). Do only translate message.",'{Locked="](command:remote-wsl.showLog)"}'],message:"Unable to open {0} in WSL ({1}). See [WSL log](command:remote-wsl.showLog) for details.",args:[r,c?.name||"default distro"]})),f.logger.write(e.toString()),f.logger.showLog()}}else await d(o.with({authority:u}),i.OpenMode.reuseWindow)}))),h.push(n.commands.registerCommand("remote-wsl.reopenInWindows",(async()=>{const{dialogs:e,execServer:t}=await f.get(m);if(!await e.checkIfWSLInstalled())return;if(!e.checkWSLPathSupport())return;const o=l();if(!p)return;const s=r();if(o&&"vscode-remote"===o.scheme&&s)try{const e=await t.executeWslPath(s.name,o.path,!1);if(e.startsWith("\\\\")&&m)return void n.window.showErrorMessage("Your workspace is on the Linux filesystem and cannot be reopened in Windows.");const r=m?n.Uri.from({scheme:"vscode-remote",authority:m,path:`/${e.replace(/\\/g,"/")}`}):n.Uri.file(e);await d(r,i.OpenMode.reuseWindow)}catch(e){n.window.showInformationMessage(n.l10n.t({comment:["{0}: path name, Do not change link syntax [message](command). Do only translate message.",'{Locked="](command:remote-wsl.showLog)"}'],message:"Unable to open {0} in Windows. See [WSL log](command:remote-wsl.showLog) in terminal for details.",args:[o.path]})),f.logger.write(e.toString()),f.logger.showLog()}else n.window.showInformationMessage(n.l10n.t("The current window must be opened on a workspace file or a folder in WSL."))}))),h.push(n.commands.registerCommand("remote-wsl.revealInExplorer",(async e=>{if(p?.host)return void n.window.showInformationMessage(n.l10n.t("Reveal in File Explorer is not supported in nested remotes"));const{execServer:t}=await f.get(void 0),o=r();if(o){if(!e){const t=n.window.activeTextEditor;t?e=t.document.uri:(n.workspace.workspaceFolders&&(e=n.workspace.workspaceFolders[0]?.uri),e||(e=n.Uri.parse(`vscode-remote://${o.getAuthority()}/home`)))}try{let r;if("vscode-remote"===e.scheme)r=await t.executeWslPath(o.name,e.path,!1);else{if("file"!==e.scheme)return void n.window.showInformationMessage(n.l10n.t("Unable to open {0} in the Windows explorer.",e.path));r=e.fsPath}try{await(0,c.createTerminalRunner)().revealInExplorer(t,r,f.logger)}catch(e){}}catch(t){n.window.showInformationMessage(n.l10n.t({comment:["{0}: path name, Do not change link syntax [message](command). Do only translate message.",'{Locked="](command:remote-wsl.showLog)"}'],message:"Unable to open {0} in the Windows explorer. See [WSL log](command:remote-wsl.showLog) in terminal for details.",args:[e.path]})),f.logger.write(t.toString()),f.logger.showLog()}}else n.window.showInformationMessage(n.l10n.t("The current window must be opened on a workspace file or a folder in WSL."))})))},t.vscodeOpenWindow=u,t.vscodeOpenFolder=d,t.setupContextKeys=function(e,t,r){let o=0===t.getNumberOKnownDistros();n.commands.executeCommand("setContext",f.noWSLPath,!e.isWSLPathAvailable()),n.commands.executeCommand("setContext",f.openInNewWindow,(0,i.getOpenMode)()===i.OpenMode.newWindow),n.commands.executeCommand("setContext",f.noWSLDistrosInstalled,o),r.push(n.workspace.onDidChangeConfiguration((e=>{e.affectsConfiguration(i.Settings.openFoldersInNewWindow)&&n.commands.executeCommand("setContext",f.openInNewWindow,(0,i.getOpenMode)()===i.OpenMode.newWindow)}))),r.push(t.onDidChange((e=>{const t=0===e.length;o!==t&&(o=t,n.commands.executeCommand("setContext",f.noWSLDistrosInstalled,t))})))};const n=r(1398),o=r(172),i=r(1568),s=r(2552),a=r(7153),c=r(5799);function l(){const e=n.workspace.workspaceFolders;return n.workspace.workspaceFile||e?.[0]?.uri}async function u(e,t){{const r=t===i.OpenMode.newWindow?{remoteAuthority:e}:{remoteAuthority:e,reuseWindow:!0};await n.commands.executeCommand("vscode.newWindow",r)}}async function d(e,t){const r=t===i.OpenMode.newWindow?{forceNewWindow:!0}:{forceReuseWindow:!0};await n.commands.executeCommand("vscode.openFolder",e,r)}var f;!function(e){e.wslFeatureInstalled="wslFeatureInstalled",e.noWSLPath="wsl.noWSLPath",e.noWSLDistrosInstalled="wsl.noWSLDistrosInstalled",e.openInNewWindow="wsl.openInNewWindow"}(f||(t.ContextKeys=f={}))},5226:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TasApiFeatureProvider=t.TASAPI_FETCHERROR_EVENTNAME=void 0;const n=r(4111);t.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";const o="ErrorType";class i extends n.FilteredFeatureProvider{constructor(e,t,r){super(t,r),this.httpClient=e,this.telemetry=t,this.filterProviders=r}async fetch(){let e,r=this.getFilters(),n={};for(let e of r.keys()){const t=r.get(e);n[e]=t}try{e=await this.httpClient.get({headers:n})}catch(e){const r=e,n=new Map;r.responseReceived&&!r.responseOk?n.set(o,"ServerError"):!1===r.responseReceived?n.set(o,"NoResponse"):n.set(o,"GenericError"),this.telemetry.postEvent(t.TASAPI_FETCHERROR_EVENTNAME,n)}if(!e)throw Error(t.TASAPI_FETCHERROR_EVENTNAME);r.keys.length>0&&this.PostEventToTelemetry(n);const i=e.data;let s=i.Configs,a=[];for(let e of s)if(e.Parameters)for(let t of Object.keys(e.Parameters)){const r=t+(e.Parameters[t]?"":"cf");a.includes(r)||a.push(r)}return{features:a,assignmentContext:i.AssignmentContext,configs:s}}}t.TasApiFeatureProvider=i},5317:e=>{"use strict";e.exports=require("child_process")},5360:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8898),o=r(311);var i;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None}),e.is=function(t){let r=t;return r&&(r===e.None||r===e.Cancelled||o.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}}(i=t.CancellationToken||(t.CancellationToken={}));const s=Object.freeze((function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}));class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=i.Cancelled}dispose(){this._token?this._token instanceof a&&this._token.dispose():this._token=i.None}}},5569:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadProgress=t.MakeDefaultRequest=t.DownloadRequest=t.FatalErrorOccuredNotification=t.PortResolvedNotification=t.LogNotification=t.ProgressNotification=void 0;const n=r(4590);t.ProgressNotification=new n.NotificationType("progressNotification"),t.LogNotification=new n.NotificationType("logNotification"),t.PortResolvedNotification=new n.NotificationType("portResolvedNotification"),t.FatalErrorOccuredNotification=new n.NotificationType("fatalErrorOccuredNotification"),t.DownloadRequest=new n.RequestType("downloadRequest"),t.MakeDefaultRequest=new n.RequestType("makeDefault"),t.DownloadProgress=new n.ProgressType},5664:(e,t,r)=>{"use strict";r.d(t,{Wy:()=>c,_1:()=>o,bA:()=>i,hW:()=>n,s6:()=>a,vR:()=>s});var n="function",o="object",i="undefined",s="prototype",a=Object,c=a[s]},5692:e=>{"use strict";e.exports=require("https")},5732:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.FailureReason=t.LogLevel=void 0,function(e){e[e.info=1]="info",e[e.error=2]="error",e[e.debug=3]="debug"}(r||(t.LogLevel=r={})),function(e){e.ServerScriptError="servererror",e.ServerCloseError="serverclose",e.Timeout="timeout",e.WSLNotFound="wslnotfound",e.WSLUpdateRequired="wslupdaterequired",e.OSIncompatible="osincompatible",e.DaemonError="daemonerror",e.DaemonClosed="daemonclosed",e.Undefined="undefined"}(n||(t.FailureReason=n={}))},5761:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentationServiceAutoPolling=void 0;const n=r(1714),o=r(3257);class i extends n.ExperimentationServiceBase{constructor(e,t,r,n,i,s,a){if(super(e,n,i,s,a),this.telemetry=e,this.filterProviders=t,this.refreshRateMs=r,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=i,this.storageKey=s,this.storage=a,r<1e3&&0!==r)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");r>0&&(this.pollingService=new o.PollingService(r),this.pollingService.OnPollTick((async()=>{await super.getFeaturesAsync()})))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let t=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),t}return await super.getFeaturesAsync(e)}}t.ExperimentationServiceAutoPolling=i},5799:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTerminalRunner=function(){const e=n.window.onDidCloseTerminal((e=>{e.name===i&&(t=void 0)}));let t;return{runCommand:function(e){t||(t=n.window.createTerminal(i)),t.show(!1),t.sendText(e,!0)},startWSLInstall:a,revealInExplorer:s,dispose:()=>{e.dispose()}}};const n=r(1398),o=r(7153),i="WSL";async function s(e,t,r){const n=await e.getExecServer(),i=await n.exec({cmd:"explorer.exe",args:[`/select,"${t}"`],output:r,options:{windowsHide:!1,shell:!0}});await(0,o.runExecWithLogger)(i,r)}async function a(e,t,r){const n=[];n.push("Start-Process"),n.push("-FilePath","cmd"),n.push("-ArgumentList",`'/c "${t} --install & pause"'`),n.push("-Verb","RunAs");const i=await e.getExecServer(),s=await i.exec({cmd:"powershell.exe",args:n,output:r});await(0,o.runExecWithLogger)(s,r)}},5851:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9278),o=r(8919),i=r(7159);t.createClientSocketTransport=function(e,t="utf-8"){let r,s=new Promise(((e,t)=>{r=e}));return new Promise(((a,c)=>{let l=n.createServer((e=>{l.close(),r([new o.SocketMessageReader(e,t),new i.SocketMessageWriter(e,t)])}));l.on("error",c),l.listen(e,"127.0.0.1",(()=>{l.removeListener("error",c),a({onConnected:()=>s})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const r=n.createConnection(e,"127.0.0.1");return[new o.SocketMessageReader(r,t),new i.SocketMessageWriter(r,t)]}},6130:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDelegatedExecServer=function(e,t){return(0,n.getWSLExecServer)((async()=>s(await i.workspace.getRemoteExecServer(e),t)),e,t)},t.getSingleDelegatedExecServer=function(e,t,r){return(0,n.getWSLExecServer)((()=>Promise.resolve(s(t,r))),e,r)};const n=r(7153),o=r(2690),i=r(1398);function s(e,t){return{async exec({env:r,cmd:n,args:o,cwd:s}){const a=s?` in ${s}}`:"";t.write(`Run: ${n} ${o?.join(" ").replace(/\n/g,"\\n")??""}${a}`);const c=await e.spawn(n,o??[],{env:i(r),cwd:s});return{stdin:c.stdin,stdout:c.stdout,stderr:c.stderr,exit:c.onExit,terminate:()=>Promise.resolve()}},fs:{async stat(t){try{const r=await e.fsStat(t);if(!1===r.exists)return;switch(r.type){case"file":return{type:n.FileType.File};case"dir":return{type:n.FileType.Directory};case"link":return{type:n.FileType.SymbolicLink};default:return{type:n.FileType.Unknown}}}catch(e){return}}},acquireCli(n){const o={...n,platform:r(n.platform),env:n.env&&i(n.env)};return t.write(`Aquire cli: ${n.command} ${n.args.join(" ").replace(/\n/g,"\\n")??""}, commit: ${n.commit_id}, platform: ${n.platform}, quality: ${n.quality}`),e.acquireCli(o)},async spawnCli({cmd:r,args:n,env:a,cwd:c,output:l}){t.write(`Run cli: ${r} ${n?.join(" ").replace(/\n/g,"\\n")??""}`);const u=await e.spawnCli(r,n??[],{env:i(a),cwd:c});return u.logs.onData((e=>l.write(`[nested server]: ${(new TextDecoder).decode(e)}`))),u.onExit.then((e=>l.write(`[nested server]: exited with ${e.status} (${e.message})`))),s(new o.ExecServer(u.connection),t)},serve:t=>e.serve(t),getEnv:()=>e.env()};function r(e){switch(e){case"linux-x64":return"LinuxX64";case"linux-arm64":return"LinuxARM64";case"linux-alpine":return"LinuxAlpineX64";case"alpine-arm64":return"LinuxAlpineARM64"}}function i(e){if(!e)return;const t={};for(const r in e)t[r]=e[r]??"";return t}}},6149:(e,t,r)=>{"use strict";r.d(t,{Ds:()=>j,El:()=>P,Fc:()=>B,Hm:()=>k,ML:()=>A,Q3:()=>O,So:()=>M,Wg:()=>U,Ym:()=>W,ee:()=>$,lQ:()=>q,mB:()=>D,oS:()=>V,sq:()=>z,vF:()=>H,zh:()=>N});var n=r(269),o=r(6182),i=r(4276),s=r(6492),a="on",c="attachEvent",l="addEventListener",u="detachEvent",d="removeEventListener",f="events",h="visibilitychange",p="pagehide",m="pageshow",v="unload",g="beforeunload",y=(0,i.Z)("aiEvtPageHide"),w=(0,i.Z)("aiEvtPageShow"),b=/\.[\.]+/g,S=/[\.]+$/,_=1,E=(0,i.T)("events"),T=/^([^.]*)(?:\.(.+)|)/;function x(e){return e&&e[o.W7]?e[o.W7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,s.m5):e}function C(e,t){if(t){var r=s.m5;(0,n.cyL)(t)?(r=s.m5,(0,n.Iuo)(t,(function(e){(e=x(e))&&("."!==e[0]&&(e="."+e),r+=e)}))):r=x(t),r&&("."!==r[0]&&(r="."+r),e=(e||s.m5)+r)}var i=T.exec(e||s.m5)||[];return{type:i[1],ns:(i[2]||s.m5).replace(b,".").replace(S,s.m5)[o.sY](".").sort().join(".")}}function P(e,t,r){var i=[],a=E.get(e,f,{},!1),c=C(t,r);return(0,n.zav)(a,(function(e,t){(0,n.Iuo)(t,(function(e){c[o.QM]&&c[o.QM]!==e[o.RD][o.QM]||c.ns&&c.ns!=c.ns||i[o.y5]({name:e.evtName[o.QM]+(e[o.RD].ns?"."+e[o.RD].ns:s.m5),handler:e.handler})}))})),i}function I(e,t,r){void 0===r&&(r=!0);var n=E.get(e,f,{},r),o=n[t];return o||(o=n[t]=[]),o}function R(e,t,r,n){e&&t&&t[o.QM]&&(e[d]?e[d](t[o.QM],r,n):e[u]&&e[u](a+t[o.QM],r))}function L(e,t,r,n){for(var i=t[o.oI];i--;){var s=t[i];s&&(r.ns&&r.ns!==s[o.RD].ns||n&&!n(s)||(R(e,s[o.RD],s.handler,s.capture),t[o.Ic](i,1)))}}function k(e,t){return t?C("xx",(0,n.cyL)(t)?[e].concat(t):[e,t]).ns[o.sY]("."):e}function D(e,t,r,n,i){void 0===i&&(i=!1);var s=!1;if(e)try{var u=C(t,n);if(s=function(e,t,r,n){var i=!1;return e&&t&&t[o.QM]&&r&&(e[l]?(e[l](t[o.QM],r,n),i=!0):e[c]&&(e[c](a+t[o.QM],r),i=!0)),i}(e,u,r,i),s&&E.accept(e)){var d={guid:_++,evtName:u,handler:r,capture:i};I(e,u.type)[o.y5](d)}}catch(e){}return s}function A(e,t,r,i,s){if(void 0===s&&(s=!1),e)try{var a=C(t,i),c=!1;!function(e,t,r){if(t[o.QM])L(e,I(e,t[o.QM]),t,r);else{var i=E.get(e,f,{});(0,n.zav)(i,(function(n,o){L(e,o,t,r)})),0===(0,n.cGk)(i)[o.oI]&&E.kill(e,f)}}(e,a,(function(e){return!((!a.ns||r)&&e.handler!==r||(c=!0,0))})),c||R(e,a,r,s)}catch(e){}}function O(e,t,r,n){return void 0===n&&(n=!1),D(e,t,r,null,n)}function W(e,t,r,n){void 0===n&&(n=!1),A(e,t,r,null,n)}function M(e,t,r){var o=!1,i=(0,n.zkX)();i&&(o=D(i,e,t,r),o=D(i.body,e,t,r)||o);var s=(0,n.YEm)();return s&&(o=D(s,e,t,r)||o),o}function N(e,t,r){var o=(0,n.zkX)();o&&(A(o,e,t,r),A(o.body,e,t,r));var i=(0,n.YEm)();i&&A(i,e,t,r)}function F(e,t,r,i){var s=!1;return t&&e&&e[o.oI]>0&&(0,n.Iuo)(e,(function(e){e&&(r&&-1!==(0,n.rDm)(r,e)||(s=M(e,t,i)||s))})),s}function q(e,t,r,i){var s=!1;return t&&e&&(0,n.cyL)(e)&&!(s=F(e,t,r,i))&&r&&r[o.oI]>0&&(s=F(e,t,null,i)),s}function U(e,t,r){e&&(0,n.cyL)(e)&&(0,n.Iuo)(e,(function(e){e&&N(e,t,r)}))}function $(e,t,r){return q([g,v,p],e,t,r)}function j(e,t){U([g,v,p],e,t)}function B(e,t,r){var o=k(y,r),i=F([p],e,t,o);return t&&-1!==(0,n.rDm)(t,h)||(i=F([h],(function(t){var r=(0,n.YEm)();e&&r&&"hidden"===r.visibilityState&&e(t)}),t,o)||i),!i&&t&&(i=B(e,null,r)),i}function z(e,t){var r=k(y,t);U([p],e,r),U([h],null,r)}function V(e,t,r){var o=k(w,r),i=F([m],e,t,o);return!(i=F([h],(function(t){var r=(0,n.YEm)();e&&r&&"visible"===r.visibilityState&&e(t)}),t,o)||i)&&t&&(i=V(e,null,r)),i}function H(e,t){var r=k(w,t);U([m],e,r),U([h],null,r)}},6182:(e,t,r)=>{"use strict";r.d(t,{$5:()=>_,$o:()=>L,AP:()=>b,Bl:()=>R,Cd:()=>X,DI:()=>E,Di:()=>x,HC:()=>M,Ic:()=>u,Ik:()=>k,JR:()=>D,Ju:()=>p,OL:()=>n,O_:()=>K,QM:()=>j,RD:()=>B,RF:()=>w,RS:()=>S,Rr:()=>ee,Uw:()=>d,Vq:()=>G,W7:()=>$,XM:()=>T,YH:()=>F,Zu:()=>H,_w:()=>f,by:()=>P,c1:()=>Y,cV:()=>z,cp:()=>J,do:()=>Q,e4:()=>O,e_:()=>Z,h3:()=>m,ih:()=>s,mE:()=>h,oI:()=>o,on:()=>i,pF:()=>y,pM:()=>A,s:()=>I,sY:()=>U,tI:()=>C,tX:()=>q,tZ:()=>g,tn:()=>W,uR:()=>N,vR:()=>v,wJ:()=>V,x6:()=>a,y5:()=>l,y9:()=>c});var n="toLowerCase",o="length",i="warnToConsole",s="throwInternal",a="watch",c="apply",l="push",u="splice",d="logger",f="cancel",h="initialize",p="identifier",m="removeNotificationListener",v="addNotificationListener",g="isInitialized",y="value",w="getNotifyMgr",b="getPlugin",S="name",_="processNext",E="getProcessTelContext",T="enabled",x="stopPollingInternalLogs",C="unload",P="onComplete",I="version",R="loggingLevelConsole",L="createNew",k="teardown",D="messageId",A="message",O="diagLog",W="_doTeardown",M="update",N="getNext",F="setNextPlugin",q="userAgent",U="split",$="replace",j="type",B="evtName",z="status",V="getAllResponseHeaders",H="isChildEvt",X="data",K="getCtx",Z="setCtx",J="itemsReceived",G="urlString",Y="headers",Q="timeout",ee="traceFlags"},6449:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WslConfig=t.WslConfigs=void 0;const n=r(9023),o=r(9896),i=r(6928);var s,a;!function(e){e.localhostForwarding="localhostForwarding"}(s||(t.WslConfigs=s={})),function(e){e.unknown="",e.wsl="[wsl2]",e.experimental="[experimental]"}(a||(a={}));class c{static create(){return c.instance||(c.instance=new c),c.instance}constructor(){}parseConfigFile(e){this.wslConfig={};const t=e.split("\n");let r=a.unknown;for(let e of t){e=e.trim();const t=e.indexOf("#");if(t>=0&&(e=e.substring(0,t).trim()),0!==e.length)if(e===a.wsl)r=a.wsl;else if(e===a.experimental)r=a.experimental;else if(r===a.wsl){const[t,r]=e.split("=");if(t&&r){const e=t.trim(),n=r.trim();Object.values(s).includes(e)&&(this.wslConfig[e]=n)}}}return this.wslConfig}async loadConfig(){if(this.wslConfig)return this.wslConfig;const e=(0,n.promisify)(o.readFile),t=i.join(process.env.USERPROFILE??process.env.HOME??"",".wslConfig");let r;try{r=await e(t,"utf-8")}catch(e){r=""}return this.wslConfig=this.parseConfigFile(r),this.wslConfig}async get(e){return(await this.loadConfig())[e]}}t.WslConfig=c},6492:(e,t,r)=>{"use strict";r.d(t,{Bw:()=>l,Ev:()=>w,Fk:()=>S,HP:()=>n,Hr:()=>c,LZ:()=>i,QW:()=>_,Vj:()=>y,Vo:()=>f,Yd:()=>a,Yp:()=>p,dI:()=>m,eT:()=>s,fc:()=>h,jy:()=>u,kI:()=>b,l0:()=>v,m5:()=>o,qT:()=>d,s4:()=>g,xW:()=>E});var n=void 0,o="",i="channels",s="core",a="createPerfMgr",c="disabled",l="extensionConfig",u="extensions",d="processTelemetry",f="priority",h="eventsSent",p="eventsDiscarded",m="eventsSendRequest",v="perfEvent",g="offlineEventsStored",y="offlineBatchSent",w="offlineBatchDrop",b="getPerfMgr",S="domain",_="path",E="Not dynamic - "},6535:(e,t,r)=>{"use strict";r.d(t,{Si:()=>g,VN:()=>v,Z1:()=>m});var n=r(269),o=r(6182),i=r(7292),s=r(6492),a=4294967296,c=4294967295,l=123456789,u=987654321,d=!1,f=l,h=u;function p(){try{var e=2147483647&(0,n.f0d)();(t=(Math.random()*a^e)+e)<0&&(t>>>=0),f=l+t&c,h=u-t&c,d=!0}catch(e){}var t}function m(e){return e>0?(0,n.ZrT)(v()/c*(e+1))>>>0:0}function v(e){var t=0,r=(0,i.MY)()||(0,i.iN)();return r&&r.getRandomValues&&(t=r.getRandomValues(new Uint32Array(1))[0]&c),0===t&&(0,i.lT)()&&(d||p(),t=function(){var e=((h=36969*(65535&h)+(h>>16)&c)<<16)+(65535&(f=18e3*(65535&f)+(f>>16)&c))>>>0&c;return e>>>=0}()&c),0===t&&(t=(0,n.ZrT)(a*Math.random()|0)),e||(t>>>=0),t}function g(e){void 0===e&&(e=22);for(var t=v()>>>0,r=0,n=s.m5;n[o.oI]<e;)r++,n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===r&&(t=(v()<<2&4294967295|3&t)>>>0,r=0);return n}},6790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFeatureProvider=void 0,t.BaseFeatureProvider=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}}},6928:e=>{"use strict";e.exports=require("path")},6982:e=>{"use strict";e.exports=require("crypto")},7015:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0,t.getNodeExecServer=function(){return{async exec({env:e,cmd:t,args:r,cwd:n,output:s,options:l}){const u=n?` in ${n}}`:"",d=`NodeExecServer run: ${t} ${r?.join(" ").replace(/\n/g,"\\n")??""}${u}`;s.write(d),l?.verbose&&s.write(`NodeExecServer: ${i.platform} - ${i.platform}, env:`);const f={windowsHide:l?.windowsHide,shell:l?.shell,env:e,cwd:n,windowsVerbatimArguments:l?.windowsVerbatimArguments,stdio:"pipe"},h=o.spawn(t,r,f),p=a(h.stdout),m=a(h.stderr);return{stdin:(v=h.stdin,{id:c++,write(e){v.write(e)},end(){v.end()}}),stdout:p,stderr:m,exit:new Promise(((e,t)=>{h.once("error",(e=>{l?.verbose&&s.write(`NodeExecServer: Error ${e.message}`),t(e)})),h.once("exit",((t,r)=>{l?.verbose&&s.write(`NodeExecServer: Exit ${t} ${r}`),Promise.all([p.onEnd,m.onEnd]).then((()=>{e({status:t??0,message:r??void 0})}))}))})),async terminate(){h.kill("SIGKILL")}};var v},acquireCli(){throw new Error("Not implemented")},spawnCli(){throw new Error("Not implemented")},serve(){throw new Error("Not implemented")},fs:{async stat(e){try{const t=await s.promises.stat(e);let r=t.isFile()?n.FileType.File:t.isDirectory()?n.FileType.Directory:n.FileType.Unknown;return t.isSymbolicLink()&&(r|=n.FileType.SymbolicLink),{type:r}}catch(e){return}}},getEnv:async()=>({env:process.env,osRelease:i.release(),osPlatform:function(){switch(i.platform()){case"win32":return"win32";case"darwin":return"darwin";default:return"linux"}}()})}};const n=r(7153),o=r(5317),i=r(857),s=r(9896);function a(e,t){const r=new u,n=new l;return{id:c++,onData(o,i,s){const a=n.event(o,i,s);return 1===n.size&&(e.on("data",(e=>{t?.write(`toReadStream: on('data')) : ${e.length}`),n.fire(e)})),e.on("end",(()=>{t?.write("toReadStream: end)"),r.complete()}))),a},onEnd:r.p}}let c=2e4;class l{constructor(){this.event=(e,t,r)=>{const n=this.add(t?e.bind(t):e);return Array.isArray(r)&&r.push(n),n}}get size(){return this.listeners?"function"==typeof this.listeners?1:this.listeners.length:0}fire(e){if(this.listeners)if("function"==typeof this.listeners)this.listeners(e);else for(const t of this.listeners)t(e)}dispose(){this.listeners=void 0}add(e){return this.listeners?"function"==typeof this.listeners?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.rm(e)}}rm(e){if(!this.listeners)return;if("function"==typeof this.listeners)return void(this.listeners===e&&(this.listeners=void 0));const t=this.listeners.indexOf(e);-1!==t&&(2===this.listeners.length?this.listeners=0===t?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,t).concat(this.listeners.slice(t+1)))}}t.EventEmitter=l;class u{get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise(((e,t)=>{this.completeCallback=e,this.errorCallback=t}))}complete(e){this.completeCallback(e),this.resolved=!0}error(e){this.errorCallback(e),this.rejected=!0}}},7153:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WSLExecError=t.WSLExecErrorCode=t.WIN10_1803=t.WIN10_1903=t.WIN10_2004=t.WIN10_21H1=t.FileType=void 0,t.getWSLExecServer=async function(e,r,n){const u=c.get(r)||await e().then((e=>e.getEnv()));c.set(r,u);const{env:d,osPlatform:f,osRelease:h}=u,p="win32"===f&&h&&/(\d+)\.(\d+)\.(\d+)/g.exec(h),m="utf16le",v=p&&4===p.length?parseInt(p[3]):0;function g(...e){const t=d.SystemRoot;if(t)return function(...e){let t=e[0];for(let r=1;r<e.length;r++){const n=e[r];t.endsWith("\\")&&n.startsWith("\\")||(t+="\\"),t+=n}return t}(t,d.PROCESSOR_ARCHITEW6432?"Sysnative":"System32",...e)}function y(){return v>=16299}function w(){return g(y()?"wsl.exe":"bash.exe")}async function b(t,r){const o=w();if(!o)throw new a(s.WSLCommandNotFound);const i={windowsVerbatimArguments:!0,verbose:r},c={...process.env,WSL_UTF8:"0"};return l(await e().then((e=>e.exec({cmd:o,args:t,output:n,env:c,options:i}))),m,void 0,r?n:void 0)}const S=(0,o.onceSuccessfully)((async()=>{if("win32"!==f)return n.write("WSL feature installed: false (not win32)"),!1;if(!(v>=22e3)){const t=g("lxss","LxssManager.dll");if(t)try{const r=await e().then((e=>e.fs.stat(t))),o=!!r&&!!(r.type|i.File);return n.write(`WSL feature installed: ${o} (dll path)`),!0}catch(e){}return n.write("WSL feature installed: false (no dll path)"),!1}try{const e=!(await b(["--status"])).status;return n.write(`WSL feature installed: ${e} (wsl --status)`),n.write(`WSL command encoding: ${m}`),e}catch(e){throw n.write(`WSL feature installed: false (wsl --status failed, ${e.message})`),new a(s.WSLStatusFailed,e.message)}}));function _(e,t,r){const n=[];return T()?(n.push("-d",e),!0!==r&&n.push("-e"),n.push("sh","-c",t)):y()?n.push("sh","-c",t):n.push("-c",t),n}function E(t,r,{env:o,cwd:i,options:c,useDefaultShell:l}={}){const u=w();if(!u)throw new a(s.WSLCommandNotFound);const d=_(t,r,l);return e().then((e=>e.exec({cmd:u,args:d,output:n,env:o,cwd:i,options:c})))}function T(){return v>=17666}return{windowsBuildNumber:v,hostAuthority:r,getWSLExecutablePath:w,runWSLCommandLine:b,runWSLConfigCommandLine:async function(t,r){const o=g("wslconfig.exe");if(!o)throw new a(s.WSLCommandNotFound);const i={windowsVerbatimArguments:!0,verbose:r},c={...process.env,WSL_UTF8:"0"};return l(await e().then((e=>e.exec({cmd:o,args:t,output:n,env:c,options:i}))),"utf16le",void 0,r?n:void 0)},isWSLInstalled:S,executeDistroShellCommand:E,getDistroShellCommandArgs:_,executeDistroExe:function(t,r,{env:o,cwd:i,options:c,useDefaultShell:l}={}){const u=w();if(!u)throw new a(s.WSLCommandNotFound);const d=[];return T()?(d.push("-d",t),!0!==l&&d.push("-e"),d.push(...r)):d.push(...r),e().then((e=>e.exec({cmd:u,args:d,output:n,env:o,cwd:i,options:c})))},executeWslPath:async function(e,t,r){let n;if(r){const r='echo "$VSCODE_WSL_PATH"',o={env:{WSLENV:"VSCODE_WSL_PATH/up",VSCODE_WSL_PATH:t}};n=await E(e,r,o)}else{const r='wslpath -w "$VSCODE_WSL_PATH"',o={env:{WSLENV:"VSCODE_WSL_PATH/u",VSCODE_WSL_PATH:t}};n=await E(e,r,o)}const o=await l(n);if(!o.status)return o.stdout.trim();throw new a(s.WSLPathConversionFailed,o.stderr)},getExecServer:e,isDistroEnvVarAvailable:()=>v>=t.WIN10_1903.build,isWSLPathAvailable:()=>v>=17046,isWSL2Available:()=>v>=18917||v>=t.WIN10_1903.build&&"maybe",isWSLEnvAvailable:()=>v>=17063,isExecAndDistroArgumentSupported:T,isWSLInExplorerAvailable:()=>v>=18342,env:d,osPlatform:f}},t.runExec=l,t.runExecWithLogger=async function(e,t,r,o){const i=new TextDecoder(r);return new Promise(((r,s)=>{e.stdout.onData((e=>{t.write(i.decode(e))})),e.stderr.onData((e=>{t.write(i.decode(e),n.LogLevel.error)})),e.exit.then((({status:e})=>{try{r(e||0)}catch(e){s(e)}}),s),o&&(o.on("data",(t=>{e.stdin.write(t)})),o.on("end",(()=>{e.stdin.end()})))}))};const n=r(5732),o=r(2552);var i,s;!function(e){e[e.Unknown=0]="Unknown",e[e.File=1]="File",e[e.Directory=2]="Directory",e[e.SymbolicLink=64]="SymbolicLink"}(i||(t.FileType=i={})),t.WIN10_21H1={label:"Windows 10, May 2021 Update, version 21H1",build:19043},t.WIN10_2004={label:"Windows 10, May 2020 Update, version 2004",build:19041},t.WIN10_1903={label:"Windows 10, May 2019 Update, version 1903",build:18362},t.WIN10_1803={label:"Windows 10, April 2018 Update, version 1803",build:17134},function(e){e[e.WSLCommandNotFound=0]="WSLCommandNotFound",e[e.SystemRootNotFound=1]="SystemRootNotFound",e[e.WSLStatusFailed=2]="WSLStatusFailed",e[e.WSLPathConversionFailed=3]="WSLPathConversionFailed"}(s||(t.WSLExecErrorCode=s={}));class a extends Error{constructor(e,t){super(t),this.wslError=e}}t.WSLExecError=a;const c=new Map;async function l(e,t,r,n){return new Promise(((o,i)=>{const s=[],a=[];e.stdout.onData((e=>{s.push(e),n?.write(`runExec stdout (len: ${e.length}): ${JSON.stringify(e)}`)})),e.stderr.onData((e=>{a.push(e),n?.write(`runExec stderr (len: ${e.length}): ${Buffer.from(e).toString("hex")}`)})),e.exit.then((({status:e})=>{try{const r=Buffer.concat(s).toString(t),i=Buffer.concat(a).toString(t);n?.write(`runExec exit (stdout: chucks: ${s.length}, len: ${r.length}, stderr: chucks: ${a.length}, len: ${i.length})`),0===r.length&&s.length&&n?.write(JSON.stringify(Buffer.concat(s))),o({stdout:r,stderr:i,status:e||0})}catch(e){n?.write(`runExec exit (error: ${e})`),i(e)}}),i),r&&(r.on("data",(t=>{e.stdin.write(t)})),r.on("end",(()=>{e.stdin.end()})))}))}},7159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8898),o=r(311);let i="Content-Length: ",s="\r\n";(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&o.func(t.dispose)&&o.func(t.onClose)&&o.func(t.onError)&&o.func(t.write)};class a{constructor(){this.errorEmitter=new n.Emitter,this.closeEmitter=new n.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${o.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=a,t.StreamMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",(e=>this.fireError(e))),this.writable.on("close",(()=>this.fireClose()))}write(e){let t=JSON.stringify(e),r=Buffer.byteLength(t,this.encoding),n=[i,r.toString(),s,s];try{this.writable.write(n.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}},t.IPCMessageWriter=class extends a{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,(t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}},t.SocketMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",(e=>this.fireError(e))),this.socket.on("close",(()=>this.fireClose()))}dispose(){super.dispose(),this.socket.destroy()}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){let t=JSON.stringify(e),r=Buffer.byteLength(t,this.encoding),n=[i,r.toString(),s,s];try{this.sending=!0,this.socket.write(n.join(""),"ascii",(r=>{r&&this.handleError(r,e);try{this.socket.write(t,this.encoding,(t=>{this.sending=!1,t?this.handleError(t,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(r){this.handleError(r,e)}}))}catch(t){this.handleError(t,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}},7288:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(3720);const o=class extends n.A{#o=0;#i="";constructor(e,t,r={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,r),null===r&&(r={});const n=void 0===r.lastModified?Date.now():Number(r.lastModified);Number.isNaN(n)||(this.#o=n),this.#i=String(t)}get name(){return this.#i}get lastModified(){return this.#o}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof n.A&&/^(File)$/.test(e[Symbol.toStringTag])}}},7291:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentationService=void 0;const n=r(5226),o=r(1924),i=r(5761);class s extends i.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],null!=e.refetchInterval?e.refetchInterval:0,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage),this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new n.TasApiFeatureProvider(new o.HttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}t.ExperimentationService=s,s.REFRESH_RATE_IN_MINUTES=30},7292:(e,t,r)=>{"use strict";r.d(t,{$Z:()=>q,Iu:()=>U,L0:()=>A,MY:()=>R,PV:()=>M,R7:()=>W,U5:()=>C,Uf:()=>O,Z:()=>P,cU:()=>T,g$:()=>x,hm:()=>I,iN:()=>L,lT:()=>D,lV:()=>k,xk:()=>N});var n=r(5664),o=r(269),i=r(6182),s=r(3673),a=r(6492),c="documentMode",l="location",u="console",d="JSON",f="crypto",h="msCrypto",p="ReactNative",m="msie",v="trident/",g="XMLHttpRequest",y=null,w=null,b=!1,S=null,_=null;function E(e,t){var r=!1;if(e){try{if(!(r=t in e)){var i=e[n.vR];i&&(r=t in i)}}catch(e){}if(!r)try{var s=new e;r=!(0,o.b07)(s[t])}catch(e){}}return r}function T(e){b=e}function x(e){if(e&&b){var t=(0,o.zS2)("__mockLocation");if(t)return t}return typeof location===n._1&&location?location:(0,o.zS2)(l)}function C(){return typeof console!==n.bA?console:(0,o.zS2)(u)}function P(){return Boolean(typeof JSON===n._1&&JSON||null!==(0,o.zS2)(d))}function I(){return P()?JSON||(0,o.zS2)(d):null}function R(){return(0,o.zS2)(f)}function L(){return(0,o.zS2)(h)}function k(){var e=(0,o.w3n)();return!(!e||!e.product)&&e.product===p}function D(){var e=(0,o.w3n)();if(e&&(e[i.tX]!==w||null===y)){var t=((w=e[i.tX])||a.m5)[i.OL]();y=(0,s.Ju)(t,m)||(0,s.Ju)(t,v)}return y}function A(e){if(void 0===e&&(e=null),!e){var t=(0,o.w3n)()||{};e=t?(t.userAgent||a.m5)[i.OL]():a.m5}var r=(e||a.m5)[i.OL]();if((0,s.Ju)(r,m)){var n=(0,o.YEm)()||{};return(0,o.JBS)(parseInt(r[i.sY](m)[1]),n[c]||0)}if((0,s.Ju)(r,v)){var l=parseInt(r[i.sY](v)[1]);if(l)return l+4}return null}function O(e){return null!==_&&!1!==e||(_=(0,o.w9M)()&&Boolean((0,o.w3n)().sendBeacon)),_}function W(e){var t=!1;try{t=!!(0,o.zS2)("fetch");var r=(0,o.zS2)("Request");t&&e&&r&&(t=E(r,"keepalive"))}catch(e){}return t}function M(){return null===S&&(S=typeof XDomainRequest!==n.bA)&&N()&&(S=S&&!E((0,o.zS2)(g),"withCredentials")),S}function N(){var e=!1;try{e=!!(0,o.zS2)(g)}catch(e){}return e}function F(e,t){if(e)for(var r=0;r<e[i.oI];r++){var n=e[r];if(n[i.RS]&&n[i.RS]===t)return n}return{}}function q(e){var t=(0,o.YEm)();return t&&e?F(t.querySelectorAll("meta"),e).content:null}function U(e){var t,r=(0,o.FJj)();if(r){var n=r.getEntriesByType("navigation")||[];t=F((n[i.oI]>0?n[0]:{}).serverTiming,e).description}return t}},7368:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runDaemon=function(e,t){return new Promise(((r,o)=>{try{let d=!1;function p(e){d||(d=!0,r(e))}const m={};Object.keys(process.env).forEach((e=>{m[e]=process.env[e]})),m.VSCODE_WSL_AGENT_DEBUG_PORT=f,m.VSCODE_WSL_PIPE_NAME=function(e){const t=function(){const e=n.extensions.getExtension("ms-vscode-remote.remote-wsl");return e&&e.packageJSON.version||0}(),{commit:r,quality:o}=e.productConfiguration;return`\\\\.\\pipe\\vscode-wsl-${i.createHash("sha256").update(r||"dev").update(o||"insider").update(e.distro.toLowerCase()).update(s.userInfo()?.username||"").update(String(t)).update(e.telemetryLevel).digest("hex")}-sock`}(e),m.VSCODE_WSL_EXT_HOST_PID=String(process.pid),m.VSCODE_WSL_EXT_LOCATION=e.wslExtensionLocation,m.VSCODE_WSL_APP_ROOT=n.env.appRoot,m.VSCODE_FILE_WATCHER_POLLING=String(e.fileWatcherPolling),m.VSCODE_WSL_DISTRO=e.distro,m.VSCODE_WSL_DEFAULT_DISTRO=e.defaultDistro,m.VSCODE_WSL_VERSION=e.wslVersion,m.VSCODE_WSL_LOG_FILE_LOCATION=t??"",m.VSCODE_TELEMETRY_LEVEL=e.telemetryLevel,m.VSCODE_WSL_SERVER_PORT=String(e.serverPort),m.VSCODE_L10N_BUNDLE_LOCATION=n.l10n.uri?.toString(!1)??"",e.useScriptlessStartup&&(m.VSCODE_WSL_SCRIPTLESS_STARTUP="true"),e.enableDebug&&(m.VSCODE_WSL_DEBUG_INFO="true"),e.enableTelemetry&&(m.VSCODE_WSL_ENABLE_TELEMETRY="true");const v={stdio:["pipe","pipe","pipe","ipc"],detached:!0,env:m,execArgv:[],cwd:process.cwd()},g=a.fork(h,[],v),y=c.createMessageConnection(new c.StreamMessageReader(g.stdout),new c.StreamMessageWriter(g.stdin));y.listen(),y.onNotification(u.ProgressNotification,(t=>e.sendProgress(t))),y.onNotification(u.LogNotification,(t=>e.logger.write(t[0],t[1]))),y.onNotification(u.PortResolvedNotification,p),y.onNotification(u.FatalErrorOccuredNotification,p),y.onRequest(u.DownloadRequest,(t=>e.sendDownloadRequest(t.commit,t.platform,(e=>y.sendProgress(u.DownloadProgress,t.progressToken,e))))),y.onRequest(u.MakeDefaultRequest,(t=>e.setDefaultDistro(t.distro,t.current))),g.on("error",(t=>{p({kind:"failure",reason:l.FailureReason.DaemonError,message:String(t),wslVersion:e.wslVersion,platform:void 0,checkLog:!0,handled:!1,modal:!1,isRecoverable:!0})})),g.on("close",(t=>{p({kind:"failure",reason:l.FailureReason.DaemonClosed,message:`WSL Daemon exited with code ${t}`,wslVersion:e.wslVersion,platform:void 0,checkLog:!0,handled:!1,modal:!1,isRecoverable:!0})}))}catch(w){o(w)}}))};const n=r(1398),o=r(6928),i=r(6982),s=r(857),a=r(5317),c=r(4590),l=r(5732),u=r(5569),d=!!process.env.VSCODE_DEV,f=process.env.VSCODE_WSL_AGENT_DEBUG_PORT||(d?String(1025+Math.floor(64510*Math.random())):""),h=o.join(__dirname,"wslDaemon.js")},7485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allPlatforms=void 0,t.getDownloadService=function(e,r,h,p,m){const{updateUrl:v,quality:g,commit:y}=h;return y&&g&&v?function(e,r,h,p,m,v,g){const y=v?.l10n??{t:e=>e},w=g??i.join(a.homedir(),"vscode-remote-wsl");let b,S=!1;return{start(){if(void 0!==b)return;let t,r,o=!1;m.write("Download in background is enabled"),p.update(f,!1),b=setInterval((async()=>{const i=(new Date).getTime();if(p.get(d,0)>i-l)o||(m.write("Update check by another window detected, skipping."),o=!0);else if(o=!1,p.update(d,i),!p.get(f,!1))try{p.update(f,!0);const o=await async function(e){if(!e)return;const t=e.workspace.getConfiguration().get("remote.WSL.downloadInBackgroundCommit");if(t)return t;const r=await e.commands.executeCommand("_update.state");return r&&r.update?r.update.version:void 0}(v);if(o)if(t!==o){if(m.write("New commit detected: "+o),r&&t!==e){try{m.write("Removing old download: "+r),n.promises.rm(r,{recursive:!0,force:!0})}catch(e){m.write("Ignoring error removing old download: "+r)}r=void 0}r=await _(o),t=o}else S&&(m.write("Checking for additional platform downloads for commit "+o),r=await _(o),S=!1)}catch(e){m.write("Problems getting update information "+(e.message||e.toString()))}finally{p.update(f,!1)}}),l)},stop(){b&&(clearInterval(b),b=void 0,m.write("Download in background is disabled"))},onPlatformUsed(e){e&&(p.update(u+e,(new Date).getTime()),S=!0)},getOrDownloadBuild:E};async function _(e){const r=function(){const e=(new Date).getTime();return t.allPlatforms.filter((t=>p.get(u+t,0)>e-c))}();if(0!==r.length){m.write("Recently used WSL platforms: "+r.join(", "));for(const t of r)await E(e,t,(()=>{}));return C(e,h)}m.write("No recently used WSL platforms found. Skipping download.")}async function E(e,t,o){const s=function(e,t,r,n){return`${e}/commit:${t}/server-${r}/${n||"insider"}`}(r,e,t,h),a=function(e,t,r){return i.join(C(t,e),`vscode-server-${e}-${r}.tar.gz`)}(h,e,t);return await async function(e){try{return(await n.promises.stat(e)).isFile()}catch(e){return!1}}(a)?m.write(`Found ${a}. Skipping download.`):(m.write(`Downloading VS Code Server ${h} - ${e} into ${a}.`),await async function(e,t,r){await n.promises.mkdir(i.dirname(t),{recursive:!0});const o=`${t}_${Date.now()}`;await x(e,o,r);try{await n.promises.rename(o,t)}catch(e){throw await T(o),e}return t}(s,a,o)),a}function T(e){return n.promises.unlink(e).catch((t=>{m.write(`Ignoring error when deleting ${e}: ${t}`)}))}function x(e,t,r,i=5,a=void 0){return new Promise(((c,l)=>{const u=async e=>{await T(t),l(e)},d=(0,n.createWriteStream)(t),f=s.get(e,(s=>{const f=s.headers["x-sha256"],h=s.headers["content-length"];if(a||"string"!=typeof f||(a=f),i>0&&(s.statusCode>=300&&s.statusCode<=303||307===s.statusCode)){const e=s.headers.location;if(e)return x(e,t,r,i-1,a).then(c,l),void s.resume()}if(s.statusCode<200||s.statusCode>299)return l(y.t("Failed to download VS Code Server from {0}: HTTP {1} - {2}",e,s.statusCode,s.statusMessage)),void s.resume();m.write(`Download checksum: ${a}`);const p=parseInt(s.headers["content-length"]||"0");if(p){let e=0,t=0;s.on("data",(n=>{e+=n.length,t++%8==0&&r({received:e,total:p})}))}s.once("error",u),s.pipe(d),d.once("finish",(async()=>{const e=await async function(e,t,r){if(t)return new Promise((r=>{const i=o.createHash("sha256"),s=(0,n.createReadStream)(e);s.on("data",(e=>i.update(e))),s.on("end",(()=>r(t!==i.digest("hex")?y.t("Download checksum does not match."):void 0)))}));if(r)return(await n.promises.stat(e)).size!==parseInt(r)?y.t("Download length does not match."):void 0}(t,a,h);e?u(e):(void 0!==a&&m.write("Download checksum verified"),void 0!==a&&m.write("Download length verified"),c())})),d.once("error",u)}));f.on("error",u),f.end()}))}function C(e,t){return i.join(w,t,e||"dev")}}(y,v,g,e,r,p,m):{start(){},stop(){},onPlatformUsed(){},getOrDownloadBuild:async()=>""}};const n=r(9896),o=r(6982),i=r(6928),s=r(5692),a=r(857),c=12096e5,l=3e4,u="wsl.usageTime.",d="wsl.lastUpdateCheck",f="wsl.downloadInProgress";t.allPlatforms=["linux-x64","linux-alpine","linux-arm64","alpine-arm64"]},7830:e=>{"use strict";e.exports=require("node:stream/web")},7847:(e,t,r)=>{"use strict";r.d(t,{i:()=>n,x:()=>o});var n=500,o="Microsoft_ApplicationInsights_BypassAjaxInstrumentation"},7867:(e,t,r)=>{"use strict";r.d(t,{$:()=>u,M:()=>d});var n,o=r(269),i=r(6182),s=r(6492),a=[s.fc,s.Yp,s.dI,s.l0],c=null;function l(e,t){return function(){var r=arguments,n=u(t);if(n){var o=n.listener;o&&o[e]&&o[e][i.y9](o,r)}}}function u(e){var t,r=c;return r||!0===e.disableDbgExt||(r=c||((t=(0,o.zS2)("Microsoft"))&&(c=t.ApplicationInsights),c)),r?r.ChromeDbgExt:null}function d(e){if(!n){n={};for(var t=0;t<a[i.oI];t++)n[a[t]]=l(a[t],e)}return n}},8142:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MementoKeyValueStorage=void 0,t.MementoKeyValueStorage=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,t){return await this.mementoGlobalStorage.get(e)||t}setValue(e,t){this.mementoGlobalStorage.update(e,t)}}},8156:(e,t,r)=>{"use strict";r.d(t,{NS:()=>f,Q6:()=>d,Z4:()=>m,r2:()=>p});var n=r(8279),o=r(269),i=r(6182),s=r(6492),a="ctx",c="ParentContextKey",l="ChildrenContextKey",u=null,d=function(){function e(t,r,n){var s,u=this;u.start=(0,o.f0d)(),u[i.RS]=t,u.isAsync=n,u[i.Zu]=function(){return!1},(0,o.Tnt)(r)&&(0,o.vF1)(u,"payload",{g:function(){return!s&&(0,o.Tnt)(r)&&(s=r(),r=null),s}}),u[i.O_]=function(t){return t?t===e[c]||t===e[l]?u[t]:(u[a]||{})[t]:null},u[i.e_]=function(t,r){t&&(t===e[c]?(u[t]||(u[i.Zu]=function(){return!0}),u[t]=r):t===e[l]?u[t]=r:(u[a]=u[a]||{})[t]=r)},u.complete=function(){var t=0,r=u[i.O_](e[l]);if((0,o.cyL)(r))for(var n=0;n<r[i.oI];n++){var s=r[n];s&&(t+=s.time)}u.time=(0,o.f0d)()-u.start,u.exTime=u.time-t,u.complete=function(){}}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),f=function(){function e(t){this.ctx={},(0,n.A)(e,this,(function(e){e.create=function(e,t,r){return new d(e,t,r)},e.fire=function(e){e&&(e.complete(),t&&(0,o.Tnt)(t[s.l0])&&t[s.l0](e))},e[i.e_]=function(t,r){t&&((e[a]=e[a]||{})[t]=r)},e[i.O_]=function(t){return(e[a]||{})[t]}}))}return e.__ieDyn=1,e}(),h="CoreUtils.doPerf";function p(e,t,r,n,o){if(e){var a=e;if(a[s.kI]&&(a=a[s.kI]()),a){var u=void 0,f=a[i.O_](h);try{if(u=a.create(t(),n,o)){if(f&&u[i.e_]&&(u[i.e_](d[c],f),f[i.O_]&&f[i.e_])){var p=f[i.O_](d[l]);p||(p=[],f[i.e_](d[l],p)),p[i.y5](u)}return a[i.e_](h,u),r(u)}}catch(e){u&&u[i.e_]&&u[i.e_]("exception",e)}finally{u&&a.fire(u),a[i.e_](h,f)}}}return r()}function m(){return u}},8167:e=>{"use strict";e.exports=require("worker_threads")},8205:(e,t,r)=>{"use strict";r.d(t,{Dv:()=>l,Qo:()=>A,Rf:()=>k,Xf:()=>O,lh:()=>D});var n,o,i,s=r(269),a="Promise",c="rejected";function l(e,t){return u(e,(function(e){return t?t({status:"fulfilled",rejected:!1,value:e}):e}),(function(e){return t?t({status:c,rejected:!0,reason:e}):e}))}function u(e,t,r,n){var o=e;try{if((0,s.$XS)(e))(t||r)&&(o=e.then(t,r));else try{t&&(o=t(e))}catch(e){if(!r)throw e;o=r(e)}}finally{n&&function(e,t){var r=e;t&&((0,s.$XS)(e)?r=e.finally?e.finally(t):e.then((function(e){return t(),e}),(function(e){throw t(),e})):t())}(o,n)}return o}var d,f=!1,h=["pending","resolving","resolved",c],p="dispatchEvent";function m(e){var t;return e&&e.createEvent&&(t=e.createEvent("Event")),!!t&&t.initEvent}var v,g,y,w,b="unhandledRejection",S=b.toLowerCase(),_=[],E=0,T=10;function x(e){return(0,s.Tnt)(e)?e.toString():(0,s.mmD)(e)}function C(e,t,r){var c,l,u=(0,s.KVm)(arguments,3),g=0,y=!1,w=[],C=E++,P=_.length>0?_[_.length-1]:void 0,I=!1,R=null;function L(t,r){try{return _.push(C),I=!0,R&&R.cancel(),R=null,e((function(e,n){w.push((function(){try{var o=2===g?t:r,i=(0,s.b07)(o)?c:(0,s.Tnt)(o)?o(c):o;(0,s.$XS)(i)?i.then(e,n):o?e(i):3===g?n(i):e(i)}catch(e){n(e)}})),y&&D()}),u)}finally{_.pop()}}function k(){return h[g]}function D(){if(w.length>0){var e=w.slice();w=[],I=!0,R&&R.cancel(),R=null,t(e)}}function A(e,t){return function(r){if(g===t){if(2===e&&(0,s.$XS)(r))return g=1,void r.then(A(2,1),A(3,1));g=e,y=!0,c=r,D(),I||3!==e||R||(R=(0,s.dRz)(O,T))}}}function O(){if(!I)if(I=!0,(0,s.Lln)())process.emit(b,c,l);else{var e=(0,s.zkX)()||(0,s.mS$)();!v&&(v=(0,s.GuU)((0,s.gBW)(s.zS2,[a+"RejectionEvent"]).v)),function(e,t,r,n){var o=(0,s.YEm)();!d&&(d=(0,s.GuU)(!!(0,s.gBW)(m,[o]).v));var i=d.v?o.createEvent("Event"):n?new Event(t):{};if(r&&r(i),d.v&&i.initEvent(t,!1,!0),i&&e[p])e[p](i);else{var a=e["on"+t];if(a)a(i);else{var c=(0,s.zS2)("console");c&&(c.error||c.log)(t,(0,s.mmD)(i))}}}(e,S,(function(e){return(0,s.vF1)(e,"promise",{g:function(){return l}}),e.reason=c,e}),!!v.v)}}return l={then:L,catch:function(e){return L(void 0,e)},finally:function(e){var t=e,r=e;return(0,s.Tnt)(e)&&(t=function(t){return e&&e(),t},r=function(t){throw e&&e(),t}),L(t,r)}},(0,s.UxO)(l,"state",{get:k}),f&&function(e,t){o=o||{toString:function(){return"[[PromiseResult]]"}},i=i||{toString:function(){return"[[PromiseIsHandled]]"}};var r={};r[n=n||{toString:function(){return"[[PromiseState]]"}}]={get:t},r[o]={get:function(){return(0,s.SZ2)(c)}},r[i]={get:function(){return I}},(0,s.isD)(e,r)}(l,k),(0,s.Lok)()&&(l[(0,s.Y0g)(11)]="IPromise"),l.toString=function(){return"IPromise"+(f?"["+C+((0,s.b07)(P)?"":":"+P)+"]":"")+" "+k()+(y?" - "+x(c):"")},function(){(0,s.Tnt)(r)||(0,s.zkd)(a+": executor is not a function - "+x(r));var e=A(3,0);try{r.call(l,A(2,0),e)}catch(t){e(t)}}(),l}function P(e){return function(t){var r=(0,s.KVm)(arguments,1);return e((function(e,r){try{var n=[],o=1;(0,s.DA8)(t,(function(t,i){t&&(o++,u(t,(function(t){n[i]=t,0==--o&&e(n)}),r))})),0==--o&&e(n)}catch(e){r(e)}}),r)}}function I(e){(0,s.Iuo)(e,(function(e){try{e()}catch(e){}}))}function R(e,t){return C(R,function(e){var t=(0,s.EtT)(e)?e:0;return function(e){(0,s.dRz)((function(){I(e)}),t)}}(t),e,t)}function L(e,t){!g&&(g=(0,s.GuU)((0,s.gBW)(s.zS2,[a]).v||null));var r=g.v;if(!r)return R(e);(0,s.Tnt)(e)||(0,s.zkd)(a+": executor is not a function - "+(0,s.mmD)(e));var n=0,o=new r((function(t,r){e((function(e){n=2,t(e)}),(function(e){n=3,r(e)}))}));return(0,s.UxO)(o,"state",{get:function(){return h[n]}}),o}function k(e){return C(k,I,e)}function D(e,t){return!y&&(r=k,y=(0,s.GuU)((function(e){var t=(0,s.KVm)(arguments,1);return r((function(t,r){var n=[],o=1;function i(e,r){o++,l(e,(function(e){e.rejected?n[r]={status:c,reason:e.reason}:n[r]={status:"fulfilled",value:e.value},0==--o&&t(n)}))}try{(0,s.cyL)(e)?(0,s.Iuo)(e,i):(0,s.xZI)(e)?(0,s.DA8)(e,i):(0,s.zkd)("Input is not an iterable"),0==--o&&t(n)}catch(e){r(e)}}),t)}))),y.v(e,t);var r}function A(e,t){return!w&&(w=(0,s.GuU)(L)),w.v.call(this,e,t)}var O=P(A);(0,s.Y0g)(11)},8257:(e,t,r)=>{"use strict";r.d(t,{s:()=>v});var n,o=r(8279),i=r(269),s=r(9749),a=r(6182),c=r(3775),l=r(3673),u=r(6492),d=r(2317),f=r(836),h=r(8969),p="getPlugin",m=((n={})[u.Bw]={isVal:l.Gh,v:{}},n),v=function(){function e(){var t,r,n,v,g,y=this;function w(e){void 0===e&&(e=null);var t=e;if(!t){var o=r||(0,d.i8)(null,{},y[u.eT]);t=n&&n[p]?o[a.$o](null,n[p]):o[a.$o](null,n)}return t}function b(e,t,o){(0,s.e)(e,m,(0,c.y0)(t)),!o&&t&&(o=t[a.DI]()[a.uR]());var i=n;n&&n[p]&&(i=n[p]()),y[u.eT]=t,r=(0,d.i8)(o,e,t,i)}function S(){t=!1,y[u.eT]=null,r=null,n=null,g=(0,h.w)(),v=(0,f.P)()}S(),(0,o.A)(e,y,(function(e){e[a.mE]=function(e,r,n,o){b(e,r,o),t=!0},e[a.Ik]=function(t,r){var o=e[u.eT];if(o&&(!t||o===t[u.eT]())){var i,s=!1,c=t||(0,d.tS)(null,o,n&&n[p]?n[p]():n),l=r||{reason:0,isAsync:!1};return e[a.tn]&&!0===e[a.tn](c,l,f)?i=!0:f(),i}function f(){s||(s=!0,v.run(c,r),g.run(c[a.e4]()),!0===i&&c[a.$5](l),S())}},e[a.HC]=function(t,r){var o=e[u.eT];if(o&&(!t||o===t[u.eT]())){var i,s=!1,c=t||(0,d.nU)(null,o,n&&n[p]?n[p]():n),l=r||{reason:0};return e._doUpdate&&!0===e._doUpdate(c,l,f)?i=!0:f(),i}function f(){s||(s=!0,b(c.getCfg(),c.core(),c[a.uR]()))}},(0,l.RF)(e,"_addUnloadCb",(function(){return v}),"add"),(0,l.RF)(e,"_addHook",(function(){return g}),"add"),(0,i.vF1)(e,"_unloadHooks",{g:function(){return g}})})),y[a.e4]=function(e){return w(e)[a.e4]()},y[a.tZ]=function(){return t},y.setInitialized=function(e){t=e},y[a.YH]=function(e){n=e},y[a.$5]=function(e,t){t?t[a.$5](e):n&&(0,i.Tnt)(n[u.qT])&&n[u.qT](e,null)},y._getTelCtx=w}return e.__ieDyn=1,e}()},8279:(e,t,r)=>{"use strict";r.d(t,{A:()=>M});var n,o=r(269),i="constructor",s="prototype",a="function",c="_dynInstFuncs",l="_isDynProxy",u="_dynClass",d="_dynCls$",f="_dynInstChk",h=f,p="_dfOpts",m="_unknown_",v="__proto__",g="_dyn"+v,y="__dynProto$Gbl",w="_dynInstProto",b="useBaseInst",S="setInstFuncs",_=Object,E=_.getPrototypeOf,T=_.getOwnPropertyNames,x=(0,o.mS$)(),C=x[y]||(x[y]={o:(n={},n[S]=!0,n[b]=!0,n),n:1e3});function P(e){return e&&(e===_[s]||e===Array[s])}function I(e){return P(e)||e===Function[s]}function R(e){var t;if(e){if(E)return E(e);var r=e[v]||e[s]||(e[i]?e[i][s]:null);t=e[g]||r,(0,o.v0u)(e,g)||(delete e[w],t=e[g]=e[w]||e[g],e[w]=r)}return t}function L(e,t){var r=[];if(T)r=T(e);else for(var n in e)"string"==typeof n&&(0,o.v0u)(e,n)&&r.push(n);if(r&&r.length>0)for(var i=0;i<r.length;i++)t(r[i])}function k(e,t,r){return t!==i&&typeof e[t]===a&&(r||(0,o.v0u)(e,t))&&t!==v&&t!==s}function D(e){(0,o.zkd)("DynamicProto: "+e)}function A(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0;return!1}function O(e,t,r,n,i){if(!P(e)){var s=r[c]=r[c]||(0,o.sSX)(null);if(!P(s)){var d=s[t]=s[t]||(0,o.sSX)(null);!1!==s[h]&&(s[h]=!!i),P(d)||L(r,(function(t){k(r,t,!1)&&r[t]!==n[t]&&(d[t]=r[t],delete r[t],(!(0,o.v0u)(e,t)||e[t]&&!e[t][l])&&(e[t]=function(e,t){var r=function(){var n=function(e,t,r,n){var i=null;if(e&&(0,o.v0u)(r,u)){var s=e[c]||(0,o.sSX)(null);if((i=(s[r[u]]||(0,o.sSX)(null))[t])||D("Missing ["+t+"] "+a),!i[f]&&!1!==s[h]){for(var l=!(0,o.v0u)(e,t),d=R(e),p=[];l&&d&&!I(d)&&!A(p,d);){var m=d[t];if(m){l=m===n;break}p.push(d),d=R(d)}try{l&&(e[t]=i),i[f]=1}catch(e){s[h]=!1}}}return i}(this,t,e,r)||function(e,t,r){var n=t[e];return n===r&&(n=R(t)[e]),typeof n!==a&&D("["+e+"] is not a "+a),n}(t,e,r);return n.apply(this,arguments)};return r[l]=1,r}(e,t)))}))}}}function W(e,t){return(0,o.v0u)(e,s)?e.name||t||m:((e||{})[i]||{}).name||t||m}function M(e,t,r,n){(0,o.v0u)(e,s)||D("theClass is an invalid class definition.");var i=e[s];(function(e,t){if(E){for(var r=[],n=R(t);n&&!I(n)&&!A(r,n);){if(n===e)return!0;r.push(n),n=R(n)}return!1}return!0})(i,t)||D("["+W(e)+"] not in hierarchy of ["+W(t)+"]");var a=null;(0,o.v0u)(i,u)?a=i[u]:(a=d+W(e,"_")+"$"+C.n,C.n++,i[u]=a);var f=M[p],m=!!f[b];m&&n&&void 0!==n[b]&&(m=!!n[b]);var v=function(e){var t=(0,o.sSX)(null);return L(e,(function(r){!t[r]&&k(e,r,!1)&&(t[r]=e[r])})),t}(t),g=function(e,t,r,n){function i(e,t,r){var o=t[r];if(o[l]&&n){var i=e[c]||{};!1!==i[h]&&(o=(i[t[u]]||{})[r]||o)}return function(){return o.apply(e,arguments)}}var s=(0,o.sSX)(null);L(r,(function(e){s[e]=i(t,r,e)}));for(var a=R(e),d=[];a&&!I(a)&&!A(d,a);)L(a,(function(e){!s[e]&&k(a,e,!E)&&(s[e]=i(t,a,e))})),d.push(a),a=R(a);return s}(i,t,v,m);r(t,g);var y=!!E&&!!f[S];y&&n&&(y=!!n[S]),O(i,a,t,v,!1!==y)}M[p]=C.o},8355:(e,t,r)=>{"use strict";r.r(t),r.d(t,{TelemetryReporter:()=>f});var n=r(5692),o=r(857),i=r(1398);var s,a=r(2845);class c{static applyReplacements(e,t){for(const r of Object.keys(e))for(const n of t)n.lookup.test(r)&&(void 0!==n.replacementString?e[r]=n.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return 74===e.length&&"-"===e[32]&&"-"===e[41]&&"-"===e[46]&&"-"===e[51]&&"-"===e[56]&&"-"===e[69]}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"PACKAGE_JSON_VERSION"}}static getInstance(){return c._instance||(c._instance=new c),c._instance}}class l{constructor(e,t,r){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates((()=>{this.updateUserOptIn()}))}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,r,n){n?this.telemetrySender.sendEventData(e,{properties:t,measurements:r}):this.telemetryLogger.logUsage(e,{properties:t,measurements:r})}sendTelemetryEvent(e,t,r){this.internalSendTelemetryEvent(e,t,r,!1)}sendRawTelemetryEvent(e,t,r){const n={...t};for(const e of Object.keys(n??{})){const t=n[e];"string"==typeof e&&void 0!==t&&(n[e]=new this.vscodeAPI.TelemetryTrustedValue("string"==typeof t?t:t.value))}this.sendTelemetryEvent(e,n,r)}sendDangerousTelemetryEvent(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,r,!0)}internalSendTelemetryErrorEvent(e,t,r,n){n?this.telemetrySender.sendEventData(e,{properties:t,measurements:r}):this.telemetryLogger.logError(e,{properties:t,measurements:r})}sendTelemetryErrorEvent(e,t,r){this.internalSendTelemetryErrorEvent(e,t,r,!1)}sendDangerousTelemetryErrorEvent(e,t,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,r,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map((e=>e.dispose())))}}!function(e){e[e.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",e[e.INSTANTIATING=1]="INSTANTIATING",e[e.INSTANTIATED=2]="INSTANTIATED"}(s||(s={}));class u{constructor(e,t){this._instantiationStatus=s.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):this._instantiationStatus!==s.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t})}sendErrorData(e,t){if(!this._telemetryClient)return void(this._instantiationStatus!==s.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t}));const r={stack:e.stack,message:e.message,name:e.name};if(t){const e=t.properties||t;t.properties={...e,...r}}else t={properties:r};this._telemetryClient.logEvent("unhandlederror",t)}async flush(){return this._telemetryClient?.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.sendEventData(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.sendErrorData(e,t))),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===s.NOT_INSTANTIATED&&(this._instantiationStatus=s.INSTANTIATING,this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._instantiationStatus=s.INSTANTIATED,this._flushQueues()})).catch((e=>{console.error(e),this._instantiationStatus=s.INSTANTIATED})))}}function d(){return{sendPOST:(e,t)=>{const r={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{const o=n.request(e.urlString,r,(e=>{e.on("data",(function(r){t(e.statusCode??200,e.headers,r.toString())})),e.on("error",(function(){t(0,{})}))}));o.write(e.data,(e=>{e&&t(0,{})})),o.end()}catch{t(0,{})}}}}class f extends l{constructor(e,t){let n=e=>(async(e,t,n,o,i)=>{let s;try{const t=await Promise.resolve().then(r.bind(r,60)),n={};if(o){const e={alwaysUseXhrOverride:!0,httpXHROverride:o};n[a.Uu]=e}let i;e.startsWith("InstrumentationKey=")||(i=e);const c=i?{instrumentationKey:i}:{connectionString:e};s=new t.ApplicationInsights({...c,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,extensionConfig:n})}catch(e){return Promise.reject(e)}return{logEvent:(e,r)=>{const o={...r?.properties,...r?.measurements};i?.length&&c.applyReplacements(o,i),s?.track({name:e,data:o,baseType:"EventData",ext:{user:{id:t,authId:t},app:{sesId:n}},baseData:{name:e,properties:r?.properties,measurements:r?.measurements}})},flush:async()=>{s?.flush(!1)},dispose:async()=>new Promise((e=>{s?.unload(!0,(()=>{e(),s=void 0}),1e3)}))}})(e,i.env.machineId,i.env.sessionId,d(),t);c.shouldUseOneDataSystemSDK(e)&&(n=e=>(async(e,t,n)=>{let o=await(async(e,t,n)=>{const o=await Promise.resolve().then(r.bind(r,956)),i=await Promise.resolve().then(r.bind(r,8916)),s=new o.AppInsightsCore,a=new i.PostChannel,c={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[a]]};if(n){c.extensionConfig={};const e={alwaysUseXhrOverride:!0,httpXHROverride:n};c.extensionConfig[a.identifier]=e}const l=t.workspace.getConfiguration("telemetry").get("internalTesting");return s.initialize(c,[]),s.addTelemetryInitializer((e=>{e.ext=e.ext??{},e.ext.web=e.ext.web??{},e.ext.web.consentDetails='{"GPC_DataSharingOptIn":false}',l&&(e.ext.utc=e.ext.utc??{},e.ext.utc.flags=8462029)})),s})(e,t,n);return{logEvent:(e,t)=>{try{o?.track({name:e,baseData:{name:e,properties:t?.properties,measurements:t?.measurements}})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},flush:async()=>{try{return new Promise(((e,t)=>{o?o.flush(!0,(e=>{e||t("Failed to flush app 1DS!")})):e()}))}catch(e){throw new Error("Failed to flush 1DS!\n"+e.message)}},dispose:async()=>new Promise((e=>{o?o.unload(!1,(()=>{e(),o=void 0}),1e3):e()}))}})(e,i,d()));const s={release:o.release(),platform:o.platform(),architecture:o.arch()},l=new u(e,n);if(e&&0===e.indexOf("AIF-"))throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(l,i,{additionalCommonProperties:c.getAdditionalCommonProperties(s)})}}},8435:(e,t,r)=>{"use strict";r.d(t,{$n:()=>p,fS:()=>h});var n=r(3720),o=r(7288),{toStringTag:i,iterator:s,hasInstance:a}=Symbol,c=Math.random,l="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),u=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[i])?[(r=void 0!==r?r+"":"File"==t[i]?t.name:"blob",e),t.name!==r||"blob"==t[i]?new o.A([t],r,t):t]:[e,t+""]),d=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),f=(e,t,r)=>{if(t.length<r)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)};const h=class{#s=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[i](){return"FormData"}[s](){return this.entries()}static[a](e){return e&&"object"==typeof e&&"FormData"===e[i]&&!l.some((t=>"function"!=typeof e[t]))}append(...e){f("append",arguments,2),this.#s.push(u(...e))}delete(e){f("delete",arguments,1),e+="",this.#s=this.#s.filter((([t])=>t!==e))}get(e){f("get",arguments,1),e+="";for(var t=this.#s,r=t.length,n=0;n<r;n++)if(t[n][0]===e)return t[n][1];return null}getAll(e,t){return f("getAll",arguments,1),t=[],e+="",this.#s.forEach((r=>r[0]===e&&t.push(r[1]))),t}has(e){return f("has",arguments,1),e+="",this.#s.some((t=>t[0]===e))}forEach(e,t){for(var[r,n]of(f("forEach",arguments,1),this))e.call(t,n,r,this)}set(...e){f("set",arguments,2);var t=[],r=!0;e=u(...e),this.#s.forEach((n=>{n[0]===e[0]?r&&(r=!t.push(e)):t.push(n)})),r&&t.push(e),this.#s=t}*entries(){yield*this.#s}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};function p(e,t=n.A){var r=`${c()}${c()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),o=[],i=`--${r}\r\nContent-Disposition: form-data; name="`;return e.forEach(((e,t)=>"string"==typeof e?o.push(i+d(t)+`"\r\n\r\n${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r\n`):o.push(i+d(t)+`"; filename="${d(e.name,1)}"\r\nContent-Type: ${e.type||"application/octet-stream"}\r\n\r\n`,e,"\r\n"))),o.push(`--${r}--`),new t(o,{type:"multipart/form-data; boundary="+r})}},8446:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(r=t.Touch||(t.Touch={})),t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,n=r.None){let o=this._map.get(e);if(o)o.value=t,n!==r.None&&this.touch(o,n);else{switch(o={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(o);break;case r.First:this.addItemFirst(o);break;case r.Last:default:this.addItemLast(o)}this._map.set(e,o),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let r=this._head;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.next}forEachReverse(e,t){let r=this._tail;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(t.previous=r,r.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===r.Last){if(e===this._tail)return;const t=e.next,r=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=r,r.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},8447:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLogger=function(){let e,t,r=[];class i{constructor(){this.writeEmitter=new n.EventEmitter,this.onDidWrite=this.writeEmitter.event}open(){const t=r;r=[],setTimeout((()=>{this.writeEmitter.fire(t.join(""))}),100),e=this}close(){this.writeEmitter.dispose(),t=void 0,e=void 0}write(e){this.writeEmitter.fire(e)}}const s={[o.LogLevel.info]:"",[o.LogLevel.error]:"[31m",[o.LogLevel.debug]:"[37m"};function a(t,n=o.LogLevel.info){const i=`[[32m${(new Date).toISOString().replace(/[TZ]/g," ").trim()}[0m] ${s[n]}${t}\r\n`;e?e.write(i):r.push(i)}return{showLog:function(){t||(t=n.window.createTerminal({name:n.l10n.t("WSL"),pty:new i})),t.show()},write:function(e,t){const r=e.split(/\r?\n/);for(let e=0;e<r.length;e++){const n=r[e].replace(/[\b]/g,"");(n.length||e<r.length-1)&&a(n,t)}}}};const n=r(1398),o=r(5732)},8823:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryKeyValueStorage=void 0,t.MemoryKeyValueStorage=class{constructor(){this.storage=new Map}async getValue(e,t){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(t||void 0)}setValue(e,t){this.storage.set(e,t)}}},8898:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}},function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class r{add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var r=!1,n=0,o=this._callbacks.length;n<o;n++)if(this._callbacks[n]===e){if(this._contexts[n]===t)return this._callbacks.splice(n,1),void this._contexts.splice(n,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],r=this._callbacks.slice(0),n=this._contexts.slice(0),o=0,i=r.length;o<i;o++)try{t.push(r[o].apply(n[o],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class n{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,o)=>{let i;return this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),i={dispose:()=>{this._callbacks.remove(e,t),i.dispose=n._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(o)&&o.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=n,n._noop=function(){}},8916:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BE_PROFILE:()=>i,NRT_PROFILE:()=>o,PostChannel:()=>dt,RT_PROFILE:()=>n});var n="REAL_TIME",o="NEAR_REAL_TIME",i="BEST_EFFORT",s=r(659),a=r(8279),c=r(4822),l=r(269),u=r(8156),d=r(6149),f=r(4276),h=r(9749),p=r(2317),m=r(3673),v=r(3662),g=r(3775),y=r(8257),w=r(8205),b="",S="drop",_="requeue",E="no-cache, no-store",T="application/x-json-stream",x="cache-control",C="content-type",P="client-version",I="client-id",R="time-delta-to-apply-millis",L="upload-time",k="apikey",D="AuthMsaDeviceTicket",A="WebAuthToken",O="AuthXToken",W="msfpc",M="trace",N="user",F="allowRequestSending",q="shouldAddClockSkewHeaders",U="getClockSkewHeaderValue",$="setClockSkew",j="length",B="concat",z="iKey",V="count",H="events",X="push",K="split",Z="toLowerCase",J="hdrs",G="useHdrs",Y="initialize",Q="setTimeoutOverride",ee="clearTimeoutOverride",te="overrideEndpointUrl",re="avoidOptions",ne="enableCompoundKey",oe="disableXhrSync",ie="disableFetchKeepAlive",se="useSendBeacon",ae="fetchCredentials",ce="alwaysUseXhrOverride",le="serializeOfflineEvt",ue="getOfflineRequestDetails",de="createPayload",fe="createOneDSPayload",he="payloadBlob",pe="headers",me="_thePayload",ve="batches",ge="sendType",ye="canSendRequest",we="sendQueuedRequests",be="setUnloading",Se="sendSynchronousBatch",_e="_transport",Ee="getWParam",Te="isBeacon",xe="timings",Ce="isTeardown",Pe="_sendReason",Ie="setKillSwitchTenants",Re="_backOffTransmission",Le="identifier",ke="autoFlushEventsLimit",De="sendAttempt",Ae="latency",Oe="sync";function We(e){var t=(e.ext||{}).intweb;return t&&(0,c.yD)(t[W])?t[W]:null}function Me(e){for(var t=null,r=0;null===t&&r<e[j];r++)t=We(e[r]);return t}var Ne=function(){function e(t,r){var n=r?[][B](r):[],o=this,i=Me(n);o[z]=function(){return t},o.Msfpc=function(){return i||b},o[V]=function(){return n[j]},o[H]=function(){return n},o.addEvent=function(e){return!!e&&(n[X](e),i||(i=We(e)),!0)},o[K]=function(r,o){var s;if(r<n[j]){var a=n[j]-r;(0,l.hXl)(o)||(a=o<a?o:a),s=n.splice(r,a),i=Me(n)}return new e(t,s)}}return e.create=function(t,r){return new e(t,r)},e}(),Fe=r(7292),qe=r(856),Ue=r(5664),$e=function(){function e(){var t=!0,r=!0,n=!0,o="use-collector-delta",i=!1;(0,a.A)(e,this,(function(e){e[F]=function(){return t},e.firstRequestSent=function(){n&&(n=!1,i||(t=!1))},e[q]=function(){return r},e[U]=function(){return o},e[$]=function(e){i||(e?(o=e,r=!0,i=!0):r=!1,t=!0)}}))}return e.__ieDyn=1,e}(),je=function(){function e(){var t={};(0,a.A)(e,this,(function(e){e[Ie]=function(e,r){if(e&&r)try{var n=(s=e[K](","),a=[],s&&(0,l.Iuo)(s,(function(e){a[X]((0,l.EHq)(e))})),a);if("this-request-only"===r)return n;for(var o=1e3*parseInt(r,10),i=0;i<n[j];++i)t[n[i]]=(0,l.f0d)()+o}catch(e){return[]}var s,a;return[]},e.isTenantKilled=function(e){var r=t,n=(0,l.EHq)(e);return void 0!==r[n]&&r[n]>(0,l.f0d)()||(delete r[n],!1)}}))}return e.__ieDyn=1,e}();function Be(e){var t,r=(0,l.ZrT)(1200*Math.random())+2400;return t=Math.pow(2,e)*r,(0,l.rpU)(t,6e5)}var ze,Ve=2e6,He=(0,l.rpU)(Ve,65e3),Xe="metadata",Ke="f",Ze=/\./,Je=function(){function e(t,r,n,o,i,s){var d="data",f="baseData",h=!!o,p=!0,m=r,v={},g=!!s,y=i||c.Go;(0,a.A)(e,this,(function(e){function r(e,t,o,i,s,a,u){(0,l.zav)(e,(function(e,d){var f=null;if(d||(0,c.yD)(d)){var p=o,g=e,y=s,w=t;if(h&&!i&&Ze.test(e)){var b=e.split("."),S=b.length;if(S>1){y&&(y=y.slice());for(var _=0;_<S-1;_++){var E=b[_];w=w[E]=w[E]||{},p+="."+E,y&&y.push(E)}g=b[S-1]}}var T=i&&function(e){var t=v[e];return void 0===t&&(e.length>=7&&(t=(0,l.tGl)(e,"ext.metadata")||(0,l.tGl)(e,"ext.web")),v[e]=t),t}(p);if(f=!T&&m&&m.handleField(p,g)?m.value(p,g,d,n):(0,c.TC)(g,d,n)){var x=f.value;if(w[g]=x,a&&a(y,g,f),u&&"object"==typeof x&&!(0,l.cyL)(x)){var C=y;C&&(C=C.slice()).push(g),r(d,x,p+"."+g,i,C,a,u)}}}}))}e.createPayload=function(e,t,r,n,o,i){return{apiKeys:[],payloadBlob:b,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:r,isBeacon:n,sendType:i,sendReason:o}},e.appendPayload=function(r,n,o){var i=r&&n&&!r.overflow;return i&&(0,u.r2)(t,(function(){return"Serializer:appendPayload"}),(function(){for(var t=n.events(),i=r.payloadBlob,s=r.numEvents,a=!1,c=[],u=[],d=r.isBeacon,f=d?65e3:3984588,h=d?He:Ve,p=0,m=0;p<t.length;){var v=t[p];if(v){if(s>=o){r.overflow=n.split(p);break}var g=e.getEventBlob(v);if(g&&g.length<=h){var y=g.length;if(i.length+y>f){r.overflow=n.split(p);break}i&&(i+="\n"),i+=g,++m>20&&((0,l.hKY)(i,0,1),m=0),a=!0,s++}else g?c.push(v):u.push(v),t.splice(p,1),p--}p++}if(c.length>0&&r.sizeExceed.push(Ne.create(n.iKey(),c)),u.length>0&&r.failedEvts.push(Ne.create(n.iKey(),u)),a){r.batches.push(n),r.payloadBlob=i,r.numEvents=s;var w=n.iKey();-1===(0,l.rDm)(r.apiKeys,w)&&r.apiKeys.push(w)}}),(function(){return{payload:r,theBatch:{iKey:n.iKey(),evts:n.events()},max:o}})),i},e.getEventBlob=function(e){try{return(0,u.r2)(t,(function(){return"Serializer.getEventBlob"}),(function(){var t={};t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+(0,c.EO)(e.iKey);var n,o={};g||(n=function(e,t,r){!function(e,t,r,n,o){if(o&&t){var i=e(o.value,o.kind,o.propertyType);if(i>-1){var s=t[Xe];s||(s=t[Xe]={f:{}});var a=s[Ke];if(a||(a=s[Ke]={}),r)for(var c=0;c<r.length;c++){var u=r[c];a[u]||(a[u]={f:{}});var d=a[u][Ke];d||(d=a[u][Ke]={}),a=d}a=a[n]={},(0,l.cyL)(o.value)?a.a={t:i}:a.t=i}}}(y,o,e,t,r)});var i=e.ext;i&&(t.ext=o,(0,l.zav)(i,(function(e,t){r(t,o[e]={},"ext."+e,!0,null,null,!0)})));var s=t[d]={};s.baseType=e.baseType;var a=s[f]={};return r(e.baseData,a,f,!1,[f],n,p),r(e.data,s,d,!1,[],n,p),JSON.stringify(t)}),(function(){return{item:e}}))}catch(e){return null}}}))}return e.__ieDyn=1,e}();function Ge(e,t){return{set:function(r,n){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];return(0,l.vKV)([e,t],r,n,o)}}}var Ye="sendAttempt",Qe="?cors=true&"+C[Z]()+"="+T,et=((ze={})[1]=_,ze[100]=_,ze[200]="sent",ze[8004]=S,ze[8003]=S,ze),tt={},rt={};function nt(e,t,r){tt[e]=t,!1!==r&&(rt[t]=e)}function ot(e,t){var r=!1;if(e&&t){var n=(0,l.cGk)(e);if(n&&n[j]>0)for(var o=t[Z](),i=0;i<n[j];i++){var s=n[i];if(s&&(0,l.v0u)(t,s)&&s[Z]()===o){r=!0;break}}}return r}function it(e,t,r,n){t&&r&&r[j]>0&&(n&&tt[t]?(e[J][tt[t]]=r,e[G]=!0):e.url+="&"+t+"="+r)}nt(D,D,!1),nt(P,P),nt(I,"Client-Id"),nt(k,k),nt(R,R),nt(L,L),nt(O,O);var st=function(){function e(t,r,n,o){var i,s,d,f,p,v,y,w,_,D,A,O,M,N,Z,Le,ke,De,Ae,Oe,We,Me,ze,Ve,He,Xe,Ke,Ze,tt,nt,st,at,ct=!1;(0,a.A)(e,this,(function(e){function a(e,t){try{return st&&st.getSenderInst(e,t)}catch(e){}return null}function lt(){try{return{enableSendPromise:!1,isOneDs:!0,disableCredentials:!1,fetchCredentials:at,disableXhr:!1,disableBeacon:!ct,disableBeaconSync:!ct,disableFetchKeepAlive:We,timeWrapper:tt,addNoResponse:ze,senderOnCompleteCallBack:{xdrOnComplete:ut,fetchOnComplete:dt,xhrOnComplete:ft,beaconOnRetry:pt}}}catch(e){}return null}function ut(e,t,r){var n=(0,m.Lo)(e);ht(t,200,{},n),Ct(n)}function dt(e,t,r,n){var o={},i=e[pe];i&&i.forEach((function(e,t){o[t]=e})),function(e,r,n){ht(t,e,r,n),Ct(n)}(e.status,o,r||b)}function ft(e,t,r){var n=(0,m.Lo)(e);ht(t,e.status,(0,m.w3)(e,!0),n),Ct(n)}function ht(e,t,r,n){try{e(t,r,n)}catch(e){(0,g.ZP)(y,2,518,(0,l.mmD)(e))}}function pt(e,t,r){var n=200,o=e[me],i=e.urlString+(ze?"&NoResponseBody=true":b);try{var s=(0,l.w3n)();if(o){var a=!!_.getPlugin("LocalStorage"),c=[],u=[];(0,l.Iuo)(o[ve],(function(e){if(c&&e&&e[V]()>0)for(var t=e[H](),r=0;r<t[j];r++){if(!s.sendBeacon(i,N.getEventBlob(t[r]))){c[X](e[K](r));break}u[X](e[r])}else c[X](e[K](0))})),u[j]>0&&(o.sentEvts=u),a||Pt(c,8003,o[ge],!0)}else n=0}catch(e){(0,g.OG)(y,"Failed to send telemetry using sendBeacon API. Ex:"+(0,l.mmD)(e)),n=0}finally{ht(t,n,{},b)}}function mt(e){return 2===e||3===e}function vt(e){return ke&&mt(e)&&(e=2),e}function gt(){return!d&&p<r}function yt(){var e=M;return M=[],e}function wt(e,t,r){var n=!1;return e&&e[j]>0&&!d&&w[t]&&N&&(n=0!==t||gt()&&(r>0||f[F]())),n}function bt(e){var t={};return e&&(0,l.Iuo)(e,(function(e,r){t[r]={iKey:e[z](),evts:e[H]()}})),t}function St(e,r,n,o,i){if(e&&0!==e[j])if(d)Pt(e,1,o);else{o=vt(o);try{var a=e,f=0!==o;(0,u.r2)(_,(function(){return"HttpManager:_sendBatches"}),(function(a){a&&(e=e.slice(0));for(var l=[],u=null,d=(0,c.WB)(),h=w[o]||(f?w[1]:w[0]),p=h&&h[_e],m=Me&&(ke||mt(o)||3===p||h._isSync&&2===p);wt(e,o,r);){var v=e.shift();v&&v[V]()>0&&(s.isTenantKilled(v[z]())?l[X](v):(u=u||N[de](r,n,f,m,i,o),N.appendPayload(u,v,t)?null!==u.overflow&&(e=[u.overflow][B](e),u.overflow=null,Tt(u,d,(0,c.WB)(),i),d=(0,c.WB)(),u=null):(Tt(u,d,(0,c.WB)(),i),d=(0,c.WB)(),e=[v][B](e),u=null)))}u&&Tt(u,d,(0,c.WB)(),i),e[j]>0&&(M=e[B](M)),Pt(l,8004,o)}),(function(){return{batches:bt(a),retryCount:r,isTeardown:n,isSynchronous:f,sendReason:i,useSendBeacon:mt(o),sendType:o}}),!f)}catch(e){(0,g.ZP)(y,2,48,"Unexpected Exception sending batch: "+(0,l.mmD)(e))}}}function _t(e,t){var r={url:i,hdrs:{},useHdrs:!1};t?(r[J]=(0,c.X$)(r[J],O),r.useHdrs=(0,l.cGk)(r.hdrs)[j]>0):(0,l.zav)(O,(function(e,t){rt[e]?it(r,rt[e],t,!1):(r[J][e]=t,r[G]=!0)})),it(r,I,"NO_AUTH",t),it(r,P,c.xE,t);var n=b;(0,l.Iuo)(e.apiKeys,(function(e){n[j]>0&&(n+=","),n+=e})),it(r,k,n,t),it(r,L,(0,l.f0d)().toString(),t);var o=function(e){for(var t=0;t<e.batches[j];t++){var r=e[ve][t].Msfpc();if(r)return encodeURIComponent(r)}return b}(e);if((0,c.yD)(o)&&(r.url+="&ext.intweb.msfpc="+o),f[q]()&&it(r,R,f[U](),t),_[Ee]){var s=_[Ee]();s>=0&&(r.url+="&w="+s)}for(var a=0;a<A[j];a++)r.url+="&"+A[a].name+"="+A[a].value;return r}function Et(e,t,r){e[t]=e[t]||{},e[t][v.identifier]=r}function Tt(t,r,o,i){if(t&&t.payloadBlob&&t.payloadBlob[j]>0){var a=!!He,d=w[t.sendType];!mt(t[ge])&&t[Te]&&2===t.sendReason&&(d=w[2]||w[3]||d);var h=De;(t.isBeacon||3===d[_e])&&(h=!1);var m=_t(t,h);h=h||m[G];var b=(0,c.WB)();(0,u.r2)(_,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var w=0;w<t.batches[j];w++)for(var S=t[ve][w][H](),P=0;P<S[j];P++){var I=S[P];if(Z){var R=I[xe]=I[xe]||{};Et(R,"sendEventStart",b),Et(R,"serializationStart",r),Et(R,"serializationCompleted",o)}I[Ye]>0?I[Ye]++:I[Ye]=1}Pt(t[ve],1e3+(i||0),t[ge],!0);var L={data:t[he],urlString:m.url,headers:m[J],_thePayload:t,_sendReason:i,timeout:Ae,disableXhrSync:Oe,disableFetchKeepAlive:We};h&&(ot(L[pe],x)||(L[pe][x]=E),ot(L[pe],C)||(L[pe][C]=T));var k=null;d&&(k=function(r){f.firstRequestSent();var o=function(r,o){!function(t,r,o,i){var a,u=9e3,d=null,h=!1,m=!1;try{var g=!0;if(typeof t!==Ue.bA){if(r){f[$](r["time-delta-millis"]);var y=r["kill-duration"]||r["kill-duration-seconds"];(0,l.Iuo)(s[Ie](r["kill-tokens"],y),(function(e){(0,l.Iuo)(o[ve],(function(t){if(t[z]()===e){d=d||[];var r=t[K](0);o.numEvents-=r[V](),d[X](r)}}))}))}if(200==t||204==t)return void(u=200);((a=t)>=300&&a<500&&429!=a||501==a||505==a||o.numEvents<=0)&&(g=!1),u=9e3+t%1e3}if(g){u=100;var w=o.retryCnt;0===o[ge]&&(w<n?(h=!0,xt((function(){0===o[ge]&&p--,St(o[ve],w+1,o[Ce],ke?2:o[ge],5)}),ke,Be(w))):(m=!0,ke&&(u=8001)))}}finally{h||(f[$](),function(t,r,n,o){try{o&&v[Re]();var i=t[ve];200===r&&(i=t.sentEvts||t[ve],o||t.isSync||v._clearBackOff(),function(e){if(Z){var t=(0,c.WB)();(0,l.Iuo)(e,(function(e){e&&e[V]()>0&&function(e,t){Z&&(0,l.Iuo)(e,(function(e){Et(e[xe]=e[xe]||{},"sendEventCompleted",t)}))}(e[H](),t)}))}}(i)),Pt(i,r,t[ge],!0)}finally{0===t[ge]&&(p--,5!==n&&e.sendQueuedRequests(t[ge],n))}}(o,u,i,m)),Pt(d,8004,o[ge])}}(r,o,t,i)},a=t[Ce]||t.isSync;try{d.sendPOST(r,o,a),Xe&&Xe(L,r,a,t[Te])}catch(e){(0,g.OG)(y,"Unexpected exception sending payload. Ex:"+(0,l.mmD)(e)),ht(o,0,{})}}),(0,u.r2)(_,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(k)if(0===t[ge]&&p++,a&&!t.isBeacon&&3!==d[_e]){var e={data:L.data,urlString:L.urlString,headers:(0,c.X$)({},L[pe]),timeout:L.timeout,disableXhrSync:L[oe],disableFetchKeepAlive:L[ie]},r=!1;(0,u.r2)(_,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{He(e,(function(e){r=!0,D||e[me]||(e[me]=e[me]||L[me],e[Pe]=e[Pe]||L[Pe]),k(e)}),t.isSync||t[Ce])}catch(e){r||k(L)}}))}else k(L)}))}),(function(){return{thePayload:t,serializationStart:r,serializationCompleted:o,sendReason:i}}),t.isSync)}t.sizeExceed&&t.sizeExceed[j]>0&&Pt(t.sizeExceed,8003,t[ge]),t.failedEvts&&t.failedEvts[j]>0&&Pt(t.failedEvts,8002,t[ge])}function xt(e,t,r){t?e():tt.set(e,r)}function Ct(e){var t=Ke;try{for(var r=0;r<t[j];r++)try{t[r](e)}catch(e){(0,g.ZP)(y,1,519,"Response handler failed: "+e)}if(e){var n=JSON.parse(e);(0,c.yD)(n.webResult)&&(0,c.yD)(n.webResult[W])&&Le.set("MSFPC",n.webResult[W],31536e3)}}catch(e){}}function Pt(e,t,r,n){if(e&&e[j]>0&&o){var i=o[(a=t,l=et[a],(0,c.yD)(l)||(l="oth",a>=9e3&&a<=9999?l="rspFail":a>=8e3&&a<=8999?l=S:a>=1e3&&a<=1999&&(l="send")),l)];if(i){var s=0!==r;(0,u.r2)(_,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){xt((function(){try{i.call(o,e,t,s,r)}catch(e){(0,g.ZP)(y,1,74,"send request notification failed: "+e)}}),n||s,0)}),(function(){return{batches:bt(e),reason:t,isSync:s,sendSync:n,sendType:r}}),!s)}}var a,l}!function(){var e;i=null,s=new je,d=!1,f=new $e,ct=!1,p=0,v=null,y=null,w=null,_=null,D=!0,A=[],O={},M=[],N=null,Z=!1,Le=null,ke=!1,De=!1,Ae=e,Oe=e,We=e,Me=e,ze=e,Ve=[],He=e,Xe=e,Ke=[],Ze=!1,tt=Ge(),nt=!1,st=null}(),e[Y]=function(e,t,r){Ze||(_=t,Le=t.getCookieMgr(),y=(v=r).diagLog(),(0,l.Yny)(Ve,(0,h.a)(e,(function(e){var n,o=e.cfg,s=e.cfg.extensionConfig[r.identifier];tt=Ge(s[Q],s[ee]),(0,c.yD)(o.anonCookieName)?function(e,t,r){for(var n=0;n<e[j];n++)if(e[n].name===t)return void(e[n].value=r);e[X]({name:t,value:r})}(A,"anoncknm",o.anonCookieName):function(e){for(var t=0;t<e[j];t++)if("anoncknm"===e[t].name)return void e.splice(t,1)}(A),He=s.payloadPreprocessor,Xe=s.payloadListener;var u=s.httpXHROverride,d=s[te]?s[te]:o.endpointUrl;i=d+Qe,De=!!(0,l.b07)(s[re])||!s[re],Z=!s.disableEventTimings;var f=s.valueSanitizer,h=s.stringifyObjects,p=!!o[ne];(0,l.b07)(s[ne])||(p=!!s[ne]),Ae=s.xhrTimeout,Oe=!!s[oe],We=!!s[ie],ze=!1!==s.addNoResponse,nt=!!s.excludeCsMetaData,t.getPlugin("LocalStorage")&&(We=!0),ct=!(0,Fe.lV)(),N=new Je(_,f,h,p,c.Go,nt),(0,l.hXl)(s[se])||(ct=!!s[se]),s[ae]&&(at=s[ae]);var v=lt();st?st.SetConfig(v):(st=new qe.v)[Y](v,y);var b=u,S=s[ce]?u:null,E=s[ce]?u:null,T=[3,2];if(!u){D=!1;var x=[];(0,Fe.lV)()?(x=[2,1],T=[2,1,3]):x=[1,2,3],(u=a(x=(0,m.jL)(x,s.transports),!1))||(0,g.OG)(y,"No available transport to send events"),b=a(x,!0)}S||(S=a(T=(0,m.jL)(T,s.unloadTransports),!0)),Me=!D&&(ct&&(0,Fe.Uf)()||!We&&(0,Fe.R7)(!0)),(n={})[0]=u,n[1]=b||a([1,2,3],!0),n[2]=S||b||a([1],!0),n[3]=E||a([2,3],!0)||b||a([1],!0),w=n}))),Ze=!0)},e.addResponseHandler=function(e){return Ke[X](e),{rm:function(){var t=Ke.indexOf(e);t>=0&&Ke.splice(t,1)}}},e[le]=function(e){try{if(N)return N.getEventBlob(e)}catch(e){}return b},e[ue]=function(){try{return _t(N&&N[de](0,!1,!1,!1,1,0),De)}catch(e){}return null},e[fe]=function(e,r){try{var n=[];(0,l.Iuo)(e,(function(e){r&&(e=(0,m.hW)(e));var t=Ne.create(e[z],[e]);n[X](t)}));for(var o=null;n[j]>0&&N;){var i=n.shift();i&&i[V]()>0&&(o=o||N[de](0,!1,!1,!1,1,0),N.appendPayload(o,i,t))}var s=_t(o,De),a={data:o[he],urlString:s.url,headers:s[J],timeout:Ae,disableXhrSync:Oe,disableFetchKeepAlive:We};return De&&(ot(a[pe],x)||(a[pe][x]=E),ot(a[pe],C)||(a[pe][C]=T)),a}catch(e){}return null},e._getDbgPlgTargets=function(){return[w[0],s,N,w,lt(),i]},e.addHeader=function(e,t){O[e]=t},e.removeHeader=function(e){delete O[e]},e[ye]=function(){return gt()&&f[F]()},e[we]=function(e,t){(0,l.b07)(e)&&(e=0),ke&&(e=vt(e),t=2),wt(M,e,0)&&St(yt(),0,!1,e,t||0)},e.isCompletelyIdle=function(){return!d&&0===p&&0===M[j]},e[be]=function(e){ke=e},e.addBatch=function(e){if(e&&e[V]()>0){if(s.isTenantKilled(e[z]()))return!1;M[X](e)}return!0},e.teardown=function(){M[j]>0&&St(yt(),0,!0,2,2),(0,l.Iuo)(Ve,(function(e){e&&e.rm&&e.rm()})),Ve=[]},e.pause=function(){d=!0},e.resume=function(){d=!1,e[we](0,4)},e[Se]=function(e,t,r){e&&e[V]()>0&&((0,l.hXl)(t)&&(t=1),ke&&(t=vt(t),r=2),St([e],0,!1,t,r||0))}}))}return e.__ieDyn=1,e}(),at=1e4,ct="eventsDiscarded",lt=void 0,ut=(0,l.ZHX)({eventsLimitInMem:{isVal:c.ei,v:at},immediateEventLimit:{isVal:c.ei,v:500},autoFlushEventsLimit:{isVal:c.ei,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:function(e){return e&&e.sendPOST},v:lt},overrideInstrumentationKey:lt,overrideEndpointUrl:lt,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:lt,clearTimeoutOverride:lt,payloadPreprocessor:lt,payloadListener:lt,disableEventTimings:lt,valueSanitizer:lt,stringifyObjects:lt,enableCompoundKey:lt,disableOptimizeObj:!1,fetchCredentials:lt,transports:lt,unloadTransports:lt,useSendBeacon:lt,disableFetchKeepAlive:lt,avoidOptions:!1,xhrTimeout:lt,disableXhrSync:lt,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:l.EtT,v:6},maxUnloadEventRetryAttempts:{isVal:l.EtT,v:2},addNoResponse:lt,excludeCsMetaData:lt}),dt=function(e){function t(){var r,s=e.call(this)||this;s.identifier="PostChannel",s.priority=1011,s.version="4.3.6";var y,b,S,_,E,T,x,C,P,I,R,L,k,O,W,F,q,U,$,Z,J,G,te,re,ne,oe=!1,ie=[],se=!1,ae=0,ce=0,de={},he=n;return(0,a.A)(t,s,(function(e,t){function s(){(0,d.Ds)(null,U),(0,d.sq)(null,U),(0,d.vF)(null,U)}function a(e){var t="";return e&&e[j]&&(0,l.Iuo)(e,(function(e){t&&(t+="\n"),t+=e})),t}function pe(e){var t="";try{_e(e),t=C[le](e)}catch(e){}return t}function me(e){"beforeunload"!==(e||(0,l.zkX)().event).type&&(W=!0,C[be](W)),Fe(2,2)}function ge(e){W=!1,C[be](W)}function _e(e){e.ext&&e.ext[M]&&delete e.ext[M],e.ext&&e.ext[N]&&e.ext[N].id&&delete e.ext[N].id,O&&(e.ext=(0,m.hW)(e.ext),e.baseData&&(e.baseData=(0,m.hW)(e.baseData)),e.data&&(e.data=(0,m.hW)(e.data)))}function Te(e,t){if(e[De]||(e[De]=0),e[Ae]||(e[Ae]=1),_e(e),e[Oe])if(T||se)e[Ae]=3,e[Oe]=!1;else if(C)return O&&(e=(0,m.hW)(e)),void C[Se](Ne.create(e[z],[e]),!0===e[Oe]?1:e[Oe],3);var r=e[Ae],n=ce,o=S;4===r&&(n=ae,o=b);var i=!1;if(n<o)i=!$e(e,t);else{var s=1,a=20;4===r&&(s=4,a=1),i=!0,function(e,t,r,n){for(;r<=t;){var o=qe(e,t,!0);if(o&&o[V]()>0){var i=o[K](0,n),s=i[V]();if(s>0)return 4===r?ae-=s:ce-=s,Ye(ct,[i],v.x.QueueFull),!0}r++}return je(),!1}(e[z],e[Ae],s,a)&&(i=!$e(e,t))}i&&Je(ct,[e],v.x.QueueFull)}function xe(e,t,r){var n=ze(e,t,r);return C[we](t,r),n}function Ce(){return ce>0}function Pe(){if(L>=0&&ze(L,0,k)&&C[we](0,k),ae>0&&!E&&!se){var e=de[he][2];e>=0&&(E=We((function(){E=null,xe(4,0,1),Pe()}),e))}var t=de[he][1];!_&&!y&&t>=0&&!se&&(Ce()?_=We((function(){_=null,xe(0===x?3:1,0,1),x++,x%=2,Pe()}),t):x=0)}function Ie(){r=null,oe=!1,ie=[],y=null,se=!1,ae=0,b=500,ce=0,S=at,de={},he=n,_=null,E=null,T=0,x=0,P={},I=0,te=!1,R=0,L=-1,k=null,O=!0,W=!1,F=6,q=2,U=null,re=null,ne=!1,$=Ge(),C=new st(500,2,1,{requeue:Ke,send:Qe,sent:et,drop:tt,rspFail:rt,oth:nt}),Xe(),P[4]={batches:[],iKeyMap:{}},P[3]={batches:[],iKeyMap:{}},P[2]={batches:[],iKeyMap:{}},P[1]={batches:[],iKeyMap:{}},ot()}function We(e,t){0===t&&T&&(t=1);var r=1e3;return T&&(r=Be(T-1)),$.set(e,t*r)}function Me(){return null!==_&&(_.cancel(),_=null,x=0,!0)}function Fe(e,t){Me(),y&&(y.cancel(),y=null),se||xe(1,e,t)}function qe(e,t,r){var n=P[t];n||(n=P[t=1]);var o=n.iKeyMap[e];return!o&&r&&(o=Ne.create(e),n.batches[X](o),n.iKeyMap[e]=o),o}function Ue(t,r){C[ye]()&&!T&&(I>0&&ce>I&&(r=!0),r&&null==y&&e.flush(t,(function(){}),20))}function $e(e,t){O&&(e=(0,m.hW)(e));var r=e[Ae],n=qe(e[z],r,!0);return!!n.addEvent(e)&&(4!==r?(ce++,t&&0===e[De]&&Ue(!e.sync,R>0&&n[V]()>=R)):ae++,!0)}function je(){for(var e=0,t=0,r=function(r){var n=P[r];n&&n[ve]&&(0,l.Iuo)(n[ve],(function(n){4===r?e+=n[V]():t+=n[V]()}))},n=1;n<=4;n++)r(n);ce=t,ae=e}function ze(t,r,n){var o=!1,i=0===r;return!i||C[ye]()?(0,u.r2)(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],r=4;r>=t;){var n=P[r];n&&n.batches&&n.batches[j]>0&&((0,l.Iuo)(n[ve],(function(t){C.addBatch(t)?o=o||t&&t[V]()>0:e=e[B](t[H]()),4===r?ae-=t[V]():ce-=t[V]()})),n[ve]=[],n.iKeyMap={}),r--}e[j]>0&&Je(ct,e,v.x.KillSwitch),o&&L>=t&&(L=-1,k=0)}),(function(){return{latency:t,sendType:r,sendReason:n}}),!i):(L=L>=0?(0,l.rpU)(L,t):t,k=(0,l.JBS)(k,n)),o}function Ve(e,t){xe(1,0,t),je(),He((function(){e&&e(),ie[j]>0?y=We((function(){y=null,Ve(ie.shift(),t)}),0):(y=null,Pe())}))}function He(e){C.isCompletelyIdle()?e():y=We((function(){y=null,He(e)}),.25)}function Xe(){(de={})[n]=[2,1,0],de[o]=[6,3,0],de[i]=[18,9,0]}function Ke(t,r){var n=[],o=F;W&&(o=q),(0,l.Iuo)(t,(function(t){t&&t[V]()>0&&(0,l.Iuo)(t[H](),(function(t){t&&(t[Oe]&&(t[Ae]=4,t[Oe]=!1),t[De]<o?((0,c.u9)(t,e[Le]),Te(t,!1)):n[X](t))}))})),n[j]>0&&Je(ct,n,v.x.NonRetryableStatus),W&&Fe(2,2)}function Ze(t,r){var n=G||{},o=n[t];if(o)try{o.apply(n,r)}catch(r){(0,g.ZP)(e.diagLog(),1,74,t+" notification failed: "+r)}}function Je(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];t&&t[j]>0&&Ze(e,[t][B](r))}function Ye(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];t&&t[j]>0&&(0,l.Iuo)(t,(function(t){t&&t[V]()>0&&Ze(e,[t.events()][B](r))}))}function Qe(e,t,r){e&&e[j]>0&&Ze("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==r])}function et(e,t){Ye("eventsSent",e,t),Pe()}function tt(e,t){Ye(ct,e,t>=8e3&&t<=8999?t-8e3:v.x.Unknown)}function rt(e){Ye(ct,e,v.x.NonRetryableStatus),Pe()}function nt(e,t){Ye(ct,e,v.x.Unknown),Pe()}function ot(){R=J?0:(0,l.JBS)(1500,S/6)}Ie(),e._getDbgPlgTargets=function(){return[C,r]},e[Y]=function(n,o,i){(0,u.r2)(o,(function(){return"PostChannel:initialize"}),(function(){t[Y](n,o,i),G=o.getNotifyMgr();try{U=(0,d.Hm)((0,f.Z)(e[Le]),o.evtNamespace&&o.evtNamespace()),e._addHook((0,h.a)(n,(function(t){var n=t.cfg,i=(0,p.i8)(null,n,o);r=i.getExtCfg(e[Le],ut),$=Ge(r[Q],r[ee]),O=!r.disableOptimizeObj&&(0,c.F2)(),Z=r.ignoreMc1Ms0CookieProcessing,function(e){var t=e[Ee];e[Ee]=function(){var r=0;return Z&&(r|=2),r|t.call(e)}}(o),S=r.eventsLimitInMem,b=r.immediateEventLimit,I=r[ke],F=r.maxEventRetryAttempts,q=r.maxUnloadEventRetryAttempts,J=r.disableAutoBatchFlushLimit,(0,l.$XS)(n.endpointUrl)?e.pause():se&&e.resume(),ot(),re=r.overrideInstrumentationKey,ne=!!r.disableTelemetry,te&&s();var a=n.disablePageUnloadEvents||[];te=(0,d.ee)(me,a,U),te=(0,d.Fc)(me,a,U)||te,te=(0,d.oS)(ge,n.disablePageShowEvents,U)||te}))),C[Y](n,e.core,e)}catch(t){throw e.setInitialized(!1),t}}),(function(){return{theConfig:n,core:o,extensions:i}}))},e.processTelemetry=function(t,r){(0,c.u9)(t,e[Le]),r=r||e._getTelCtx(r);var n=t;ne||oe||(re&&(n[z]=re),Te(n,!0),W?Fe(2,2):Pe()),e.processNext(n,r)},e.getOfflineSupport=function(){try{var e=C&&C[ue]();if(C)return{getUrl:function(){return e?e.url:null},serialize:pe,batch:a,shouldProcess:function(e){return!ne},createPayload:function(e){return null},createOneDSPayload:function(e){if(C[fe])return C[fe](e,O)}}}catch(e){}return null},e._doTeardown=function(e,t){Fe(2,2),oe=!0,C.teardown(),s(),Ie()},e.setEventQueueLimits=function(e,t){r.eventsLimitInMem=S=(0,c.ei)(e)?e:at,r[ke]=I=(0,c.ei)(t)?t:0,ot();var n=ce>e;if(!n&&R>0)for(var o=1;!n&&o<=3;o++){var i=P[o];i&&i[ve]&&(0,l.Iuo)(i[ve],(function(e){e&&e[V]()>=R&&(n=!0)}))}Ue(!0,n)},e.pause=function(){Me(),se=!0,C&&C.pause()},e.resume=function(){se=!1,C&&C.resume(),Pe()},e._loadTransmitProfiles=function(e){Me(),Xe(),he=n,Pe(),(0,l.zav)(e,(function(e,t){var r=t[j];if(r>=2){var n=r>2?t[2]:0;if(t.splice(0,r-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var o=t[0]/t[1];t[0]=(0,l.iho)(o)*t[1]}n>=0&&t[1]>=0&&n>t[1]&&(n=t[1]),t[X](n),de[e]=t}}))},e.flush=function(e,t,r){var n;if(void 0===e&&(e=!0),!se)if(r=r||1,e)t||(n=(0,w.Qo)((function(e){t=e}))),null==y?(Me(),ze(1,0,r),y=We((function(){y=null,Ve(t,r)}),0)):ie[X](t);else{var o=Me();xe(1,1,r),t&&t(),o&&Pe()}return n},e.setMsaAuthTicket=function(e){C.addHeader(D,e)},e.setAuthPluginHeader=function(e){C.addHeader(A,e)},e.removeAuthPluginHeader=function(){C.removeHeader(A)},e.hasEvents=Ce,e._setTransmitProfile=function(e){he!==e&&void 0!==de[e]&&(Me(),he=e,Pe())},(0,m.o$)(e,(function(){return C}),["addResponseHandler"]),e[Re]=function(){T<4&&(T++,Me(),Pe())},e._clearBackOff=function(){T&&(T=0,Me(),Pe())}})),s}return(0,s.qU)(t,e),t.__ieDyn=1,t}(y.s)},8919:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8898),o=r(311);let i=8192,s=Buffer.from("\r","ascii")[0],a=Buffer.from("\n","ascii")[0];class c{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(i)}append(e){var t=e;if("string"==typeof e){var r=e,n=Buffer.byteLength(r,this.encoding);(t=Buffer.allocUnsafe(n)).write(r,0,n,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var o=(Math.ceil((this.index+t.length)/i)+1)*i;0===this.index?(this.buffer=Buffer.allocUnsafe(o),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],o)}this.index+=t.length}tryReadHeaders(){let e,t=0;for(;t+3<this.index&&(this.buffer[t]!==s||this.buffer[t+1]!==a||this.buffer[t+2]!==s||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach((t=>{let r=t.indexOf(":");if(-1===r)throw new Error("Message header must separate key and value using :");let n=t.substr(0,r),o=t.substr(r+1).trim();e[n]=o}));let r=t+4;return this.buffer=this.buffer.slice(r),this.index=this.index-r,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),r=e;return this.buffer.copy(this.buffer,0,r),this.index=this.index-r,t}get numberOfBytes(){return this.index}}(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&o.func(t.listen)&&o.func(t.dispose)&&o.func(t.onError)&&o.func(t.onClose)&&o.func(t.onPartialMessage)};class l{constructor(){this.errorEmitter=new n.Emitter,this.closeEmitter=new n.Emitter,this.partialMessageEmitter=new n.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${o.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=l;class u extends l{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new c(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",(e=>{this.onData(e)})),this.readable.on("error",(e=>this.fireError(e))),this.readable.on("close",(()=>this.fireClose()))}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let r=parseInt(t);if(isNaN(r))throw new Error("Content-Length value must be a number.");this.nextMessageLength=r}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var r=JSON.parse(t);this.callback(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=u,t.IPCMessageReader=class extends l{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){this.process.on("message",e)}},t.SocketMessageReader=class extends u{constructor(e,t="utf-8"){super(e,t)}}},8928:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupRecommender=async function(e,t,r,u){function d(t){return e.globalState.get(t)}function f(t,r){e.globalState.update(t,r)}n.env.remoteName?"wsl"===n.env.remoteName&&(f(a.hide_extensionUsed,!0),t.windowsBuildNumber>=i.WIN10_1903.build&&u((async e=>{if("success"!==e.outcome||!e.wslVersion)return;const t=(0,o.isWSL1)(e.wslVersion),i=n.workspace.workspaceFolders?.some((e=>{const t=e.uri;return"vscode-remote"===t.scheme&&(0,o.isAuthorityWsl)(t.authority)&&t.path.match(/^\/mnt\/[a-z]\//)}));if(t&&!i)if(d(a.hide_useWSL2))r.reportRecommendation(s.useWSL2,"hidden");else{r.reportRecommendation(s.useWSL2,"show");const e=await n.window.showInformationMessage(n.l10n.t("You're currently using WSL 1. We strongly recommend upgrading to WSL 2 for improved performance."),l,c);e===c?(r.reportRecommendation(s.useWSL2,"hide"),f(a.hide_useWSL2,!0)):e===l?(r.reportRecommendation(s.useWSL2,"open"),n.env.openExternal(n.Uri.parse("https://docs.microsoft.com/windows/wsl/compare-versions"))):r.reportRecommendation(s.useWSL2,"close")}else if(!t&&i)if(d(a.hide_useWSL2FileSystem))r.reportRecommendation(s.useWSL2FileSystem,"hidden");else{r.reportRecommendation(s.useWSL2FileSystem,"show");const e=await n.window.showInformationMessage(n.l10n.t("This workspace is on the Windows file system (/mnt/). For best performance, we recommend moving the workspace to the Linux file system (~/home)."),l,c);e===c?(r.reportRecommendation(s.useWSL2FileSystem,"hide"),f(a.hide_useWSL2FileSystem,!0)):e===l?(r.reportRecommendation(s.useWSL2FileSystem,"open"),n.env.openExternal(n.Uri.parse("https://docs.microsoft.com/windows/wsl/setup/environment#file-storage"))):r.reportRecommendation(s.useWSL2FileSystem,"close")}}))):n.workspace.workspaceFolders?.some((e=>{const t=e.uri;return"file"===t.scheme&&("wsl$"===t.authority||"wsl.localhost"===t.authority)}))&&(d(a.hide_reopenInWSL)?r.reportRecommendation(s.reopenInWSL,"hidden"):(e.subscriptions.push(n.commands.registerCommand("remote-wsl.reopenFromRecommendation",(()=>(r.reportRecommendation(s.reopenInWSL,"open"),n.commands.executeCommand("remote-wsl.reopenInWSL"))))),r.reportRecommendation(s.reopenInWSL,"show"),await n.window.showInformationMessage(n.l10n.t({comment:["Do not change link syntax [message](command). Do only translate message.",'{Locked="](command:remote-wsl.reopenFromRecommendation)"}'],message:"When working on folders in \\\\wsl, we recommend to use a WSL window. In a WSL window, all commands, extensions and the terminal run in the Linux subsystem. To switch to a WSL window, use [Reopen Folder in WSL](command:remote-wsl.reopenFromRecommendation)."}),c)===c?(r.reportRecommendation(s.reopenInWSL,"hide"),f(a.hide_reopenInWSL,!0)):r.reportRecommendation(s.reopenInWSL,"close")))};const n=r(1398),o=r(2552),i=r(7153);var s,a;!function(e){e.reopenInWSL="reopenInWSL",e.useWSL2="useWSL2",e.useWSL2FileSystem="useWSL2FileSystem"}(s||(s={})),function(e){e.hide_extensionUsed="extensionUsed",e.hide_useWSL2="useWSL2",e.hide_useWSL2FileSystem="useWSL2FileSystem",e.hide_reopenInWSL="reopenInWSL"}(a||(a={}));const c=n.l10n.t("Don't Show Again"),l=n.l10n.t("Read More")},8967:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetPopulation=t.Filters=t.VSCodeFilterProvider=void 0;const n=r(1398);class o{constructor(e,t,r){this.extensionName=e,this.extensionVersion=t,this.targetPopulation=r}static trimVersionSuffix(e){return e.split(/\-[a-zA-Z0-9]+$/)[0]}getFilterValue(e){switch(e){case i.ApplicationVersion:return o.trimVersionSuffix(n.version);case i.Build:return n.env.appName;case i.ClientId:return n.env.machineId;case i.ExtensionName:return this.extensionName;case i.ExtensionVersion:return o.trimVersionSuffix(this.extensionVersion);case i.Language:return n.env.language;case i.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,t=Object.values(i);for(let r of t)e.set(r,this.getFilterValue(r));return e}}var i,s;t.VSCodeFilterProvider=o,function(e){e.Market="X-MSEdge-Market",e.CorpNet="X-FD-Corpnet",e.ApplicationVersion="X-VSCode-AppVersion",e.Build="X-VSCode-Build",e.ClientId="X-MSEdge-ClientId",e.ExtensionName="X-VSCode-ExtensionName",e.ExtensionVersion="X-VSCode-ExtensionVersion",e.Language="X-VSCode-Language",e.TargetPopulation="X-VSCode-TargetPopulation"}(i||(t.Filters=i={})),function(e){e.Team="team",e.Internal="internal",e.Insiders="insider",e.Public="public"}(s||(t.TargetPopulation=s={}))},8969:(e,t,r)=>{"use strict";r.d(t,{d:()=>c,w:()=>l});var n,o,i=r(269),s=r(6182),a=r(3775);function c(e,t){n=e,o=t}function l(){var e=[];return{run:function(t){var r=e;e=[],(0,i.Iuo)(r,(function(e){try{(e.rm||e.remove).call(e)}catch(e){(0,a.ZP)(t,2,73,"Unloading:"+(0,i.mmD)(e))}})),n&&r[s.oI]>n&&(o?o("doUnload",r):(0,a.ZP)(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))},add:function(t){t&&((0,i.Yny)(e,t),n&&e[s.oI]>n&&(o?o("Add",e):(0,a.ZP)(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}}}},9023:e=>{"use strict";e.exports=require("util")},9052:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}}},9147:(e,t,r)=>{"use strict";r.d(t,{Dy:()=>c,Hf:()=>d,If:()=>h,QA:()=>l,V9:()=>u,hF:()=>f,nM:()=>i});var n=r(269),o=r(6182),i=(0,n.eCG)("[[ai_dynCfg_1]]"),s=(0,n.eCG)("[[ai_blkDynCfg_1]]"),a=(0,n.eCG)("[[ai_frcDynCfg_1]]");function c(e){var t;return e&&((0,n.cyL)(e)?(t=[])[o.oI]=e[o.oI]:(0,n.QdQ)(e)&&(t={}),t)?((0,n.zav)(e,(function(e,r){t[e]=c(r)})),t):e}function l(e){if(e){var t=e[i]||e;if(t.cfg&&(t.cfg===e||t.cfg[i]===t))return t}return null}function u(e){if(e&&((0,n.QdQ)(e)||(0,n.cyL)(e)))try{e[s]=!0}catch(e){}return e}function d(e){if(e)try{e[a]=!0}catch(e){}return e}function f(e,t,r){var o=!1;return r&&!e[t.blkVal]&&((o=r[a])||r[s]||(o=(0,n.QdQ)(r)||(0,n.cyL)(r))),o}function h(e){(0,n.zkd)("InvalidAccess:"+e)}},9278:e=>{"use strict";e.exports=require("net")},9730:(e,t,r)=>{"use strict";r.d(t,{YQ:()=>a.A,ZH:()=>s.A,k4:()=>u,F8:()=>l,NX:()=>d,_M:()=>f});const n=require("node:fs"),o=require("node:path");var i=r(5157),s=r(7288),a=r(3720);const{stat:c}=n.promises,l=(e,t)=>h((0,n.statSync)(e),e,t),u=(e,t)=>c(e).then((r=>h(r,e,t))),d=(e,t)=>c(e).then((r=>p(r,e,t))),f=(e,t)=>p((0,n.statSync)(e),e,t),h=(e,t,r="")=>new a.A([new m({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],{type:r}),p=(e,t,r="")=>new s.A([new m({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],(0,o.basename)(t),{type:r,lastModified:e.mtimeMs});class m{#a;#c;constructor(e){this.#a=e.path,this.#c=e.start,this.size=e.size,this.lastModified=e.lastModified}slice(e,t){return new m({path:this.#a,lastModified:this.lastModified,size:t-e,start:this.#c+e})}async*stream(){const{mtimeMs:e}=await c(this.#a);if(e>this.lastModified)throw new i("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,n.createReadStream)(this.#a,{start:this.#c,end:this.#c+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}},9749:(e,t,r)=>{"use strict";r.d(t,{e:()=>w,a:()=>b});var n,o=r(269),i=r(4276),s=r(6492),a=r(6182),c=r(991),l=r(9147),u=["push","pop","shift","unshift","splice"],d=function(e,t,r,n){e&&e[a.ih](3,108,"".concat(r," [").concat(t,"] failed - ")+(0,o.mmD)(n))};function f(e,t){var r=(0,o.kgX)(e,t);return r&&r.get}function h(e,t,r,n){if(t){var i=f(t,r);i&&i[e.prop]?t[r]=n:function(e,t,r,n){var i={n:r,h:[],trk:function(t){t&&t.fn&&(-1===(0,o.rDm)(i.h,t)&&i.h[a.y5](t),e.trk(t,i))},clr:function(e){var t=(0,o.rDm)(i.h,e);-1!==t&&i.h[a.Ic](t,1)}},c=!0,u=!1;function p(){c&&(u=u||(0,l.hF)(p,e,n),n&&!n[l.nM]&&u&&(n=m(e,n,r,"Converting")),c=!1);var t=e.act;return t&&i.trk(t),n}p[e.prop]={chng:function(){e.add(i)}},(0,o.vF1)(t,i.n,{g:p,s:function(v){if(n!==v){p[e.ro]&&!e.upd&&(0,l.If)("["+r+"] is read-only:"+(0,o.mmD)(t)),c&&(u=u||(0,l.hF)(p,e,n),c=!1);var g=u&&p[e.rf];if(u)if(g){(0,o.zav)(n,(function(e){n[e]=v?v[e]:s.HP}));try{(0,o.zav)(v,(function(t,r){h(e,n,t,r)})),v=n}catch(t){d((e.hdlr||{})[a.Uw],r,"Assigning",t),u=!1}}else n&&n[l.nM]&&(0,o.zav)(n,(function(t){var r=f(n,t);if(r){var o=r[e.prop];o&&o.chng()}}));if(v!==n){var y=v&&(0,l.hF)(p,e,v);!g&&y&&(v=m(e,v,r,"Converting")),n=v,u=y}e.add(i)}}})}(e,t,r,n)}return t}function p(e,t,r,n){if(t){var o=f(t,r),i=o&&!!o[e.prop],s=n&&n[0],c=n&&n[1],u=n&&n[2];if(!i){if(u)try{(0,l.V9)(t)}catch(t){d((e.hdlr||{})[a.Uw],r,"Blocking",t)}try{h(e,t,r,t[r]),o=f(t,r)}catch(t){d((e.hdlr||{})[a.Uw],r,"State",t)}}s&&(o[e.rf]=s),c&&(o[e.ro]=c),u&&(o[e.blkVal]=!0)}return t}function m(e,t,r,n){try{(0,o.zav)(t,(function(r,n){h(e,t,r,n)})),t[l.nM]||((0,o.UxO)(t,l.nM,{get:function(){return e.hdlr}}),function(e,t,r){(0,o.cyL)(t)&&(0,o.Iuo)(u,(function(n){var o=t[n];t[n]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=o[a.y9](this,n);return m(e,t,r,"Patching"),s}}))}(e,t,r))}catch(t){d((e.hdlr||{})[a.Uw],r,n,t)}return t}var v="[[ai_",g="]]";function y(e,t,r){var s=(0,l.QA)(t);if(s)return s;var u,f=(0,i.Z)("dyncfg",!0),y=t&&!1!==r?t:(0,l.Dy)(t),w={uid:null,cfg:y,logger:e,notify:function(){u.notify()},set:function(t,r,n){try{t=h(u,t,r,n)}catch(t){d(e,r,"Setting value",t)}return t[r]},setDf:function(e,t){return t&&(0,o.zav)(t,(function(t,r){(0,c.q)(w,e,t,r)})),e},watch:function(e){return function(e,t){var r={fn:t,rm:function(){r.fn=null,e=null,t=null}};return(0,o.vF1)(r,"toJSON",{v:function(){return"WatcherHandler"+(r.fn?"":"[X]")}}),e.use(r,t),r}(u,e)},ref:function(e,t){var r;return p(u,e,t,(r={},r[0]=!0,r))[t]},rdOnly:function(e,t){var r;return p(u,e,t,(r={},r[1]=!0,r))[t]},blkVal:function(e,t){var r;return p(u,e,t,(r={},r[2]=!0,r))[t]},_block:function(e,t){u.use(null,(function(r){var n=u.upd;try{(0,o.b07)(t)||(u.upd=t),e(r)}finally{u.upd=n}}))}};return(0,o.vF1)(w,"uid",{c:!1,e:!1,w:!1,v:f}),m(u=function(e){var t,r=(0,o.jjc)(v+"get"+e.uid+g),i=(0,o.jjc)(v+"ro"+e.uid+g),s=(0,o.jjc)(v+"rf"+e.uid+g),c=(0,o.jjc)(v+"blkVal"+e.uid+g),l=(0,o.jjc)(v+"dtl"+e.uid+g),u=null,d=null;function f(r,n){var i=t.act;try{t.act=r,r&&r[l]&&((0,o.Iuo)(r[l],(function(e){e.clr(r)})),r[l]=[]),n({cfg:e.cfg,set:e.set.bind(e),setDf:e.setDf.bind(e),ref:e.ref.bind(e),rdOnly:e.rdOnly.bind(e)})}catch(t){var s=e[a.Uw];throw s&&s[a.ih](1,107,(0,o.mmD)(t)),t}finally{t.act=i||null}}function h(){if(u){var e=u;u=null,d&&d[a._w](),d=null;var t=[];if((0,o.Iuo)(e,(function(e){if(e&&(e[l]&&((0,o.Iuo)(e[l],(function(t){t.clr(e)})),e[l]=null),e.fn))try{f(e,e.fn)}catch(e){t[a.y5](e)}})),u)try{h()}catch(e){t[a.y5](e)}t[a.oI]>0&&function(e,t){n||(n=(0,o.aqQ)("AggregationError",(function(e,t){t[a.oI]>1&&(e.errors=t[1])})));var r="Watcher error(s): ";throw(0,o.Iuo)(t,(function(e,t){r+="\n".concat(t," > ").concat((0,o.mmD)(e))})),new n(r,t||[])}(0,t)}}return t={prop:r,ro:i,rf:s,blkVal:c,hdlr:e,add:function(e){if(e&&e.h[a.oI]>0){u||(u=[]),d||(d=(0,o.dRz)((function(){d=null,h()}),0));for(var t=0;t<e.h[a.oI];t++){var r=e.h[t];r&&-1===(0,o.rDm)(u,r)&&u[a.y5](r)}}},notify:h,use:f,trk:function(e,t){if(e){var r=e[l]=e[l]||[];-1===(0,o.rDm)(r,t)&&r[a.y5](t)}}}}(w),y,"config","Creating"),w}function w(e,t,r,n){var o=y(r,e||{},n);return t&&o.setDf(o.cfg,t),o}function b(e,t,r){var n=e[l.nM]||e;return!n.cfg||n.cfg!==e&&n.cfg[l.nM]!==n?(function(e,t){e?(e[a.on](t),e[a.ih](2,108,t)):(0,l.If)(t)}(r,s.xW+(0,o.mmD)(e)),w(e,null,r)[a.x6](t)):n[a.x6](t)}},9882:(e,t,r)=>{"use strict";r.d(t,{aq:()=>s,cL:()=>a});var n=r(269),o=r(6492),i=r(6535);function s(){var e=a();return(0,n.P0f)(e,0,8)+"-"+(0,n.P0f)(e,8,12)+"-"+(0,n.P0f)(e,12,16)+"-"+(0,n.P0f)(e,16,20)+"-"+(0,n.P0f)(e,20)}function a(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=o.m5,s=0;s<4;s++)r+=t[15&(e=(0,i.VN)())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var a=t[8+(3&(0,i.VN)())|0];return(0,n.hKY)(r,0,8)+(0,n.hKY)(r,9,4)+"4"+(0,n.hKY)(r,13,3)+a+(0,n.hKY)(r,16,3)+(0,n.hKY)(r,19,12)}},9896:e=>{"use strict";e.exports=require("fs")}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.m=t,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>e+".js",n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e={606:1},n.f.require=(t,r)=>{if(!e[t]){var o=require("./"+n.u(t));e[t]||(t=>{var r=t.modules,o=t.ids,i=t.runtime;for(var s in r)n.o(r,s)&&(n.m[s]=r[s]);i&&i(n);for(var a=0;a<o.length;a++)e[o[a]]=1})(o)}};var o={};(()=>{"use strict";var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.activate=async function(e){const n=(0,p.createLogger)();if(e.subscriptions.push(t.commands.registerCommand("remote-wsl.showLog",(()=>{n.showLog()}))),n.write(`Extension version: ${function(){const e=t.extensions.getExtension("ms-vscode-remote.remote-wsl");return e&&e.packageJSON.version||0}()}`),n.write("L10N bundle: "+(t.l10n.uri?.toString()??"none")),!(0,_.hasVSDA)())return console.error("WSL extension is supported only in Microsoft versions of VS Code"),n.write("WSL extension is supported only in Microsoft versions of VS Code"),void n.showLog();const o={productConfiguration:(0,g.getProductConfiguration)(t.env.appRoot),extensionLocation:e.extensionPath,logFileLocation:"file"===e.logUri.scheme?e.logUri.fsPath:void 0},s=(0,h.setupTelemetry)(e,o.productConfiguration),a=new i.AuthorityResourceStore(n,s,(0,u.getNodeExecServer)()),c=S.WslConfig.create(),l=t.env.remoteAuthority;if(!l)return"win32"===process.platform?(n.write("WSL extension starting up on win32"),T(n,e,o,a,s,c)):(n.write(`WSL extension inactive on local ${process.platform} system`),void(0,r.addDefaultResources)(e,a));const d=y.AuthorityHierarchy.parse(l);if(n.write(`authorityHierarchy: ${d}`),1===d.length&&d.has("wsl"))return n.write("WSL extension activating for a local WSL instance"),T(n,e,o,a,s,c);const f=d.last;return(0,y.shouldActivateForAuthority)(t,f)?(n.write(`WSL extension is activating remotely for ${d.host}`),(0,r.activateRemotely)(n,e,o,s,a,d)):(n.write(`Host authority leaf is not exec server enabled (${f})`),void(0,r.addDefaultResources)(e,a))};const t=n(1398),r=n(2173),i=n(3635),s=n(5187),a=n(2189),c=n(7485),l=n(2274),u=n(7015),d=n(8928),f=n(1568),h=n(1882),p=n(8447),m=n(5799),v=n(5732),g=n(4565),y=n(2552),w=n(7368),b=n(7153),S=n(6449),_=n(3505),E=new Set(["SHELL","PWD","USER","OLDPWD","WSL_INTEROP"]);async function T(e,r,n,o,i,a){const u=r.subscriptions,h=(0,m.createTerminalRunner)();u.push(h);const{dialogs:p,distroStore:v,execServer:g}=await o.get(void 0);(0,s.setupContextKeys)(g,v,u);const y=(0,c.getDownloadService)(r.globalState,e,n.productConfiguration,t),w="false"!==await a.get(S.WslConfigs.localhostForwarding),b=new C(n,g,p,e,v,y,i,w);b.onDidResolve((({outcome:e,wslVersion:t,platform:r,reason:n})=>{i.reportResolver(e,t,r,g.windowsBuildNumber,void 0,!1,n),y.onPlatformUsed(r)})),u.push(t.workspace.registerRemoteAuthorityResolver("wsl",b));const _=()=>b.openedDistro,E=t.env.remoteAuthority;(0,s.addCommands)(r,E,_,o),(0,l.activate)(r,_,p,v),(0,d.setupRecommender)(r,g,i,b.onDidResolve),t.workspace.getConfiguration().get(f.Settings.downloadInBackground)&&y.start(),u.push(t.workspace.onDidChangeConfiguration((e=>{e.affectsConfiguration(f.Settings.downloadInBackground)&&(t.workspace.getConfiguration().get(f.Settings.downloadInBackground)?y.start():y.stop())})))}class x{dispose(){this._onDidDispose.fire()}constructor(e,r){this.remoteAddress=e,this._onDidDispose=new t.EventEmitter,this.onDidDispose=this._onDidDispose.event,this.localAddress=r,"127.0.0.1"!==r.host&&"localhost"!==r.host&&(this.localAddress.host="localhost")}}class C{constructor(e,r,n,o,i,s,a,c){this._onResolveEmmiter=new t.EventEmitter,this._extensionContext=e,this._dialogs=n,this._distroStore=i,this._telemetry=a,this._logger=o,this._execServer=r,this._downloadService=s,this._hasLocalForwarding=c}get onDidResolve(){return this._onResolveEmmiter.event}get openedDistro(){return this._openedDistro}async resolve(e,r){if(this._logger.write(`Resolving ${e}, resolveAttempt: ${r.resolveAttempt}`),this._resolvePromise)return this._logger.write("Returning resolved promise."),this._resolvePromise;if(!(0,y.isAuthorityWsl)(e))return this.handleInputError(t.l10n.t("Remote name must start with wsl+."));if(!await this._dialogs.checkIfWSLInstalled())return Promise.reject(t.RemoteAuthorityResolverError.NotAvailable(t.l10n.t("WSL not installed."),!0));const n=await this._distroStore.getDistros();if(0===n.length)return await this._dialogs.showNoDistroDialog(),Promise.reject(t.RemoteAuthorityResolverError.NotAvailable(t.l10n.t("No distros installed."),!0));const o=(0,y.getDistroFromAuthority)(e)?.distro;let i=n[0];if(o){const e=(0,a.indexOfDistro)(n,o);if(-1===e)return this.handleInputError(t.l10n.t("Unknown distro: {0}",o));i=n[e]}return this._openedDistro=i,this._resolvePromise=t.window.withProgress({location:t.ProgressLocation.Notification,title:t.l10n.t({comment:["{0} is distro name. do not change link format [message](command), only change message",'{Locked="](command:remote-wsl.showLog)"}'],message:"[Starting VS Code in WSL ({0})](command:remote-wsl.showLog)",args:[i.name]}),cancellable:!1},(e=>this._resolve(i,n[0],e))),this._resolvePromise}async dummyTunnelFactory(e){const t={host:e.remoteAddress.host,port:void 0!==e.localAddressPort?e.localAddressPort:e.remoteAddress.port};return new x(e.remoteAddress,t)}get tunnelFactory(){if(this._hasLocalForwarding)return this.dummyTunnelFactory}handleInputError(e){return t.window.showErrorMessage(e),Promise.reject(t.RemoteAuthorityResolverError.NotAvailable(e,!0))}async getResolvedOptions(e){if(!(0,f.useShellEnvironment)())return this._logger.write("Using shell environment is disabled."),Promise.resolve({});const t=process.env.VSCODE_CLI_REMOTE_ENV;if(t)try{const r=await(0,b.runExec)(await this._execServer.executeDistroShellCommand(e.name,`[ -f '${t}' ] && cat '${t}' || echo ''`,{}));if(!r.status&&r.stdout){const e={},n=r.stdout.split(/(?:\0)/g);let o=0;for(const t of n){const r=t.indexOf("=");if(r>0){const n=t.substring(0,r);n.startsWith("VSCODE")||E.has(n)||(e[n]=t.substring(r+1),o++)}}return this._logger.write(`Using shell environment from invoking shell: ${t}, ${o} variables.`),Promise.resolve({extensionHostEnv:e})}}catch(e){this._logger.write(`Problems probing shell environment: ${e.toString()}`)}return this._logger.write("No shell environment set or found for current distro."),Promise.resolve({})}async _resolve(e,r,n){const o="2"===e.version;this._logger.write(`Starting VS Code Server inside WSL (wsl${o?"2":"1"})`),this._logger.write(`Windows build: ${this._execServer.windowsBuildNumber}. Multi distro support: ${this._execServer.isDistroEnvVarAvailable()?"available":"not available"}. WSL path support: ${this._execServer.isWSLPathAvailable()?"enabled":"disabled"}`),this._logger.write("Scriptless setup: "+String((0,f.useScriptlessStartup)())),(0,f.showDebugInfo)()&&this._logger.showLog(),n.report({message:t.l10n.t("Starting Linux Subsystem")});const i=this.getResolvedOptions(e),a={logger:this._logger,appRoot:t.env.appRoot,wslExtensionLocation:this._extensionContext.extensionLocation,distro:e.name,defaultDistro:r.name,wslVersion:e.version||"1",telemetryLevel:this._telemetry.telemetryLevel,enableDebug:(0,f.showDebugInfo)(),enableTelemetry:(0,h.enableTelemetry)(),sendDownloadRequest:(e,t,r)=>this._downloadService.getOrDownloadBuild(e,t,r),setDefaultDistro:(e,t)=>this._dialogs.changeDefaultDistro(e),sendProgress:e=>n.report({increment:e.increment,message:e.message}),onExit:[],fileWatcherPolling:(0,f.getFileWatcherPollingInterval)(),useScriptlessStartup:(0,f.useScriptlessStartup)(),serverPort:(0,f.getServerPort)(),productConfiguration:this._extensionContext.productConfiguration},c=await(0,w.runDaemon)(a,this._extensionContext.logFileLocation);if("success"===c.kind){const e="127.0.0.1";this._logger.write(`WSL resolver response: ${e}:${c.port}`),this._logger.write(t.l10n.t("To debug connection issues, open a local browser on {0}",`http://${e}:${c.port}/version`));const r=(await i).extensionHostEnv;return a.enableDebug&&(r?this._logger.write("Extension host environment: "+JSON.stringify(r,null,"  "),v.LogLevel.debug):this._logger.write("No extension host environment set",v.LogLevel.debug)),this._onResolveEmmiter.fire({outcome:"success",wslVersion:c.wslVersion,platform:c.platform}),{host:e,port:c.port,extensionHostEnv:r,connectionToken:c.connectionToken}}if(!c.handled){this._logger.write(t.l10n.t("For help with startup problems, go to {0}","https://code.visualstudio.com/docs/remote/troubleshooting#_wsl-tips")),this._logger.showLog();let e=c.message;c.checkLog&&(e+="\r\n"+t.l10n.t("Check WSL terminal for more details."));const r=await t.window.showErrorMessage(e,{modal:c.modal},...function(e){const r=[],n=t.workspace.textDocuments.some((e=>e.isDirty))||t.workspace.workspaceFile&&"untitled"===t.workspace.workspaceFile.scheme;return e.learnMoreLink&&r.push({title:t.l10n.t("Learn More"),execute:async()=>{t.env.openExternal(t.Uri.parse(e.learnMoreLink))}}),e.isRecoverable&&r.push({title:t.l10n.t("Retry"),execute:async()=>{await t.commands.executeCommand("workbench.action.reloadWindow")}}),n&&e.isRecoverable||r.push({title:t.l10n.t("Close WSL Window"),execute:async()=>{await(0,s.vscodeOpenWindow)(null,f.OpenMode.reuseWindow)}}),r.push({title:t.l10n.t("Ignore"),isCloseAffordance:!0,execute:async()=>{t.commands.executeCommand("remote-wsl.showLog")}}),r}(c));r&&await r.execute()}throw this._onResolveEmmiter.fire({outcome:"failure",wslVersion:c.wslVersion,reason:c.reason,platform:c.platform}),this._resolvePromise=void 0,t.RemoteAuthorityResolverError.NotAvailable(c.message,!0)}}})();var i=exports;for(var s in o)i[s]=o[s];o.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();
//# sourceMappingURL=extension.js.map